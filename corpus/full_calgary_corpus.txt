%a abdou, i.e. 
%a wong, k.y. 
%d 1982 
%t analysis of linear interpolation schemes for bi-level image applications 
%j ibm j research and development 
%v 26 
%p 667-680 
 
%a abell, r. 
%d 1981 
%t implementation of a telidon system using unix file structures 
%b the telidon book 
%e d.godfrey and e.chang 
%i press porcepic 
%c toronto, on 
%p 203-209 
 
%a abut, h. 
%a gray, r.m. 
%a rebolledo, v. 
%d 1982 
%t vector quantization of speech and speech-like waveforms 
%j ieee trans acoustics, speech and signal processing 
%v acoustics, speech, and signal processing -30 
%n 3 
%p 423-435  
%o june 
%k * 
 
%a achugbue, j.o. 
%d 1981 
%t on the line breaking problem in text formatting 
%j sigoa newsletter (proc acm symposium on text manipulation, portland, oregon) 
%v 2 
%n 1/2 
%p 117-121 
%o spring/summer 
 
%a adams, d.n. 
%d 1979 
%t the hitchhiker's guide to the galaxy 
%i pan 
%c london, england 
 
%a adams, j.b. 
%d 1976 
%t a probability model of medical reasoning and the mycin model 
%j mathematical biosciences 
%v 32 
%p 177-186 
 
%a aho, a.v. 
%a corasick, m.j. 
%d 1975 
%t efficient string matching: an aid to bibliographic search 
%j comm acm 
%v 18 
%n 6 
%p 333-340 
%o june 
 
%a aikins, j.s. 
%d 1983 
%t prototypical knowledge for expert systems 
%j artificial intelligence 
%v 20 
%n 2 
%p 163-210 
%o february 
%k * 
 
%a akers, g. 
%a lennig, m. 
%d 1984 
%t intonation in text-to-speech synthesis: evaluation of algorithms 
%r report 
%i bell-northern research 
%c verdun, que  
%k * 
 
%a allebach, j.p. 
%a liu, b. 
%d 1976 
%t analysis of halftone dot profile and aliasing in the discrete binary representation of images 
%j optical society of america 
%v 67 
%n 9 
%k * 
 
%a allen, b.p. 
%a wright, j.m. 
%d 1983 
%t integrating logic programs and schemata 
%j proc 8th international joint conference on artificial intelligence 
%p 340-342 
 
%a allen, e.m. 
%d 1983 
%t yaps: yet another production system 
%r report tr-1146 
%i maryland artificial intelligence group, computer science department, university of maryland 
%c maryland, md 
%o december 
%k * 
 
%a allen, j.f. 
%a perrault, c.r. 
%d 1980 
%t analyzing intention in utterances 
%j artificial intelligence 
%v 15 
%p 143-178 
%k * 
 
%a allen, j.f. 
%d 1984 
%t towards a general theory of action and time 
%j artificial intelligence 
%v 23 
%p 123-154 
%k * 
 
%a almes, g.t. 
%a black, a.p. 
%a lazowska, e.l. 
%a noe, j.d. 
%d 1985 
%t the eden system: a technical review 
%j ieee trans software engineering 
%v se-11 
%n 1 
%p 43-59 
%o january 
%k * 
 
%a alvey, p. 
%d 1983 
%t the problems of designing a medical expert system 
%j proc expert systems 83 
%i churchill college 
%c cambridge, england 
%p 30-42 
%o december 
%k * 
 
%a anderberg, m.r. 
%d 1973 
%t cluster analysis for applications 
%i academic press 
%c new york, ny 
 
%a anderson, d.p. 
%a hedin, r.c. 
%d 1982 
%t voice input/output module 
%j voice data entry systems application conference '82 
%c san mateo, ca 
%o september 21 
%k * 
 
%a anderson, j.r. 
%t knowledge compilation: the general learning mechanism 
%k * 
 
%a anderson, j.r. 
%a reiser, b.j. 
%d 1985 
%t the lisp tutor 
%j byte 
%v 10 
%n 4 
%p 159-175 
%o april 
 
%a andreae, j.h. 
%d 1984 
%t numbers in the head 
%r man-machine studies progress report uc-dse/24 
%p 5-28 
%i department of electrical engineering, university of canterbury 
%c new zealand 
 
%a andreae, p.m. 
%d 1984 
%t constraint limited generalization: acquiring procedures from examples 
%j proc american association on artificial intelligence 
%c austin, tx 
%o august 
%k * 
 
%a andreae, p.m. 
%d 1984 
%t justified generalization: acquiring procedures from examples 
%r phd thesis 
%i department of electrical engineering and computer science, mit 
 
%a andreae, p.m. 
%d 1986 
%t justified generalization 
%j proc international conference on future advances in computing 
%c christchurch, new zealand 
%o february 17-21 
%k * 
 
%a andreka, h. 
%a nemeti, i. 
%a sain, i. 
%d 1982 
%t a complete logic for reasoning about programs via nonstandard model theory i 
%j theoretical computer science 
%v 17 
%p 193-212 
%k * 
 
%a andreka, h. 
%a nemeti, i. 
%a sain, i. 
%d 1982 
%t a complete logic for reasoning about programs via nonstandard model theory ii 
%j theoretical computer science 
%v 17 
%p 259-278 
%k * 
 
%a andrew, a.m. 
%d 1981 
%t autopoiesis \(em allopoiesis interplay 
%e m.zeleny 
%b autopoiesis:  a theory of living organization 
%i north holland 
%c new york, ny 
%p 157-166 
 
%a anon 
%d 1972 
%t holography and computer generated holograms 
%i mills and boom 
%c london, england 
%k * 
 
%a ansi 
%d 1983 
%t videotex/teletext presentation level protocol syntax (draft) 
%i american national standards committee x3 -- information processing systems, technical committee x3l2 -- codes and character sets 
%c new york, ny 
%o june 
 
%a anson, e. 
%d 1982 
%t the device model of interaction 
%j computer graphics 
%v 16 
%n 2 
%p 107-114 
%o july 
%k * 
 
%a aoki, m. 
%d 1965 
%t optimal control of partially observable markovian systems 
%j j franklin institute 
%v 280 
%n 5 
%o november 
%k * 
 
%a ascher, r.n. 
%a nagy, g. 
%d 1974 
%t a means for achieving a high degree of compaction on scan-digitized printed text 
%j ieee trans computers 
%v c-23 
%n 11 
%p 1174-1179 
%o november 
%k * 
 
%a ash, w.l. 
%d 1981 
%t mxec: parallel processing with an advanced macro facility 
%j comm acm 
%v 24 
%n 8 
%p 502-509 
%k * 
 
%a ashby, w.r. 
%d 1960 
%t design for a brain: the origin of adaptive behavior 
%i wiley 
%c new york, ny 
%o (second edition) 
 
%a askwall, s. 
%d 1985 
%t computer supported reading vs reading text on paper: a comparison of two reading situations 
%j ijmms 
%v 22 
%n 4 
%p 425-439 
%o april 
 
%a atkinson, h.h. 
%a gargantini, i. 
%a ramanath, m.v.s. 
%d 1984 
%t determination of the 3d border by repeated elimination of internal surfaces 
%j computing 
%v 32 
%p 279-295 
%k * 
 
%a attardi, g. 
%a simi, m. 
%d 1982 
%t semantics of inheritance and attributions in the description system omega 
%r ai memo 642 
%i mit artificial intelligence laboratory 
%o january 
%k * 
 
%a axelrod, r. 
%d 1984 
%t the evolution of cooperation 
%i basic books 
%c new york, ny 
 
%a backer, d. 
%a gano, s. 
%d 1982 
%t dynamically alterable videodisk displays 
%j proc graphics interface 82 
%c toronto, on 
%p 365- 
%o may 17-21 
 
%a baecker, r. 
%a marcus, a. 
%d 1983 
%t on enhancing the interface to the source code of computer programs 
%j proc acm chi 83 human factors in computing systems 
%p 251-255 
%c boston, ma 
%o december 12-15 
%k * 
 
%a bailey, d. 
%d 1985 
%t university of salford lisp/prolog system 
%j software -- practice and experience 
%v 15 
%n 6 
%p 595-609 
%o june 
%k * 
 
%a ball, g.h. 
%a hall, d.j. 
%d 1965 
%t isodata, a novel method of data analysis and pattern classification 
%r report ad 699616 
%i stanford research institute 
%c stanford, ca 
 
%a bandyopadhyay, s. 
%a hughes, j.g. 
%a smith, f.j. 
%a sen, k. 
%t a generalized scientific information system 
%r report 
%i computer science department, queen's university of belfast 
%c belfast, northern ireland 
%k * 
 
%a barber, g.r. 
%d 1981 
%t record of the workshop on research in office semantics 
%r ai memo 620 
%i mit 
%o february 
%k * 
 
%a barber, g.r. 
%d 1982 
%t office semantics 
%r phd thesis 
%i mit 
%o february 
 
%a barber, g.r. 
%d 1983 
%t supporting organizational problem solving with a workstation 
%j acm trans office information systems 
%v 1 
%n 1 
%p 45-67 
%o january 
%k * 
 
%a barber, g.r. 
%a de\|jong, p.s. 
%a hewitt, c. 
%d 1983 
%t semantic support for work in organizations 
%r ai memo 719 
%i mit artificial intelligence laboratory 
%o april 
%k * 
 
%a barnett, j.a. 
%d 1981 
%t computational methods for a mathematical theory of evidence 
%j proc 7th international joint conference on artificial intelligence 
%p 868-875 
%c vancouver, bc 
%o august 
 
%a barrow, h.g. 
%d 1979 
%t artificial intelligence: state of the art 
%r technical note 198 
%i sri international 
%c menlo park, ca 
%o october 
 
%a barsky, b.a. 
%a beatty, j.c. 
%d 1982 
%t varying the betas in beta-splines 
%r report cs-82-49 
%i university of waterloo 
%o december 
%k * 
 
%a barwise, j. 
%a perry, j. 
%d 1983 
%t situations and attitudes 
%i mit press 
%c cambridge, ma 
 
%a barwise, j. 
%d 1985 
%t the situation in logic ii: conditionals and conditional information 
%r report csli-85-21 
%i center for the study of language and information, stanford university 
%c stanford, ca 
%o january 
%k * 
 
%a bates, e. 
%d 1979 
%t the emergence of symbols 
%i academic press 
 
%a beer, s. 
%d 1980 
%r preface to \fiautopoiesis and cognition\fr (maturana and varela, 1980) 
 
%a bell, t.c. 
%d 1985 
%t better opm/l text compression 
%r internal report 
%i computer science department, university of canterbury 
%c christchurch, new zealand 
%k * 
 
%a bell, t.c. 
%a moffat, a.m. 
%d 1986 
%t a note on the dmc data compression scheme 
%r internal report 
%i computer science department, university of canterbury 
%c christchurch, new zealand 
 
%a bell, t.c. 
%d 1986 
%t an introduction to text compression 
%r internal report 
%i computer science department, university of canterbury 
%c christchurch, new zealand 
 
%a bellanger, m.g. 
%a daguet, j.l. 
%a lepagnol, g.p. 
%d 1974 
%t interpolation, extrapolation, and reduction of computation speed in digital filters 
%j ieee trans acoustics, speech and signal processing 
%v assp-22 
%n 4 
%p 231-235 
%o august 
%k * 
 
%a benest, i.d. 
%a jones, g. 
%d 1982 
%t computer emulation of books 
%j proc iee conference man-machine systems 
%p 267-271 
%c manchester, england 
%o july 
 
%a benest, i.d. 
%a potok, m.h.n. 
%d 1984 
%t wayfinding: an approach using signposting techniques 
%j behaviour and information technology 
%v 3 
%n 2 
%p 99-107 
%k * 
 
%a bentley, j.l. 
%a friedman, j.h. 
%d 1979 
%t data structures for range searching 
%j computing surveys 
%v 11 
%n 4 
%p 397-409 
%o december 
%k * 
 
%a bentley, j.l. 
%d 1980 
%t multidimensional divide-and-conquer 
%j comm acm 
%v 23 
%n 4 
%p 214-229 
%k * 
 
%a bentley, j.l. 
%a sleator, d.d. 
%a tarjan, r.e. 
%a wei, v.k. 
%d 1986 
%t a locally adaptive data compression scheme 
%j comm acm 
%v 29 
%n 4 
%p 320-330 
%o april 
 
%a berglund, e.j. 
%a cheriton, d.r. 
%t amaze -- a distributed multi-player game program using the distributed v kernel 
%k * 
 
%a bewley, w.l. 
%a roberts, t.l. 
%a schroit, d. 
%a verplank, w.l. 
%d 1983 
%t human factors testing in the design of xerox's 8010 `star' office workstation 
%j proc acm chi 83 human factors in computing systems 
%p 72-77 
%c boston, ma 
%o december 12-15 
%k * 
 
%a bezdek, j.c. 
%d 1980 
%t a convergence theorem for the fuzzy isodata clustering algorithms 
%j ieee trans pattern analysis and machine intelligence 
%v pami-2 
%n 1 
%p 1-8 
%o january 
%k * 
 
%a bibel, w. 
%d 1983 
%t matings in matrices 
%j comm acm 
%v 26 
%n 11 
%p 844-852 
%o november 
%k * 
 
%a biederman, i.  
%d 1985 
%t human image understanding: recent research and a theory 
%j computer vision, graphics, and image processing 
%v 32 
%n 1 
%p 29-73 
%o october. 
 
%a bigelow, c. 
%a day, d. 
%d 1983 
%t digital typography 
%j scientific american 
%v 249 
%n 2 
%p 106-119 
%o august 
%k * 
 
%a bigelow, c. 
%d 1984 
%t principles of font design for the personal workstation 
%r research report 
%i stanford university 
%k * 
 
%a bigelow, c. 
%d 1986 
%t notes on typeface protection 
%k * 
 
%a birkhoff, g. 
%d 1967 
%t lattice theory 
%i american mathematical society 
%c providence, ri 
 
%a birrell, a.d. 
%a levin, r. 
%a needham r.m. 
%a schroeder, m.d. 
%d 1982 
%t grapevine: an exercise in distributed computing 
%j comm acm 
%v 25 
%n 4 
%p 260-274 
%o april 
%k * 
 
%a birtwistle, g.m. 
%a dahl, o.j. 
%a myhrhaug, b. 
%a nygaard, k. 
%d 1973 
%t simula begin 
%i auerbach 
%c philadelphia, pa 
 
%a birtwistle, g. 
%a cleary, j.g. 
%a joyce, j. 
%a liblong, b. 
%a unger, b.w. 
%a witten, i.h. 
%a wyvill, b.l.m. 
%d 1984 
%t a simulation environment 
%j proc canadian information processing society conference 
%c calgary, al 
%p 290-296 
%o may 
%k kconference 
 
%a blakeslee, t.r. 
%d 1980 
%t the right brain 
%i macmillan 
%c london, england 
 
%a bobrow, d.g. 
%d 1985 
%t if prolog is the answer, what is the question? or what it takes to support ai programming paradigms 
%j ieee trans software engineering 
%v se-11 
%n 11 
%p 1401-1408 
%o november 
%k * 
 
%a boehm-davis, d.a. 
%a fregly, a.m. 
%d 1983 
%t documentation of concurrent programs 
%j proc acm chi 83 human factors in computing systems 
%p 256-261 
%c boston, ma 
%o december 12-15 
%k * 
 
%a bonham, m. 
%a witten, i.h. 
%d 1984 
%t towards distributed document preparation with interactive and noninteractive viewing 
%j proc canadian information processing society conference 
%c calgary, al 
%p 365-372 
%o may 
%k kconference 
 
%a bonham, m. 
%a witten, i.h. 
%d 1985 
%t towards distributed document preparation with interactive and noninteractive viewing 
%j infor 
%v 23 
%n 4 
%p 365-388 
%o november 
%k kjournal 
 
%a bonham, m. 
%a witten, i.h. 
%d 1985 
%t more on `a large font virtual terminal interface: a software prosthesis for the visually impaired' 
%j comm acm 
%v 28 
%n 11 
%p 1236-1237 
%o november 
%k kcorrespondence 
 
%a bonham, m. 
%a witten, i.h. 
%d 1985 
%t shape \(em a unifying concept in document layout 
%j proc protext ii -- second international conference on text processing systems 
%i boole press 
%c dublin, ireland 
%p 126-132 
%o october 
%k kconference 
 
%a bonner, s. 
%a shin, k. 
%d 1982 
%t a comparative study of robot languages 
%j ieee computer 
%v 15 
%n 12 
%p 82-96 
 
%a boose, j.h. 
%d 1986 
%t rapid acquisition and combination of knowledge from multiple experts in the same domain 
%j proc international conference on future advances in computing 
%c christchurch, new zealand 
%o february 17-21 
%k * 
 
%a booth, t.l. 
%d 1984 
%t computer education 
%j ieee computer 
%v 17 
%n 10 
%p 57-68 
%o october 
%k * 
 
%a borning, a. 
%d 1981 
%t the programming language aspects of thinglab, a constraint-oriented simulation laboratory 
%j acm trans programming languages and systems 
%v 3 
%n 4 
%p 353-387 
%o october 
%k * 
 
%a bouachache, b. 
%d 1983 
%t wigner analysis of time-varying signals 
%b signal processing ii: theories and applications 
%e h.w.schussler 
%i elsevier science publishers b.v. (north holland) 
%p 703-706 
%k * 
 
%a bouachache, b. 
%a rodriguez, f. 
%d 1984 
%t recognition of time-varying signals in the time-frequency domain by means of the wigner distribution 
%j proc international circuits and systems symposium 
%k * 
 
%a bouachache, b. 
%a whitehouse, h.j. 
%d 1985 
%t seismic applications of the wigner-ville distribution 
%j proc international circuits and systems symposium 
%c san jose, ca 
%o may 5 
%k * 
 
%a boulton, p.i.p. 
%a lee, e.s. 
%d 1983 
%t the performance of hubnet 
%j proc international electrical, electronics conference 
%v 2 
%p 450-453 
%c toronto, on 
%o september 26-28 
%k * 
 
%a bower, g.h. 
%a black, j.b. 
%d 1979 
%t scripts in memory for text 
%j cognitive psychology 
%v 11 
%p 177-220 
%k * 
 
%a brachman, r.j. 
%d 1983 
%t what is-a is and isn't: an analysis of taxonomic links in semantic networks 
%j ieee computer 
%v 16 
%n 10 
%p 30-36 
%o october 
%k * 
 
%a brachman, r.j. 
%a schmolze, j.g. 
%d 1985 
%t an overview of the kl-one knowledge representation scheme 
%j cognitive science 
%v 9 
%n ii 
%p 171-216 
%k * 
 
%a bramer, m.a.\0(editor) 
%d 1985 
%t research and development in expert systems 
%i cambridge university press 
%c cambridge, england 
%o (proc 4th conference of bcs group on expert systems, december 1984) 
 
%a bramwell, b. 
%d 1984 
%t browsing around a manual 
%j proc canadian information processing society conference 
%c calgary, al 
%p 438-442 
%o may 
%k * 
 
%a britton, b.k. 
%a black, j.b.\0(editors) 
%d 1985 
%t understanding expository text: a theoretical and practical handbook for analyzing explanatory text 
%i erlbaum 
%c hillsdale, nj 
 
%a brown, k.q. 
%d 1979 
%t voroni diagrams from convex hulls 
%j information processing letters 
%v 9 
%n 5 
%p 223-228 
%o december 
%k * 
 
%a brown, p.j. 
%d 1984 
%t interactive documentation 
%r internal report 
%i computing laboratory, university of kent 
%o april 
%k * 
 
%a brown, j.s. 
%a burton, r.r. 
%d 1975 
%t multiple representations of knowledge for tutorial reasoning 
%b representation of learning 
%e d.g. bobrow and a. collins 
%i academic press 
%c new york, ny 
 
%a brownston, l. 
%a farrell, r. 
%a kant, e. 
%a martin, n. 
%d 1985 
%t programming expert systems in ops-5: an introduction to rule-based programming 
%i addison-wesley 
%c reading, ma 
 
%a brunner, j. 
%d 1975 
%t the shockwave rider 
%i ballantine 
%c new york, ny 
 
%a bruynooghs, m. 
%d 1982 
%t adding redundancy to obtain more reliable and more readable prolog programs 
%j proc 1st international logic programming conference 
%c marseille, france 
%p 129-133 
%o september 14-17 
%k * 
 
%a bryant, j. 
%d 1979 
%t on the clustering of multidimensional pictorial data 
%j pattern recognition 
%v 11 
%p 115-125 
%k * 
 
%a buchman, c. 
%a berry, d.m. 
%t an adaptation of the unix ditroff for formatting bidirectional text 
%i computer science department, university of california 
%c los angeles, ca 
%k * 
 
%a bundy, a. 
%a silver, b. 
%a plummer, d. 
%d 1985 
%t an analytical comparison of some rule-learning programs 
%j artificial intelligence 
%v 27 
%p 137-181 
 
%a bundy, a. 
%d 1983 
%t the computer modelling of mathematical reasoning 
%a academic press 
%c london, england 
 
%a burton, r.r. 
%a brown, j.s. 
%d 1979 
%t an investigation of computer coaching for informal learning activities 
%j ijmms 
%v 11 
%n 1 
%p 5-24 
%o january 
 
%a bush, v. 
%d 1945 
%t as we may think 
%j atlantic monthly 
%p 101 
%o july 
 
%a byrd, r.j. 
%a smith, s.e. 
%a de\|jong, s.p. 
%d 1982 
%t an actor-based programming system 
%j proc sigoa conference on office information systems 
%p 67-78 
%c philadelphia, pa 
%o june 21-23 
%k * 
 
%a campbell, f.w. 
%a robson, j.g. 
%d 1967 
%t application of fourier analysis to the visibility of gratings 
%j physiol 
%n 197 
%p 551-566 
%i university of cambridge 
%k * 
 
%a cannon, w.b. 
%d 1932 
%t the wisdom of the body 
%i london 
 
%a carroll, j.b. 
%d 1967 
%t on sampling from a lognormal model of word-frequency distribution 
%b computational analysis of present-day american english 
%e kucera, h. and francis, w.n. 
%i brown university press 
%c providence, ri 
%p 406-424 
%k * 
 
%a carroll, j.b. 
%d 1966 
%t word-frequency studies and the lognormal distribution 
%e e.m.zale 
%b proc conference on language and language behavior 
%i appleton-century-crofts 
%c new york, ny 
%p 213-235 
%k * 
 
%a carroll, j.m. 
%a thomas, j.c. 
%d 1982 
%t metaphor and the cognitive representation of computing systems 
%j ieee trans systems, man and cybernetics 
%v smc-12 
%n 2 
%p 107-116 
%o march/april 
%k * 
 
%a carter, k.a. 
%d 1984 
%t the rainbow workstation in brief/a window manager for the rainbow workstation 
%r rainbow group note 
%i computer laboratory, university of cambridge 
%o may 
%k * 
 
%a casey, r.g. 
%a friedman, t.d. 
%a wong, k.y. 
%d 1982 
%t automatic scaling of digital fonts 
%j ibm j research and development 
%v 26 
%p 657-666 
 
%a casey, r.g. 
%a nagy, g. 
%d 1984 
%t decision tree design using a probabilistic model 
tj ieee trans information theory 
%v it-30 
%n 1 
%p 93-99 
%o january 
%k * 
 
%a cater, j.p. 
%d 1983 
%t electronically speaking: computer speech generation 
%i howard w. sams 
%c indianapolis, in 
 
%a catmull, e. 
%d 1981 
%t new frontiers in computer animation 
%j american cinematographer 
%p 157-163 
%o october 
 
%a cendrowska, j. 
%a bramer, m.a. 
%d 1984 
%t a rational reconstruction of the mycin consultation system 
%j ijmms 
%v 20 
%p 229-317 
 
%a chapanis, a. 
%d 1984 
%t taming and civilizing computers 
%b computer culture: the scientific, intellectual, and social impact of the computer 
%e heinz r. pagels 
%i new york academy of sciences 
%c new york, ny 
%p 202-219 
%k * 
 
%a chazelle, b. 
%d 1983 
%t a decision procedure for optimal polyhedron partitioning 
%j information processing letters 
%v 16 
%p 75-78 
%o february 26 
%k * 
 
%a cheeseman, p. 
%d 1985 
%t in defense of probability 
%j proc 10th international joint conference on artificial intelligence 
%p 100r2-1009 
 
%a cheriton, d.r. 
%a zwaenepoel, w. 
%d 1983 
%t the distributed v kernel and its performance for diskless workstations 
%r report no stan-cs-83-973 
%i stanford university, computer science department 
%c stanford, ca 
%o july 
%k * 
 
%a christodoulakis, s 
%a faloutsos, c. 
%d 1984 
%t design considerations for a message file server 
%j ieee trans software engineering 
%v se-10 
%n 2 
%p 201-210 
%o march 
%k * 
 
%a ciminiere, l. 
%a valenzano, a. 
%d 1984 
%t iapx 432 hardware fault handling mechanisms 
%k * 
 
%a clancey, w.j. 
%d 1979 
%t tutoring rules for guiding a case method dialogue 
%j ijmms 
%v 11 
%p 25-49 
%k * 
 
%a clancey, w.j. 
%d 1983 
%t the epistemology of a rule-based expert system \(em a framework for explanation 
%j artificial intelligence 
%v 20 
%p 215-251 
%k * 
 
%a clancey, w.j. 
%a shortliffe, e.h. \0(editors) 
%d 1984 
%t readings in medical artificial intelligence 
%i addison-wesley 
%c reading, ma 
 
%a clarkson, t. 
%t eye position sensor 
%r section 7 of a report 
%i king's college 
%c london, england 
%k * 
 
%a cleary, j.g. 
%d 1979 
%t analysis of an algorithm for finding nearest neighbors in euclidean space 
%j acm trans mathematical software 
%v 5 
%n 2 
%p 183-192 
%o june 
%k * 
 
%a cleary, j.g. 
%d 1984 
%t compact hash tables using bidirectional linear probing 
%j ieee trans computers 
%v c-33 
%n 9 
%p 828-834 
%o september 
 
%a cleary, j.g. 
%a darragh, j.j. 
%d 1984 
%t a fast compact representation of trees using hash tables 
%r research report 83/162/20 
%i computer science department, university of calgary 
%o submitted to \fiieee trans computers\fp 
 
%a cleary, j.g. 
%a witten, i.h. 
%d in preparation 
%t universal data compression 
 
%a clocksin, w.a. 
%d 1984 
%t introduction to prolog 
%b artificial intelligence:  tools, techniques, and applications 
%e t.o'shea and m.eisenstadt 
%i harper and row 
%c new york, ny 
 
%a codd, e.f. 
%d 1968 
%t cellular automata 
%i academic press 
%c london, england 
 
%a codd, e.f. 
%d 1978 
%t how about recently? 
%b databases: improving usability and responsiveness 
%e b. shneiderman (ed.) 
%i academic press 
%c new york, ny 
%p 3-28 
 
%a cohen, e.s. 
%a smith, e.t. 
%a iverson, l.a. 
%d 1985 
%t constraint-based tiled windows 
%r research report 
%i computer science department, carnegie-mellon university 
 
%a cohen, j. 
%d 1985 
%t describing prolog by its interpretation and compilation 
%j comm acm 
%v 28 
%n 12 
%p 1311-1324 
%o december 
%k * 
 
%a colby, k.m. 
%d 1973 
%t simulations of belief systems 
%e r.c.schank and k.m.colby 
%b computer models of thought and language 
%i freeman 
%c san francisco, ca 
%p 251-286 
 
%a colmaurer, a. 
%a colmaurer, c. 
%d 1983 
%t prolog en 10 figures 
%j tsi 
%v 2 
%n 4 
%o july-august 
%k * 
 
%a colmerauer, a. 
%d 1985 
%t prolog in 10 figures 
%j comm acm 
%v 28 
%n 12 
%p 1296-1310 
%o december 
%k * 
 
%a colmaurer, a. 
%t an interesting subset of natural language 
%k * 
 
%a comer, d.e. 
%a peterson, l.l. 
%t conversation-based mail 
%j acm transactions on computer systems 
%v 4 
%n 4 
%o november 
%k * 
 
%a computer\|science\|department 
%d 1983 
%t cpsc student handbook 
%i university of calgary 
 
%a coombs, m. 
%a alty, j. 
%d 1984 
%t expert systems: an alternative paradigm 
%j ijmms 
%v 20 
%n 1 
%p 21-43 
%o january 
%k * 
 
%a corbett, c. 
%d 1983 
%t mc nroff/troff macros reference manual 
%r report ees-mms-1983-2 
%i department of electrical engineering science, university of essex 
%c colchester, essex, uk 
%k * 
 
%a corbett, c. 
%d 1983 
%t figure processing within nroff 
%j presented at euug meeting 
%c dublin, ireland 
%o september 
%k * 
 
%a cormack, g.v. 
%a horspool, r.n. 
%d 1984 
%t algorithms for adaptive huffman codes 
%j information processing letters 
%v 18 
%n 3 
%p 159-166 
%o march 
%k * 
 
%a cormack, g.v. 
%a horspool, r.n. 
%d 1985 
%t data compression using dynamic markov modelling 
%r research report 
%i computer science department, university of waterloo 
%o april; submitted to comm acm 
%k * 
 
%a costigan, d.m. 
%d 1978 
%t electronic delivery of documents and graphics 
%i van nostrand reinhold 
%c new york, ny 
 
%a coulon, d. 
%a kayser, d. 
%d 1979 
%t construction of natural language sentence acceptors by a supervised-learning technique 
%j ieee trans pattern analysis and machine intelligence 
%v pami-1 
%n 1 
%p 94-99 
%o january 
%k * 
 
%a cove, j.f. 
%a walsh, b.c. 
%d 1988 
%t a taxonomy of browsing 
%r working paper 85/2 
%i computer science department, university of liverpool 
%o april 
%k * 
 
%a cox, b.j. 
%d 1986 
%t object oriented programming 
%i addison-wesley 
%c reading, ma 
 
%a crochiere, r.e. 
%a rabiner, l.r. 
%d 1975 
%t optimum fir digital filter implementations for decimation, interpolation, and narrow-band filtering 
%j ieee trans acoustics, speech and signal processing 
%v assp-23 
%n 5 
%p 444-456 
%o october 
%k * 
 
%a crochiere, r.e. 
%a rabiner, l.r. 
%d 1976 
%t further considerations in the design of decimators and interpolators 
%j ieee trans acoustics, speech and signal processing 
%v assp-24 
%n 4 
%p 296-311 
%o august 
%k * 
 
%a croft, w.b. 
%a lefkowitz, l.s. 
%d 1984 
%t task support in an office system 
%j acm trans office information systems 
%v 2 
%n 3 
%p 197-212 
%o july 
%k * 
 
%a croft, w.b. 
%d 1984 
%t the role of context and adaptation in user interfaces 
%j ijmms 
%v 21 
%n 4 
%p 283-292 
%o october 
 
%a csuri, c. 
%d 1974 
%t computer graphics and art 
%j proc ieee 
%o april 
 
%a cuff, r.n. 
%d 1982 
%t database query using menus and natural language fragments 
%r phd thesis 
%i man-machine systems laboratory, department of electrical engineering science, university of essex 
%c colchester, essex, uk 
 
%a cuff, r.n. 
%d 1984 
%t hercules: database query using natural language fragments 
%j proc 3rd british national conference on database systems 
%c leeds 
%o july 
%k * 
 
%a cullingford, r.e. 
%d 1978 
%t script application: computer understanding of newspaper stories 
%r phd thesis, research report 116 
%i yale university 
 
%a cullingford, r.e. 
%a krueger, m.w. 
%a selfridge, m. 
%a bienkowski, m.a. 
%d 1982 
%t automated explanations as a component of a computer-aided design system 
%j ieee trans systems, man and cybernetics 
%v smc-12 
%n 2 
%p 168-181 
%o march/april 
%k * 
 
%a cullingford, r.e. 
%a pazzani, m.j. 
%d 1984 
%t word-meaning selection in multiprocess language understanding programs 
%j ieee trans pattern analysis and machine intelligence 
%v pami-6 
%n 4 
%p 493-509 
%o july 
%k * 
 
%a curry, g. 
%a baer, l. 
%a lipkie, d. 
%a lee, b. 
%d 1982 
%t traits: an approach to multiple-inheritance subclassing 
%j acm conference on office information systems 
%p 1-9 
%o june 
%k * 
 
%a damper, r.i. 
%a macdonald, s.l. 
%d 1984 
%t template adaptation in speech recognition 
%j proc institute of acoustics 
%v 6 
%n 4 
%p 293-299 
%k * 
 
%a damper, r.i. 
%a macdonald, s.l. 
%d 1984 
%t statistical clustering procedures applied to low-cost speech recognition 
%j j biomed engineering 
%v 6 
%p 265-271 
%o october 
%k * 
 
%a darragh, j.j. 
%a witten, i.h. 
%a cleary, j.g. 
%d 1983 
%t adaptive text compression to enhance a modem 
%r research report 83/132/21 
%i computer science department, university of calgary 
%k kreport 
 
%a davis, r. 
%d 1979 
%t interactive transfer of expertise: acquisition of new inference rules 
%j artificial intelligence 
%v 12 
%n 2 
%p 121-157 
%k * 
 
%a davis, r. 
%a lenat, d.b. 
%d 1982 
%t knowledge-based systems in artificial intelligence 
%i mcgraw hill 
%c new york, ny 
 
%a day, j.d. 
%a zimmermann, h. 
%d 1983 
%t the osi reference model 
%j proc ieee 
%v 71 
%n 12 
%p 1334-1340 
%o december 
 
%a defude, b. 
%d 1984 
%t knowledge based systems versus thesaurus: an architecture problem about expert systems design 
%j proc 3rd joint bcs and acm symposium (king's college, cambridge) 
%i cambridge university press 
%p 267-280 
%o july 
%k * 
 
%a de\|beaugrande, r. 
%d 1980 
%t text, discourse and process: towards a multidisciplinary science of texts 
%i ablex publishing corporation 
%c norwood, nj 
 
%a de\|jong, g. 
%d 1979 
%t prediction and substantiation: two processes that comprise understanding 
%j proc international joint conference on artificial intelligence 
%c tokyo, japan 
%p 217-222 
%o august 
 
%a de\|jong, g. 
%d 1981 
%t generalizations based on explanations 
%j proc ijcai 81 
%p 67-69 
%k * 
 
%a de\|jong, s.p. 
%d 1980 
%t the system for business automation (sba): a unified application development system 
%b information processing 80 
%e s.h.lavington 
%p 469-474 
%i north holland 
%k * 
 
%a de\|leon, l. 
%a harris, w.g. 
%a evens, m. 
%d 1983 
%t is there really trouble with unix? 
%j proc acm chi 83 human factors in computing systems 
%p 125-129 
%c boston, ma 
%o december 12-15 
 
%a dietterich, t.g. 
%a michalski, r.s. 
%d 1983 
%t a comparative review of selected methods for learning from examples 
%b machine learning 
%e r.s. michalski, j.g. carbonell, and t.m. mitchell 
%i tioga 
%p 41-81 
 
%a denning, p.j. 
%d 1982 
%t computer-based predictive writing 
%j comm acm 
%v 25 
%n 5 
%p 315-316 
%o may 
%k * 
 
%a denning, p.j. 
%d 1984 
%t educational ruminations 
%j comm acm 
%v 27 
%n 10 
%p 979-983 
%o october 
 
%a denning, p.j. 
%d 1985 
%t the science of computing: what is computer science? 
%j american scientist 
%v 73 
%o january/february 
%k * 
 
%a dewdney, a.k. 
%d 1984 
%t computer recreations 
%j scientific american 
%v 250 
%n 5 
%p 14-22 
%o may 
 
%a downs, t. 
%a cook, a.s. 
%a rogers, g. 
%d 1984 
%t a partitioning approach to yield estimation for large circuits and systems 
%j ieee trans circuits and systems 
%v cas-31 
%n 5 
%p 472-485 
%o may 
%k * 
 
%a downs, t. 
%d 1985 
%t an approach to the modeling of software testing with some applications 
%j ieee trans software engineering 
%v se-11 
%n 4 
%p 375-386 
%o april 
%k * 
 
%a drummond, m. 
%d 1983 
%t a proposal to study the cost-effectiveness of planning, acting, and sensing 
%r dai working paper 
%i department of artificial intelligence, university of edinburgh 
%k * 
 
%a dubes, r. 
%a jain, a.k. 
%d 1979 
%t validity studies in clustering methodologies 
%j pattern recognition 
%v 11 
%p 225-254 
%k * 
 
%a duda, r. 
%a gaschnig, j. 
%a hart, p. 
%d 1979 
%t model design in the prospector consultant system for mineral exploration 
%e d. michie 
%b expert systems in the microelectronic age 
%i edinburgh university press 
%k * 
 
%a dumais, s. 
%a landauer, t. 
%d 1982 
%t psychological investigations of natural terminology for command and query languages 
%b directions in human/computer interactions 
%e badre and shneiderman 
%i ablex publishing corporation 
%c norwood, nj 
%p 95-110 
 
%a dumais, s. 
%a landauer, t. 
%d 1983 
%t using examples to describe categories 
%j proc acm chi 83 human factors in computing systems 
%p 112-115 
%c boston, ma 
%o december 12-15 
%k * 
 
%a dunham, m.o. 
%a gray, r.m. 
%d 1985 
%t an algorithm for the design of labeled-transition finite-state vector quantization 
%j ieee trans communications 
%v com-33 
%n 1 
%p 83-89 
%o january 
%k * 
 
%a dyer, m.g. 
%d 1983 
%t in-depth understanding 
%i mit press 
%c cambridge, ma 
 
%a dynkin, e.b. 
%d 1965 
%t controlled random sequences 
%j theoretical probability and its applications 
%v x 
%n 1 
%k * 
 
%a eason, k.d. 
%a damodaran, l 
%d 1979 
%t design procedures for user involvement and user support 
%j infotech - man computer communications 
%c london, england 
 
%a edelsbrunner, h. 
%a maurer, h.a. 
%d 1985 
%t finding extreme points in three dimensions and solving the post-office problem in the plane 
%j information processing letters 
%v 21 
%p 39-47 
%o 10 july 
%k * 
 
%a efron, b. 
%a thisted, r. 
%d 1976 
%t estimating the number of unseen species: how many words did shakespeare know? 
%j biometrika 
%v 63 
%n 3 
%p 435-447 
%k * 
 
%a eisenstadt, e. 
%a hasemar, t. 
%d 1985 
%t an improved user interface for prolog 
%e b.shackel 
%b human-computer interaction: proceedings interact 84 
%i north holland 
%p 109-113 
%k * 
 
%a ekeberg, o. 
%d 1986 
%t robust dictionary lookup using associative methods 
%r research report 
%i computer vision and associative pattern processing laboratory, department of computing science, royal institute of technology 
%c stockholm, sweden 
%k * 
 
%a elias, p. 
%d 1955 
%t predictive coding: part i and part ii 
%j ire trans information theory 
%v it-1 
%n 1 
%p 16-33 
%k * 
 
%a elias, p. 
%d 1970 
%t bounds on performance of optimum quantizers 
%j ieee trans information theory 
%v it-16 
%n 2 
%p 172-184 
%o march 
%k * 
 
%a elias, p. 
%d 1975 
%t universal codeword sets and representations of the integers 
%j ieee trans information theory 
%v it-21 
%n 2 
%p 194-203 
%o march 
%k * 
 
%a elliott, s.j. 
%a nelson, p.a. 
%d 1985 
%t an algorithm for multichannel lms adaptive filtering 
%r research report 
%i institute of sound and vibration research, university of southampton 
%c southampton, england 
%k * 
 
%a ellis, c.a. 
%a nutt, g.j. 
%d 1979 
%t on the equivalence of office models 
%r research report ssl-79-8 
%i xerox parc 
%o december 
%k * 
 
%a ellis, c.a. 
%t formal and informal models of office activity 
%r research report 
%i xerox parc 
%k * 
 
%a ellis, c.a. 
%a bernal, m. 
%d 1982 
%t officetalk-d: an experimental office information system 
%j proc acm conference  
%p 131-140 
%k * 
 
%a embley, d.w. 
%a nagy, g. 
%d 1981 
%t behavioral aspects of text editors 
%j computing surveys 
%v 13 
%n 1 
%p 33-70 
%o march 
%k * 
 
%a engel f.l. 
%a andriessen j.j. 
%a schmitz, h.j.r. 
%d 1983 
%t what, where and whence: means for improving electronic data access 
%j ijmms 
%v 18 
%p 145-160 
 
%a englebart, d.c. 
%a english, w.k. 
%d 1968 
%t a research center for augmenting human intellect 
%j proc fall joint computer conference 
%v 33 
%p 395-410 
%i afips press 
%c arlington, va 
 
%a ernvall, j. 
%a nevalainen, o. 
%d 1984 
%t estimating the length of minimal spanning trees in compression of files 
%j bit 
%v 24 
%p 19-32 
%k * 
 
%a even, s. 
%a rodeh, m. 
%d 1978 
%t economical encodings of commas between strings 
%j comm acm 
%v 21 
%p 315-317 
%o april 
%k * 
 
%a even, s. 
%a pratt, v. 
%a rodeh, m. 
%d 1981 
%t linear algorithm for data compression via string matching 
%j j acm 
%v 28 
%n 1 
%p 16-24 
%o january 
 
%a everitt, b. 
%d 1974 
%t cluster analysis 
%i heineman 
%c london, england 
 
%a fano, r.m. 
%d 1949 
%t the transmission of information 
%r technical report 65 
%i research laboratory of electronics, mit 
%c cambridge, ma 
 
%a feigenbaum, e.a. 
%a mccorduck, p. 
%d 1983 
%t the fifth generation 
%i addison-wesley 
%c reading, ma 
 
%a ferrans, j.c. 
%d 1982 
%t sedl \(em a language for specifying integrity constraints on office forms 
%j sigoa newsletter (proc sigoa conference on office information systems) 
%v 3 
%n 3/4 
%p 123-130 
%c philadelphia, pa 
%o june 21-23 
%k * 
 
%a fikes, r. 
%a kehler, t. 
%d 1985 
%t the role of frame-based representation in reasoning 
%j comm acm 
%v 28 
%n 9 
%p 904-920 
%o september 
%k * 
 
%a filipski, a. 
%a hanko, j. 
%d 1986 
%t making unix secure 
%j byte 
%p 113-128 
%o april 
 
%a fillmore, c.j. 
%d 1968 
%t the case for case 
%e e.bach and r.t.harms 
%b universals in linguistic theory 
%p 1-88 
%i holt, reinhart and winston 
%c chicago, il 
%k * 
 
%a finkel, r.a. 
%a bentley, j.l. 
%d 1974 
%t quad trees -- a data structure for retrieval on composite keys 
%j acta informatica 
%v 4 
%n 1 
%p 1-9 
 
%a fischer, g. 
%a lemke, a. 
%a schwab, t. 
%d 1985 
%t knowledge-based help systems 
%j proc human factors in computer systems 
%c san francisco, ca 
%p 161-167 
%o april 
%k * 
 
%a fitter, m. 
%d 1979 
%t toward more natural interactive systems 
%j ijmms 
%v 11 
%p 339-350 
 
%a fogel, l.j. 
%a owens, a.j. 
%a walsh, m.j. 
%d 1966 
%t artificial intelligence through simulated evolution 
%i wiley 
 
%a foley, j.d. 
%a wallace, v.l. 
%a chan, p. 
%d 1984 
%t the human factors of computer graphics interaction techniques 
%j ieee computer graphics and applications 
%v 4 
%n 11 
%p 13-48 
%o november 
%k * 
 
%a foster, j. 
%a gray, r.m. 
%a dunham, m.o. 
%d 1985 
%t finite-state vector quantization for waveform coding 
%j ieee trans information theory 
%v it-31 
%o may 
 
%a freij, g.j. 
%a cheetham, b.m.g. 
%d 1985 
%t improved sequential linear prediction by selective time-domain coefficient extraction 
%r report 
%k * 
 
%a friedman, j.h. 
%a baskett, f. 
%a shustek, l.j. 
%d 1975 
%t an algorithm for finding nearest neighbors 
%j ieee trans computers 
%v c-24 
%p 1000-1006 
%o october 
%k * 
 
%a friedman, j.h. 
%a bentley, j.l. 
%a finkel, r.a. 
%d 1977 
%t an algorithm for finding best matches in logarithmic expected time 
%j acm trans mathematical software 
%v 3 
%n 3 
%p 209-226 
%o september 
%k * 
 
%a fukunaga, k. 
%a narendra, p.m. 
%d 1975 
%t a branch and bound algorithm for computing \fik\fp-nearest neighbors 
%j ieee trans computers 
%v c-24 
%p 750-753 
%o july 
%k * 
 
%a fulton, m.a. 
%t a social cognition research model for studying human-computer communication 
%r research report 
%i oklahoma state university business college 
%c stillwater, ok 
%k * 
 
%a gaines, b.r. 
%d 1976 
%t on a danger in the assumption of causality 
%j ieee trans systems, man and cybernetics 
%v smc-6 
%p 56-59 
 
%a gaines, b.r. 
%d 1981 
%t autopoiesis: some questions 
%e m.zeleny 
%b autopoiesis:  a theory of living organization 
%i north holland 
%c new york, ny 
%p 145-154 
 
%a gaines, b.r. 
%d 1981 
%t the technology of interaction -- dialog programming rules 
%j ijmms 
%v 14 
%n 1 
%p 133-150 
%o january 
 
%a gaines, b.r. 
%d 1983 
%t from word processing to image processing in office systems 
%j proc international electrical, electronics conference 
%v 2 
%p 622-625 
%c toronto, on 
%o september 26-28 
%k * 
 
%a gaines, b.r. 
%d 1984 
%t fundamentals of decision: probabilistic, possibilistic and other forms of uncertainty in decision analysis 
%j studies in the management sciences 
%v 20 
%p 47-65 
 
%a gaines, b.r. 
%d 1985 
%t expert systems and simulation in planning flexible manufacturing systems 
%j proc workshop on coupling symbolic and numerical computing in expert systems 
%i boeing computer services ai center 
%c bellevue, wa 
%o august 27-29 
 
%a gaines, b.r. 
%d 1985 
%t the design of expert systems for planning flexible manufacturing 
%r research report 
%i computer science department, university of calgary 
 
%a gaines, b.r. 
%a shaw, m.l.g 
%d 1986 
%t foundations of dialog engineering: the development of human-computer interaction part ii 
%j ijmms 
%v 24 
%n 2 
%p 101-123 
%o february 
 
%a gaines, b.r. 
%d 1986 
%t an overview of knowledge acquisition and transfer 
%j proc aaai workshop on knowledge acquisition for knowledge-based systems 
%c banff, al 
%o november 
 
%a galitz, w.o. 
%d 1980 
%t human factors in office automation 
%i life office management association 
%c atlanta, ga  
 
%a gardner, m. 
%t in which `monster' curves force redefinition of the word `curve' 
%j scientific american 
%p 124-133 
%k* 
 
%a gargantini, i. 
%a atkinson, h.h. 
%d 1984 
%t linear quadtrees: a blocking technique for contour filling 
%j pattern recognition 
%v 17 
%n 3 
%p 285-293 
%k * 
 
%a gargantini, i.a. 
%d 1983 
%t recent results on linear quadtrees and related techniques 
%r report 111 
%i computer science department, university of western ontario 
%c london, on 
%o december (to appear in \fipattern recognition\fp) 
%k * 
 
%a garudadri, h. 
%a beddoes, m.p. 
%a gilbert, j.h.v. 
%a benguerel, a.p. 
%t identification of invariant acoustic cues in stop consonants using the wigner distribution 
%j  
%k * 
 
%a garvey, t.d. 
%a lowrance, j.d. 
%a fischler, m.a. 
%d 1981 
%t an inference technique for integrating knowledge from disparate sources 
%j proc 7th international joint conference on artificial intelligence 
%p 319-325 
%c vancouver, bc 
%o august 
%k * 
 
%a gehani, n.h. 
%d 1983 
%t an electronic form system -- an experience in prototyping 
%j software -- practice and experience 
%v 13 
%p 479-486 
%k * 
 
%a gehani, n.h. 
%d 1983 
%t high level form definition in office information systems 
%j computer j 
%v 26 
%n 1 
%p 52-59 
%k * 
 
%a geller, v.j. 
%a lesk, m.e. 
%d 1981 
%t how users search: a comparison of menu and attribute retrieval systems on a library catalog 
%r internal report 
%i bell laboratories 
%k * 
 
%a genesereth, m.r. 
%a ginsberg, m.l. 
%d 1985 
%t logic programming 
%j comm acm 
%v 28 
%n 9 
%p 933-941 
%o september 
%k * 
 
%a genesereth, m.r. 
%a ginsberg, m.l. 
%a rosenschein, j.s. 
%d 1985 
%t solving the prisoner's dilemma 
%r research report stan-cs-84-1032 
%i computer science department, stanford university 
%c stanford, ca 
%k * 
 
%a giles, r. 
%d 1976 
%t lucasiewicz logic and fuzzy set theory 
%j ijmms 
%v 8 
%p 313-327 
 
%a ginsberg, m.l. 
%d 1985 
%t does probability have a place in non-monotonic reasoning? 
%j proc ijcai 
%p 107-110 
%k * 
 
%a georgeff, m. 
%a lansky, a.l. 
%a bessiere, p. 
%d 1985 
%t a procedural logic 
%j proc international joint conference on artificial intelligence 
%c los angeles, ca 
%o august 
%k * 
 
%a gersham, a.v. 
%d 1982 
%t a framework for conceptual analyzers 
%e w.g. lenhert and m.h. ringle 
%b strategies for natural language processing 
%i lawrence erlbaum associates 
%p 177-202 
 
%a gersho, a. 
%d 1979 
%t asymptotically optimal block quantization 
%j ieee trans information theory 
%v it-25 
%n 4 
%p 373-380 
%o july 
%k * 
 
%a gevarter, w.b. 
%d 1983 
%t an overview of computer-based natural language processing 
%r nasa technical memorandum 85635 
%c washington, dc 
 
%a gevarter, w.b. 
%d 1983 
%t expert systems: limited but powerful 
%j ieee spectrum 
%p 39-45 
%o august 
 
%a gibbon, d. 
%a richter, h.\0(editors) 
%d 1984 
%t intonation, accent and rhythm 
%i de gruyter 
%c berlin 
 
%a gibbs, r.w. 
%a tenney, y.j. 
%d 1980 
%t the concept of scripts in understanding stories 
%j j psycholinguistic research 
%v 9 
%n 3 
%p 275-284 
%k * 
 
%a gibson, b. 
%a wittig, r. 
%d 1983 
%t the develnet lan: architecture and experience 
%j proc international electrical, electronics conference 
%v 1 
%p 26-29 
%c toronto, on 
%o september 26-28 
%k * 
 
%a girill, t.r. 
%a luk, c.h. 
%d 1983 
%t document: an interactive, online solution to four documentation problems 
%j comm acm 
%v 26 
%n 5 
%p 328-337 
%o may 
 
%a glinert, e.p. 
%a tanimoto, s.l. 
%d 1984 
%t pict: an interactive graphical programming environment 
%j ieee computer 
%v 17 
%n 11 
%p 7-25 
%o november 
%k * 
 
%a glinert, e.p. 
%a ladner, r.e. 
%d 1984 
%t a large font virtual terminal interface 
%j comm acm 
%v 27 
%n 7 
%p 567-572 
%o june 
%k * 
 
%a godfrey, d. 
%a chang, e.\0(editors) 
%d 1981 
%t the telidon book 
%i press porcepic 
%c toronto, on 
 
%a goldshlager, l.m. 
%d 1980 
%t short algorithms for space-filling curves 
%j software -- practice and experience 
%v 11 
%p 99-100 
%o september 
%k * 
 
%a good, d.i. 
%d 1982 
%t the proof of a distributed system in gypsy 
%r technical report 30 
%i institute for computing science, university of texas at austin 
%c austin, tx 
%o september 
%k * 
 
%a gordon, j. 
%a shortliffe, e.h. 
%d 1984 
%t the dempster-shafer theory of evidence 
%b rule-based expert systems 
%e b.g.buchanan and e.h.shortliffe 
%i addison-wesley 
%c reading, ma 
%p 272-292 
 
%a gordon, j. 
%a shortliffe, e.h. 
%d 1985 
%t a method for managing evidential reasoning in a hierarchical hypothesis space 
%j artificial intelligence 
%v 26 
%p 323-357 
 
%a gosling, j.a. 
%d 1981 
%t a redisplay algorithm 
%j sigoa newsletter (proc acm symposium on text manipulation) 
%c portland, or 
%v 2 
%n 1/2 
%p 123-129 
%o spring/summer 
 
%a gosling, j.a. 
%a rosenthal, d.s.h. 
%d 1983 
%t a network window-manager 
%r report 
%i information technology center, carnegie-mellon university 
%c pittsburgh, pa 
%k * 
 
%a grampp, f.t. 
%a morris, r.h. 
%d 1984 
%t unix operating system security 
%j bell system technical j 
%v 62 
%n 8, part 2 
%p 1649-1672 
%o october 
 
%a grasser, a.c. 
%d 1981 
%t prose comprehension beyond the word 
%i springer-verlag 
%c new york, ny 
 
%a gray, r.m. 
%a kieffer, j.c. 
%a linde, y. 
%d 1980 
%t locally optimal block quantizer design 
%j information and control 
%v 45 
%p 178-198 
%k * 
 
%a gray, r.m. 
%d 1984 
%t hardware realization of waveform vector quantizers 
%j ieee trans 
%v sac-2 
%n 2 
 
%a green, m. 
%d 1982 
%t towards a user interface prototyping system 
%j proc graphics interface 82 
%p 37-45 
%k * 
 
%a greenberg, s. 
%d 1984 
%t user modeling in interactive computer systems 
%r msc thesis 
%i computer science department, university of calgary 
 
%a greenberg, s. 
%a witten, i.h. 
%d 1984 
%t comparison of menu displays for ordered lists 
%j proc canadian information processing society conference 
%c calgary, al 
%p 464-469 
%o may 
%k kconference 
 
%a greenberg, s. 
%a witten, i.h. 
%d 1985 
%t adaptive personalized interfaces -- a question of viability 
%j behaviour and information technology 
%v 4 
%n 1 
%p 31-45 
%o january-march 
%k kjournal 
 
%a greenberg, s. 
%a witten, i.h. 
%d 1985 
%t interactive end-user creation of workbench hierarchies within a window system 
%j proc canadian information processing society conference 
%c montreal, que 
%p 408-416 
%o may 
%k kconference 
 
%a greenberg, s. 
%a peterson, m. 
%a witten, i.h. 
%d 1986 
%t issues and experiences in the design of a window management system 
%j proc canadian information processing society conference 
%c edmonton, al 
%p 33-44 
%k kconference 
 
%a grice, h.p. 
%d 1957 
%t meaning 
%j philosophical review 
%v lxvi 
%n 3 
%p 377-388 
%k * 
 
%a grice, h.p. 
%d 1969 
%t utterer's meaning and intentions 
%j philosophical review 
%v lxxviii 
%n 2 
%p 147-177 
%k * 
 
%a grossner, c.p. 
%a radhakrishnan, t. 
%a pospiech, a. 
%d 1983 
%t an integrated workstation for the visually handicapped 
%j ieee micro 
%p 8-16 
%o june 
%k * 
 
%a gullichsen, e. 
%a chang, e. 
%d 1985 
%t generative design in architecture using an expert system 
%r research report 
%i computer science department, university of victoria 
%o february 
%k * 
 
%a hagelbarger, d.w. 
%a thompson, r.a. 
%d 1983 
%t experiments in teleterminal design 
%j ieee spectrum 
%p 40-45 
%o october 
%k * 
 
%a halbert, d.c. 
%d 1984 
%t programming by example 
%r technical report 
%i xerox parc, (office products division) 
%c palo alto, ca 
%o december 
 
%a hammond, p. 
%a sergot, m. 
%d 1983 
%t a prolog shell for logic based expert systems 
%j proc expert systems 83 
%i churchill college 
%c cambridge, england 
%p 95-104 
%o december 
%k * 
 
%a hammond, p. 
%d 1984 
%t representation of dhss regulations as a logic program 
%j proc expert systems 83 
%i churchill college 
%c cambridge, england 
%p 225-235 
%o december 
%k * 
 
%a hanson, s.j. 
%a kraut, r.e. 
%a farber, j.m. 
%d 1984 
%t interface design and multivariate analysis of unix command use 
%j acm trans office information systems 
%v 2 
%n 1 
%o march 
 
%a harrison, a.f. 
%a bramson, r.m. 
%t the art of thinking 
%i berkley books 
%c new york, ny 
%k * 
 
%a harth, e. 
%d 1982 
%t windows on the mind 
%i harvester press 
%c brighton, sussex 
 
%a hartigan, j.a. 
%d 1975 
%t clustering algorithms 
%i wiley 
 
%a hartley, j. 
%d 1978 
%t designing instructional text 
%i kogan page 
%c london, england 
 
%a hartley, j. 
%d 1982 
%t designing instructional text 
%e d.h. jonassen 
%b the technology of text 
%i educational technology publications 
%c englewood cliffs, nj 
 
%a hasling, d.w. 
%a clancey, w.j. 
%a rennels, g. 
%d 1984 
%t strategic explanations for a diagnostic consultation system 
%j ijmms 
%v 20 
%p 3-19 
%k * 
 
%a haugeland, j. 
%d 1979 
%t understanding natural language 
%v lxxvi 
%n 11 
%p 619-632 
%o november 
%k * 
 
%a hayes, p. 
%t the naive physics manifesto 
%k * 
 
%a hayes, p.j. 
%a ball, e. 
%a reddy, r. 
%d 1983 
%t breaking the man-machine communication barrier 
%j ieee computer 
%p 19-30 
%o march 
%k * 
 
%a hayes, p.j. 
%d 1984 
%t executable interface definitions using form-based interface abstractions 
%r report cms-cs-84-110 
%i computer science department, carnegie-mellon university 
%k * 
 
%a hayes, p.j. 
%a szekely, p.a. 
%a lerner, r.a. 
%d 1985 
%t design alternatives for user interface management systems based on experience with cousin 
%j proc human factors in computer systems 
%c san francisco, ca 
%p 169-175 
%o april 
%k * 
 
%a hayes, p.j. 
%a lerner, r.a. 
%a szekely, p.a. 
%t the cousin user interface project 
%k * 
 
%a hayes-roth, f. 
%d 1985 
%t rule-based systems 
%j comm acm 
%v 28 
%n 9 
%p 921-932 
%o september 
%k * 
 
%a hays, d.g. 
%d 1964 
%t dependency theory -- a formalism and some observations 
%j language 
%v 40 
%p 511-25 
 
%a heath, f.g. 
%a foulk, p.w. 
%a li, d.y. 
%d 1984 
%t analysis and restructuring of concurrent systems using prolog 
%j proc ieee part e 
%v 131 
%n 5 
%p 169-176 
%o september 
%k * 
 
%a heckbert, p. 
%d 1982 
%t color image quantization for frame buffer display 
%j proc siggraph 82 
%c boston, ma 
%p 297-307 
%o july 
%k * 
 
%a held, g. 
%d 1984 
%t data compression: techniques and applications 
%i wiley 
%c new york, ny 
 
%a hendrix, g.g 
%a sacerdoti, e.d. 
%a sagalowicz, d. 
%a slocum, j. 
%d 1978 
%t developing a natural language interface to complex data 
%j acm trans database systems 
%v 3 
%n 2 
%o june 
 
%a hester, j.h. 
%a hirschberg, d.s. 
%d 1985 
%t self-organizing linear search 
%j computing surveys 
%v 17 
%n 3 
%p 295-311 
%o september 
 
%a hewitt, c. 
%d 1977 
%t viewing control structures as patterns of passing messages 
%j artificial intelligence 
%v 8 
%p 323-364 
 
%a hewitt, c. 
%a de\|jong, p.s. 
%d 1982 
%t open systems 
%r ai memo 691 
%i mit artificial intelligence laboratory 
%o december 
%k * 
 
%a hewitt, c. 
%a de\|jong, p.s. 
%d 1983 
%t analyzing the roles of descriptions and actions in open systems 
%r ai memo 727 
%i mit artificial intelligence laboratory 
%o april 
%k * 
 
%a hewitt, c. 
%a de\|jong, p.s. 
%d 1983 
%t message passing semantics as a foundation for reasoning in open systems 
%r research report 
%i mit artificial intelligence laboratory 
%o may 
%k * 
 
%a hibbard, p. 
%d 1983 
%t user manual for mint -- the spice document preparation system 
%r technical report 
%i computer science department, carnegie-mellon university 
%c pittsburgh, pa 
 
%a hilbert, d. 
%d 1891 
%t ueber die stetige abbildung einer linie auf ein flachenstuck 
%j math annalen 
%v 38 
%p 459-460 
%k * 
 
%a hill, d.r. 
%a dohrn, c. 
%a darragh, j. 
%a esau, r. 
%a levinson, d. 
%a unger, b. 
%a witten, i.h. 
%d 1984 
%t using speech output as a medium for human-computer dialogue 
%j proc canadian information processing society conference 
%c calgary, al 
%p 470-476 
%o may 
%k kconference 
 
%a hill, d.r. 
%a witten, i.h. 
%a neal, r. 
%a lomow, g. 
%d 1984 
%t jecl and hide: practical questions for the jade user interface 
%j proc canadian information processing society conference 
%c calgary, al 
%p 373-380 
%o may 
%k kconference 
 
%a hiltz, s.r. 
%a turoff, m. 
%d 1985 
%t structuring computer-mediated communication systems to avoid information overload 
%j cacm 
%v 28 
%n 7 
%p 680-689 
%o july 
 
%a hintikka, k.j. 
%d 1975 
%t the intentions of intentionality 
%i d. reidel 
%c dordrecht, holland 
 
%a ho, c.s. 
%a hong, y.c. 
%a kuo, t.s. 
%d 1986 
%t a society model for office information systems 
%j acm trans office information systems 
%v 4 
%n 2 
%p 104-137 
%o april 
%k * 
 
%a horspool, r.n. 
%a cormack, g.v. 
%d 1984 
%t a general-purpose data compression technique with practical computer applications 
%j proc canadian information processing society conference 
%c calgary, al 
%p 138-141 
%o may 
%k * 
 
%a horspool, r.n. 
%a cormack, g.v. 
%d 1985 
%t comments on `data compression using static huffman code-decode tables' 
%o submitted to cacm, november 1985 
%k * 
 
%a horspool, r.n. 
%a cormack, g.v. 
%d 1986 
%t dynamic markov modelling -- a prediction technique 
%j proc international conference on the system sciences 
%c honolulu, ha 
%o january 
%k * 
 
%a hosticka, b.j. 
%d 1985 
%t performance comparison of analog and digital circuits 
%j proc ieee 
%v 73 
%n 1 
%p 25-29 
%o january 
 
%a hou, h.s. 
%a andrews, h.c. 
%d 1978 
%t cubic splines for image interpolation and digital filtering 
%j ieee trans acoustics, speech and signal processing 
%v assp-26 
%n 6 
%p 508-517 
%o december 
%k * 
 
%a hovy, e.h. 
%t integrating text planning and production in generation 
%j proc ijcai 
%p 848-851 
%k * 
 
%a hunter, r. 
%a robinson, a.h. 
%d 1980 
%t international digital facsimile coding standards 
%j proc ieee 
%v 68 
%n 7 
%p 854-867 
%o july 
%k * 
 
%a hutchings, e. 
%d 1983 
%t the autonomous viking 
%j science 
%v 219 
%p 803-808 
%o february 18 
 
%a jackendoff, r. 
%d 1985 
%t semantics and cognition 
%i mit press 
%c cambridge, ma 
 
%a jakobsson, m. 
%d 1985 
%t compression of character strings by an adaptive dictionary 
%j bit 
%v 25 
%n 4 
%p 593-603 
%k * 
 
%a jantsch, e. 
%d 1981 
%t autopoiesis: a central aspect of dissipative self-organization 
%e m.zeleny 
%b autopoiesis:  a theory of living organization 
%i north holland 
%c new york, ny 
%p 65-88 
 
%a jarvis, j.f. 
%d 1984 
%t robotics 
%j ieee computer 
%p 283-292 
%o october 
%k * 
 
%a jarvis, r.a. 
%d 1983 
%t growing polyhedral obstacles for planning collision-free paths 
%j australian computer j 
%v 15 
%n 3 
%p 103-111 
%o august 
%k * 
 
%a jaynes, j. 
%d 1976 
%t the origin of consciousness in the breakdown of the bicameral mind 
%i houghton mifflin 
%c boston, ma 
 
%a jefferson, d.r. 
%d 1985 
%t virtual time 
%j acm trans programming languages and systems 
%v 7 
%n 3 
%p 404-425 
%o july 
%k * 
 
%a johnson, w.l. 
%a soloway, e. 
%a cutler, b. 
%a draper, s.w. 
%d 1983 
%t bug catalogue: i 
%r research report 
%i cognition and programming project, computer science department, yale university 
%o october 
%k * 
 
%a jones, h. 
%d 1976 
%t stanley morison displayed 
%i frederick muller 
%c london, england 
 
%a jones, l.p. 
%a iyengar, s.s. 
%d 1984 
%t space and time efficient virtual quadtrees 
%j ieee trans pattern analysis and machine intelligence 
%v pami-6 
%n 2 
%p 244-247 
%o march 
%k * 
 
%a kaczmarek, t. 
%a mark, w. 
%a sondheimer, n. 
%d 1983 
%t the consul/cue interface: an integrated interactive environment 
%j proc acm chi 83 human factors in computing systems 
%p 98-102 
%c boston, ma 
%o december 12-15 
%k * 
 
%a kaehler, t. 
%a patterson, d. 
%d 1986 
%t a taste of smalltalk 
%i w.w. norton 
%c new york, ny 
 
%a kang, a.n.c. 
%a lee, r.c.t. 
%a chang, c-l. 
%a chang, s-k. 
%d 1977 
%t storage reduction through minimal spanning trees and spanning forests 
%j ieee trans computers 
%v c-26 
%n 5 
%p 425-434 
%o may 
%k * 
 
%a kawaguchi, e. 
%a endo, t. 
%d 1980 
%t on a method of binary-picture representation and its application to data compression 
%j ieee trans pattern analysis and machine intelligence 
%v pami-2 
%n 1 
%p 27-35 
%o january 
%k * 
 
%a kawaguchi, e. 
%a endo, t. 
%a matsunaga, j.i. 
%d 1983 
%t depth-first picture expression viewed from digital picture processing 
%j ieee trans pattern analysis and machine intelligence 
%v pami-5 
%n 4 
%p 373-384 
%o july 
%k * 
 
%a kelley, j.f. 
%a chapanis, a. 
%d 1982 
%t how professional persons keep their calendars: implications for computerization 
%j j occupational psychology 
%v 55 
%p 241-256 
%k * 
 
%a kennedy, h.c.\0(editor) 
%d 1980 
%t selected works of guiseppe peano 
%i allen and unwin 
%c winchester, ma 
 
%a keye, m. 
%d 1984 
%t technique for real time pitch period estimation 
%r submitted to \fielectronics letters\fp 
%k * 
 
%a kidd, a.l. 
%a cooper, m.b. 
%d 1985 
%t man-machine interface issues in the construction and use of an expert system 
%j ijmms 
%v 22 
%p 91-102 
%k * 
 
%a kigger, j. 
%d 1984 
%t the depth/breadth trade-off in the design of menu-driven user interfaces 
%j ijmms 
%v 20 
 
%a klir, g.j. 
%a parviz, b. 
%d 1985 
%t general reconstruction characteristics of probabilistic and possibilistic systems 
%r research report 
%k * 
 
%a knuth, d.e. 
%a plass, m.f. 
%d 1981 
%t breaking paragraphs into lines 
%j software -- practice and experience 
%v 11 
%p 1119-1184 
 
%a knuth, d.e. 
%d 1983 
%t the web system of structured documentation 
%r report stan-cs-83-980 
%i computer science department, university of stanford 
%c stanford, ca 
 
%a knuth, d.e. 
%d 1984 
%t literate programming 
%j computer j 
%v 27 
%n 2 
%p 97-111 
%k * 
 
%a kolata, g. 
%d 1986 
%t shakespeare's new poem: an ode to statistics 
%j science 
%v 231 
%p 335-336 
%o 24 january 
 
%a kolodner, j. 
%d 1983 
%t towards an understanding of the role of experience from novice to expert 
%j ijmms 
%v 19 
%k * 
 
%a kolodner, j.l. 
%d 1983 
%t reconstructive memory: a computer model 
%j cognitive science 
%v 7 
%p 281-328 
%k * 
 
%a kolodner, j.l. 
%d 1983 
%t maintaining organization in a dynamic long-term memory 
%j cognitive science 
%v 7 
%p 243-280 
%k * 
 
%a konopasek, m. 
%a jayaraman, s. 
%d 1984 
%t expert systems for personal computers: the tk!solver approach 
%j byte 
%p 137-156 
%o may 
%k * 
 
%a koontz, h. 
%a o'donnell, c. 
%d 1972 
%t principles of management: an analysis of managerial functions 
%i mcgraw hill 
 
%a korein, j. 
%a badler, n. 
%d 1983 
%t temporal anti-aliasing in computer generated animation 
%j computer graphics 
%v 17 
%n 3 
%p 377-388 
%o july 
%k * 
 
%a kornfeld, w.a. 
%a hewitt, c.e. 
%d 1981 
%t the scientific community metaphor 
%j ieee trans systems, man and cybernetics 
%v smc-11 
%n 1 
%p 24-33 
%o january 
%k * 
 
%a kowalski, r. 
%d 1983 
%t logic for expert systems 
%j proc expert systems 83 
%i churchill college 
%c cambridge, england 
%p 80-93 
%o december 
%k * 
 
%a kraut, r.e. 
%a hanson, s.j. 
%a farber, j.m. 
%d 1983 
%t command use and interface design 
%j proc acm chi 83 human factors in computing systems 
%p 120-123 
%c boston, ma 
%o december 12-15 
%k * 
 
%a klir, g.j. 
%d 1985 
%t architecture of systems problem solving 
%i plenum press 
%c new york, ny 
 
%a kunin, j.s. 
%d 1982 
%t analysis and specification of office procedures 
%r phd thesis 
%i department of electrical engineering and computer science, mit 
%o february 
 
%a lamb, m. 
%a buckley, v. 
%d 1984 
%t new techniques for gesture-based dialogue 
%j proc 1st ifip conference on human-computer interaction 
%c london, england 
%o 4-7 september 
%k * 
 
%a langdon, g.g 
%d 1981 
%t tutorial on arithmetic coding 
%r research report rj3128 
%i ibm research laboratory 
%c san jose, ca 
%k * 
 
%a langdon, g.g 
%d 1984 
%t an introduction to arithmetic coding 
%j ibm j research and development 
%v 28 
%n 2 
%p 135-149 
%o march 
%k * 
 
%a langdon, g.g 
%d 1983 
%t a note on the ziv-lempel model for compressing individual sequences 
%j ieee trans information theory 
%v it-30 
%p 284-287 
%o march 
%k * 
 
%a langdon, g.g. 
%a rissanen, j.j. 
%d 1983 
%t a doubly-adaptive file compression algorithm 
%j ieee trans communications 
%v com-31 
%n 11 
%p 1253-1255 
%o november 
%k * 
 
%a langdon, g.g. 
%a rissanen, j.j. 
%d 1982 
%t a simple general binary source code 
%j ieee trans information theory 
%v it-28 
%p 800-803 
%o september 
 
%a langley, p. 
%d 1983 
%t learning search strategies through discrimination 
%j ijmms 
%v 18 
%p 513-541 
%k * 
 
%a lansky, a.l. 
%d 1985 
%t behavioral planning for multi-agent domains 
%r nsf proposal 
%i sri international 
%k * 
 
%a latremouille, s. 
%a lee, e. 
%d 1981 
%t the design of videotex tree indexes: the use of descriptors and the enhancement of single index pages 
%j telidon behavioural research 
%v 2 
%i department of communications 
%o may 
 
%a lauer, h.c. 
%a needham, r.m. 
%d 1977 
%t on the duality of operating system structures 
%j operating systems: theory and practice 
%k * 
 
%a lazowska, e.d. 
%a levy, h.m. 
%a almes, g.t. 
%a fischer, m.j. 
%a fowler, r.j. 
%a vestal, s.c. 
%d 1981 
%t the architecture of the eden system 
%j proc eighth symposium on operating system principles 
%p 148-159 
%c pacific grove, ca 
%o december 
%k * 
 
%a lebowitz, m. 
%d 1980 
%t generalization and memory in an integrated understanding system 
%r phd thesis 
%i yale university 
%c new haven, ct 
 
%a lebowitz, m. 
%d 1981 
%t the nature of generalization in understanding 
%j proc ijcai 81 
%p 348-353 
%k * 
 
%a lebowitz, m. 
%d 1983 
%t generalization from natural language text 
%j cognitive science 
%v 7 
%p 1-40 
%k * 
 
%a lee, a. 
%a lochovsky, f.h. 
%d 1983 
%t enhancing the usability of an office information system through direct manipulation 
%j proc acm chi 83 human factors in computing systems 
%p 130-134 
%c boston, ma 
%o december 12-15 
%k * 
 
%a lee, d.t. 
%d 1982 
%t on \fik\fp-nearest neighbor voroni diagrams in the plane 
%j ieee trans computers 
%v c-31 
%n 6 
%p 478-487 
%o june 
%k * 
 
%a lee, d.t. 
%a preparata, f.p. 
%d 1984 
%t computational geometry -- a survey 
%j ieee trans computers 
%v c-33 
%n 12 
%p 1072-1101 
%o december 
 
%a lefebvre, v.a. 
%d 1977 
%t the structure of awareness 
%i sage publications 
%c beverly hills, ca 
%o (english translation by a.rapoport) 
 
%a lehar, a.f. 
%a stevens, r.j. 
%d 1984 
%t high-speed manipulation of the color chromaticity of digital images 
%j ieee computer graphics and applications 
%p 34-39 
%o february 
%k * 
 
%a lehnert, w.g. 
%d 1977 
%t a conceptual theory of question answering 
%j proc international joint conference on artificial intelligence 
%i mit 
%c cambridge, ma 
%p 158-164 
%o august 
 
%a lehnert, w.g. 
%d 1978 
%t the process of question answering 
%i lawrence erlbaum associates 
%c hillsdale, nj 
%k * 
 
%a lehnert, w.g. 
%a dyer, m.g. 
%a johnson, p.n. 
%a yang, c.j. 
%a harley, s. 
%d 1983 
%t boris: an experiment in in-depth understanding of narratives 
%j artificial intelligence 
%v 20 
%p 15-62 
%k * 
 
%a lemer, l. 
%d 1974 
%t a.r.t.h.u.r. the life and opinions of a digital computer 
%i harvester press 
%c sussex, england 
 
%a lempel, a. 
%a ziv, j. 
%t compression of two-dimensional data 
%k * 
 
%a lenat, d. 
%d 1983 
%t the role of heuristics in learning by discovery: three case studies 
%b machine learning 
%e r.s. michalski, j.g. carbonell, and t.m. mitchell 
%i tioga 
%p 243-306 
 
%a lenat, d.b. 
%a sutherland, w.r. 
%a gibbons, j. 
%d 1982 
%t heuristic search for new microcircuit structures: an application of artificial intelligence 
%j ai magazine 
%p 17-33 
%o summer 
%k * 
 
%a lenat, d.b. 
%d 1983 
%t eurisko: a program that learns new heuristics and domain concepts 
%j artificial intelligence 
%v 21 
%p 61-98 
%k * 
 
%a lenat, d.b. 
%a brown, j.s. 
%d 1984 
%t why am and eurisko appear to work 
%j artificial intelligence 
%v 23 
%p 269-294 
 
%a lenat, d.b. 
%a prakesh, m. 
%a shepherd, m. 
%d 1986 
%t cyc: using common sense knowledge to overcome brittleness and knowledge acquisition bottlenecks 
%j the ai magazine 
%p 65-85 
%o winter 
%k * 
 
%a lewis, j. 
%d 1963 
%t typography: basic principles.  influences and trends since the 19th century 
%i van nostrand reinhold 
%c new york, ny 
 
%a lewis, j.w. 
%d 1983 
%t an effective graphics user interface for rules 
%j proc acm chi 83 human factors in computing systems 
%p 139-143 
%c boston, ma 
%o december 12-15 
%k * 
 
%a lewis, j.m. 
%t analysing the action of unix-users 
%d 1986 
%o march 
%i university of edinburgh, department of artificial intelligence 
%k * 
 
%a li, d.y. 
%a heath, f.g. 
%d 1983 
%t ilex: an intelligent relational database system 
%j proc acm conference on personal and small computers 
%c san diego, ca 
%p 245-252 
%o december 
%k * 
 
%a liang, f.m. 
%d 1983 
%t word hy-phen-a-tion by com-put-er 
%r phd thesis 
%i computer science department, stanford university 
%c stanford, ca 
%k * 
 
%a lieberman, h. 
%d 1978 
%t how to color in a coloring book 
%j proc siggraph 78 
%p 111-116 
%k * 
 
%a lieberman, h. 
%d 1984 
%t seeing what your programs are doing 
%j ijmms 
%v 21 
%n 4 
%p 311-331 
%o october 
 
%a linde, y. 
%a buzo, a. 
%a gray, r.m. 
%d 1980 
%t an algorithm for vector quantizer design 
%j ieee trans communications 
%v com-28 
%n 1 
%p 84-95 
%o january 
%k * 
 
%a linington, p.f. 
%d 1983 
%t fundamentals of the layer service definitions and protocol specifications 
%j proc ieee 
%v 71 
%n 12 
%p 1341-1345 
%o december 
 
%a ljolje, a. 
%a fallside, f. 
%d 1986 
%t synthesis of natural sounding pitch contours in isolated utterances using hidden markov models 
%j ieee trans acoustics, speech and signal processing 
%v assp-34 
%n 5 
%p 1074-1079 
%o october 
%k * 
 
%a lloyd, j.w. 
%d 1984 
%t foundations of logic programming 
%i springer-verlag 
%c berlin 
 
%a lowrance, r. 
%a wagner, r.a. 
%d 1975 
%t an extension of the string-to-string correction problem 
%j j acm 
%v 22 
%n 2 
%p 177-183 
%o april 
%k * 
 
%a lozano-perez, t. 
%a wesley, m.a. 
%d 1979 
%t an algorithm for planning collision-free paths among polyhedral obstacles 
%j comm acm 
%v 22 
%n 10 
%p 560-570 
%o october 
%k * 
 
%a lozano-perez, t. 
%d 1981 
%t automatic planning of manipulator transfer movements 
%j ieee trans systems, man and cybernetics 
%v smc-11 
%n 10 
%p 681-698 
%o october 
 
%a lozano-perez, t. 
%d 1983 
%t robot programming 
%j proc ieee 
%v 71 
%n 7 
%p 821-841 
%o july 
 
%a lu, m.i. 
%a chen, c.f. 
%t modified huffman code 
%r research report 
%i departmental of electrical engineering, tatung institute of technology 
%c taipei, taiwan 
%k * 
 
%a lynch, t.j. 
%d 1985 
%t data compression -- techniques and applications 
%i lifetime learning publications 
%c belmont, ca 
 
%a macmillan, s.a. 
%d 1984 
%t user models to personalize an intelligent agent 
%r phd thesis 
%i stanford university 
 
%a macqueen, j.b. 
%d 1967 
%t some methods for classification and analysis of multivariate observations 
%j proc 5th berkeley symposium on mathematical statistics and probability 
%v 1 
%p 281-297 
 
%a maguire, m. 
%d 1982 
%t an evaluation of published recommendations on the design of man-computer dialogues 
%j ijmms 
%v 16 
%n 3 
%p 237-261 
%o april 
 
%a malcolm, m. 
%a dyment, d. 
%d 1983 
%t experience designing the waterloo port user interface 
%j proc acm conference on personal and small computers 
%c san diego, ca 
%p 168-175 
%o december 
%k * 
 
%a mannos, j.l. 
%a sakrison, d.j. 
%d 1974 
%t the effects of a visual fidelity criterion on the encoding of images 
%j ieee trans information theory 
%v it-20 
%n 4 
%o july 
%k * 
 
%a mantei, m. 
%d 1982 
%t disorientation behavior in person-computer interactions 
%r phd thesis 
%i university of southern california 
%c los angeles, ca 
 
%a maragos, p.a. 
%a schafer, r.w. 
%a mersereau, r.m. 
%d 1984 
%t two-dimensional linear prediction and its application to adaptive predictive coding of images 
%j ieee trans acoustics, speech and signal processing 
%v assp-32 
%n 6 
%p 1213-1229 
%o december 
%k * 
 
%a marchetti, c. 
%d 1980 
%t society as a learning system: discovery, invention, and innovation cycles revisited 
%j technological forecasting and social change 
%v 18 
%p 267-282 
%k * 
 
%a martin, t. 
%d 1980 
%t information retrieval 
%b human interaction with computers 
%e smith and green 
%i academic press 
%c london, england 
%p 161-175 
 
%a maslow, a.h. 
%d 1954 
%t motivation and personality 
%i harper and row 
%c new york, ny 
 
%a maslow, a.h. 
%d 1968 
%t toward a psychology of being 
%i van nostrand reinhold 
%c new york, ny 
%o second edition 
 
%a masrani, r. 
%a keenan, t.p. 
%d 1984 
%t security and privacy in cellular telephone systems 
%j proc afips conference on computer security 
%c toronto, on 
%o september 
%k * 
 
%a masrani, r. 
%a witten, i.h. 
%d 1984 
%t natural language processing in object-oriented prolog 
%r unpublished note 
%o september 
 
%a mathews, m.v. 
%d 1969 
%t the technology of computer music 
%i mit press 
 
%a maturana, h.r. 
%d 1975 
%t the organization of the living: a theory of the living organization 
%j ijmms 
%v 7 
%p 313-332 
 
%a maturana, h.r. 
%a varela, f.j. 
%d 1980 
%t autopoiesis and cognition 
%i d. reidel 
%c dordrecht, holland 
 
%a mazer, m.s. 
%a lochovsky, f.h. 
%d 1984 
%t logical routing specification in office information systems 
%j acm trans office information systems 
%v 2 
%n 4 
%p 303-330 
%o october 
 
%a mccarthy, j. 
%d 1980 
%t circumscription -- a form of non-monotonic reasoning 
%j artificial intelligence 
%v 13 
%p 27-39 
%k * 
 
%a mccracken, d.l. 
%a akscyn, r.m. 
%d 1984 
%t experience with the zog human-computer interface system 
%j ijmms 
%v 21 
%n 4 
%p 293-310 
%o october 
 
%a mcculloch, w.s. 
%d 1954 
%t through the den of the metaphysician 
%j british j philosophy of science 
%v 5 
%p 18-31 
 
%a mcdermott, j. 
%a steele, b. 
%d 1981 
%t extending a knowledge-based system to deal with ad hoc constraints 
%j proc 7th international joint conference on artificial intelligence 
%p 824-828 
 
%a mcdermott, j. 
%t artificial intelligence meets natural stupidity 
%b mind design 
%e j. haugeland 
%i mit press 
%c cambridge, ma 
%p 143-160 
%k * 
 
%a mcdermott, j. 
%d 1982 
%t a temporal logic for reasoning about processes and plans 
%j cognitive science 
%v 6 
%p 101-155 
%k * 
 
%a mcdonald, d. 
%d 1977 
%t language generation: the linguistics component 
%j proc international joint conference on artificial intelligence 
%p 142 
%k * 
 
%a mcdonald, d.d. 
%a pustejovsky, j.d. 
%d 1985 
%t description-directed natural language generation 
%j proc ijcai 
%p 799-805 
%k * 
 
%a mckeown, k.r. 
%a wish, m. 
%a matthews, k. 
%t tailoring explanations for the user 
%j proc ijcai 
%p 794-798 
%k * 
 
%a mclean, r.s. 
%d 1983 
%t ontario ministry of education specifies its microcomputer 
%j proc 4th canadian symposium on instructional technology 
%c winnipeg, mn 
%o october 19-21 
%k * 
 
%a meehan, j.r. 
%d 1977 
%t talespin, an interactive program that writes stories 
%j proc 5th international joint conference on artificial intelligence 
%p 91-98 
 
%a mervis, c.b. 
%a rosch, e. 
%d 1981 
%t categorization of natural objects 
%j annual review of psychology 
%v 32 
%p 89-115 
 
%a michaelsen, r.h. 
%a michie, d. 
%a boulanger, a. 
%d 1985 
%t the technology of expert systems 
%j byte 
%p 303-312 
%o april 
%k * 
 
%a miller, p.l. 
%d 1983 
%t attending: critiquing a physician's management plan 
%j ieee trans pattern analysis and machine intelligence 
%v pami-5 
%n 5 
%p 449-461 
%o september 
%k * 
 
%a mitchell, t.m. 
%d 1982 
%t generalization as search 
%j artificial intelligence 
%v 18 
%p 203-226 
%k * 
 
%a mitchell, t.m. 
%d 1983 
%t learning and problem solving 
%j proc ijcai 83 
%p 1139-1151 
%c karlsruhe, w.germany 
%o august 
%k * 
 
%a moffat, a. 
%d 1986 
%t predictive text compression based on the future rather than the past 
%r research report 
%i computer science department, university of canterbury 
%c christchurch, new zealand 
%k * 
 
%a moher, t.g. 
%d 1985 
%t estimating the distribution of software complexity \fiwithin\fp a program 
%j proc human factors in computer systems 
%c san francisco, ca 
%p 61-64 
%o april 
%k * 
 
%a mooney, r. 
%a de\|jong, g. 
%t learning schemata for natural language processing 
%j proc ijcai 
%p 681-687 
%k * 
 
%a morison, s. 
%d 1951 
%t first principles of typography 
%i cambridge university press 
%c cambridge, england 
 
%a morrin, t.h. 
%d 1974 
%t a black-white representation of a gray-scale picture 
%j ieee trans computers 
%v c-23 
%p 184-186 
%o february 
%k * 
 
%a morris, r. 
%a cherry, l.l. 
%d 1975 
%t computer detection of typographical errors 
%j ieee trans professional communications 
%v pc-18 
%n 1 
%p 54-56 
%o march 
%k * 
 
%a morris, r. 
%a thompson, k. 
%d 1979 
%t password security: a case history 
%j comm acm 
%v 22 
%n 11 
%p 594-597 
%o november 
%k * 
 
%a moses, j. 
%d 1971 
%t symbolic integration: the stormy decade 
%j comm acm 
%v 14 
%n 8 
%p 548-560 
 
%a mullen, j. 
%d 1984 
%t unlimited vocabulary speech synthesis with low data rates 
%j electronics and power 
%p 850-852 
%o november/december 
%k * 
 
%a mycielski, j. 
%d 1985 
%t can mathematics explain natural intelligence? 
%r research report uc-32 
%i los alamos national laboratory 
%c los alamos, nm 
%o july 
%k * 
 
%a mycroft, a. 
%a o'keefe, r.a. 
%d 1984 
%t a polymorphic type system for prolog 
%j artificial intelligence 
%v 23 
%p 295-307 
%k * 
 
%a myers, b.a 
%d 1986 
%t visual programming, programming by example, and program visualization: a taxonomy 
%j proc acm chi 86 human factors in computing systems 
%p 59-66 
%c boston, ma 
%o april 13-17 
%k * 
 
%a nagy, g. 
%a wagle, s. 
%d 1979 
%t geographic data processing 
%j computing surveys 
%v 11 
%n 2 
%p 139-181 
%o june 
%k * 
 
%a nagy, g. 
%a paton, k. 
%d 1982 
%t intelligent facsimile 
%p proc harvard computer graphics week 
%i graduate school of design, harvard university 
%k * 
 
%a nagy, g. 
%d 1983 
%t candide's practical principles of experimental pattern recognition 
%j ieee trans pattern analysis and machine intelligence 
%v pami-5 
%n 2 
%p 199-200 
%o march 
%k * 
 
%a nagy, g. 
%d 1983 
%t optical scanning devices 
%j ieee computer 
%p 13-24 
%o may 
%k * 
 
%a nagy, g. 
%a seth, s. 
%t hierarchical image representation with application to optically scanned documents 
%r discussion paper 
%k * 
 
%a nagy, g. 
%d 1984 
%t advances in information extraction techniques 
%j remote sensing of environment 
%v 15 
%p 167-175 
%k * 
 
%a naiman, a. 
%d 1984 
%t some new ingredients for the cookbook approach to anti-aliased text 
%j proc graphics interface 84 
%i national computer graphics association of canada 
%p 99-108 
%o may 
 
%a nakatani, l.h. 
%a rohrlich, j.a. 
%d 1983 
%t soft machines: a philosophy of user-computer interface design 
%j proceedings human factors in computer systems 
%c boston, ma 
%o december 12-15 
%k * 
 
%a nasanen, r. 
%d 1984 
%t visibility of halftone dot textures 
%j ieee trans systems, man and cybernetics 
%v smc-14 
%n 6 
%p 920-924 
%o november/december 
%k * 
 
%a nau, d.s. 
%d 1983 
%t expert computer systems 
%j ieee computer 
%v 16 
%n 2 
%p 63-85 
%o february 
 
%a neal, r.m. 
%a lomow, g.a. 
%a peterson, m.w. 
%a unger, b.w. 
%a witten, i.h. 
%d 1984 
%t inter-process communication in a distributed programming environment 
%j proc canadian information processing society conference 
%c calgary, al 
%p 361-364 
%o may 
%k kconference 
 
%a nelson, g.a. 
%a pfeifer, l.l. 
%a wood, r.c. 
%d 1972 
%t high-speed octave band digital filtering 
%j ieee trans audio and electroacoustics 
%v au-20 
%p 58-65 
%o march 
%k * 
 
%a niblett, b.\0(editor) 
%d 1980 
%t computer science and law 
%i cambridge university press 
%c cambridge, england 
 
%a nicol, r.c. 
%a fenn, b.a. 
%a turkington, r.d. 
%d 1980 
%t transmission techniques for picture viewdata 
%j proc international broadcasting convention 
%k * 
 
%a nicholson, r.t. 
%d 1985 
%t usage patterns in an integrated voice and data communications system 
%j acm trans office information systems 
%v 3 
%n 3 
%p 307-314 
%o july 
 
%a nierstrasz, o.m. 
%d 1985 
%t an object-oriented system 
%e d.tsichritzis 
%b office automation 
%i springer-verlag 
%c berlin 
%p 167-189 
 
%a nilsson, n.j. 
%d 1986 
%t probabilistic logic 
%j artificial intelligence 
%v 28 
%p 71-87 
 
%a nilsson, n.j. 
%d 1980 
%t principles of artificial intelligence 
%i tioga 
%c palo alto, ca 
 
%a nilsson, n.j. 
%d 1980 
%t the interplay between experimental and theoretical methods in artificial intelligence 
%r technical note 229 
%i sri international 
%o september 
%k * 
 
%a nilsson, n.j. 
%d 1981 
%t artificial intelligence: engineering, science, or slogan? 
%r technical note 248 
%i sri international 
%o july 
%k * 
 
%a nix, r. 
%d 1983 
%t editing by example 
%r phd dissertation 
%i computer science department, yale university 
%c new haven, ct 
 
%a nix, r. 
%d 1984 
%t editing by example 
%j proc 11th acm symposium on principles of programming languages 
%c salt lake city, ut 
%p 186-195 
%o january 
 
%a noakes, p.d. 
%a aish, r. 
%d 1984 
%t a new peripheral for three-dimensional computer input 
%j ieee micro 
%v 4 
%n 5 
%p 26-35 
%o october 
 
%a nooteboom, s.g. 
%d 1983 
%t the temporal organization of speech and the process of spoken-word recognition 
%j ipo annual progress report 
%v 18 
%p 32-36 
%k * 
 
%a norman, d.a. 
%d 1981 
%t the trouble about unix 
%j datamation 
%v 27 
%n 12 
%p 139-150 
 
%a norman, d.a. 
%d 1984 
%t stages and levels in human-machine interaction 
%j ijmms 
%v 21 
%n 4 
%p 365-375 
%o october 
 
%a norman, d.a. 
%a draper, s.w.\0(editors) 
%d 1986 
%t user centered system design \(em new perspectives on human-computer interaction 
%i lawrence erlbaum associates 
%c hillsdale, nj 
 
%a norman, k.l. 
%a weldon, l.j. 
%a shneiderman, b. 
%d 1985 
%t cognitive representations of windows and multiple screen layouts of computer interfaces 
%r research report car-tr-123, cs-tr-1498 
%i computer science department, university of maryland 
%o may 
 
%a null, a. 
%d 1971 
%t space-filling curves or how to waste time with a plotter 
%j software -- practice and experience 
%v 1 
%p 403-410 
%k * 
 
%a oren, t.i. 
%a brzozowski, j.a. 
%a gilmore, p.c. 
%d 1982 
%t crisis in canadian academic computer science: facts and recommendations 
%r report prepared by the executive committee of canadian computer science departments chairmen 
%o january 
 
%a o'shea, t. 
%a self, j. 
%d 1983 
%t learning and teaching with computers: artificial intelligence in education 
%i prentice-hall 
%c englewood cliffs, nj 
 
%a o'shea, t. 
%a eisenstadt, m.\0(editors) 
%d 1984 
%t artificial intelligence: tools, techniques, and applications 
%i harper and row 
%c new york, ny 
 
%a ogawa, y. 
%a shima, k. 
%a sugawara, t. 
%a takagi, s. 
%d 1984 
%t knowledge representation and inference environment: krine -- an approach to integration of frame, prolog and graphics 
%j proc international conference on fifth generation computer systems 
%i icot 
%p 643-651 
%k * 
 
%a pake, g.e. 
%d 1985 
%t research at xerox parc: a founder's assessment 
%j ieee spectrum 
%v 22 
%n 10 
%p 54-61 
%o october 
 
%a paliwal, k.k. 
%a espeland, o. 
%d 1983 
%t some considerations about the shape of the window filter in an adaptive gradient lattice algorithm 
%r report 
%i division of telecommunications, university of trondheim 
%c trondheim-nth, norway 
%k * 
 
%a papamichalis, p.e. 
%d 1985 
%t markov-huffman coding of lpc parameters 
%j ieee trans acoustics, speech and signal processing 
%c assp-33 
%n 2 
%p 451-453 
%o april 
 
%a park, o.c. 
%a tennyson, r.d. 
%d 1983 
%t computer-based instructional systems for adaptive education: a review 
%j contemporary education review 
%v 2 
%n 2 
%p 121-135 
%o fall 
%k * 
 
%a parker-rhodes, a.f. 
%d 1978 
%t inferential semantics 
%i harvester press 
%c brighton, sussex 
 
%a patil, r.s. 
%a szolovits, p. 
%a schwartz, w.b. 
%d 1981 
%t causal understanding of patient illness in medical diagnosis 
%j proc 7th international joint conference on artificial intelligence 
%p 893-899 
%k * 
 
%a patil, r.s. 
%a szolovits, p. 
%a schwartz, w.b. 
%t information acquisition in diagnosis 
%j proc international joint conference on artificial intelligence 
%p 345-348 
%k * 
 
%a patten, t. 
%d 1986 
%t interpreting systemic grammar as a computational representation: a problem solving approach to text generation 
%r phd thesis 
%i university of edinburgh 
 
%a paulus, e. 
%d 1980 
%t the concept of the nn-error risk with respect to an arbitrary separating surface and its applications to clustering 
%j proc ieee conference 
%k * 
 
%a pavlidis, t. 
%d 1981 
%t contour filling in raster graphics 
%j acm computer graphics 
%v 15 
%n 3 
%p 29-36 
%o august 
%k * 
 
%a pawlak, z. 
%d 1982 
%t rough sets 
%j int j computer and information systems 
%v 11 
%n 5 
%p 341-356 
%k * 
 
%a pawlak, z. 
%d 1985 
%t rough sets and fuzzy sets 
%j fuzzy sets and systems 
%p 99-103 
%k * 
 
%a paxton, a.l 
%a turner, e.j. 
%d 1984 
%t the application of human factors to the needs of the novice computer user 
%j ijmms 
%v 20 
%n 2 
%p 137-156 
%o february 
 
%a peano, g. 
%d 1890 
%t sur une courbe, qui remplit toute une aire plane 
%j math annalen 
%v 36 
%p 157-160 
%k * 
 
%a pearl, j. 
%d 1985 
%t fusion, propagation, and structuring in bayesian networks 
%r technical report csd-850022 r-42, revision i 
%i cognitive systems laboratory, computer science department, ucla 
%o june 
 
%a pearl, j. 
%d 1986 
%t fusion, propagation, and structuring in belief networks 
%j artificial intelligence 
%v 29 
%n 3 
%p 241-288 
%o september 
 
%a peng, x.t. 
%a tu, x.c. 
%a wang, p.z. 
%d 1986 
%t studies on parametric fuzzy controllers 
%r research report 
%k * 
 
%a pereiro, l.m. 
%a nagr, r. 
%d 1984 
%t delta-prolog: a distributed logic programming language 
%r submitted to int conference on 5th generation systems 
%c tokyo, japan 
%o november  
%k * 
 
%a perlman, g. 
%d 1981 
%t two papers in cognitive engineering: the design of an interface to a programming system, and menunix: a menu-based interface to unix (user manual) 
%r research report 8105 
%i center for human information processing, university of california 
%c san diego, ca 
%o november 
%k * 
 
%a perlman, g. 
%d 1984 
%t natural artificial languages: low-level processes 
%j ijmms 
%v 20 
%n 4 
%p 373-419 
%o april 
 
%a perry, t.s. 
%a wallich, p. 
%d 1985 
%t inside the parc: the `information architects' 
%j ieee spectrum 
%v 22 
%n 10 
%p 62-75 
%o october 
 
%a peters, a.m. 
%d 1983 
%t the units of language acquisition 
%i cambridge university press 
%c cambridge, england 
 
%a phillips, j. 
%d 1983 
%t self-describing programming environments 
%r phd thesis 
%i computer science department, stanford university 
%c stanford, ca 
 
%a pierce, j.r. 
%d 1962 
%t symbols, signals and noise 
%i hutchinson 
%c london, england 
 
%a pike, r. 
%d 1983 
%t graphics in overlapping bitmap layers 
%j acm trans graphics 
%v 2 
%n 2 
%p 135-160 
%o april 
%k * 
 
%a poggio, a. 
%a garcia luna aceves, j.j. 
%a craighill, e.j. 
%a moran, d. 
%a aguilar, l. 
%a worthington, d. 
%a hight, j. 
%d 1985 
%t ccws: a computer-based, multimedia information system 
%j ieee computer 
%v 18 
%n 10 
%p 92-103 
%o october 
 
%a poritz, a.b. 
%d 1982 
%t linear predictive hidden markov models and the speech signal 
%j proc  
%p 1291-1294 
%k * 
 
%a post, e. 
%d 1983 
%t real programmers don't use pascal 
%j datamation 
%p 263-265 
%o july 
%k * 
 
%a postel, j.b. 
%d 1980 
%t internetwork protocol approaches 
%j ieee trans communications 
%v com-28 
%n 4 
%p 604-611 
%o april 
%k * 
 
%a potmesil, m. 
%a chakravarty, i. 
%d 1983 
%t modeling motion blur in computer-generated images 
%j acm computer graphics 
%v 17 
%n 3 
%p 389-399 
%o july 
%k * 
 
%a poulton, a.s. 
%d 1983 
%t microcomputer speech synthesis and recognition 
%i sigma technical press 
%c wilmslow, cheshire, uk 
 
%a preucil, m. 
%a sebela, z. 
%d 1982 
%t computer-assisted simulation of a coal-mine winding system 
%j proc 4th formator symposium on mathematical methods for the analysis of large-scale systems 
%c prague 
%p 391-404 
%o may 18-21 
%k * 
 
%a prusinkiewicz, p. 
%a christopher, m. 
%d 1984 
%t hologram-like transmission of pictures 
%r technical report cs-84-17 
%i computer science department, university of regina 
%o november 
%k * 
 
%a purvy, r. 
%a farrell, j. 
%a klose, p. 
%d 1983 
%t the design of star's records processing: data processing for the noncomputer professional 
%j acm trans office information systems 
%v 1 
%n 1 
%p 3-24 
%o january 
%k * 
 
%a quinlan, j.r. 
%d 1983 
%t inferno: a cautious approach to uncertain inference 
%j computer j 
%v 26 
%n 3 
%p 255-269 
 
%a qureshi, s.u.h. 
%d 1985 
%t adaptive equalization 
%j proc ieee 
%v 73 
%n 9 
%p 1349-1387 
%o september 
 
%a rabiner, l.r. 
%a crochiere, r.e. 
%d 1975 
%t a novel implementation for narrow-band fir digital filters 
%j ieee trans acoustics, speech and signal processing 
%v assp-23 
%n 5 
%p 457-464 
%o october 
%k * 
 
%a radhakrishnan, t. 
%a grossner, c.p. 
%d 1985 
%t cuenet \(em a distributed computing facility 
%j ieee micro 
%p 42-52 
%o february 
%k * 
 
%a raeder, g. 
%d 1985 
%t a survey of current graphical programming techniques 
%j ieee computer 
%v 18 
%n 8 
%p 11-25 
 
%a rashid, r.f. 
%d 1980 
%t an interprocess communication facility for unix 
%r technical report 
%i computer science department, carnegie-mellon university 
%o february 
 
%a rashid, r.f. 
%a robertson, g.g. 
%d 1981 
%t accent: a communication oriented network operating system kernel 
%j proc eighth symposium on operating system principles 
%p 64-75 
%c pacific grove, ca 
%o december 
 
%a rasmussen, j. 
%d 1983 
%t skills, rules, and knowledge; signals, signs, and symbols, and other distinctions in human performance models 
%j ieee trans systems, man and cybernetics 
%v smc-13 
%n 3 
%p 257-266 
%o may/june 
%k * 
 
%a rassbach, m.e. 
%d 1980 
%t classy: an adaptive clustering algorithm 
%j proc ieee conference 
%p 442-444 
%k * 
 
%a rawlings, c. 
%a fox, j. 
%d 1983 
%t the unit package -- a critical appraisal of a frame-based knowledge representation system 
%j proc expert systems 83 
%i churchill college 
%c cambridge, england 
%p 15-29 
%o december 
%k * 
 
%a redell, d.d. 
%a white, j.e. 
%d 1983 
%t interconnecting electronic mail systems 
%j ieee computer 
%v 16 
%n 9 
%p 55-63 
%o september 
%k * 
 
%a reeds, j.a. 
%a weinberger, p.j. 
%d 1984 
%t file security and the unix system \ficrypt\fp command 
%j bell system technical j 
%v 63 
%n 8, part 2 
%p 1673-1684 
%o october 
 
%a reichardt, j. 
%d 1971 
%t the computer in art 
%i studio vista 
%c london, england 
 
%a reiter, r. 
%d 1980 
%t a logic for default reasoning 
%j artificial intelligence 
%v 13 
%p 81-132 
%k * 
 
%a reynolds, j.k. 
%a postel, j.b. 
%a katz, a.r. 
%a finn, g.c. 
%a deschon, a.l. 
%d 1985 
%t the darpa experimental multimedia mail system 
%j ieee computer 
%v 18 
%n 10 
%p 82-89 
%o october 
 
%a rich, c. 
%d 1982 
%t knowledge representation languages and predicate calculus: how to have your cake and eat it too 
%j proc national conference on artificial intelligence 
%p 193-196 
 
%a rich, e. 
%d 1984 
%t the gradual expansion of artificial intelligence 
%j ieee computer 
%v 17 
%n 5 
%p 4-12 
%o may 
 
%a riesbeck, c.k. 
%d 1975 
%t conceptual analysis 
%b conceptual information processing 
%e r.c.schank 
%i north holland 
%c amsterdam 
 
%a riesbeck, c.k. 
%d 1981 
%t failure-driven reminding for incremental learning 
%j proc ijcai 81 
%p 115-120 
%k * 
 
%a riesbeck, c.k. 
%d 1982 
%t realistic language comprehension 
%e w.g. lenhert and m.h. ringle 
%b strategies for natural language processing 
%i lawrence erlbaum associates 
%p 37-54 
 
%a riesbeck, c.k. 
%d 1984 
%t knowledge reorganization and reasoning style 
%j ijmms 
%v 20 
%p 45-61 
%k * 
 
%a rissanen, j. 
%a langdon, g.g. 
%t arithmetic coding 
%j ibm j research and development 
%d 1979 
%v 23 
%n 2 
%p 149-162 
%o march 
%k * 
 
%a rissanen, j. 
%d 1984 
%t complexity of strings in the class of markov sources 
%r research report 
%i ibm research laboratory 
%c san jose, ca 
%k * 
 
%a rissanen, j. 
%d 1986 
%t stochastic complexity and sufficient statistics 
%r research report 
 
%a ritchie, d.m. 
%d 1981 
%t on the security of unix 
%r programmers manual for unix system iii volume ii: supplementary documents 
%i western electric corporation 
 
%a ritchie, g.d. 
%a hanna, f.k. 
%d 1984 
%t am: a case study in ai methodology 
%j artificial intelligence 
%v 23 
%p 249-268 
%k * 
 
%a roberts, m.g. 
%d 1982 
%t local order estimating markovian analysis for noiseless source coding and authorship identification 
%r phd thesis 
%i stanford university 
 
%a rogers, h. 
%d 1943 
%t paragraphs on printing 
%i william e. rudges 
%c new york, ny 
%o re-published by dover publications, new york, 1979 
 
%a rosenthal, d.s.h. 
%d 1982 
%t managing graphical resources 
%j computer graphics 
%v 16 
%n 4 
%p 38-45 
%o december 
%k * 
 
%a ross, p. 
%a jones, j. 
%a millington, m. 
%d 1985 
%t user modelling in command-driven computer systems 
%r dai research paper no 264 
%i department of artificial intelligence, university of edinburgh 
%k * 
 
%a rouse, s.h. 
%a rouse, w.b. 
%d 1980 
%t computer-based manuals for procedural information 
%j ieee trans systems, man and cybernetics 
%v smc-10 
%n 8 
%p 506-510 
%o august 
 
%a rowe, n.c. 
%d 1984 
%t modelling degrees of item interest for a general database query system 
%j ijmms 
%v 20 
%n 5 
%p 421-443 
%o may 
%k * 
 
%a runciman, c. 
%a thimbleby, h. 
%d 1986 
%t equal opportunity interactive systems 
%r report 
%i computer science department, university of york 
%c york  
%k * 
 
%a rychener, m.d. 
%d 1979 
%t a semantic network of production rules in a system for describing computer structures 
%j proc 6th joint conference on artificial intelligence 
%p 738-743 
 
%a ryman, r. 
%a singh, b. 
%d 1982 
%t the benesh notation computerized editor 
%j proc dance in canada conference 
%o june 
 
%a sagan, h. 
%d 1986 
%t approximating polygons for lebesgue's and schoenberg's space filling curves 
%j american mathematical monthly 
%p 361-368 
%o may 
%k * 
 
%a sammut, c. 
%a banerji, r. 
%d 1983 
%t hierarchical memories: an aid to concept learning 
%j proc international machine learning workshop 
%p 74-80 
%i allerton house 
%c monticello, il 
%o june 22-24 
%k * 
 
%a sammut, c. 
%a banerji, r. 
%d 1986 
%t learning concepts by asking questions 
%b machine learning volume 2 
%e r.s. michalski, j.g. carbonell, and t.m. mitchell 
%i morgan kaufmann inc 
%c los altos, ca 
%p 167-191 
%k * 
 
%a sandewall, e. 
%t a functional approach to non-monotonic logic 
%j proc ijcai 
%p 100-106 
%k * 
 
%a sakata, s. 
%a ueda, t. 
%d 1985 
%t a distributed interoffice mail system 
%j ieee computer 
%v 18 
%n 10 
%p 106-116 
%o october 
 
%a samet, h. 
%d 1983 
%t a quadtree medial axis transform 
%j comm acm 
%v 26 
%n 9 
%p 680-693 
%o september 
 
%a samet, h. 
%d 1984 
%t the quadtree and related hierarchical data structures 
%j computing surveys 
%v 16 
%n 4 
%p 187-260 
%o june 
 
%a santisteban, a. 
%d 1983 
%t the perceptual color space of digital image display terminals 
%j ibm j research and development 
%v 27 
%n 2 
%p 127-132 
%o march 
%k * 
 
%a sawaragi, y. 
%a yoshikawa 
%d 1970 
%t discrete-time markovian decision processes with incomplete state observation 
%j the annals of mathematical statistics 
%v 41 
%n 1 
%p 78-86 
%k * 
 
%a schank, r.c.\0(editor) 
%d 1975 
%t conceptual information processing 
%i north holland 
 
%a schank, r.c. 
%a abelson, r. 
%d 1977 
%t scripts, plans, goals and understanding 
%i lawrence erlbaum associates 
 
%a schank, r.c. 
%d 1980 
%t language and memory 
%j cognitive science 
%v 4 
%p 243-284 
%k * 
 
%a schank, r.c. 
%a slade, s. 
%t advisory systems 
%k * 
 
%a scharf, t.f. 
%d 1984 
%t sounding out speech synthesis 
%j electronics and power 
%p 847-849 
%o november/december 
%k * 
 
%a schroeder, m.e. 
%d 1969 
%t images from computers 
%j ieee spectrum 
%o march 
%k * 
 
%a schulert, a.j. 
%a rogers, g.t. 
%a hamilton, j.a. 
%d 1985 
%t adm \(em a dialog manager 
%j proc acm chi 85 human factors in computing systems 
%p 177-183 
%o april 
%k * 
 
%a searle, j.r. 
%d 1980 
%t minds, brains, and programs 
%j behavioral and brain sciences 
%v 3 
%p 417-457 
%k * 
 
%a searle, j.r. 
%d 1983 
%t intentionality 
%i cambridge university press 
%c cambridge, england 
 
%a seely\|brown, j. 
%a burton, r.r. 
%a bell, a.g. 
%d 1975 
%t sophie \(em a step toward creating a reactive learning environment 
%j ijmms 
%v 7 
%n 5 
%p 675-696 
%o september 
 
%a segre, a.m. 
%a sherwood, b.a. 
%a dickerson, w.b. 
%d 1983 
%t an expert system for the production of phoneme strings from unmarked english text using machine induced rules 
%j proc association for computational linguistics 
%c pisa, italy 
%o september 
%k * 
 
%a selim, s.z. 
%a ismail, m.a. 
%d 1984 
%t \fik\fp-means-type algorithms: a generalized convergence theorem and characterization of local optimality 
%j ieee trans pattern analysis and machine intelligence 
%v pami-6 
%n 1 
%p 81-87 
%o january 
%k * 
 
%a sergot, m. 
%t prospects for representing the law as logic programs 
%b in clark and tarnlund's book 
%k * 
 
%a seybold 
%d 1985 
%t apple laserwriter 
%j seybold report on publishing systems 
%v 14 
%n 9 
%o january 28 
%k * 
 
%a shafer, g. 
%d 1976 
%t a mathematical theory of evidence 
%i princeton university press 
%c princeton, nj 
 
%a shamos, m.i. 
%a hoey, d. 
%d 1975 
%t closest-point problems 
%j proc 16th ieee symposium on foundations of computer science 
%p 151-162 
%o october 
 
%a shamos, m.i. 
%d 1977 
%t computational geometry 
%i springer-verlag 
%c new york, ny 
%a shannon, c.e. 
%d 1948 
%t a mathematical theory of communication 
%j bell system technical j 
%v 27 
%p 398-403 
%o july 
 
%a shannon, c.e. 
%d 1951 
%t presentation of a maze-solving machine 
%b trans 8th conference josiah macy foundation 
%e h.von foerster 
%c new york, ny 
%p 173-192 
 
%a shannon, c.e. 
%d 1951 
%t prediction and entropy of printed english 
%j bell system technical j 
%p 50-64 
%o january 
%k * 
 
%a shapiro, e. 
%d 1983 
%t a subset of concurrent prolog and its interpreter 
%r icot technical report tr-003 
%o january 
%k * 
 
%a shapiro, e. 
%d 1983 
%t systems programming in concurrent prolog 
%r icot technical report tr-034 
%o november 
%k * 
 
%a shapiro, e. 
%a takeuchi, a. 
%d 1983 
%t object oriented programming in concurrent prolog 
%j new generation computing 
%v 1 
%p 25-48 
%k * 
 
%a shaw, m.l.g. 
%a gaines, b.r. 
%d 1983 
%t does the human component in the network have a protocol? 
%j proc international electrical, electronics conference 
%v 2 
%p 546-549 
%c toronto, on 
%o september 26-28 
%k * 
 
%a shaw, m.l.g 
%a gaines, b.r. 
%d 1985 
%t knowledge engineering tools for expert systems 
%b computer models for decision making 
%e g.mitra 
%i north holland 
%c amsterdam 
%k * 
 
%a shneiderman, b. 
%d 1984 
%t response time and display rate in human performance with computers 
%j computing surveys 
%v 16 
%n 3 
%p 265-285 
%o september 
 
%a shneiderman, b. 
%a norman, k. 
%a rogers, j. 
%a arifin, r. 
%a weldon, l. 
%d 1985 
%t a multi-screen programmer work station based on the ibm pc 
%r research report 
%i computer science department, university of maryland 
%o april 
 
%a shoch, j.f. 
%a hupp, j.a. 
%d 1982 
%t the `worm' programs \(em early experience with a distributed computation 
%j comm acm 
%v 25 
%n 3 
%p 172-180 
%o march 
%k * 
 
%a shoemake, k. 
%t animating rotation with quaternion curves 
%d 1985 
%j acm 
%v 19 
%n 3 
%o july 
%k * 
 
%a shortliffe, e.h. 
%a buchanan, b.g. 
%d 1975 
%t a model of inexact reasoning in medicine 
%j mathematical biosciences 
%v 23 
%p 351-379 
 
%a shortliffe, e.h. 
%d 1976 
%t computer-based medical consultations: mycin 
%i elsevier science 
%c new york, ny 
%k * 
 
%a shortliffe, e.h. 
%d 1980 
%t consultation systems for physicians: the role of artificial intelligence techniques 
%j proc canadian society for computational studies of intelligence 
%i university of victoria 
%c victoria, bc 
%k * 
 
%a shrager, j.c. 
%t invoking a beginner's aid process by recognizing dcl goals 
%d 1981 
%r msc thesis 
%i university of pennsylvania 
 
%a shrager, j.c. 
%a finin, t. 
%d 1982 
%t an expert system that volunteers advice 
%j proc national conference on artificial intelligence 
%p 339-340 
%k * 
%k * 
 
%a shu, c.s. 
%d 1985 
%t formal: a forms-oriented visual-directed application development system 
%j ieee computer 
%v 18 
%n 8 
%p 38-49 
 
%a sierpinski, w. 
%d 1912 
%t sur une nouvelle courbe qui remplit toute une aire plaine 
%j bull acad sci cracovie 
%v serie a 
%p 462-478 
%k * 
 
%a simons, g.l. 
%d 1980 
%t robots in industry 
%i national computing centre 
%c manchester, england 
 
%a simpson, r.j. 
%a terrell, t.j. 
%d 1984 
%t digital filtering using the nec pd7720 signal processor 
%j microprocessing and microprogramming 
%v 14 
%p 67-78 
%k * 
 
%a sleeman, d. 
%d 1982 
%t assessing aspects of competence in basic algebra 
%b intelligent tutoring systems 
%e d. sleeman and j.s. brown 
%i academic press 
%c london, england 
%p 185-200 
 
%a sloman, a. 
%a croucher, m. 
%d 1981 
%t why robots will have emotions 
%j proc 7th international joint conference on artificial intelligence 
%v 1 
%p 197-202 
%c vancouver, bc 
%k * 
 
%a smith, k. 
%d 1985 
%t watch out hackers, public encryption chips are coming 
%j electronics week 
%p 30-31 
%o may 20 
%k * 
 
%a smith, r. 
%d 1979 
%t tint fill 
%j proc acm conference 
%p 276-284 
%k * 
 
%a solomon, h. 
%d 1977 
%t data dependent clustering techniques 
%b classification and clustering 
%e j. van ryzin 
%i academic press 
%c new york, ny 
%p 155-173 
 
%a southall, r. 
%d 1984 
%t first principles of typographic design for document production 
%j tugboat (tex users group newsletter) 
%v 5 
%n 2 
%p 79-90 
%k * 
 
%a sowa, j.f. 
%d 1983 
%t generating language from conceptual graphs 
%b computational linguistics 
%e n.cercone 
%p 29-43 
%i pergamon 
%c oxford, england 
%k * 
 
%a sparck\|jones, k. 
%d 1984 
%t user models and expert systems 
%r technical report 
%i computer laboratory, university of cambridge 
%c cambridge, england 
%k * 
 
%a spector, a.z. 
%d 1982 
%t performing remote operations efficiently on a local computer network 
%j comm acm 
%v 25 
%n 4 
%p 246-260 
%o april 
%k * 
 
%a spencer, h. 
%d 1969 
%t the visible word 
%i lund humphries 
%c london, england 
 
%a stankovic, j.a. 
%d 1982 
%t software communication mechanisms: procedure call versus messages 
%j ieee computer 
%p 19-25 
%o april 
%k * 
 
%a stankovic, j.a. 
%d 1984 
%t a perspective on distributed computer systems 
%j ieee trans computers 
%v c-33 
%n 12 
%p 1102-1115 
%o december 
%k * 
 
%a staunstrup, j. 
%d 1982 
%t message passing communication versus procedure call communication 
%j software -- practice and experience 
%v 12 
%p 223-234 
%k * 
 
%a stefik, m. 
%d 1979 
%t an examination of a frame-structured representation system 
%j proc 6th international conference on artificial intelligence 
%p 265-270 
%k * 
 
%a stefik, m. 
%a conway, l. 
%d 1982 
%t towards the principled engineering of knowledge 
%j ai magazine 
%p 4-16 
%o summer 
%k * 
 
%a stefik, m. 
%a bobrow, d.g. 
%a mittal, s. 
%a conway, l. 
%d 1983 
%t knowledge programming in loops: report on an experimental course 
%j ai magazine 
%p 3-13 
%o fall 
%k * 
 
%a stefik, m.j. 
%a bobrow, d.g. 
%a kahn, k.m. 
%d 1986 
%t integrating access-oriented programming into a multiparadigm environment 
%j ieee software 
%p 10-18 
%o january 
%k * 
 
%a stefik, m.j. 
%a bobrow, d.g. 
%d 1986 
%t object-oriented programming: themes and variations 
%j ai magazine 
%v 6 
%n 4 
%p 40-62 
%o winter 
 
%a stevens, m.e. 
%a little, j.l. 
%d 1967 
%t automatic typographic-quality typesetting techniques: a state-of-the-art review 
%i national bureau of standards 
 
%a stevens, r.j. 
%a lehar, a.f. 
%a preston, f.h. 
%d 1983 
%t manipulation and presentation of multi-dimensional image data using the peano scan 
%j ieee trans pattern analysis and machine intelligence 
%p 520- 
%o september 
 
%a stoffel, j.g. 
%a moreland, j.f. 
%d 1981 
%t a survey of electronic techniques for pictorial image reproduction 
%j ieee trans communications 
%v com-17 
%n 12 
%p 1898-1925 
%o december 
%k * 
 
%a stroustrup, b. 
%d 1984 
%t the c++ programming language 
%r computing science technical report 108 
%i bell laboratories 
%c murray hill, nj 
%o january 
%k * 
 
%a stroustrup, b. 
%d 1984 
%t data abstraction in c 
%r computing science technical report 109 
%i bell laboratories 
%c murray hill, nj 
%o january 
%k * 
 
%a suchman, l.a. 
%d 1982 
%t toward a sociology of human-machine interaction: pragmatics of instruction-following 
%r working paper 
%i xerox parc, (intelligent systems laboratory) 
%c palo alto, ca 
 
%a suchman, l.a. 
%d 1982 
%t human-machine interaction and the idea of a self-explanatory machine 
%j paper presented at the annual meeting of the american anthropological society 
%c washington, dc 
%o december 
%k * 
 
%a suchman, l.a. 
%d 1983 
%t the role of common sense in interface design 
%b office automation: jekyll or hyde 
%e d.marschall and j.gregory 
%i working women education fund 
%c cleveland, oh 
%p 96-102 
 
%a suchman, l.a. 
%d 1983 
%t office procedure as practical action: models of work and system design 
%j acm trans office information systems 
%v 1 
%n 4 
%p 320-328 
%o october 
%k * 
 
%a suchman, l.a. 
%d 1985 
%t plans and situated actions: the problem of human-machine communication 
%r phd thesis 
%i xerox parc 
%c palo alto, ca 
%k * 
 
%a sugeno, m. 
%a nishida, m. 
%d 1984 
%t fuzzy control of model car 
%k * 
 
%a summers, p.d. 
%a grossman, d.d. 
%d 1984 
%t xprobe: an experimental system for programming robots by example 
%j int j robotics research 
%v 3 
%n 1 
%p 25-39 
%o spring 
 
%a sussman, g.j. 
%d 1975 
%t a computer model of skill acquisition 
%i american elsevier 
%c new york, ny 
 
%a tannenbaum, a. 
%t political history of unix 
%r report 
%i masscomp 
%c westford, ma  
%k * 
 
%a tanner, w. 
%d 1979 
%t industrial robots -- volume 1: fundamentals 
%i society of manufacturing engineers 
%c dearborn, mi 
 
%a tennant, h.r. 
%a ross, k.m. 
%a thompson, c.w. 
%d 1983 
%t usable natural language interfaces through menu-based natural language understanding 
%j proc acm chi 83 human factors in computing systems 
%p 154-160 
%c boston, ma 
%o december 12-15 
%k * 
 
%a test, j.a. 
%d 1982 
%t the nunix window system 
%r internal report 
%i laboratory for computer science, mit 
%c cambridge, ma 
%k * 
 
%a thimbleby, h. 
%d 1980 
%t dialogue determination 
%j ijmms 
%v 13 
%n 3 
%p 295-304 
%o october 
 
%a thomsett, r. 
%d 1980 
%t people and project management 
%i yourden press 
%c new york, ny 
 
%a thompson, b.a. 
%a thompson, w.a. 
%d 1985 
%t inside an expert system 
%j byte 
%p 315-330 
%o april 
%k * 
 
%a thompson, k. 
%d 1984 
%t reflections on trusting trust 
%j comm acm 
%v 27 
%n 8 
%p 761-763 
%o august 
 
%a ting, d. 
%a prasada, b. 
%d 1980 
%t digital processing techniques for encoding of graphics 
%j proc ieee 
%v 68 
%n 7 
%p 757-769 
%o july 
 
%a tokuda, h. 
%a manning, e.g. 
%d 1983 
%t an interprocess communication model for a distributed software testbed 
%j proc acm sigcomm 83 
%i university of texas 
%c austin, tx 
%o march 
%k * 
 
%a tokuda, h. 
%a radia, s.p. 
%a manning. e.g. 
%d 1983 
%t shoshin os: a message-based operating system for a distributed software testbed 
%j proc 16th annual hawaii international conference on system sciences 
%p 329-338 
%k * 
 
%a tou, i.t. 
%a gonzalez, r.c. 
%d 1974 
%t pattern recognition principles 
%i addison-wesley 
%c reading, ma 
 
%a truin, p.g.m. 
%d 1983 
%t the `speaking tablet' as an aid in the acquisition of reading skills by dyslexic children 
%j ipo annual progress report 
%v 18 
%p 79-84 
%k * 
 
%a tsichritzis, d.\0(editor) 
%d 1983 
%t beta gamma 
%r technical report csrg-150 
%i computer systems research group, university of toronto 
%c toronto, on 
 
%a tsichritzis, d. 
%d 1985 
%t objectworld 
%e d.tsichritzis 
%b office automation 
%i springer-verlag 
%c berlin 
%p 379-398 
 
%a turkle, s. 
%d 1982 
%t the subjective computer: a study in the psychology of personal computation 
%j social studies of science 
%v 12 
%n 2 
%p 173-205 
%k * 
 
%a tyree, a. 
%d 1986 
%t expert systems and the law 
%j current affairs bulletin 
%p 13-18 
%p march 
%k * 
 
%a ulichney, r.a. 
%a troxel, d.e. 
%d 1982 
%t scaling binary images with the telescoping template 
%j ieee trans pattern analysis and machine intelligence 
%v pami-4 
%n 3 
%p 331-335 
 
%a umphress, d. 
%a williams, g. 
%d 1985 
%t identity verification through keyboard characteristics 
%j ijmms (submitted) 
%k * 
 
%a unger, b. 
%a birtwistle, g. 
%a cleary, j. 
%a hill, d. 
%a lomow, g. 
%a neal, r. 
%a peterson, m. 
%a witten, i.h. 
%a wyvill, b. 
%d 1984 
%t jade: a simulation and software prototyping environment 
%j proc conference on simulation in strongly typed languages 
%c san diego, ca 
%o february 
%k kconference 
 
%a unger, b.w. 
%a lomow, g.a. 
%a birtwistle, g.. 
%d 1984 
%t simulation software and ada 
%i society for computer simulation 
%k * 
 
%a university\|of\|chicago\|press 
%d 1969 
%t a manual of style 
%i university of chicago  
 
%a uribe, r.b. 
%d 1981 
%t modeling autopoiesis 
%e m.zeleny 
%b autopoiesis:  a theory of living organization 
%i north holland 
%c new york, ny 
%p 51-62 
 
%a van\|dijk, t.a. 
%a kintsch, w. 
%d 1983 
%t strategies of discourse comprehension 
%i academic press 
%c new york, ny 
 
%a van\|lehn, k. 
%d 1983 
%t felicity conditions for human skill acquisition: validating an ai-based theory 
%r research report cis-21 
%i xerox parc 
%c palo alto, ca 
%o november 
 
%a varela, f.j. 
%a maturana, h.r. 
%a uribe, r.b. 
%d 1974 
%t autopoiesis: the organization of living systems, its characterization and a model 
%j biosystems 
%v 5 
%p 187-196 
 
%a varela, f.j. 
%d 1979 
%t principles of biological autonomy 
%i north holland 
%c new york, ny 
 
%a varela, f.j. 
%d 1981 
%t describing the logic of the living 
%e m.zeleny 
%b autopoiesis:  a theory of living organization 
%i north holland 
%c new york, ny 
%p 36-48 
 
%a wade, n. 
%d 1985 
%t literal pictures 
%j word and  image 
%v 1 
%n 3 
%p 242-272 
%o july-september 
%k * 
 
%a wagner, r.a. 
%a fischer, m.j. 
%d 1974 
%t the string-to-string correction problem 
%j j acm 
%v 21 
%n 1 
%p 168-173 
%o january 
%k * 
 
%a wall, r.s. 
%a apon, a.w. 
%a beal, j. 
%a gately m.t. 
%a oren, l.g. 
%d 1985 
%t an evaluation of commercial expert system building tools 
%r computer science laboratory technical report 85-30 
%i texas instruments 
%c dallas, tx 
%o november 
%k * 
 
%a waltz, d.l. 
%d 1975 
%t natural language access to a large data base 
%j advance papers of the international joint conference on artificial intelligence 
%i mit 
%c cambridge, ma 
 
%a waterman, d.a. 
%d 1978 
%t a rule-based approach to knowledge acquisition for man-machine interface programs 
%j ijmms 
%v 10 
%p 693-711 
%k * 
 
%a waters, r.c. 
%d 1985 
%t the programmer's apprentice: a session with kbemacs 
%j ieee trans software engineering 
%v se-11 
%n 11 
%p 1296-1320 
%o november 
%k * 
 
%a webber, b.l. 
%a nilsson, n.j. 
%d 1981 
%t readings in artificial intelligence 
%i tioga 
%c palo alto, ca 
 
%a weinreb, d. 
%a moon, d. 
%d 1981 
%t lisp machine manual 
%i third edition 
%o march 
 
%a weizenbaum, j. 
%d 1976 
%t computer power and human reason 
%i freeman 
%c san francisco, ca 
 
%a welch, t.a. 
%d 1984 
%t a technique for high-performance data compression 
%j ieee computer 
%v 17 
%n 6 
%p 8-19 
%o june 
%k * 
 
%a weyer, s.a. 
%d 1982 
%t searching for information in a dynamic book 
%r phd thesis 
%i school of education, stanford university 
%o (also report scg-82-1, xerox parc) 
 
%a whalen, t. 
%a mason, c. 
%d 1981 
%t the use of tree-structured index which contains three types of design defects 
%j telidon behavioural research 
%v 2 
%i department of communications 
%o may 
 
%a whalen, t. 
%a latremouille, s. 
%d 1981 
%t the effectiveness of a tree-structured index when the existence of information is uncertain 
%j telidon behavioural research 
%v 2 
%i department of communications 
%o may 
 
%a wijk, c.van 
%a kempen, g. 
%d 1985 
%t from sentence structure to intonation contour 
%e b.s.muller 
%t sprachsynthese: zur synthese von naturlich gesprochener sprache aus texten und konzepten 
%i georg olms verlag 
%c hildesheim 
%k * 
 
%a wilensky, r. 
%a arens, y. 
%a chin, d. 
%d 1984 
%t talking to unix in english: an overview of uc 
%j comm acm 
%v 27 
%n 6 
%p 574-593 
%o june 
%k * 
 
%a wilkes, a.j. 
%a singer, d.w. 
%a gibbons, j.j. 
%a king, t.r. 
%a robinson, p. 
%a wiseman, n.e. 
%d 1984 
%t the rainbow workstation 
%j computer j 
%v 27 
%n 2 
%o may 
%k * 
 
%a wilkes, a.j. 
%a wiseman, n.e. 
%d 1982 
%t a soft-edged character set and its derivation 
%j computer j 
%v 25 
%n 1 
%p 140-147 
%o february 
%k * 
 
%a wilkinson, w. 
%d 1980 
%t viewdata: the prestel system 
%b videotext: the coming revolution in home/office information retrieval 
%e sigel, e. 
%i harmony books 
%c new york, ny 
%p 57-86 
 
%a wilks, y. 
%d 1977 
%t good and bad arguments about semantic primitives 
%r research report 
%i department of artificial intelligence, university of edinburgh 
%o may 
%k * 
 
%a wilks, y. 
%d 1984 
%t beliefs, points of view and multiple environments 
%b artificial and human intelligence 
%e a.elithorn and r.banerji 
%i elsevier science 
%p 147-171 
%k * 
 
%a willems, nj 
%d 1983 
%t step: a model of standard english intonation patterns 
%j ipo annual progress report 
%v 18 
%p 37-42 
%k * 
 
%a williams, g. 
%d 1984 
%t the apple macintosh computer 
%j byte 
%v 9 
%n 2 
%p 30-54 
%o february 
 
%a winograd, t. 
%d 1972 
%t understanding natural language 
%i academic press 
%c new york, ny 
 
%a winograd, t. 
%d 1984 
%t moving the semantic fulcrum 
%r report csli-84-18 
%i center for the study of language and information, stanford university 
%c stanford, ca 
%o december 
%k * 
 
%a witten, i.h. 
%d 1983 
%t the department of computer science, university of calgary 
%j computer science association newsletter 
%v 11 
%n 1 
%p 15-23 
%o december 
%k karticle 
 
%a witten, i.h. 
%a cleary, j.g. 
%d 1986 
%t foretelling the future by adaptive modeling 
%j abacus 
%v 3 
%n 3 
%p 16-36 
%o spring 
%k karticle 
 
%a witten, i.h. 
%a fremont, d. 
%d 1984 
%t a student information service for a university computer science department 
%j proc 15th ontario universities computing conference 
%i lakehead university 
%c thunder bay, on 
%o june 
%k kinvited 
 
%a witten, i.h. 
%d 1985 
%t elements of computer typography 
%j ijmms 
%v 23 
%n 6 
%p 623-687 
%o december 
%k kjournal 
 
%a witten, i.h. 
%a bramwell, b. 
%d 1985 
%t a system for interactive viewing of structured documents 
%j comm acm 
%v 28 
%n 3 
%p 280-288 
%o march 
%k kjournal 
 
%a witten, i.h. 
%d 1984 
%t dynamic documents 
%j proc protext i -- first international conference on text processing systems 
%i boole press 
%c dublin, ireland 
%p 234-239 
%o october 
%k kconference 
 
%a witten, i.h. 
%a greenberg, s. 
%d 1985 
%t user interfaces for office systems 
%b oxford surveys in information technology volume 2 
%e p.i. zorkoczy 
%i oxford university press 
%c oxford, england 
%p 69-104 
%k kjournal 
 
%a witten, i.h. 
%d 1986 
%t making computers talk \(em an introduction to speech synthesis 
%i prentice-hall 
%c englewood cliffs, nj 
 
%a witten, i.h. 
%d 1987 
%t computer speech 
%b the encyclopaedia of physical science and technology, volume 3 
%e robert a meyers 
%i academic press 
%p 482-506 
%k kinvited 
 
%a witten, i.h. 
%a bonham, m. 
%a bramwell, b. 
%a greenberg, s. 
%d in preparation 
%t interacting with dynamic documents -- the new age of reading 
%r proposal submitted to mit press 
 
%a witten, i.h. 
%d 1985 
%t selected topics in computer science i 
%r report 
%i institute of information processing, graz, austria 
%o november 
%k kreport 
 
%a witten, i.h. 
%d 1986 
%t modeling behaviour sequences: principles, practice, prospects 
%j proc international conference on future advances in computing 
%c christchurch, new zealand 
%o february 17-21 
%k kconference 
 
%a witten, i.h. 
%d 1986 
%t in search of `autonomy' 
%j proc international conference on future advances in computing 
%c christchurch, new zealand 
%o february 17-21 
%k kconference 
 
%a witten, i.h. 
%d 1986 
%t expert systems 
%j man-machine studies 
%v uc-dse 
%n 28 
%p 5-65 
%i university of canterbury 
%c christchurch, new zealand 
%o may 
%k karticle 
 
%a witten, i.h. 
%d 1987 
%t thoughts on artificial intentionality 
%j man-machine studies 
%v uc-dse 
%n 9 
%p 5-52 
%i university of canterbury 
%c christchurch, new zealand 
%o january 
%k karticle 
 
%a witten, i.h. 
%a neal, r. 
%a cleary, j.g. 
%d 1987 
%t arithmetic coding for data compression 
%j comm acm 
%v 30 
%n 6 
%p 520-540 
%o june; reprinted in \fic gazette\fp, december 1987 
%k kjournal 
 
%a witten, i.h. 
%d 1987 
%t a course on `expert systems' for electrical engineering students 
%j proc acm sigcse technical symposium on computer science education 
%c st louis, mo 
%p 257-260 
%o february (published as sigcse bulletin \fi19\fr(1)) 
%k kconference 
 
%a wong, s.k.m 
%a ziarko, w. 
%a ye, r. li 
%d 1985 
%t comparison of rough-set and statistical methods in inductive learning 
%r technical report cs-85-16 
%i computer science department, university of regina 
%k * 
 
%a wood, r.j. 
%d 1982 
%t a window based display management system 
%r internal report 
%i university of maryland 
 
%a woods, w.a. 
%d 1973 
%t progress in natural language understanding -- an application to lunar geology 
%j proc national computer conference 
%c montvale, nj 
%i afips press 
 
%a woolf, b. 
%a mcdonald, d.d. 
%d 1983 
%t human-computer discourse in the design of a pascal tutor 
%j proc acm chi 83 human factors in computing systems 
%p 230-234 
%c boston, ma 
%o december 12-15 
%k * 
 
%a woolf, b. 
%a mcdonald, d.d. 
%d 1984 
%t building a computer tutor: design issues 
%j ieee computer 
%v 17 
%n 9 
%p 61-73 
%o september 
 
%a wright, w.e. 
%d 1977 
%t gravitational clustering 
%j pattern recognition 
%v 9 
%p 151-166 
%k * 
 
%a wu, x. 
%a witten, i.h. 
%d 1985 
%t a fast \fik-\fpmeans type clustering algorithm 
%r research report 85/197/10 
%i computer science department, university of calgary 
%o june 
 
%a wupit, a. 
%d 1983 
%t comparison of unix networks 
%j proc acm conference on personal and small computers 
%c san diego, ca 
%p 99-108 
%o december 
 
%a wyvill, b.l.m. 
%d 1984 
%t three computer science plays:  \fisquanderella\fp, \fidigital alice\fp, and \fitwenty eighty-four\fp 
%r research report 
%i computer science department, university of calgary 
 
%a wyvill, b.l.m. 
%a witten, i.h. 
%d 1984 
%t three computer science plays 
%r research report 84/184/42 
%i computer science department, university of calgary 
%o december 
%k kreport 
 
%a xerox\|corp 
%d 1984 
%t the role of electronic printing in the office of the future 
%r executive presentation ii 
%k * 
 
%a yankelovich, n. 
%a meyrowitz, n. 
%a van dam, a. 
%d 1985 
%t reading and writing the electronic book 
%j ieee computer 
%v 18 
%n 10 
%p 15-30 
%o october 
 
%a yoeli, m. 
%a brzozowski, j.a. 
%d 1984 
%t a mathematical model of digital cmos networks 
%r research report cs-84-22 
%i computer science department, university of waterloo 
%o august 
%k * 
 
%a young, j.z. 
%d 1978 
%t programs of the brain 
%i oxford university press 
%c oxford, england 
 
%a zaniolo, c. 
%d 1984 
%t object-oriented programming in prolog 
%j proc international symposium on logic programming 
%c atlantic city, nj 
%p 265-270 
%o february 6-9 
%k * 
 
%a zeleny, m. 
%d 1977 
%t self-organization of living systems: a formal model of autopoiesis 
%j int j general systems 
%v 4 
%n 1 
%p 13-28 
 
%a zeleny, m. 
%d 1978 
%t apl-autopoiesis: experiments in self-organization of complexity 
%b progress in cybernetics and systems research iii 
%e r.trappl, g.j.klir and l.ricciardi 
%p 65-84 
%i hemisphere 
%c washington, dc 
 
%a zeleny, m.\0(editor) 
%d 1981 
%t autopoiesis:  a theory of living organization 
%i north holland 
%c new york, ny 
 
%a zeleny, m. 
%d 1981 
%t what is autopoiesis? 
%e m.zeleny 
%b autopoiesis:  a theory of living organization 
%i north holland 
%c new york, ny 
%p 4-17 
 
%a zimmermann, h. 
%d 1980 
%t osi reference model \(em the iso model of architecture for open systems interconnection 
%j ieee trans communications 
%p 425-432 
%o april 
 
%a zisman, m.m. 
%d 1977 
%t representation, specification, and automation of office procedures 
%r phd dissertation 
%i wharton school, university of pennsylvania 
 
%a zissos, a.y. 
%a witten, i.h. 
%d 1985 
%t user modelling for a computer coach: a case study 
%j ijmms 
%v 23 
%n 6 
%p 729-750 
%o december 
%k kjournal 
 
%a ziv, j. 
%a lempel, a. 
%d 1977 
%t a universal algorithm for sequential data compression 
%j ieee trans information theory 
%v it-23 
%n 3 
%p 337-343 
%o may 
%k * 
 
%a ziv, j. 
%a lempel, a. 
%d 1978 
%t compression of individual sequences via variable-rate coding 
%j ieee trans information theory 
%v it-24 
%p 530-536 
%o september 
%k * 
<y 1874> 
<a t. hardy> 
<t madding crowd(penguin 1978)> 
<c i> 
<p 51> 
description of farmer oak -- an incident 
when farmer oak smiled, the corners of his mouth 
spread till they were within an unimportant distance of 
his ears, his eyes were reduced to chinks, and diverging 
wrinkles appeared round them, extending upon his 
countenance like the rays in a rudimentary sketch of 
the rising sun. 
his christian name was gabriel, and on working 
days he was a young man of sound judgment, easy 
motions, proper dress, and general good character. on 
sundays he was a man of misty views, rather given to 
postponing, and hampered by his best clothes and 
umbrella : upon the whole, one who felt himself to 
occupy morally that vast middle space of laodicean 
neutrality which lay between the communion people 
of the parish and the drunken section, -- that is, he went 
to church, but yawned privately by the time the con+ 
gegation reached the nicene creed,- and thought of 
what there would be for dinner when he meant to be 
listening to the sermon. or, to state his character as 
it stood in the scale of public opinion, when his friends 
and critics were in tantrums, he was considered rather a 
bad man ; when they were pleased, he was rather a good 
man ; when they were neither, he was a man whose 
moral colour was a kind of pepper-and-salt mixture. 
since he lived six times as many working-days as 
sundays, oak's appearance in his old clothes was most 
peculiarly his own -- the mental picture formed by his 
neighbours in imagining him being always dressed in 
that way. he wore a low-crowned felt hat, spread out 
at the base by tight jamming upon the head for security 
in high winds, and a coat like dr. johnson's ; his lower 
extremities being encased in ordinary leather leggings 
and boots emphatically large, affording to each foot a 
roomy apartment so constructed that any wearer might 
stand in a river all day long and know nothing of 
<p 52> 
damp -- their maker being a conscientious man who 
endeavoured to compensate for any weakness in his cut 
by unstinted dimension and solidity. 
mr. oak 'carried 'about him, by way of watch,+ 
what may be called a small silver clock; in other 
words, it was a watch as to shape and intention, and 
a small clock as to size. this instrument being several 
years older than oak's grandfather, had the peculiarity 
of going either too fast or not at all. the smaller 
of its hands, too, occasionally slipped round on the 
pivot, and thus, though the minutes were told with 
precision, nobody could be quite certain of the hour 
they belonged to. the stopping peculiarity of his 
watch oak remedied by thumps and shakes, and he 
escaped any evil consequences from the other two 
defects by constant comparisons with and observations 
of the sun and stars, and by pressing his face close 
to the glass of his neighbours' windows, till he could 
discern the hour marked by the green-faced timekeepers 
within. it may be mentioned that oak's fob being 
difficult of access, by reason of its somewhat high 
situation in the waistband of his trousers (which also 
lay at a remote height under his waistcoat), the watch 
was as a necessity pulled out by throwing the body to 
one-side, compressing the- mouth and face to a mere 
mass of- ruddy flesh- on account -of the exertion, and 
drawing up the watch by its chain, like a bucket from a 
well. 
but some thoughtfull persons, who had seen him 
walking across one of his fields on a certain december 
morning -- sunny and exceedingly mild -- might have 
regarded gabriel oak in other aspects than these. in 
his face one might notice that many of the hues and 
curves of youth had tarried on to manhood: there even 
remained in his remoter crannies some relics of the boy. 
his height and breadth would have been sufficient to 
make his presence imposing, had they been exhibited 
with due consideration. but there is a way some men 
have, rural and urban alike, for which the mind is more 
responsible than flesh and sinew : it is a way of curtail+ 
ing their dimensions by their manner of showing them. 
and from a quiet modesty that would have become a 
vestal which seemed continually to impress upon him 
<p 53> 
that he had no great claim on the world's room, oak 
walked unassumingly and with a faintly perceptible 
bend, yet distinct from a bowing of the shoulders. 
this may be said to be a defect in an individual if he 
depends for his valuation more upon his appearance 
than upon his capacity to wear well, which oak did not. 
he had just reached the time of life at which " young' 
is ceasing to be the prefix of "man ' in speaking of one. 
he was at the brightest period of masculine growth, 
for his intellect and his emotions were clearly separated : 
he had passed the time during which the influence of 
youth indiscriminately mingles them in the character 
of impulse, and he had not yet arrived at the stage 
wherein they become united again, in the character of 
prejudice, by the influence of a wife and family. in 
short, he was twenty-eight, and a bachelor. 
the field he was in this morning sloped to a 
ridge called norcombe hill. through a spur of this 
hill ran the highway between emminster and chalk+ 
newton. casually glancing over the hedge, oak saw 
coming down the incline before him an ornamental 
spring waggon, painted yellow and gaily marked, 
drawn by two horses, a waggoner walking alongside 
bearing a whip perpendicularly. the waggon was 
laden with household goods and window plants, and 
on the apex of the whole sat a woman, 'young-'and 
attractive. gabriel had not beheld the sight for more 
than half a minute, when the vehicle was brought to a 
standstill just beneath his eyes. 
" the tailboard of the waggon is gone, miss,' said the 
waggoner. 
"then i heard it fall,' said the girl, in a soft, though 
not particularly low voice. "i heard a noise i could 
not account for when we were coming up the hill.' 
"i'll run back.' + 
" do,' she answered. + 
the sensible horses stood -- perfectly still, and the 
waggoner's steps sank fainter and fainter in the distance. 
the girl on the summit of the load sat motionless, 
surrounded by tables and chairs with their legs upwards, 
backed by an oak settle, and ornamented in front by 
pots of geraniums, myrtles, and cactuses, together with 
<p 54> 
a caged canary -- all probably from the windows of the 
house just vacated. there was also a cat in a willow 
basket, from the partly-opened lid of which she gazed 
with half-closed eyes, and affectionately-surveyed the 
small birds around. 
the handsome girl waited for some time idly in her 
place, and the only sound heard in the stillness-was -the 
hopping of the canary up-and down the perches of its 
prison. then she looked attentively downwards. it 
was not at the bird, nor at the cat; it was at an oblong 
package tied in paper, and lying between them. she 
turned her head to learn if the waggoner were coming. 
he was not yet in sight; and her-eyes crept back to 
the package, her thoughts seeming to run 'upon what 
was inside it. at length she drew the article into her 
lap, and untied the paper covering; a small swing 
looking-glass was disclosed, in which she proceeded to 
survey herself attentively. she parted her lips and 
smiled. 
it was a fine morning, and the sun lighted up to a 
scarlet glow the crimson jacket she wore, and painted 
a soft lustre upon her bright face and dark hair. the 
myrtles, geraniums, and cactuses packed around her 
were fresh and green, and at such a leafless season they 
invested the whole concern of horses, waggon, furniture, 
and girl with a peculiar vernal charm. what possessed 
her to indulge in such a performance in the sight of the 
sparrows, blackbirds, and unperceived farmer who were 
alone its spectators, -- whether the smile began as a 
factitious one, to test her capacity in that art, -- nobody 
knows ; it ended certainly in a real smile. she blushed 
at herself, and seeing her reflection blush, blushed the 
more. 
the change from the customary spot and necessary 
occasion of such an act -- from the dressing hour in a 
bedroom to a time of travelling out of doors -- lent to 
the idle deed a novelty it did not intrinsically possess. 
the picture was a delicate one. woman's prescriptive 
infirmity had stalked into the sunlight, which had 
clothed it in the freshness of an originality. a 
cynical inference was irresistitle by gabriel oak as he 
regarded the scene, generous though he fain would have 
been. there was no necessity whatever for her looking 
in the glass. she did not adjust her hat, or pat her 
<p 55> 
hair, or press a dimple into shape, or do one thing to 
signify that any such intention had been her motive in 
taking up the glass. she simply observed herself as a 
fair product of nature in the feminine kind, her thoughts 
seeming to glide into far-off though likely dramas in 
which men would play a part -- vistas of probable 
triumphs -- the smiles being of a phase suggesting that 
hearts were imagined as lost and won. still, this was 
but conjecture, and the whole series of actions was so 
idly put forth as to make it rash to assert that intention 
had any part in them at all. 
the waggoner's steps were heard returning. she 
put the glass in the paper, and the whole again into its 
place. 
when the waggon had passed on, gabriel withdrew 
from his point of espial, and descending into the road, 
followed the vehicle to the turnpike-gate some way 
beyond the bottom of the hill, where the object of his 
contemplation now halted for the payment of toll. about 
twenty steps still remained between him and the gate, 
when he heard a dispute. lt was a difference con+ 
cerning twopence between the persons with the waggon 
and the man at the toll-bar. 
" mis'ess's niece is upon the top of the things, and 
she says that's enough that i've offered ye, you great 
miser, and she won't pay any more.' these were the 
waggoner's words. 
"very well ; then mis'ess's niece can't pass,' said the 
turnpike-keeper, closing the gate. 
oak looked from one to the other of the disputants, 
and fell into a reverie. there was something in the 
tone of twopence remarkably insignificant. threepence 
had a definite value as money -- it was an appreciable 
infringement on a day's wages, and, as such, a higgling 
matter ; but twopence --  -- " here,' he said, stepping 
forward and handing twopence to the gatekeeper ; "let 
the young woman pass.' he looked up at her then; 
she heard his words, and looked down. 
gabriel's features adhered throughout their form so 
exactly to the middle line between the beauty of st. 
john and the ugliness of judas iscariot, as represented 
in a window of the church he attended, that not a single 
lineament could be selected and called worthy either of 
distinction or notoriety. the redjacketed and dark+ 
<p 56> 
haired maiden seemed to think so too, for she carelessly 
glanced over him, and told her man to drive on. she 
might have looked her thanks to gabriel on a minute 
scale, but she did not speak them; more probably she 
felt none, for in gaining her a passage he had lost her 
her point, and we know how women take a favour of 
that kind. 
the gatekeeper surveyed the retreating vehicle. 
" that's a handsome maid ' he said to oak 
" but she has her faults,' said gabriel. 
" true, farmer. ' 
"and the greatest of them is -- well, what it is 
always.' 
" beating people down ? ay, 'tis so.' 
"o no.' 
" what, then ? ' 
gabriel, perhaps a little piqued by the comely 
traveller's indifference, glanced back to where he had 
witnessed her performance over the hedge, and said, 
" vanity.' 
<c ii> 
<p 57> 
night -- the flock -- an inierior -- another interior 
it was nearly midnight on the eve of st. thomas"s, the 
shortest day in the year. a desolating wind wandered 
from the north over the hill whereon oak had watched 
the yellow waggon and its occupant in the sunshine of 
a few days earlier. 
  norcombe hill -- not far from lonely toller-down 
 -- was one of the spots which suggest to a passer-by 
that he is in the presence of a shape approaching the 
indestructible as nearly as any to be found on earth. 
it was a featureless convexity of chalk and soil -- an 
ordinary specimen of those smoothly-outlined protuber+ 
ances of the globe which may remain undisturbed on 
some great day of confusion, when far grander heights 
and dizzy granite precipices topple down. 
the hill was covered on its northern side by an 
ancient and decaying plantation of beeches, whose 
upper verge formed a line over the crest, fringing its 
arched curve against the sky, like a mane. to-night 
these trees sheltered the southern slope from the keenest 
blasts, which smote the wood and floundered through 
it with a sound as of grumbling, or gushed over its 
crowning boughs in a weakened moan. the dry leaves 
in the ditch simmered and boiled in the same breezes, 
a tongue of air occasionally ferreting out a few, and 
sending them spinning across the grass. a group or 
two of the latest in date amongst the dead multitude 
had remained till this very mid-winter time on the twigs 
which bore them and in falling rattled against the trunks 
with smart taps: 
betwenne this half-wooded, half naked hill, and the 
vague still horizon that its summit indistinctly com+ 
manded, was a mysterious sheet of fathomless shade 
 -- the sounds from which suggested that what it con+ 
cealed bore some reduced resemblance to features here. 
<p 58> 
the thin grasses, more or less coating the hill, were 
touched by the wind in breezes of differing powers, and 
almost of differing natures -- one rubbing the blades 
heavily, another raking them piercingly, another brushing 
them like a soft broom. the instinctive act of human+ 
kind was to stand and listen, and learn how the trees 
to each other in the regular antiphonies of a cathedral 
choir; how hedges and other shapes to leeward them 
caught the note, lowering it to the tenderest sob; and 
how the hurrying gust then plunged into the south, to 
be heard no more. 
the sky was clear -- remarkably clear -- and the 
twinkling of all the stars seemed to be but throbs of 
one body, timed by a common pulse. the north star 
was directly in the wind's eye, and since evening the 
bear had swung round it outwardly to the east, till he 
was now at a right angle with the meridian. a 
difference of colour in the stars -- oftener read of than 
seen in england-was really perceptible here. the 
sovereign brilliancy of sirius pierced the eye with a steely 
glitter, the star called capella was yellow, aldebaran and 
betelgueux shone with a fiery red. 
to persons standing alone on a hill during a clear 
midnight such as this, the roll of the world eastward is 
almost a palpable movement. the sensation may be 
caused by the panoramic glide of the stars past earthly 
objects, which is perceptible in a few minutes of still+ 
ness, or by the better outlook upon space that a hill 
affords, or by the wind, or by the solitude ; but whatever 
be its origin, the impression of riding along is vivid and 
abiding. the poetry of motion is a phrase much in 
use, and to enjoy the epic form of that gratification it 
is necessary to stand on a hill at a small hour of the 
night, and, having first expanded with a sense of differ+ 
ence from the mass of civilised mankind, who are 
dreamwrapt and disregardful of all such proceedings at 
this time, long and quietly watch your stately progress 
through the stars. after such a nocturnal reconnoitre 
it is hard to get back to earth, and to believe that the 
consciousness of such majestic speeding is derived from 
a tiny human frame. 
suddenly an unexpected series of sounds began to 
<p 59> 
be heard 
in this place up against the sky. they had a 
clearness which was to be found nowhere in the wind, 
and a sequence which was to be found nowhere in 
nature. they were the notes of farmer oak's flute. 
the tune was not floating unhindered into the open 
air : it seemed muffled in some way, and was altogether 
too curtailed in power to spread high or wide. it came 
from the direction of a small dark object under the 
plantation hedge -- a shepherd's hut -- now presenting 
an outline to which an uninitiated person might have 
been puzzled to attach either meaning or use. 
the image as a whole was that of a small noah's 
ark on a small ararat, allowing the traditionary outlines 
and general form of the ark which are followed by toy+ 
makers -- and by these means are established in men's 
imaginations among their firmest, because earliest im+ 
pressions -- to pass as an approximate pattern. the 
hut stood on little wheels, which raised its floor about a 
foot from the ground. such shepherds' huts are dragged 
into the fields when the lambing season comes on, to 
shelter the shepherd in his- enforced nightly attendance. 
it was only latterly that people had begun to call 
gabriel !farmer' oak. during the twelvemonth pre+ 
ceding this time he had been enabled by sustained 
efforts of industry and chronic good spirits to lease the 
small shepp farm of which norcombe hill was a portion, 
and stock it with two hundred sheep. previously he 
had been a bailiff for a short time, and earlier still a 
shepherd only, having from his childhood assisted his 
father in tending the floeks of large proprietors, till old 
gabriel sank to rest. 
this venture, unaided and alone, into the paths of 
farming as master and not as man, with an advance of 
sheep not yet paid for, was a critical juncture with 
gabriel oak, and he recognised his position clearly. 
the first movement in his new progress was the lambing 
of his ewes, and sheep having been his speciality from 
his "youth, he wisely refrained from deputing -- the task 
of tending them at this season to a hireling or a novice. 
the wind continued to beat-about the corners of the 
hut, but the flute-playing ceased. a rectangular space 
of light 
<p 60> 
appeared in the side of the hut, and in the 
opening the outline of farmer oak's figure. he carried 
a lantern in his hand, and closing the door behind him, 
came forward and busied himself about this nook of the 
field for nearly twenty minutes, the lantern light appear+ 
ing and disappearing here and there, and brightening 
him or darkening him as he stood before or behind it. 
oak's motions, though they had a quiet-energy, were 
slow, and their deliberateness accorded well with his 
occupation. fitness being the basis of beauty, nobody 
could-have denied that his steady swings and turns" 
in and- about the flock had elements of grace, yet, 
although if occasion demanded he could do or think a 
thing with as mercurial a dash as can the men of towns 
who are more to the manner born, his special power, 
morally, physically, and mentally, was static, owing 
little or nothing to momentum as a rule. 
a close examination of the ground hereabout, even 
by the wan starlight only, revealed how a portion of 
what would have been casually called a wild slope had 
been appropriated by farmer oak for his great purpose 
this winter. detached hurdles thatched with straw 
were stuck into the ground at various scattered points, 
amid and under which the whitish forms of his meek 
ewes moved and rustled. the ring of the sheep-bell, 
which had been silent during his absence, recommenced, 
in tones that had more mellowness than clearness, owing 
to an increasing growth of surrounding wool. this 
continued till oak withdrew again from the flock. he 
 --  returned to the hut, bringing in his arms a new-born 
lamb, consisting of four legs large enough for a full+ 
grown sheep, united by a seemingly inconsiderable mem+ 
brane about half the substance of the legs collectively, 
which constituted the animal's entire body just at present. 
the little speck of life he placed on a wisp of hay 
before the small stove, where a can of milk was simmer+ 
ing. oak extinguished the lantern by blowing into it 
and then pinching the snuff, the cot being lighted 
by a candle suspended by a twisted wire. a rather 
hard couch, formed of a few corn sacks thrown carelessly 
down, covered half the floor of this little 
<p 61> 
habitation, and 
here the young man stretched himself along, loosened 
his woollen cravat, and closed his eyes. in about the 
time a person unaccustomed to bodily labour would have 
decided upon which side to lie, farmer oak was asleep. 
the inside of the hut, as it now presented itself, was 
cosy and alluring, and the scarlet handful of fire in 
addition to the candle, reflecting its own genial colour 
upon whatever it could reach, flung associations of 
enjoyment even over utensils and tools. in the corner 
stood the sheep-crook, and along a shelf at one side 
were ranged bottles and canisters of the simple prepara+ 
tions pertaining to ovine surgery and physic; spirits of 
wine, turpentine, tar, magnesia, ginger, and castor-oil 
being the chief. on a triangular shelf across the corner 
stood bread, bacon, cheese, and a cup for ale or cider, 
which was supplied from a flagon beneath. beside the 
provisions lay the flute whose notes had lately been 
called forth by the lonely watcher to beguile a tedious 
hour. the house was ventilated by two round holes, 
like the lights of a ship's cabin, with wood slides+ 
the lamb, revived by the warmth' began to bleat' 
instant meaning, as expected sounds will. passing 
from the profoundest sleep to the most alert wakefulness 
with the same ease that had accompanied the reverse 
operation, he looked at his watch, found that the hour+ 
hand had shifted again, put on his hat, took the lamb 
in his arms, and carried it into the darkness. after 
placing the little creature with its mother, he stood and 
carefully examined the sky, to ascertain the time of 
night from the altitudes of the stars. 
the dog-star and aldebaran, pointing to the restless 
pleiades, were half-way up the southern sky, and between 
them hung orion, which gorgeous constellation never 
burnt more vividly than now, as it soared forth above 
the rim of the landscape. castor and pollux will 
the north-west; far away through the plantation vega 
and cassiopeia's chair stood daintily poised on the 
uppermost boughs. 
<p 62> 
"one o'clock,' said gabriel. 
being a man not without a frequent consciousness 
that there was some charm in this life he led, he stood 
still after looking at the sky as a useful instrument, and 
regarded it in an appreciative spirit, as a work of art 
superlatively beautiful. for a moment he seemed 
impressed with the speaking loneliness of the scene, or 
rather with the complete abstraction from all its compass 
of the sights and sounds of man. human shapes,interferences, 
troubles, and joys were all as if they were not, and there 
seemed to be on the shaded hemisphere of the globe no sentient being 
save himself; he could fancy them all gone round to the sunny side. 
  occupied this, with eyes stretched afar, oak gradually per+ 
ceived that what he had previously taken to be a star low 
down behind the outskirts of the plantation was in reality no 
such thing. it was an artificial light, almost close at hand. 
 to find themselves utterly alone at night where company 
is desirable and expected makes some people fearful; but a 
case more trying by far to the nerves is to discover some 
mysterious companionship when intuition, sensation, memory, 
analogy, testimony, probability, induction -- every kind of 
evidence in the logician's list -- have united to persuade con+ 
sciousness that it is quite in isolation. 
 farmer oak went towards the plantation and pushed 
through its lower boughs to the windy side. a dim mass under 
the slope reminded him that a shed occupied a place here, 
the site being a cutting into the slope of the hill, so that at 
its back part the roof was almost level with the ground. in 
front it was formed of board nailed to posts and covered with 
tar as apreservative. through crevices in the roof and side 
spread streaks and spots of light, a combination of which made 
the radiance that had attracted him. oak stepped up behind, 
where,leaning down upon the roof and putting his eye close 
to a hole, he could see into the interior clearly. 
 the place contained two women and two cows. by the side 
of the latter a steaming bran-mash stood in a bucket. one 
of the women was past middle age. her companion was ap+ 
parently young and graceful; he could form no decided opinion 
<p 63> 
upon her looks, her position being almost beneath his eye, so 
that he saw her in a bird's-eye view, as milton's satan first saw 
paradise. she wore no bonnet or het, but had enveloped her+ 
self in a large cloak, which was carelessly flung over her head 
as a covering. 
 "there, now we'll go home," said the elder of the two, resting 
 her knuckles upon her hips, and looking at their goings-on as 
a whole. "i do hope daisy will fetch round again now. i have 
never been more frightened in my life, but i don't mind break+ 
ing my rest if she recovers." 
 the young woman, whose eyelids were apparently inclined 
to fall together on the smallest provocation of silence,yawned 
in sympathy. 
 "i wish we were rich enough to pay a man to do these 
things," she said. 
 "as we are not, we must do them ourselves," said the other; 
"for you must help me if you stay." 
"well, my hat is gone, however," continued the younger. "it 
went over the hedge, i think. the idea of such a slight wind 
catching it." 
 the cow standing erect was of the devon breed, and was 
encased in a tight warm hide of rich indian red, as absolutely 
uniform from eyes to tail as if the animal had been dipped in 
a dye of that colour, her long back being mathematically level. 
the other was spotted,grey and white. beside her oak now 
noticed a little calf about a day old, looking idiotically at 
the two women, which showed that it had not long been 
accustomed to the phenomenon of eyesight, and often turn+ 
ing to the lantern, which it apparently mistook for the moon. 
inherited instinct having as yet had little time for correction 
by experience. between the sheep and the cows lucina had 
been busy on norcombe hill lately. 
 "i think we had better send for some oatmeal," said the 
"yes, aunt; and i'll ride over for it as soon as it is 
light. ' 
" but there's no side-saddle.' 
<p 64> 
"i can ride on the other : trust me.' 
oak, upon hearing these remarks, became more 
curious to observe her features, but this prospect being 
denied him by the hooding efect of the cloak, and by his 
aerial position, he felt himself drawing upon his fancy 
for their details. in making even horizontal and clear 
inspections we colour and mould according to the warts 
within us whatever our eyes bring in. had gabriel 
been able from the first to get a distinct view of her + 
countenance, his estimate of it as very handsome or 
slightly so would have been as his soul required a 
divinity at the moment or was ready supplied with one. 
having for some time known the want of a satisfactory 
form to fill an increasing void within him, his position 
moreover affording the widest scope for his fancy, he 
painted her a beauty. 
by one of those whimsical coincidences in which 
nature, like a busy mother, seems to spare a moment 
from her unremitting labours to turn and make her 
children smile, the girl now dropped the cloak, and 
forth tumbled ropes of black hair over a red jacket. 
oak knew her instantly as the heroine of the yellow 
waggon, myrtles, and looking-glass : prosily, as the 
woman who owed him twopence. 
they placed the calf beside its mother again, took 
up the lantern, and went out, the light sinking down 
the hill till it was no more than a nebula. gabriel 
oak returned to his flock. 
<c iii> 
<p 65> 
a girl on horseback -- conversation 
the sluggish day began to break. even its position 
terrestrially is one of the elements of a new interest, 
and for no particular reason save that the incident of 
the night had occurred there, oak went again into 
the plantation. lingering and musing here, he heard 
the steps of a horse at the foot of the hill, and soon 
there appeared in view an auburn pony with a girl on 
its back, ascending by the path leading past the cattle+ 
shed. she was the young woman of the night before. 
gabriel instantly thought of the hat she had mentioned 
as having lost in the wind; possibly she had come to 
look for it. he hastily scanned the ditch and after 
walking about ten yards along it, found the hat among the 
leaves. gabriel took it in his hand and returned to his 
hut. here he ensconced himself, and peeped through 
the loophole in the direction of the riders approach. 
she came up and looked around -- then on the other 
side of the hedge. gabriel was about to advance and 
restore the missing article when an unexpected per+ 
formance induced him to suspend the action for the 
present. the path, after passing the cowshed, bisected 
the plantation. it was not a bridle-path -- merely a 
pedestrian's track, and the boughs spread horizontally 
at a height not greater than seven feet above the ground, 
which made it impossible to ride erect beneath them. 
the girl, who wore no riding-habit, looked around for 
a moment, as if to assure herself that all humanity was 
out of view, then dexterously dropped backwards flat 
upon the pony's back, her head over its tail, her feet 
against its shoulders, and her eyes to the sky. the 
rapidity of her glide into this position was that of a 
kingfisher -- its noiselessness that of a hawk. gabriel's 
eyes had scarcely been able to follow her. the tall lank 
pony seemed used to such doings, and ambled 
<p 66> 
along unconcerned. thus she passed under the level boughs. 
the performer seemed quite at home anywhere 
between a horse's head and its tail, and the necessity 
for this abnormal attitude having ceased with the 
passage of the plantation, she began to adopt another, 
even more obviously convenient than the first. she had 
no side-saddle, and it was very apparent that a firm 
seat upon the smooth leather beneath her was un+ 
attainable sideways. springing to her accustomed 
perpendicular like a bowed sapling, and satisfying her, 
self that nobody was in sight, she seated herself in the 
manner demanded by the saddle, though hardly expected 
of the woman, and trotted off in the direction of tewnell 
mill. 
oak was amused, perhaps a little astonished, and 
hanging up the hat in his hut, went again among his 
ewes. an hour passed, the girl returned, properly 
seated now, with a bag of bran in front of her. on 
nearing the cattle-shed she was met by a boy bringing 
a milking-pail, who held the reins of the pony whilst 
she slid off. the boy led away the horse, leaving the 
pail with the young woman. 
soon soft spirts alternating with loud spirts came 
in regular succession from within the shed, the obvious 
sounds of a person milking a cow. gabriel took the 
lost hat in his hand, and waited beside the path she 
would follow in leaving the hill. 
she came, the pail in one hand, hanging against her 
knee. the left arm was extended as a balance, enough 
of it being shown bare to make oak wish that the event 
ha happened in the summer, when the whole would 
have been revealed. there was a bright air and manner 
about her now, by which she seemed to imply that the 
desirability of her existence could not be questioned; 
and this rather saucy assumption failed in being offensive, 
because a beholder felt it to be, upon the whole, true. 
like exceptional emphasis in the tone of a genius, that 
which would have made mediocrity ridiculous was an 
addition to recognised power. it was with some 
surprise that she saw gabriel's face rising like the 
moon behind the hedge. 
the adjustment of the farmer's hazy conceptions of 
her 
<p 67> 
charms to the portrait of herself she now presented 
him with was less a diminuition than a difference. the 
starting-point selected by the judgment was. her height 
she seemed tall, but the pail was a small one, and the 
hedge diminutive; hence, making allowance for error 
by comparison with these, she could have been not 
above the height to be chosen by women as best. all 
features of consequence were severe and regular. it 
may have been observed by persons who go about the 
shires with eyes for beauty, that in englishwoman a 
classically-formed face is seldom found to be united 
with a figure of the same pattern, the highly-finished 
features being generally too large for the remainder of 
the frame ; that a graceful and proportionate figure of 
eight heads usually goes off into random facial curves. 
without throwing a nymphean tissue over a milkmaid, 
let it be said that here criticism checked itself as out 
of place, and looked at her proportions with a long 
consciousness of pleasure. from the contours of her 
figure in its upper part, she must have had a beautiful 
neek and shoulders ; but since her infancy nobody had 
ever seen them. had she been put into a low dress 
she would have run and thrust her head into a bush. 
yet she was not a shy girl by any means; it was merely 
her instinct to draw the line dividing the seen from the 
unseen higher than they do it in towns. 
that the girl's thoughts hovered about her face 
and form as soon as she caught oak's eyes conning the 
same page was natural, and almost certain. the self+ 
consciousness shown would have been vanity if a little 
more pronounced, dignity if a little less. rays of male 
vision seem to have a tickling effect upon virgin faces 
in rural districts ; she brushed hers with her hand, as if 
gabriel had been irritating its pink surface by actual 
touch, and the free air of her previous movements was 
reduced at the same time to a chastened phase of 
itself. yet it was the man who blushed, the maid not 
at all. 
" i found a hat,' said oak. 
" it is mine,' said she, and, from a sense of proportion, 
kept down to a small smile an inclination to laugh dis+ 
tinctly : "it flew away last night.' 
" one o'clock this morning ? ' 
<p 68> 
" well -- it was.' she was surprised. " how did you 
know ? ' she said. 
" i was here.' 
" you are farmer oak, are you not ? ' 
" that or thereabouts. i'm lately come to this place.' 
" a large farm ? ' she inquired, casting her eyes round, 
and swinging back her hair, which was black in the 
shaded hollows of its mass; but it being now an hour 
past sunrise, the rays touched its prominent curves with 
a colour of their own. 
" no ; not large. about a hundred.' (in speaking 
of farms the word "acres ' is omitted by the natives, by 
analogy to such old expressions as "a stag of ten.') 
' "i wanted my hat this morning,' she went on. 
had to ride to tewnell mill.' 
"yes you had.' 
"how do you know?' 
"i saw you! 
"where?' she inquired, a misgiving bringing every 
muscle of her lineaments and frame to a standstill. 
"here-going through the plantation, and all down 
the hill,' said farmer oak, with an aspect excessively 
knowing with regard to some matter in his mind, as he 
gazed at a remote point in the direction named, and then 
turned back to meet his colloquist's eyes. 
a perception caused him to withdraw his own eyes 
from hers as suddenly as if he had been caught in a 
theft. recollection of the strange antics she had 
indulged in when passing through the trees, was suc+ 
ceeded in the girl by a nettled palpitation, and that' by 
a hot face. it was a time to see a woman redden who 
was not given to reddening s a rule; not a point in 
the milkmaid but was of the deepest rose-colour. from 
the maiden's blush, through all varieties of the provence 
down to the crimson tuscany, the countenance of oak's 
acquaintance quickly graduated ; whereupon he, in con+ 
siderateness, turned away his head. 
the sympathetic man still looked the other way, and 
wondered when she would recover coolness sufficient to 
justify him in facing her again. he heard what seemed 
to be the flitting of a 
<p 69> 
dead leaf upon the breeze, and 
looked. she had gone away. 
with an air between that of tragedy and comedy ! 
gabriel returned to his work. 
five mornings and evenings passed. the young 
woman came regularly to milk the healthy cow or to 
attend to the sick one, but never allowed her vision to 
stray in the direction of oak's person. his want of 
tact had deeply offended her -- not by seeing what he 
could not help, but by letting her know that he had 
seen it. for, as without law there is no sin, without 
eyes there is no indecorum; and she appeared to feel 
that gabriel's espial had made her an indecorous woman 
without her own connivance. it was food for great regret 
with him; it was also a contretemps which touched into 
life a latent heat he had experienced in that direction. 
the acquaintanceship might, however, have ended in 
a slow forgetting, but for an incident which occurred at 
the end of the same week. one afternoon it began to 
freeze, and the frost increased with evening, which drew 
on like a stealthy tightening of bonds. it was a time 
when in cottages the breath of the sleepers freezes to 
the sheets; when round the drawing-room fire of a 
thick-walled mansion the sitters' backs are cold, even 
whilst their faces are all aglow. many a small bird went 
to bed supperless that night among the bare boughs. 
as the milking-hour drew near, oak kept his usual 
watch upon the cowshed. at last he felt cold, and 
shaking an extra quantity of bedding round the yeaning 
ewes he entered the hut and heaped more fuel upon 
the stove. the wind came in at the bottom of the door, 
and to prevent it oak laid a sack there and wheeled the 
cot round a little more to the south. then the wind 
spouted in at a ventilating hole -- of which there was one 
on each side of the hut. 
gabriel had always known that when the fire was 
lighted and the door closed one of these must be kept 
open -- that chosen being always on the side away from 
the wind. closing the slide to windward, he turned to 
open the other; on second -- -thoughts the farmer con+ 
sidered that he would first sit down leaving both 
closed for a minute or two, till the temperature of the 
hut was a little raised. he sat down. 
<p 70> 
his head began to ache in an unwonted manner, and, 
fancying himself weary by reason of the broken rests of 
the preceding nights, oak decided to get up, open the 
slide, and then allow himself to fall asleep. he fell 
asleep, however, without having performed the necessary 
preliminary. 
how long he remained unconseious gabriel never 
knew. during the first stages of his return to percep+ 
tion peculiar deeds seemed to be in course of enactment. 
his dog was howling, his head was aching fearfully -- 
somebody was pulling him about, hands were loosening 
his neckerchief. 
on opening his eyes he found that evening had sunk 
to dusk in a strange manner of unexpectedness. the 
young girl with the remarkably pleasant lips and white 
teeth was beside him. more than this -- astonishingly 
more -- his head was upon her lap, his face and neck 
were disagreeably wet, and her fingers were unbuttoning 
his collar. 
"whatever is the matter?' said oak, vacantly. 
she seemed to experience mirth, but of too insignifi+ 
cant a kind to start enjoyment. 
"nothing now', she answered, "since you are not 
dead it is a wonder you were not,suffocated in this 
hut of yours.' 
"ah, the hut ! ' murmured gabriel. "i gave ten 
pounds for that hut. but i'll sell it, and sit under 
thatched hurdles as they did in old times, curl up 
to sleep in a lock of straw! it played me nearly the 
same trick the other day .! ' gabriel, by way of emphasis, 
brought down his fist upon the floor. 
"it was not exactly the fault of the hut,' she ob+ 
served in a tone which showed her to be that novelty 
among women -- one who finished a thought before 
beginning the sentence which was to convey it. " you 
should i think, have considered, and not have been so 
foolish as to leave the slides closed.' 
"yes i suppose i should,' said oak, absently. he 
was endeavouring to catch and appreciate the sensation 
of being thus with her, his head upon her dress, before 
the event passed on into the heap of bygone things. 
he wished she knew his impressions ; but he would as 
soon have thought of carrying an odour in a net as of 
attempting to convey the intangibilities 
<p 71> 
of his feeling 
in the coarse meshes of language. so he remained 
silent. 
she made him sit up, and then oak began wiping 
his face and shaking himself like a samson. "how 
can i thank 'ee ? ' he said at last, gratefully, some of the 
natural rusty red having returned to his face. 
 " oh, never mind that,' said the girl, smiling, and 
allowing her smile to hold good for gabriel's next 
remark, whatever that might prove to be. 
"how did you find me?" 
"i heard your dog howling and scratching at the 
door of the hut when i came to the milking (it was so 
lucky, daisy's milking is almost over for the season, and 
 i shall not come here after this week or the next). the 
dog saw me, and jumped over to me, and laid hold of 
my skirt. i came across and looked round the hut the 
very first thing to see if the slides were closed. my 
uncle has a hut like this one, and i have heard him tell 
his shepherd not to go to sleep without leaving a slide 
open. i opened the door, and there you were like 
dead. i threw the milk over you, as there was no 
water, forgetting it was warm, and no use.' 
"i wonder if i should have died ? ' gabriel said, in a 
low voice, which was rather meant to travel back to 
himself than to her. 
"o no," the girl replied. she seemed to prefer a 
less tragic probability ; to have saved a man from death 
'involved talk that should harmonise with the dignity of 
such a deed -- and she shunned it. 
"i believe you saved my life, miss --  -- i don!t know 
your name. i know your aunt's, but not yours.' 
" i would just as soon not tell it -- rather not. there 
is no reason either why i should, as you probably will 
never have much to do with me.' 
 " still, i should like to know.' 
" you can inquire at my aunt's -- she will tell you.' 
'my name is gabriel oak.' 
"and mine isn't. you seem fond of yours in 
speaking it so decisively, gabriel oak.' 
<p 72> 
" you see, it is the only one i shall ever have, and i 
must make the most of it.' 
" i always think mine sounds odd and disagreeable.' 
"i should think you might soon get a new one.' 
"mercy ! -- how many opinions you keep about you 
concerning other people, gabriel oak. 
"well miss-excuse the words-i thought you 
would like them but i can't match you i know in 
napping out my mind upon my tongue. i never was 
very clever in my inside. but i thank you. come 
give me your hand!' 
she hesitated, somewhat disconcerted at oak's old+ 
fashioned earnest conclusion. to a dialogue lightly 
carried on."very well,' she said, and gave him her 
hand, compressing her lips to a demure impassivity. 
he held it but an instant, and in his fear of being too 
demonstrative, swerved to the opposite extreme, touching 
her fingers with the lightness of a small-hearted person. 
" i am sorry,' he said, the instant after. 
" what for?' 
"you may have it again if you like; there it is.' 
she gave him her hand again. 
oak held it longer this time -- indeed, curiously long. 
"how soft it is -- being winter time, too -- not chapped 
or rough or anything!' he said. 
"there -- that's long enough,' said she, though with+ 
out pulling it away "but i suppose you are thinking 
you would like to kiss it? you may if you want to.' 
"i wasn't thinking of any such thing,' said gabriel, 
simply ; "but i will' 
"that you won't!' she snatched back her hand. 
gabriel felt himself guilty of another want of tact. 
"now find out my name,' she said, teasingly; and 
withdrew. 
<c iv> 
<p 73> 
gabriel's resolve -- the visit -- the mistake 
the only superiority in women that is tolerable to the 
rival sex is, as a rule, that of the unconscious kind ; but 
a superiority which recognizes itself may sometimes 
please by suggesting possibilities of capture to the 
subordinated man. 
this well-favoured and comely girl soon made appre+ 
ciable inroads upon the emotional constitution of young 
farmer oak. 
love, being an extremely exacting usurer (a sense of 
exorbitant profit, spiritually, by an exchange of hearts, 
being at the bottom of pure passions, as that of exorbi+ 
tant profit, bodily or materially, is at the bottom of 
those of lower atmosphere), every morning oak's feelings 
were as sensitive as the money-market in calculations 
upon his chances. his dog waited for his meals in a 
way so like that in which oak waited for the girl's 
presence, that the farmer was quite struck with the 
resemblance, felt it lowering, and would not look at the 
dog. however, he continued to watch through the 
hedge for her regular coming, and thus his sentiments 
towards her were ideepened without any corresponding 
effect being produced upon herself. oak had nothing 
finished and ready to say as yet, and not being able 
to frame love phrases which end where they begin ; 
passionate tales -- + 
     -- -full of sound and fury 
   -- -signifting nothing -- + 
he said no word at all. 
by making inquiries he found that the girl's name 
was bathsheba everdene, and that the cow would go 
dry in about seven days. he dreaded the eight day. 
at last the eighth day came. the cow had ceased 
to give milk for that year, and bathsheba everdene 
came up the hill no more. gabriel had reached a 
pitch of existence he never 
<p 74> 
could have anticipated a 
short time before. he liked saying 'bathsheba' as a 
private enjoyment instead of whistling; turned over his 
taste to black hair, though he had sworn by brown ever 
since he was a boy, isolated himself till the space he 
filled in a possible strength in an actual weakness. marriage 
transforms a distraction into a support, the power of 
which should be, and happily often is, in direct pro+ 
portion to the degree of imbecility it supplants. oak 
began now to see light in this direction, and said to 
himself, "i'll make her my wife, or upon my soul i shall 
be good for nothing .! ' 
all this while he was perplexing himself about an 
errand on which he might consistently visit the cottage 
of bathsheba's aunt. 
he found his opportunity in the death of a ewe, 
mother of a living lamb. on a day which had a 
summer face and a winter constitution-a fine january 
morning, when there was just enough blue sky visible to 
make cheerfully-disposed people wish for more, and an 
occasional gleam of silvery sunshine, oak put the lamb 
into a respectable sunday basket, and stalked across the 
fields to the house of mrs. hurst, the aunt -- george, 
the dog walking behind, with a countenance of great 
concern at the serious turn pastoral affairs seemed to be 
taking. 
gabriel had watched the blue wood-smoke curling 
from the chimney with strange meditation. at evening 
he had fancifully traced it down the chimney to the 
spot of its origin -- seen the hearth and bathsheba 
beside it -- beside it in her out-door dress; for the 
clothes she had worn on the hill were by association 
equally with her person included in the compass of his 
affection; they seemed at this early time of his love a 
necessary ingredient of the sweet mixture called bath+ 
sheba everdene. 
he had made a toilet of a nicely-adjusted kind -- of a 
nature between the carefully neat and the carelessly 
ornate -- of a degree between fine-market-day and wet+ 
sunday selection. he thoroughly cleaned his silver 
watch-chain with whiting, put new lacing straps to his 
boots, looked to the brass eyelet-holes, 
<p 75> 
 went to the 
inmost heart of the plantation for a new walking-stick, 
and trimmed it vigorously on his way back; took a new 
handkerchief from the bottom of his clothes-box, put 
on the light waistcoat patterned all over with sprigs 
of an elegant flower uniting the beauties of both rose 
and lily without the defects of either, and used all the 
hair-oil he possessed upon his usually dry, sandy, and 
inextricably curly hair, till he had deepened it to a 
splendidly novel colour, between that of guano and 
roman cement, making it stick to his head like mace 
round a nutmeg, or wet seaweed round a boulder after 
the ebb. 
nothing disturbed the stillness of the cottage save 
 the chatter of a knot of sparrows on the eaves; one 
might fancy scandal and rumour to be no less the 
staple topic of these little coteries on roofs than of 
those under them. it seemed that the omen was an 
unpropitious one, for, as the rather untoward commence+ 
ment of oak's overtures, just as he arrived by the garden 
gate, he saw a cat inside, going into various arched shapes 
and fiendish convulsions at the sight of his dog george. 
the dog took no notice , for he had arrived at an age 
at which all superfluous barking was cynically avoided 
as a waste of breath -- -in fact he never barked even 
at the sheep except to order, when it was done with 
an absolutely neutral countenance, as a sort of com+ 
mination-service, which, though offensive, had to be 
gone through once now and then to frighten the flock 
for their own good. 
a voice came from behind some laurel-bushes into 
which the cat had run: 
"poor dear! did a nasty brute of a dog want to 
kill it; -- did he poor dear !' 
"i beg your pardon,' said oak to the voice, 'but 
george was walking on behind me with a temper as 
mild as milk.' 
almost before he had ceased speaking, oak was 
seized with a misgiving as to whose ear was the recipient 
of his answer. nobody appeared, and he heard the 
person retreat among the bushes. 
gabriel meditated, and so deeply that he brought 
small furrows into his forehead by sheer force of 
reverie. where the 
<p 76> 
issue of an interview is as likely 
to be a vast change for the worse as for the better, 
any initial difference from expectation causes nipping 
sensations of failure. oak went up to the door a little 
abashed : his mental rehearsal and the reality had had 
no common grounds of opening. 
bathsheba's aunt was indoors. " will you tell miss 
everdene that somebody would be glad to speak to 
her ?'said mr. oak. (calling one's self merely some+ 
body, without giving a name, is not to be taken as 
an example of the ill-breeding of the rural world: it 
springs from a refined modesty, of which townspeople, 
with their cards and announcements, have no notion 
whatever.) 
bathsheba was out. the voice had evidently been 
hers. 
" will you come in, mr. oak ? ' 
"oh, thank 'ee, said gabriel, following her to the 
fireplace. "i've brought a lamb for miss everdene. 
i thought she might like one to rear; girls do.' 
" she might,' said mrs. hurst, musingly ; " though 
she's only a visitor here. if you will wait a minute, 
bathsheba will be in.' 
" yes, i will wait,' said gabriel, sitting down. " the 
lamb isn't really the business i came about, mrs. hurst. 
in short, i was going to ask her if she'd like to be 
married.' 
"and were you indeed ?' 
" yes. because if she would, i should be very glad 
to marry her. d'ye know if she's got any other young 
man hanging about her at all ?' 
"let me think," said mrs. hurst, poking the fire 
superfluously.... " yes -- bless you, ever so many young 
men. you see, farmer oak, she's so good-looking, and 
an excellent scholar besides -- she was going to be a 
governess once, you know, only she was too wild. not 
that her young men ever come here -- but, lord, in the 
nature of women, she must have a dozen ! ' 
" that's unfortunate,' said farmer oak, contemplating 
a crack in the stone floor with sorrow. "i'm only an 
every-day sort of man, and my only chance was in being 
the first comer... , well, there's no use in my waiting, 
for that was all i came about: so i'll take myself off 
home-along, mrs. hurst.' 
when gabriel had gone about two hundred yards 
along the 
<p 77> 
down, he heard a "hoi-hoi .! " uttered behind 
him, in a piping note of more treble quality than that 
in which the exclamation usually embodies itself when 
shouted across a field. he looked round, and saw a girl 
racing after him, waving a white handkerchief. 
oak stood still -- and the runner drew nearer. it was 
bathsheba everdene. gabriel's colour deepened: hers 
was already deep, not, as it appeared, from emotion, 
but from running. 
"farmer oak -- i -- ' she said, pausing for want of 
breath pulling up in front of him with a slanted face 
and putting her hand to her side. 
"i have just called to see you ' said gabriel, pending 
her further speech. 
"yes-i know that,! she said panting like a robin, 
her face red and moist from her exertions, like a peony 
petal before the sun dries off the dew. "i didn't know 
you had come to ask to have me, or i should have come 
in from the garden instantly. i ran after you to say -- 
that my aunt made a mistake in sending you away from 
courting me --  --  -- ' 
gabriel expanded."i'm sorry to have made you 
run so fast, my dear,' he said, with a grateful sense of 
favours to come. "wait a bit till you've found your 
breath.' 
" -- it was quite a mistake-aunt's telling you i had 
a young man "already,'- bathsheba went on. " i haven't 
a sweetheart at all -- and i never had one, and i thought 
that, as times go with women, it was such a pity to send 
you away thinking that i had several.' 
"really and truly i am glad to hear that.!' said .= 
farmer oak, smiling one of his long special smiles, and 
blushing with gladness. he held out his hand to take 
hers, which, when she had eased her side by pressing 
it there, was prettily extended upon her bosom to still 
her loud-beating heart. directly he seized it she put 
it behind her, so that it slipped through his fingers like 
an eel. " 
"i have a nice snug little farm,' said gabriel, with 
half a degree less assurance than when he had seized 
her hand. 
"yes ; you have.' 
"a man has advanced me money to begin with, but 
still, it 
<p 78> 
will soon be paid off and though i am only an 
every-day sort of man, i have got on a little since i was 
a boy.' gabriel uttered "a little' in a tone to-show 
her that it was the complacent form of "a great deal.' 
he continued : " when we be married, i am quite sure 
i can work twice as hard as i do now.' 
 he went forward and stretched out his arm again. 
bathsheba had overtaken him at a point beside which 
stood a low stunted holly bush, now laden with red 
berries. seeing his advance take the form of an attitude 
threatening a possible enclosure, if not compression, of 
her person, she edged off round the bush. 
" why, farmer oak,' she said, over the top, looking 
at him with rounded eyes, "i never said i was going to 
marry you.' 
" well -- that is a tale .! ' said oak,  with dismay. " to 
run after anybody like this, and then say you don"t 
want him ! ' 
"what i meant to tell you was only this,' she said 
eagerly, and yet half conscious of the absurdity of the 
position she had made for herself -- "that nobody has 
got me yet as a sweetheart, instead of my having a 
dozen, as my aunt said; i hate to be thought men's 
property in that way, though possibly i shall be had 
some day. why, if i'd wanted you i shouldn't have 
run after you like this ; 'twould have'been the forwardest 
thing ! but there was no harm in 'hurrying to correct 
a piece of false news that had been told you.' 
"oh, no -- no harm at all." but there is such a thing 
as being too generous in expressing a judgment impuls+ 
ively, and oak added with a more appreciative sense 
of all the circumstances -- ' well, i am not quite certain 
it was no harm.' 
"indeed, i hadn't time to think before starting 
whether i wanted to marry or not, for you'd have been 
gone over the hill.' 
" come,' said gabriel, freshening again ; "think a 
minute or two. i'll wait a while, miss everdene. will 
you marry me? do, bathsheba. i love you far more 
than common!' 
"i'll try to think,' she observed, rather more timor+ 
ously ; "if i can think out of doors; my mind spreads 
away so.' 
"but you can give a guess.' 
<p 79> 
"then give me time.' bathsheba looked thought+ 
fully into the distance, away from the direction in which 
gabriel stood. 
"i can make you happy,' said he to the back of her 
head, across the bush. "you shallo have as piano in a 
year or two -- -farmers' wives are getting to have pianos 
now --  and i'll practise up the flute right well to play 
with you in the evenings.' 
" yes ; i should like that.' 
"and have one of those little ten-pound" gigs for 
market -- and nice flowers, and birds -- cocks and hens 
i mean, because they be useful,' continued gabriel, 
feeling balanced between poetry and practicality. 
"i should like it very much.' 
"and a frame for cucumbers -- like a gentlman and 
lady.' 
"yes.' 
"and when the wedding was over, we'd have it put 
in the newspaper list of marriages.' 
" dearly i should like that ! ' 
"and the babies in the births -- every man jack of 
'em! and at home by the fire, whenever you look up, 
there i shall be -- and whenever i look up' there will 
be you.' 
"wait wait and don't be improper .!' 
her countenance fell, and she was silent awhile. 
he regarded the red berries between them over and 
over again, to such an extent, that holly seemed in 
his after life to be a cypher signifying a proposal of 
marriage. bathsheba decisively turned to him. 
"no;' 'tis no use,' she said. 'i don't want to marry 
you. ' 
' try.' 
"i have tried hard all the time i've been thinking; 
for a marriage would be very nice in one sense. 
people would talk about me, and think i had won my 
battle, and i should feel triumphant, and' all that, 
but a husband --  -- ' - + 
" well .! ' 
" why, he'd always be there, as you say; whenever 
i looked up, there he'd be.' 
" of course he would -- i, that is.' 
<p 80> 
" well, what i mean is that i shouldn't mind being 
a bride at a wedding, if i could be one without having 
a husband. but since a woman can't show off in that 
way by herself, i shan't marry -- at least yet.' 
' that's a terrible wooden story.' 
at this criticism of her statement bathsheba made 
an addition to her dignity by a slight sweep away 
from him. 
"upon my heart and soul, i don't know what a 
maid can say stupider than that,' said oak. "but 
dearest,' he continued in a palliative voice, "don't be 
like it !.' oak sighed a deep honest sigh -- none the 
less so in that, being like the sigh of a pine plantation, 
it was rather noticeable as a disturbance of the atmo+ 
sphere. " why won't you have me ? ' he appealed, 
creeping round the holly to reach her side. 
" i cannot,' she said, retreating. 
"but why ?' he persisted, standing still at last in 
despair of ever reaching her, and facing over the 
bush. 
' because i don't love you.' 
" yes, but --  -- ' 
she contracted a yawn to an inoffensive smallness, 
so that it was hardly ill-mannered at all. "i don't love 
you,' she said.' 
"but i love you -- and, as for myself, i am content 
to be liked.' 
" o mr. oak -- that's very fine ! you'd get to 
despise me.' 
"never,' said mr oak, so earnestly that he seemed 
to be coming, by the forceof his words, straight 
through the bush and into her arms. "i shall do one 
thing in this life -- one thing certain -- that is, love you, 
and long for you, and keep wanting you till i die.' his 
voice had a genuine pathos now, and his large brown 
hands perceptibly trembled. 
"it seems dreadfully wrong not to have you when 
you feel so much!' she said with a little distress, and 
looking hopeleely around for some means of escape 
from her moral dilemma. " h(ow i wish i hadn't run 
after you!' however she seemed to have a short cut 
for getting back to cheerfulness, and set her face to 
signify archness. "it wouldn't do, mr oak. i want 
somebody to tame me; i am too independent ; and 
you would never be able to, i know.' 
<p 81> 
oak cast his eyes down the field in a way implying 
that it was useless to attempt argument. 
" mr. oak,' she said, with luminous distinctness and 
common sense, " you are better off than i. i have 
hardly a penny in the world -- i am staying with my 
aunt for my bare sustenance. i am better educated 
than you -- and i don't love you a bit: that's my side 
of the case. now yours: you are a farmer just begin+ 
ing; and you ought in common prudence, if you marry 
at all (which you should certainly not think of doing 
at present) to marry a woman with money, who would 
admiration. 
"that's the very thing i had been thinking myself !' 
he naively said. 
farmer oak had one-and-a-half christian character 
istics too many to succeed with bathsheba : his humility, 
and a superfluous moiety of honesty. bathsheba was 
decidedly disconcerted, 
"well, then, why did you come and disturb me?' 
she said, almost angrily, if not quite, an enlarging red 
spot rising in each cheek. 
" i can't do what i think would be -- would be --  -- ' 
" right ? ' 
" no : wise.' 
" you have made an admission now, mr. oak,' she 
exclaimed, with even more hauteur, and rocking her 
head disdainfully. 'after that, do you think i could 
marry you? not if i know it.' 
he broke in passionately ! "but don't mistake me 
like that! because i am open enough to own what 
every man in my shoes would have thought of, you 
make your colours come up your face, and get crabbed 
with me. that about your not being good enough for 
me is nonsense. you speak like a lady -- all the parish 
notice it, and your uncle at weatherbury is, i have 
heerd, a large farmer -- much larger than ever i shall 
be. may i call in the evening, or will you walk along 
with me o' sundays? i don't want you to make-up 
your mind at once, if you'd rather not.' 
<p 82> 
" no -- no -- i cannot. don't press me any more -- 
don't. i don't love you -- so 'twould be ridiculous,' 
she said, with a laugh. 
no man likes to see his emotions the sport of a 
merry-go-round of skittishness. " very well,' said oak, 
firmly, with the bearing of one who was going to give ' 
his days and nights to ecclesiastes for ever. "then 
i'll ask you no more.' 
<c v> 
<p 83> 
departure of bathsheba -- a pastoral tragedy 
the news which one day reached gabriel, that bath+ 
sheba everdene had left the neighbourhood, had an 
influence upon him which might have surprised any 
who never suspected that the more emphatic the renun+ 
ciation the less absolute its character. 
it may have been observed that there is no regula 
path for getting out of love as there is for getting in. 
some people look upon marriage as a short cut that way, 
but it has been known to fail. separation, which was 
the means that chance offered to gabriel oak by 
bathsheba's disappearance though effectual with people 
of certain humours is apt to idealise the removcd object 
with others -- notably those whose affection, placid and 
regular as it may be flows deep and long. oak belonged 
to the even-tempered order of humanity, and felt the 
secret fusion of himself in bathsheba to be burning with 
a finer flame now that she was gone -- that was all. 
his incipient friendship with her aunt-had been 
nipped by the failure of his suit, and all that oak learnt 
of bathsheba's movements was done indirectly. it ap+ 
peared that she had gone to a place called weatherbury, 
more than twenty miles off, but in what capacity -- 
whether as a visitor, or permanently, he could not 
discover. 
gabriel had two dogs. george, the elder, exhibited 
an ebony-tipped nose, surrounded by a narrow margin 
of pink flesh, and a coat marked in random splotches 
approximating in colour to white and slaty grey ; but the 
grey, after years of sun and rain, had been scorched and 
washed out of the more prominent locks, leaving them 
of a reddish-brown, as if the blue component of the grey 
had faded, like the indigo from the same kind of colour in 
turner's pictures. in substance it had originally been 
hair, but long contact with sheep seemed 
<p 84> 
to be turning 
it by degrees into wool of a poor quality and staple. 
this dog had originally belonged to a shepherd of 
inferior morals and dreadful temper, and the result was 
that george knew the exact degrees of condemnation 
signified by cursing and swearing of all descriptions 
better than the wickedest old man in the neighbourhood. 
long experience had so precisely taught the animal the 
difference between such exclamations as 'come in .! ' 
and 'd --  --  ye, come in !.' that he knew to a hair's 
breadth the rate of trotting back from the ewes' tails 
that each call involved, if a staggerer with the sheep 
crook was to be escaped. though old, he was clever 
and trustworthy still. 
the young dog, george's son, might possibly have 
been the image of his mother, for there was not much 
resemblance between him and george. he was learn+ 
ing the sheep-keeping business, so as to follow on at 
the flock when the other should die, but had got no 
further than the rudiments as yet -- still finding an 
insuperable difculty in distinguishing between doing a 
thing well enough and doing it too well. so earnest 
and yet so wrong-headed was this young dog (he had no, 
name in particular, and answered with perfect readiness 
to any pleasant interjection), that if sent behind the 
flock to help them on, he did it so thoroughly that he 
would have chased them across the whole county with 
the greatest pleasure if not called off or reminded when 
to step by the example of old george. 
thus much for the dogs. on the further side of 
norcombe hill was a chalk-pit, from which chalk had 
been drawn for generations, and spread over adjacent 
farms. two hcdges converged upon it in the form of 
a v, but without quite meeting. the narrow opening 
left, which was immediately over the brow of the pit, 
was protected by a rough railing. 
one night, when farmer oak had returned to, his 
house, believing there would be no further necessity for 
his attendance on the down, he called as usual to the 
dogs, previously to shutting them up in the outhouse till 
next morning. only one responded -- old george ; the 
other-could not be found, either in the house, lane, or 
garden. - gabriel then remembered 
<p 85> 
that he had left the 
two dogs on the hill eating a dead lamb (a kind of meat 
he usually kept from them, except when other food-ran 
finished his meal, he went indoors to the luxury of a bed, 
which latterly he had only enjoyed on sundays. 
it was a still, moist night. just before dawn he was 
assisted in waking by the abnormal reverberation of 
familiar music. to the shepherd, the note of the sheep' 
chronic sound that only makes itself noticed by ceasing 
ever distant, that all is well in the fold. in the solemn 
this exceptional ringing may be caused in two ways -- + 
by the rapid feeding of the sheep bearing the bell, as 
when the flock breaks into new pasture, which gives it 
an intermittent rapidity, or by the sheep starting off in 
a run, when the sound has a regular palpitation. the 
experieced ear of oak knew the sound he now' heard 
to be caused by the running of the flock with great 
velocity. 
he jumped out of bed, dressed, tore down the lane 
through a foggy dawn, and ascended the hill. the 
forward ewes were kept apart from those among which 
the fall of lambs would be later, there being two hundred 
of the latter class in gabriel's flock. these two hundred 
seemed to have absolutely vanished from the hill. there 
were the fifty with their lambs, enclosed at the other end 
as he had left them, but the rest, forming the bulk of 
the flock, were nowhere. gabriel called at the top of 
his voice the shepherd's call. 
" ovey, ovey, ovey .! ' 
not a single bleat. he went to the hedge -- a gap 
had been broken through it, and in the gap were the 
footprints of the sheep. rather surprised to find 
them break fence at this season, yet putting it down 
instantly to their great fondness for ivy in winter-time, 
of which a great deal grew in the plantation, he followed 
through the hedge. they were not in the plantation. 
he called again : the valleys and farthest hills 
<p 86> 
resounded 
as when the sailors invoked the lost hylas on the mysian 
shore ; but no sheep. he passed through the trees and 
along the ridge of the hill. on the extreme summit, 
where the ends of the two converging hedges of which 
we have spoken were stopped short by meeting the brow 
of the chalk-pit, he saw the younger dog standing against 
the sky -- dark and motionless as napoleon at st. 
helena. 
a horrible conviction darted through oak. with 
a sensation of bodily faintness he advanced : at one 
point the rails were broken through, and there he saw 
the footprints of his ewes. the dog came up, licked 
his hand, and made signs implying that he expected 
some great reward for signal services rendered. oak 
looked over the precipice. the ewes lay dead and dying 
at its foot -- a heap of two hundred mangled careases, 
representing in their condition just now at least two 
hundred more. 
oak was an intensely humane man: indeed, his 
humanity often tore in pieces any politic intentions of 
his which bordered on strategy, and carried him on as 
by gravitation. a shadow in his life had always been 
that his flock ended in mutton -- that a day came and 
found every shepherd an arrant traitor to his defenceless 
sheep. his first feeling now was one of pity for the 
untimely fate of these gentle ewes and their unborn 
lambs. 
it was a second to remember another phase of the 
matter. the sheep were not insured. all the savings 
of a frugal life had been dispersed at a blow ; his hopes 
of being an independent farmer were laid low -- possibly 
for ever. gabriel's energies, patience, and industry had 
been so severely taxed during the years of his life between 
eighteen and eight-and-twenty, to reach his present stage 
of progress' that no more seemed to be left in him. he 
hands. 
stupors, however, do not last for ever, and farmer 
oak recovered from his. it was as remarkable as it was 
characteristic that the one sentence he uttered was in 
thankfulness : -- 
'thank god i am not married : what would she have 
done in the poverty now coming upon me ! ' 
<p 87> 
oak raised his head, and wondering what he could 
do listlessly surveyed the scene. by the outer margin 
of the pit was an oval pond, and over it hung the 
attenuated skeleton of a chrome-yellow moon which 
had only a few days to last -- the morning star dogging 
her on the left hand. the pool glittered like a dead 
man's eye, and as the world awoke a breeze blew, 
shaking and elongating the reflection of the moon 
without breaking it, and turning the image of the star 
to a phosphoric streak upon the water. all this oak 
saw and remembered. 
as far as could be learnt it appeared that the poor 
young dog, still under the impression that since he was 
kept for running after sheep, the more he ran after 
them the better, had at the end of his meal off the 
dead lamb, which may have given him additional energy 
and spirits, collected all the ewes into a corner, driven 
the timid creatures through the hedge, across the upper 
field, and by main force of worrying had given them 
momentum enough to break down a portion of the 
rotten railing, and so hurled them over the edge. 
george's son had done his work so thoroughly that 
he was considered too good a workman to live, and was, 
in fact, taken and tragically shot at twelve o'clcck that 
same day -- another instance of the untoward fate which 
so often attends dogs and other philosophers who 
follow out a train of reasoning to its logical conclusion, 
and attempt perfectly consistent conduct in a world 
made up so largely of compromise. 
gabriel's farm had been stocked by a dealer -- on the 
strength of oak's promising look and character -- who 
was receiving a percentage from the farmer till such 
time as the advance should be cleared off oak found+ 
that the value of stock, plant, and implements which 
were really his own would be about sufficient to pay his 
debts, leaving himself a free man with the clothes he 
stood up in, and nothing more. 
<c vi> 
<p 88> 
the fair -- the journey -- the fire 
two months passed away. we are brought on to a 
day in february, on which was held the yearly statute 
or hiring fair in the county-town of casterbridge. 
at one end of the street stood from two to three 
hundred blithe and hearty labourers waiting upon chance 
 -- all men of the stamp to whom labour suggests nothing 
worse than a wrestle with gravitation, and pleasure 
nothing better than a renunciation of the same among 
these, carters and waggoners were distinguished by 
having a piece of whip-cord twisted round their hats; 
thatchers wore a fragment of woven straw; shepherds 
held their sheep-crooks in their hands; and thus the 
situation required was known to the hirers at a 
glance. 
in the crowd was an athletic young fellow of some+ 
what superior appearance to the rest -- in fact, his 
superiority was marked enough to lead several ruddy 
peasants standing by to speak to him inquiringly, as to 
a farmer, and to use 'sir' as a finishing word. his 
answer always was, 
'i am looking for a place myself -- a bailiff's. do 
ye know of anybody who wants one ?' 
gabriel was paler now. his eyes were more medi+ 
tative, and his expression was more sad. he had 
passed through an ordeal of wretchedness which had 
given him more than it had taken away. he had sunk 
from his modest elevation as pastoral king into the very 
slime-pits of siddim ; but there was left to him a digni+ 
fied calm he had never before known, and that indiffer+ 
ence to fate which, though it often makes a villain of 
a man, is the basis of his sublimity when it does not. 
and thus the abasement had been exaltation, and the 
loss gain. 
in the morning a regiment of cavalry had left the 
town, and a sergeant and his party had been beating up 
for recruits through the four streets. as the end of the 
day drew on, and 
<p 89> 
he found himself not hired, gabriel 
almost wished that he had joined them, and gone off to 
serve his country. weary of standing in the market+ 
place, and not much minding the kind of work he 
turned his hand to, he decided to offer himself in some 
other capacity than that of bailiff. 
all the farmers seemed to be wanting shepherds. 
sheep-tending was gabriel's speciality. turning down 
an obscure street and entering an obscurer lane, he went 
up to a smith's shop. 
'how long would it take you to make a shepherd's 
crook ? ' 
'twenty minutes.' 
'how much ? ' 
'two shillings.' 
he sat on a bench and the crook was made, a stem 
being given him into the bargain. 
he then went to a ready-made clothes' shop, the 
owner of which had a large rural connection. as the 
crook had absorbed most of gabriel's money, he 
attempted, and carried out, an exchange of his overcoat 
for a shepherd's regulation smock-frock. 
this transaction having been completed, he again 
hurried off to the centre of the town, and stood on the 
kerb of the pavement, as a shepherd, crook in hand. 
now that oak had turned himself into a shepherd, it 
seemed that bailifs were most in demand. however, two 
or three farmers noticed him and drew near. dialogues 
followed, more or lessin the subjoined for: -- 
'where do you come from?' 
'norcombe.' 
'that's a long way. 
'fifteen miles.' 
'who's farm were you upon last?' 
'my own.' 
this reply invariably operated like a rumour of 
cholera. the inquring farmer would edge away and 
shake his head dubiously. gabriel, like his dog, was 
too good to be trustworthy,. and he never made advance 
beyond this point. 
it is safer to accept any chance that offers itself, and 
  
  
<p 90> 
extemporize a procedure to fit it, than to get a good 
shepherd, but had laid himself out for anything in the 
whole cycle of labour that was required in the fair. it 
grew dusk. some merry men were whistling and 
singing by the corn-exchange. gabriel's hand, which 
had lain for some time idle in his smock-frock pocket, 
touched his flute which he carried there. here was 
an opportunity for putting his dearly bought wisdom 
into practice. 
he drew out his flute and began to play  jockey to 
the fair' in the style of a man who had never known 
moment's sorrow. oak could pipe with arcadian 
sweetness and the sound of the well-known notes 
cheered his own heart as well as those of the loungers. 
he played on with spirit, and in half an hour had 
earned in pence what was a small fortune to a destitute 
man. 
by making inquiries he learnt that there was another 
fair at shottsford the next day. 
'how far is shottsford?' 
'ten miles t'other side of weatherbury.' 
weatherbury!. it was where bathsheba had gone 
two months before. this information was like coming 
from night into noon. 
'how far is it to weatherbury ?' 
'five or six miles.' 
bathsheba had probably left weatherbury long before 
this time, but the place had enough interest attaching 
to it to lead oak to choose shottsford fair as his next 
field of inquiry, because it lay in the weatherbury 
quarter. moreover, the weatherbury folk were by no 
means uninteresting intrinsically. if report spoke truly 
they were as hardy, merry, thriving, wicked a set as 
any in the whole county. oak resolved to sleep at 
weatherbury -- -that -- night on his way to shottsford, 
and struck out at once -- into the -- high road which had 
been recommended as the direct route to the village in 
question. 
the road stretched through water-meadows traversed 
by little brooks, whose quivering surfaces were braided 
along their centres, and folded into creases at the sides; 
or, where the flow was more rapid, the stream was pied 
with spots of white froth, 
<p 91> 
which rode on in undisturbed 
serenity. on the higher levels the dead and dry carcases 
of leaves tapped the ground as they bowled along helter+ 
skelter upon the shoulders of the wind, and little birds 
in the hedges were rustling their feathers and tucking 
themselves in comfortably for the night, retaining their 
places if oak kept moving, but flying away if he 
stopped to look at them. he passed by yalbury-wood 
where the game-birds were rising to their roosts, and 
heard the crack-voiced cock-pheasants' 'cu-uck, cuck,' 
and the wheezy whistle of the hens. 
by the time he had walked three or four miles every 
shape in the-landscape had assumed a uniform hue of 
blackness. he descended yalbury hill and could just 
discern ahead of him a waggon, drawn up under a great 
over-hanging tree by the roadside. 
on coming close, he found there were no horses 
attached to it, the spot being apparently quite deserted. 
the waggon, from its position, seemed to have been left 
there for the night, for beyond about half a truss  of hay 
which was heaped in the bottom, it was quite empty. 
gabriel sat down on the shafts of the vehicle and con+ 
sidered his position. he calculated that he had walked 
a very fair proportion of the journey; and having been 
on foot since daybreak, he felt tempted to lie down upon 
the hay in the waggon instead of pushing on to the 
village of weatherbury, and having to pay for a lodging. 
eating his las slices of bread and ham, and drinking 
from the bottle of cider he had taken the precaution to 
bring with him, he got into the lonely waggon. here 
he spread half of the hay as a bed, and, as well as he 
could in the darkness, pulled the other half over him 
by way of bed-clothes, covering himself entirely, and 
feeling, physically, as comfortable as ever he had been 
in his life. inward melancholy it was impossible for 
a man like oak, introspective far beyond his neighbours, 
to banish quite, whilst conning the present. untoward 
page of his history. so, thinking of his misfortunes, 
amorous and pastoral he fell asleep, shepherds enjoying, 
in common with sailors, the privilege of being able to 
summon the god instead of having to wait for him. 
<p 92> 
on somewhat suddenly awaking after a sleep of 
whose length he had no idea, oak found that the waggon 
was in motion. he was being carried along the road 
at a rate rather considerable for a vehicle without 
springs, and under circumstances of physical uneadiness, 
his head being dandled up and down on the bed of 
the waggon like a kettledrum-stick. he then dis+ 
tinguished voices in conversation, comig from the 
forpart of the waggon. his concern at this dilemma 
(which would have been alarm, had he been a thriving 
man; but -- misfortune is a fine opiate to personal terror) 
led him to peer cautiously from the hay, and the first 
sight he beheld was the stars above him. charles's 
wain was getting towards a right angle with the pole 
star, and gabriel concluded that it must be about nine 
o'clock -- in other words, that he had slept two hours. 
this small astronomical calculation was made without 
any positive effort, and whilst he was stealthily turning 
to discover, if possible, into whose hands he had fallen. 
two figures were dimly visible in front, sitting with 
their legs outside the waggon, one of whom was driving. 
gabriel soon found that this was the waggoner, and it 
appeared they had come from casterbridge fair, like 
himself. 
a conversation was in progress, which continued 
thus : -- 
'be as 'twill, she's a fine handsome body as far's 
looks be concerned. but that's only the skin of the 
woman, and these dandy cattle be as-proud as a lucifer 
in their insides.' 
'ay -- so 'a do seem, billy smallbury -- so 'a do seem.' 
this utterance was very shaky by nature, and more so 
by circumstance, the jolting of the waggon not being+ 
without its effect upon the speaker's larynx. it came 
'from the man who held the reins. 
'she's a very vain feymell -- so 'tis said here and 
there.' 
'ah, now. if so be 'tis like that, i can't look her in 
the face. lord, no : not i -- heh-heh-heh .! such a shy 
man as i be.!' 
'yes -- she's very vain. 'tis said that every night at 
going to bed she looks in the glass to put on her night+ 
cap properly.' 
'and not a married woman. oh, the world .! 
"and 'a can play the peanner, so 'tis said. can 
play so clever 
<p 93> 
that 'a can make a psalm tune sound as 
well as the merriest loose song a man can wish for.' 
'd'ye tell o't .! a happy time for us, and i feel quite 
a new man! and how do she play?' 
'that i dson't know, master poorgrass.' 
on hearing these and other similar remarks, a wild 
thought flashed into gabriel's mind that they might 
be speaking of bathsheba. there were, however, no 
ground for retaining such a supposition, for the waggon, 
though going in the direction of weatherbury, might be 
going beyond it, and the woman alluded to seemed to be 
the mistress of some estate. they were now apparently 
close upon weatherbury and not to alarm the speakers 
unnecessarily, gabriel slipped out of the waggon unseen. 
he turned to an opening in the hedge, which he 
found to be a gate, and mounting thereon, he sat 
meditating whether to seek a cheap lodging in the 
village, or to ensure a cheaper one by lying under 
some hay or corn-stack. the crunching jangle of the 
waggon died upon his ear. he was about to walk on, 
when he noticed on his left hand an unusual light -- + 
appearing about half a mile distant. oak watched it, 
and the glow increased. something was on fire. 
gabriel again mounted the gate, and, leaping down 
on the other side upon what he found to be ploughed 
soil, made across the field in the exact direction of the 
fire. the blaze, enlarging in a  double ratio by his 
approach and its own increase, showed him as he drew 
nearer the outlines of ricks beside it, lighted up to great 
distinctness. a rick-yard was the source of the fire. 
his weary face now began to be painted over with a 
rich orange glow, and the whole front of his smock+ 
frock and gaiters was covered with a dancing shadow 
pattern of thorn-twigs -- the light reaching him through 
a leafless intervening hedge -- and the metallic curve of 
his sheep-crook shone silver-bright in the same abound+ 
ing rays. he came up to the boundary fence, and 
stood to regain breath. it seemed as if the spot was 
unocupied by a living soul. 
the fire was issuing from a long straw-stack, which 
was so 
<p 94> 
far gone as to preclude a possibility of saving it. 
a rick burns differently from a house. as the wind 
blows the fire inwards, the portion in flames completely 
disappears like melting sugar, and the outline is lost 
to the eye. however, a hay or a wheat-rick, well put 
together, will resist combustion for a length of time, if 
it begins on the outside. 
this before gabriel's eyes was a- rick of straw, loosely 
put together, and the flames darted into it with lightning 
swiftness. it glowed on the windward side, rising and 
falling in intensity, like the coal of a cigar. then a 
superincumbent bundle rolled down, with a whisking 
noise ; flames elongated, and bent themselves about 
with a quiet roar, but no crackle. banks of smoke 
went off horizontally at the back like passing clouds, 
and behind these burned hidden pyres, illuminating 
the semi-transparent sheet of smoke to a lustrous yellow 
uniformity. individual straws in the foreground were 
consumed in a creeping movement of ruddy heat, as 
if they were knots of red worms, and above shone 
imaginary fiery faces, tongues hanging from lips, glaring 
eyes, and other impish forms, from which at intervals 
sparks flew in clusters like birds from a nest, 
oak suddenly ceased from being a mere spectator 
by discovering the case to be more serious than he had 
at first imagined. a scroll of smoke blew aside and 
revealed to him a wheat-rick in startling juxtaposition 
with the decaying one, and behind this a series of 
others, composing the main corn produce of the farm; 
so that instead of the straw-stack standing, as he had 
imagined comparatively isolated, there was a regular 
connection between it and the remaining stacks of the 
group. 
gabriel leapt over the hedge, and saw that he was 
not alone. the first man he came to was running 
about in a great hurry, as if his thoughts were several 
yards in advance of his body, which they could never 
drag on fast enough. 
'o, man -- fire, fire ! a good master and a. bad 
servant is fire, fire .! -- i mane a bad servant and a good 
master o, mark clark -- come !- and you, billy 
smallbury -- and you, maryann money -- and you, jan 
coggan, and matthew there!' other figures now 
appeared behind this shouting man and among the 
smoke, and 
<p 95> 
gabriel found that, far from being alone 
he was in a great company -- whose shadows danced 
merrily up and down, timed by the jigging of the 
flames, and not at all by their owners' movements. 
the assemblage -- -belonging to that class of society 
which casts its thoughts into the form of feeling, and 
its feelings into the form of commotion -- set to work 
with a remarkable confusion of purpose. 
'stop the draught under the wheat-rick!' cried 
gabriel to those nearest to him. the corn stood on 
stone staddles, and between these, tongues of yellow 
hue from the burning straw licked and darted playfully. 
if the fire once got under this stack, all would be 
lost. 
'get a tarpaulin -- quick .! ' said gabriel. 
a rick-cloth was brought, and they hung it like a 
curtain across the channel. the flames immediately 
ceased to go under the bottom of the corn-stack, and 
stood up vertical. 
'stand here with a bucket of water and keep the 
cloth wet,' said gabriel again. 
the flames, now driven upwards, began to attack 
the angles of the huge roof covering the wheat-stack. 
'a ladder,' cried gabriel. 
'the ladder was against the straw-rick and is burnt 
to a cinder,' said a spectre-like form in the smoke. 
oak seized the cut ends of the sheaves, as if he 
were going to engage in the operation of ' reed-drawing,' 
and digging in his feet, and occasionally sticking in the 
stem of his sheep-crook, he clambered up the beetling 
face. he at once sat astride the very apex, and began 
with his crook to beat off the fiery fragments which had 
lodged thereon, shouting to the others to get him a 
bough and a ladder, and some water. 
billy smallbury -- one of the men who had been on 
the waggon -- by this time had found a ladder, which 
mark clark ascended, holding on beside oak upon the 
thatch. the smoke at this corner was stifling, and 
clark, a nimble fellow, having been handed a bucket 
of water, bathed oak's face and sprinkled him generally, 
whilst gabriel, now with a long beech-bough in one 
hand, in addition to his crook in the other, kept 
sweeping the stack and dislodging all fiery particles. 
<p 96> 
on the ground the groups of villagers were still 
occupied in doing all they could to keep down the 
conflagration, which was not much. they were all 
tinged orange, and backed up by shadows of varying 
pattern. round the corner of the largest stack, out 
of the direct rays of the fire, stood a pony, bearing a 
young woman on its back. by her side was another 
woman, on foot. these two seemed to keep at a 
distance from the fire, that the horse might not beome 
restive. 
'he's a shepherd,' said the woman on foot. 'yes -- 
he is. see how his crook shines as he beats the rick 
with it. and his smock-frock is burnt in two holes, i 
declare.! a fine young shepherd he is too, ma'am.' 
' whose shepherd is he?' said the equestrian in a 
clear voice. 
'don't know, ma'am.' 
 " don't any of the others know ?' 
 " nobody at all -- i've asked 'em. quite a stranger, 
 they say.' 
 the young woman on the pony rode out from the 
shade and looked anxiously around. 
"do you think the barn is safe ?" she said. 
"d'ye think the barn is safe, jan coggan ?' said 
the second woman, passing on the question to the 
nearest man in that direction. 
"safe -now -- leastwise i think so. if this rick had 
gone the barn would have followed. 'tis- that bold 
shepherd up there that have done the most good -- he 
sitting on the top o' rick, whizzing his great long-arms 
about like a windmill.' 
" he does work hard,' said the young woman on 
horseback, looking up at gabriel through her thick 
woollen veil. "i wish he was shepherd here. don't 
any of you know his name.' 
"never heard the man's name in my life, or seed 
his form afore.' 
the fire began to get worsted, and gabriel's elevated 
position being no longer required of him, he made as 
if to descend. 
"maryann,' said the girl on horseback, "go to him 
as he comes down, and say that the farmer wishes to 
thank him for the great service he has done.' 
maryann stalked off towards the rick and met 
oak at the foot of the ladder. she delivered ber 
message. 
<p 97> 
" where is your master the farmer ?' asked gabriel, 
kindling with the idea of getting employment that 
seemed to strike him now. 
" 'tisn't a master ; 'tis a mistress, shepherd.' 
" a woman farmer ? ' 
"ay, 'a b'lieve, and a rich one too .!' said a by" 
stander. " lately 'a came here from a distance. took 
on her uncle's farm, who died suddenly. used to 
measure his money in half-pint cups. they say now 
that she've business in every bank in casterbridge, and 
thinks no more of playing pitch-and-toss sovereign than 
you and i, do pitch-halfpenny -- not a bit in the world, 
shepherd.' 
"that's she, back there upon the pony,' said mary+ 
ann ;"wi'her face a-covered up in that black cloth with 
holes in it.' 
oak, his features smudged, grimy, and undiscoverable 
from the smoke and heat, his smock-frock burnt-into 
holes and dripping with water, the ash stem of his sheep+ 
crook charred six inches shorter, advansed with the 
humility stern adversity had thrust upon him up to 
the slight female form in the saddle. he lifted his 
hat with respect, and not without galantry: stepping 
close to her hanging feet he said in a hesitating voice, -- 
" do you happen to want a shepherd, ma'am ? ' 
she lifted the wool veil tied round her face, and 
looked all astonishment. gabriel and his cold-hearted 
darling, bathsheba everdene, were face to face. 
bathsheba did not speak, and he mechanically 
repeated in an abashed and sad voice, -- 
" do you want a shepherd, ma'am ? ' 
<c vii> 
<p 98> 
recognition -- a timid girl 
bathsheba withdrew into the shade. she scarcely 
knew whether most to be amused at the singularity of 
the meeting, or to be concerned at its awkwardness. 
there was room for a little pity, also for a very little 
exultation : the former at his position, the latter at her 
own. embarrassed she was not, and she" remembered 
gabriel's declaration of love to her at norcombe only 
to think she had nearly forgotten it. 
" yes,' she murmured, putting on an air of dignity, 
and turning again to him with a little warmth of cheek ; 
" i do want a shepherd. but --  -- ' 
" he's the very man, ma'am,' said one of the villagers, 
quietly. 
conviction breeds conviction. " ay, that 'a is,' said 
a second, decisively. 
"the man, truly .! ' said a third, with heartiness." 
" he's all there ! ' said number four, fervidly." 
then will you tell him to speak to the bailiff, said 
bathsheba. 
all "was practical again now. a summer eve and 
loneliness would have been necessary to give the 
meeting its proper fulness of romance. 
the palpitation within his breast at discovering that this 
ashtoreth of strange report was only a modification of 
venus the well-known and admired, retired with him to 
talk over the necessary preliminaries of hiring. 
the fire before them wasted away. "men,' said 
bathsheba, " you shall take a little refreshment after this 
extra work. will you come to the house ?' 
"we could knock in a bit and a drop a good deal 
freer, miss, 
<p 99> 
if so be ye'd send it to warren's malthouse,' 
replied the spokesman. 
bathsheba then rode off into the darkness, and the 
men straggled on to the village in twos and threes -- oak 
and the bailiff being left by the rick alone. 
"and now,' said the bailiff, finally, "all is settled, i 
think, about your coming, and i am going home-along. 
good-night to ye, shepherd.' 
" can you get me a lodging ? ' inquired gabriel. 
'that i can't, indeed," he said, moving past oak as 
a christian edges past an offertory-plate when he does 
not mean to contribute. "if you follow on the road till 
you come to warren's malthouse, where they are all 
gone to have their snap of victuals, i daresay some of 
'em will tell you of a place. good-night to ye, shepherd.' 
the bailiff who showed this nervous dread of loving 
his neighbour as himself, went up the hill, and oak 
walked on to the village, still astonished at the ren+ 
counter with bathsheba, glad of his nearness to her, and 
perplexed at the rapidity with which the unpractised girl 
of norcombe had developed into the supervising and cool 
woman here. but some women only require an emerg+ 
ency to make them fit for one. 
obligcd, to some extent, to forgo dreaming in order 
to find the way, he reachcd the churchyard, and passed 
round it under the wall where several ancient trees grew. 
there was a wide margin of grass along here, and 
gabriel's footsteps were deadened by its softness, even 
at this indurating period of the year. when abreast of 
a trunk which appeared to be the oldest of the old, he 
became aware that a figure was standing behind it. 
gabriel did not pause in his walk, and in another 
moment he accidentally kicked a loose stone. the noise 
was enough to disturb the motionless stranger, who 
started and assumed a careless position. 
it was a slim girl, rather thinly clad. 
" good-night to you,' said gabriel, heartily. 
" good-night,' said the girl to gabriel. 
the voice was unexpectedly attractive ; it was "the 
low and 
<p 100> 
dulcet note suggestive of romance ; common in 
descriptions, rare in experience. 
'i'll thank you to tell me if i'm in the way for 
warren's malthouse ? ' gabriel resumed, primarily to gain 
the information, indirectly to get more of the music. 
"quite right. it's at the bottom of the hill. and 
do you know --  -- ' the girl hesitated and then went 
on again. "do you know how late they keep open 
the buck's head inn?' she seemed" to be won by 
gabriel's heartiness, as gabriel had been won by her 
modulations. 
" i don't know where the buck's head is, or anything 
about it. do you think of going there to-night ?' 
" yes --  -- ' the woman again paused. there was 
no necessity for any continuance of speech, and the fact 
that she did add more seemed to proceed from an 
unconscious desire to show unconcern by making a 
remark, which is noticeable in the ingenuous when they 
are acting by stealth. " you are not a weatherbury man ? ' 
she said, timorously. 
' i am not. i am the new shepherd -- just arrived.' 
"only a shepherd -- and you seem almost a farmer by 
your ways.' 
" only a shepherd,' gabriel repeated, in a dull cadence 
of finality. " his thoughts were directed to the past, his 
eyes to the feet of the girl; and for the first time he 
saw lying there a bundle of some sort. she may have 
perceived the direction of his face, for she said 
coaxingly, -- 
" you won't say anything in the parish about having 
seen me here, will you -- at least, not for a day or two ?' 
"i won't if you wish me not to,' said oak. 
"thank you, indeed,' the other replied.'i am 
rather poor, and i don't want people to know anything 
about me.'  then she was silent and shivered. 
'you ought to have a cloak on such a cold night,' 
gabriel observed. " i would advise 'ee to get indoors." 
"o no! would you mind going on and leaving 
me ? i thank you much for what you have told me.' 
" i will go on,' he said ; adding hesitatingly, -- ' since 
you are 
<p 101> 
not very well off, perhaps you would accept this 
trifle from me. it is only a shilling, but'it is all i have 
to spare.' 
' yes, i will take it,' said the stranger, gratefully. 
she extended her hand ; gabriel his. in feeling for 
each other's palm in the gloom before the money could 
be passed, a minute incident occurred which told much. 
gabriel's fingers alighted on the young woman's wrist. 
it was beating with a throb of tragic intensity. he had 
frequently felt the same quick, hard beat in the femoral 
artery of -- his lambs when overdriven. it suggested a 
consumption too great of a vitality which, to judge from 
her figure and stature, was already too little. 
"what is the matter ?' 
" nothing.' 
'but there is?' 
" no, no, no ! let your having seen me be a.secret .! " 
' very well ; i will. good-night, again.' 
" good-night.' 
the young girl remained motionless by the tree, and 
gabriel descended into the village of weatherbury, or 
lower longpuddle as it was sometimes called. he 
fancied that he had felt himself in the penumbra of a 
very deep sadness when touching that slight and fragile 
creature. but wisdom lies in moderating mere impres+ 
sions, and gabriel endeavoured to think little of this. 
<c viii> 
<p 102> 
the malthouse -- the chat -- news 
warren's malthouse was enclosed by an old wall 
inwrapped with ivy, and though not much of the exterior 
was visible at this hour, the character and purposes of 
the building were clearly enough shown by its outline 
upon the sky. from the walls an overhanging thatched 
roof sloped up to a point in the centre, upon which rose 
a small wooden lantern, fitted with louvre-boards on all 
the four sides, and from these openings a mist was dimly 
perceived to be escaping into the night air. there was 
no window in front ; but a square hole in the door was 
glazed with a single pane, through which red, comfortable 
rays now stretched out upon the ivied wall in front. 
voices were to be heard inside. 
oak's hand skimmed the surface of the door with 
fingers extended to an elymas-the-somerer pattern, till 
he found a leathern strap, which he pulled. this lifted 
a wooden latch, and the door swung open. 
the room inside was lighted only by the, ruddy glow 
from the kiln mouth, which shone over ,the floor with 
the streaming, horizontality of the setting sun, and threw 
upwards the shadows of all facial irregularities in those 
assembled around. the stone-flag floor was worn into 
a path from the doorway to the kiln, and into undula+ 
tions everywhere. a curved settle of unplaned oak 
stretched along one side, and in a remote corner was a 
small bed and bedstead, the owner and frequent occupier 
of which was the maltster. 
this aged man was now sitting opposite the fire, his 
frosty white hair and beard overgrowing his gnarled 
figure like the grey moss and lichen upon a leafless 
apple-tree. he wore breeches and the laced-up shoes 
called ankle-jacks; he kept his eyes fixed upon the 
fire. 
<p 103> 
gabriel's nose was greeted by an atmosphere laden 
with the sweet smell of new malt. the conversation 
(which seemed to have been concerning the origin of the 
fire) immediately ceased, and every one ocularly criticised 
him to the degree expressed by contracting the flesh of 
their foreheads and looking at him with narrowed eye+ 
lids, as if he had been a light too strong for their sight. 
several exclaimed meditatively, after this operation had 
been completed : -- 
"oh, 'tis the new shepherd, 'a b'lieve.' 
"we thought we heard a hand pawing about the 
door for the bobbin, but weren't sure 'twere not a dead 
leaf blowed across,' said another. " come in, shepherd ; 
sure ye be welcome, though we don't know yer name.' 
" gabriel oak, that's my name, neighbours.' 
the ancient maltster sitting in the midst turned up 
this -- his turning being as the turning of a rusty 
crane. 
"that's never gable oak's grandson over at nor+ 
combe -- never !. ' he said, as a formula expressive of 
surprise, which nobody was supposed to take literally'. 
'my father and my grandfather were old men of the 
name of gabriel,' said the shepherd, placidly. 
"thought i knowed the man's face as i seed him 
on the rick ! -- thought i did.! and where be ye trading 
o't to now, shepherd ? ' 
" i'm thinking of biding here,' said mr. oak. 
"knowed yer grandfather for years and years !' 
continued the maltster, the words coming forth of their 
own accord as if the momentum previously imparted 
had been sufficient. 
'ah -- and did you! ' 
" knowed yer grandmother.' 
'and her too!' 
"likewise knowed yer father when he was a child. 
why, my boy jacob there and your father were sworn 
brothers -- that they were sure -- weren't ye, jacob ? ' 
"ay, sure,' said his son, a young man about sixty+ 
five, with a semi-bald head and one tooth in the left 
centre of his upper jaw, which made much of itself by 
standing prominent, like a 
<p 104> 
milestone in a bank. 'but 
'twas joe had most to do with him. however, my son 
william must have knowed the very man afore us -- 
didn't ye, billy, afore ye left norcombe ? ' 
"no, 'twas andrew,' said jacob's son billy, a child 
of forty, or thereabouts, who manifested the peculiarity 
of possessing a cheerful soul in a gloomy body, and 
whose whiskers were assuming a chinchilla shade here 
and there. 
"i can mind andrew,' said oak, 'as being a man in 
the place when i was quite a child.' 
"ay -- the other day i and my youngest daughter, 
liddy, were over at my grandson's christening,' continued 
billy. ' we were talking about this very family, and 
'twas only last purification day in this very world, when 
the use-money is gied away to the second-best poor 
folk, you know, shepherd, and i can mind the day 
because they all had to traypse up to the vestry -- yes, 
this very man's family.' 
' come, shepherd, and drink. 'tis gape and 
swaller with us -- a drap of sommit, but not of much 
account,' said the maltster, removing from the fire his 
eyes, which were vermilion-red and bleared by gazing 
into it for so many years. "take up the god-forgive" 
me, jacob. see if 'tis warm, jacoh.' 
jacob stooped to the god-forgive-me, which was a 
two-handled tall mug standing in the ashes, cracked 
and charred with heat : it was rather furred with ex" 
traneous matter about the outside, especially in the 
crevices of the handles, the innermost curves of which 
may not have seen daylight for several years by reason 
of this encrustation thereon -- formed of ashes accident+ 
ally wetted with cider and baked hard; but to the mind 
of any sensible drinker the cup was no worse for that, 
being incontestably clean on the inside and about the 
rim. it may be observed that such a class of mug is 
called a god-forgive-me in weatherbury and its vicinity 
for uncertain reasons ; probably because its size makes 
any given toper feel ashamed of himself when he sees 
its bottom in drinking it empty. 
jacob, on receiving the order to see if the liquor was 
warm enough, placidly dipped his forefinger into it by 
way of thermometer, and having pronounced it nearly 
of the proper degree, raised the cup and very civilly 
attempted to dust some of the 
<p 105> 
ashes from the bottom 
with the skirt of his smock-frock, because shepherd oak 
was a stranger. 
"a clane cup for the shepherd,' said the maltster 
commandingly. 
"no -- not at all," said gabriel, in a reproving tone 
of considerateness. "i never fuss about dirt in its pure 
state, and when i know what sort it is.' taking the 
mug he drank an inch or more from the depth of its 
contents, and duly passed it to the next man. 
wouldn't think of giving such trouble to neighbours in 
washing up when there's so much work to be done in 
the world already,' continued oak in a moister tone, 
after recovering from the stoppage of breath which is 
occasioned by pulls at large mugs. 
' a right sensible man,' said jacob. 
" true, true ; it can't be gainsaid!.' observed a brisk 
young man -- mark clark by name, a genial and pleasant 
gentleman, whom to meet anywhcre in your travels was 
to know, to know was to drink with, and to drink with 
was, unfortunately, to pay for. 
"and here's a mouthful of bread and bacon that 
mis'ess have sent, shepherd. the cider will go down 
better with a bit of victuals. don't ye chaw quite close, 
shepherd, for i let the bacon fall in the road outside as 
i was bringing it along, and may be 'tis rather gritty. 
there, 'tis clane dirt; and we all know what that is, 
as you say, and you bain't a particular man we see, 
shepherd.' 
" true, true -- not at all,' said the friendly oak. 
'don't let your teeth quite meet, and you won't feel 
the sandiness at all. ah !. 'tis wonderful what can be 
done by contrivance .! ' 
" my own mind exactly, neighbour.' 
" ah, he's his grandfer's own grandson .! -- his grandfer 
were just such a nice unparticular man !.' said the maltster. 
" drink, henry fray -- drink,' magnanimously said 
jan coggan, a person who held saint-simonian notions 
of share and share alike where liquor was concerned, as 
the vessel showed signs of approaching him in its gradual 
revolution among them. 
having at this moment reached the end of a wistful 
gaze 
<p 106> 
into mid-air, henry did not refuse. he was a man 
of more than middle age, with eyebrows high up in his 
forehead, who laid it down that the law of the world 
was bad, with a long-suffering look through his listeners 
at the world alluded to, as it presented itself to his 
imagination. he always signed his name 'henery' -- 
strenuously insisting upon that spelling, and if any 
passing schoolmaster ventured to remark that the second 
'e' was superfluous and old-fashioned, he received the 
reply that ' h-e-n-e-r-y' was the name he was christened 
and the name he 'would stick to -- in the tone of one 
to whom orthographical differences were matters which 
had a great deal to do with personal character. 
mr. jan coggan, who had passed the cup to henery, 
was a crimson man with a spacious countenance, and 
private glimmer in his eye, whose name had appeared 
on the marriage register of weatherbury and neighbour+ 
ing parishes as best man and chief witness in countless 
unions of the previous twenty years; he also very 
frequently filled the post of head godfather in baptisms 
of the subtly-jovial kind. 
" come, mark clark -- come. ther's plenty more 
in the barrel,' said jan. 
"ay -- that i will; 'tis my only doctor,' replied mr. 
clark, who, twenty years younger than jan coggan, 
revolved in the same orbit. he secreted mirth on all 
occasions for special discharge at popular parties. 
" why, joseph poorgrass, ye han't had a drop! ' said 
mr. coggan to a self-conscious man in the background, 
thrusting the cup towards him. 
" such a modest man as he is !. ' said jacob smallbury. 
" why, ye've hardly had strength of eye enough to look 
in our young mis'ess's face, so i hear, joseph ?' 
all looked at joseph poorgrass with pitying reproach. 
" no -- i've hardly looked at her at all,' simpered 
joseph, reducing his body smaller whilst talking, 
apparently from a meek sense of undue prominence. 
"and when i seed her, 'twas nothing but blushes with 
me!' 
' poor feller,' said mr. clark. 
"'tis a curious nature for a man,' said jan coggan. 
<p 107> 
" yes,' continued jdseph poorgrass -- his shyness, 
which was so painful as a defect, filling him with a 
mild complacency now that it was regarded as an 
interesting study. " 'twere blush, blush, blush with 
me every minute of the time, when she was speaking 
to me.' 
"i believe ye, joseph poorgrass, for we all know ye 
to be a very bashful man.' 
"'tis a' awkward gift for a man, poor soul,' said the 
maltster. "and ye have suffered from it a long time, 
we know.' 
"ay ever since i was a boy. yes -- mother was 
concerned to her heart about it -- yes. but twas all 
nought.' 
"did ye ever go into the world to try and stop it, 
joseph poorgrass ? ' 
"oh ay, tried all sorts o' company. they took me 
to greenhill fair, and into a great gay jerry-go-nimble 
show, where there were women-folk riding round -- 
standing upon horses, with hardly anything on but their 
smocks; but it didn't cure me a morsel. and then i 
was put errand-man at the women's skittle alley at the 
back of the tailor's arms in casterbridge. 'twas a 
horrible sinful situation, and a very curious place for a 
good man. i had to stand and look ba'dy people in 
the face from morning till night; but 'twas no use -- i 
was just as-bad as ever after all. blushes hev been 
in the family for generations. there, 'tis a happy pro+ 
vidence that i be no worse.' 
" true,' said jacob smallbury, deepening his thoughts 
to a profounder view of the subject. "'tis a thought 
to look at, that ye might have been worse; but even 
as you be, 'tis a very bad affliction for 'ee, joseph. for 
ye see, shepherd, though 'tis very well for a woman, 
dang it all, 'tis awkward for a man like him, poor 
feller ? ' 
" 'tis -- 'tis,' said gabriel, recovering from a medita+ 
tion. " yes, very awkward for the man.' 
" ay, and he's very timid, too,' observed jan coggan. 
"once he had been working late at yalbury bottom, 
and had had a drap of drink, and lost his way as he was 
coming home-along through yalbury wood, didn't ye, 
master poorgrass ? ' 
" no, no, no ; not that story !' expostulated the 
modest man, forcing a laugh to bury his concern. 
<p 108> 
" --  --  and so 'a lost himself quite,' continued mr 
coggan, with an impassive face, implying that a true 
narrative, like time and tide, must run its course and 
would respect no man. "and as he was coming along 
in the middle of the night, much afeared, and not able 
to find his way out of the trees nohow, 'a cried out, 
" man-a-lost!. man-a-lost !." a owl in a tree happened 
to be crying "whoo-whoo-whoo !" as owls do, you 
know, shepherd ' (gabriel nodded), " and joseph, all 
in a tremble, said, " joseph poorgrass, of weatherbury, 
sir.!" 
"no, no, now -- that's too much! ' said the timid 
man, becoming a man of brazen courage all of a sudden. 
"i didn't say sir. i'll tike my oath i didn't say " joseph 
poorgrass o' weatherbury, sir." no, no ; what's right 
is right, and i never said sir to the bird, knowing very 
well that no man of a gentleman's rank would be 
hollering there at that time o' night. " joseph poor+ 
grass of weatherbury,"  -- that's every word i said, and 
i shouldn't ha' said that if 't hadn't been for keeper 
day's metheglin.... there, 'twas a merciful thing it 
ended where it did.' 
the question of which was right being tacitly waived 
by the company, jan went on meditatively : -- 
"and he's the fearfullest man, bain't ye, joseph? 
ay, another time ye were lost by lambing-down gate, 
weren't ye, joseph ? ' 
"i was,' replied poorgrass, as if there were some 
conditions too serious even for modesty to remember 
itself under, this being one. 
' yes ; that were the middle of the night, too. the 
gate would not open, try how he would, and knowing 
there was the devil's hand in it, he kneeled down.' 
'ay,' said joseph, acquiring confidence from the 
warmth of the fire, the cider, and a perception of the 
narrative capabilities of the experience alluded to. 
" my heart died within me, that time; but i kneeled 
down and said the lord's prayer, and then the belie 
the chat 
right through, and then the ten commandments, in 
earnest prayer. but no, the gate wouldn't open; and 
then i went on with dearly beloved brethren, and, 
thinks i, this makes four, and 'tis all i know out of 
book, and if this don't do it nothing will, and i'm a 
lost man. well, when i got to 
<p 109> 
saying after me, i 
rose from my knees and found the gate would open 
 -- yes, neighbours, the gate opened the same as ever.' 
  a meditation on the obvious inference wsas indulged 
in by all, and during its continuance each directed his 
vision into the ashpit, which glowed like a desert in 
the tropics under a vertical sun, shaping their eyes long 
and liny, partly because of the light, partly from the 
depth of the subject discussed. 
  gabriel broke the silence. "what sort of a place 
is this to live at, and what sort of a mis'ess is she to 
work under?' gabriel's bosom thrilled gently as he 
thus slipped under the notice of the assembly the inner+ 
most subject of his heart. 
  "we d' know little of her -- nothing. she only 
showed herself a few days ago. her uncle was took 
bad, and the doctor was called with his world-wide 
skill; but he couldn't save the man. as i take it, 
she's going to keep on the farm. 
  "that's abouyt the shape o't, 'a b'lieve,' said jan 
uncle was a very fair sort of man. did ye know en, 
be under 'em as under one here and there. her 
uncle was a very fair sort of man. did ye know 'en, 
shepherd -- a bachelor-man ? ' 
  "not at all.' 
  "i used to go to his house a-courting my first wife, 
charlotte, who was his dairymaid. well, a very good+ 
hearted man were farmer everdene, and i being a 
respectable young fellow was allowed to call and see 
her and drink as much ale as i liked, but not to carry 
away any -- outside my skin i mane of course.' 
  "ay, ay, jan coggan; we know yer maning.' 
  "and so you see 'twas beautiful ale, and i wished 
to value his kindness as much as i could, and not to 
be so ill-mannered as to drink only a thimbleful, which 
would have been insulting the man's generosity  --  -- ' 
  "true, master coggan, 'twould so,' corroborated 
mark clark. 
  " --  -- and so i used to eat a lot of salt fish afore 
going, and then by the time i got there i were as dry 
as a lime-basket -- so thorough dry that that ale would 
slip down  -- ah, 'twould slip down sweet! happy 
times! heavenly times! such lovely drunks as i 
used to have at that house! you can mind, jacob? 
you used to go wi' me sometimes.' 
<p 110> 
  "i can -- i can,' said jacob. "that one, too, that 
we had at buck's head on a white monday was a 
pretty tipple.' 
  "'twas. but for a wet of the better class, that 
brought you no nearer to the horned man than you were 
afore you begun, there was none like those in farmer 
everdene's kitchen. not a single damn allowed; no, 
not a bare poor one, even at the most cheerful moment 
when all were blindest, though the good old word of 
sin thrown in here and there at such times is a great 
relief to a merry soul.' 
  "true,' said the maltster. "nater requires her 
swearing at the regular times, or she's not herself; and 
unholy exclamations is a necessity of life.' 
  "but charlotte,' continued coggan -- "not a word of 
the sort would charlotte allow, nor the smallest item of 
taking in vain.... ay, poor charlotte, i wonder if she 
had the good fortune to get into heaven when 'a died!. 
but 'a was never much in luck's way, and perhaps 'a 
went downwards after all, poor soul.' 
  "and did any of you know miss everdene's-father 
and mother?' inquired the shepherd, who found some 
difficulty in keeping the conversation in the desired 
channel. 
the chat 
  "i knew them a little,' said jacob smallbury; "but 
they were townsfolk, and didn't live here. they've 
been dead for years. father, what sort of people were 
mis'ess' father and mother?' 
  "well,' said the maltster, "he wasn't much to look 
at; but she was a lovely woman. he was fond enough 
of her as his sweetheart.' 
  "used to kiss her scores and long-hundreds o times, 
so 'twas said,' observed coggan. 
  "he was very proud of her, too, when they were 
married, as i've been told,' said the maltster. 
  "ay,' said coggan. "he admired her so much that 
he used to light the candle three time a night to look 
at her.' 
  "boundless love; i shouldn't have supposed it in the 
universe!' murmered joseph poorgrass, who habitually 
spoke on a large scale in his moral reflections. 
  "well, to be sure,' said gabriel. 
  "oh, 'tis true enough. i knowed the man and 
woman both well. levi everdene -- that was the man's 
name, sure. ""man,'' 
<p 111> 
saith i in my hurry, but he were 
of a higher circle of life than that -- 'a was a gentleman+ 
tailor really, worth scores of pounds. and he became 
a very celebrated bankrupt two or three times.' 
  "oh, i thought he was quite a common man!.' said 
joseph. 
  "o no, no! that man failed for heaps of money; 
hundreds in gold and silver.' 
  the maltster being rather short of breath, mr. coggan, 
after absently scrutinising a coal which had fallen among 
the ashes, took up the narrative, with a private twirl of 
his eye: -- 
  "well, now, you'd hardly believe it, but that man -- 
husbands alive, after a while. understand' 'a didn't 
want to be fickle, but he couldn't help it. the poor 
feller were faithful and true enough to her in his wish, 
but his heart would rove, do what he would. he spoke 
to me in real tribulation about it once. ""coggan,'' 
he said, ""i could never wish for a handsomer woman 
than i've got, but feeling she's ticketed as my lawful 
wife, i can't help my wicked heart wandering, do what 
i will.'' but at last i believe he cured it by making her 
take off her wedding-ring and calling her by her maiden 
name as they sat together after the shop was shut, and 
so 'a would get to fancy she was only his sweetheart, and 
not married to him at all. and as soon as he could 
thoroughly fancy he was doing wrong and committing 
the seventh, 'a got to like her as well as ever, and they 
lived on a perfect picture of mutel love.' 
  "well, 'twas a most ungodly remedy,' murmured 
joseph poorgrass; "but we ought to feel deep cheerful+ 
ness that a 'happy providence kept it from being any 
worse. you see, he might have gone the bad road and 
given his eyes to unlawfulness entirely -- yes, gross un+ 
lawfulness, so to say it.' 
  "you see,' said billy smallbury, "the man's will was 
to do right, sure enough, but his heart didn't chime in.' 
  "he got so much better, that he was quite godly 
in his later years, wasn't he, jan ?' said joseph poor+ 
grass. "he got himself confirmed over again in a more 
serious way, and took to saying ""amen'' almost as loud 
as the clerk, and he liked to copy comforting verses 
from the tombstones. he used, too, to hold the money+ 
plate at let your light so shine, and stand 
<p 112> 
godfather 
to poor little come-by-chance children; and he kept a 
missionary' box upon his table to nab folks unawares 
when they called; yes, and he would-box the charity+ 
boys' ears, if they laughed in church, till they could 
hardly stand upright, and do other deeds of piety 
natural to the saintly inclined.' 
  "ay, at that time he thought of nothing but high 
things,' added billy smallbury. "one day parson thirdly 
met him and said, ""good-morning, mister everdene; 'tis 
the chat 
a fine day!'' ""amen'' said everdene, quite absent+ 
like, thinking only of religion when he seed a parson+ 
  "their daughter was not at all a pretty chiel at that 
time,' said henery fray. "never should have. thought 
she'd have growed up such a handsome body as she is.' 
  "'tis to be hoped her temper is as good as her face.' 
  "well, yes; but the baily will have most to do with 
the business and ourselves. ah!' henery gazed into 
the ashpit, and smiled volumes of ironical knowledge. 
  "a queer christian, like the devil's head in a cowl, 
  "he is,' said henery, implying that irony must cease 
at a certain point. "between we two, man and man, i 
believe that man would as soon tell a lie sundays as 
working-days -- that i do so.' 
  "good faith, you do talk!' said gabriel. 
  "true enough,' said the man of bitter moods, looking 
round upon the company with the antithetic laughter 
that comes from a keener appreciation of the miseries 
of life than ordinary men are capable of. 'ah, there's 
people of one sort, and people of another, but that man 
 -- bless your souls!' 
  gabriel thought fit to change the subject. "you 
must be a very aged man, malter, to have sons growed 
mild and ancient' he remarked. 
  "father's so old that 'a can't mind his age, can ye, 
father?' interposed jacob. "and he growled terrible 
crooked too, lately' jacob continued, surveying his 
father's figure, which 
<p 113> 
was rather more bowed than his own. 
"really one may say that father there is three-double.' 
  "crooked folk will last a long while,' said the maltster, 
grimly, and not in the best humour. 
  "shepherd would like to hear the pedigree of yer 
life, father -- wouldn't ye, shepherd ? 
  "ay that i should,' said gabriel with the heartiness 
of a man who had longed to hear it for several months. 
"what may your age be, malter?' 
  the maltster cleared his throat in an exaggerated 
form for emphasis, and elongating his gaze to the 
remotest point of the ashpit! said, in the slow speech 
justifiable when the importance of a subject is so 
generally felt that any mannerism must be tolerated 
in getting at it, "well, i don't mind the year i were 
born in, but perhaps i can reckon up the places i've 
lived at, and so get it that way. i bode at upper long+ 
puddle across there' (nodding to the north) "till i were 
eleven. i bode seven at kingsbere' (nodding to the 
east) "where i took to malting. i went therefrom to 
norcombe, and malted there two-and-twenty years, and+ 
two-and-twenty years i was there turnip-hoeing and 
harvesting. ah, i knowed that old place, norcombe, 
years afore you were thought of, master oak' (oak smiled 
sincere belief in the fact). "then i malted at dur+ 
nover four year, and four year turnip-hoeing; and 
i was fourteen times eleven months at millpond st. 
jude's ' (nodding north-west-by-north). "old twills 
wouldn't hire me for more than eleven months at a 
time, to keep me from being chargeable to the parish 
if so be i was disabled. then i was three year at 
mellstock, and i've been here one-and-thirty year come 
candlemas. how much is that?" 
  "hundred and seventeen,' chuckled another old 
gentleman, given to mental arithmetic and little con+ 
versation, who had hitherto sat unobserved in a corner. 
  "well, then, that's my age,' said the maltster, em+ 
phatically. 
  "o no, father!' said jacob. "your turnip-hoeing 
were in the summer and your malting in the winter of 
the same years, and ye don't ought to count-both halves 
father.' 
<p 114> 
  "chok' it all! i lived through the summers, didn't 
i? that's my question. i suppose ye'll say next i be 
no age at all to speak of?' 
  "sure we shan't,' said gabriel, soothingly. 
  "ye be a very old aged person, malter,' attested jan 
must have a wonderful talented constitution to be able 
to live so long, mustn't he, neighbours?' 
  "true, true; ye must, malter, wonderful;' said the 
meeting unanimously. 
  the maltster, being know pacified, was even generous 
enough to voluntarily disparage in a slight degree the 
virtue of having lived a great many years, by mentioning 
that the cup they were drinking out of was three years 
older than he. 
  while the cup was being examined, the end of 
gabriel oak's flute became visible over his smock-frock 
i seed you blowing into a great flute by now at caster+ 
bridge?' 
  "you did,' said gabriel, blushingh faintly. "i've been 
in great trouble, neighbours, and was driven to it. 
take it careless-like, shepherd and your time will come 
tired?' 
  "neither drum nor trumpet have i heard since 
christmas,' said jan coggan. "come, raise a tune, 
master oak!' 
  "that i will,' said gabriel, pulling out his flute and 
putting it together. "a poor tool, neighbours; but 
such as i can do ye shall have and welcome.' 
  oak then struck up "jockey to the fair,' and played 
that sparkling melody three times through accenting the 
notes in the third round in a most artistic and lively 
manner by bending his body in small jerks and tapping 
with his foot to beat time. 
  "he can blow the flute very well -- that 'a can,' said 
a young married man, who having no individuality worth 
mentioning was known as "susan tall's husband.' he 
continued, "i'd as lief as not be able to blow into a 
flute as well-as that.' 
<p 115> 
  "he's a clever man, and 'tis a true comfort for us to 
have such a shepherd,' murmured joseph poorgrass, in 
a soft cadence. "we ought to feel full o' thanksgiving 
that he's not a player of ba'dy songs 'instead of these 
merry tunes; for 'twould have been just as easy for god 
to have made the shepherd a loose low man -- a man of 
iniquity, so to speak it -- as what he is. yes, for our wives' 
and daughters' sakes we should feel real thanks giving.' 
  "true, true, -- real thanksgiving!' dashed in mark 
clark conclusively, not feeling it to be of any conse+ 
quence to his opinion that he had only heard about a 
word and three-quarters of what joseph had said. 
  "yes,' added joseph, beginning to feel like a man in 
the bible; "for evil do thrive so in these times that ye 
may be as much deceived in the clanest shaved and 
whitest shirted man as in the raggedest tramp upon the 
turnpike, if i may term it so.' 
  "ay, i can mind yer face now, shepherd,' said 
henery fray, criticising gabriel with misty eyes as he 
entered upon his second tune. "yes -- now i see 'ee 
blowing into the flute i know 'ee to be the same man 
i see play at casterbridge, for yer mouth were scrimped 
up and yer eyes a-staring out like a strangled man's -- 
just as they be now.' 
  "'tis a pity that playing the flute should make a man 
look such a scarecrow,' observed mr. mark clark, with 
additional criticism of gabriel's countenance, the latter 
person jerking out, with the ghastly grimace required by 
the instrument, the chorus of "dame durden! 
  "i hope you don't mind that young man's bad 
manners in naming your features?' whispered joseph to 
gabriel. 
  "not at all,' said mr. oak. 
  "for by nature ye be a very handsome man, 
shepherd,' continued joseph poorgrass, with winning 
sauvity. 
  "ay, that ye be, shepard,' said the company. 
  "thank you very much,' said oak, in the modest 
tone good 
<p 116> 
manners demanded, thinking, however, that 
he would never let bathsheba see him playing the 
flute; in this severe showing s discretion equal to that 
related to its sagacious inventress, the divine minerva 
herself. 
  "ah, when i and my wife were married at norcombe 
church,' said the old maltster, not pleased at finding 
himself left out of the subject "we were called the 
handsomest couple in the neighbourhood -- everybody 
said so.' 
  "danged if ye bain't altered now, malter,' said a voice 
with the vigour natural to the enunciation of a remark+ 
ably evident truism. it came from the old man in the 
background, whose offensiveness and spiteful ways were 
barely atoned for by the occasional chuckle he con+ 
tributed to general laughs. 
  "o no, no,' said gabriel. 
  "don't ye play no more shepherd ' said susan tall's 
husband, the young married man who had spoken once 
before. "i must be moving and when there's tunes 
going on i seem as if hung in wires. if i thought after 
i'd left that music was still playing, and i not there, i 
should be quite melancholy-like.' 
  "what's yer hurry then, laban?' inquired coggan+ 
"you used to bide as late as the latest.' 
  "well, ye see, neighbours, i was lately married to a 
woman, and she's my vocation now, and so ye see --  -- ' 
the young man hated lamely. 
  "new lords new laws, as the saying is, i suppose,' 
remarked coggan. 
  "ay, 'a b'lieve -- ha, ha!' said susan tall's husband, 
in a tone intended to imply his habitual reception of 
jokes without minding them at all.   the young man 
then wished them good-night and withdrew. 
  henery fray was the first to follow. then gabriel 
arose and went off with jan coggan, who had offered 
him a lodging. a few minutes later, when the remaining 
ones were on their legs and about to depart, fray came 
back again in a hurry. flourishing his finger ominously 
he threw a gaze teeming with tidings just -- where his eye 
alighted by accident, which happened to be in joseph 
poorgrass's face. 
<p 117> 
  "o -- what's the matter, what's the matter, henery?' 
said joseph, starting back. 
  "what's a-brewing, henrey?' asked jacob and mark 
clark. 
  "baily pennyways -- baily pennyways -- i said so; yes, 
i said so!' 
  "what, found out stealing anything?' 
  "stealing it is. the news is, that after miss 
everdene got home she went out again to see all was 
safe, as she usually do, and coming in found baily 
pennyways creeping down the granary steps with half a 
a bushel of barley. she fleed at him  like a cat -- never 
such a tomboy as she is -- of course i speak with closed 
doors?' 
  "you do -- you do, henery.' 
  "she fleed at him, and, to cut a long story short, 
he owned to having carried off five sack altogether, upon 
her promising not to persecute him. well, he's turned 
out neck and crop, and my question is, who's going to 
be baily now?' 
  the question was such a profound one that henery 
was obliged to drink there and then from the large 
cup till the bottom was distinctly visible inside. before 
he had replaced it on the table, in came the young man, 
susan tall's husband, in a still greater hurry. 
  "have ye heard the news that's all over parish?' 
  "about baily pennyways?' 
  "but besides that?' 
  "no -- not a morsel of it!' they replied, looking into 
the very midst of laban tall as if to meet his words 
half-way down his throat. 
  "what a night of horrors!' murmured joseph poor+ 
grass, waving his hands spasmodically. "i've had the 
news-bell ringing in my left ear quite bad enough for a 
murder, and i've seen a magpie all alone!' 
  "fanny robin -- miss everdene's youngest servant -- 
can't be found. they've been wanting to lock up the 
door these two hours, but she isn't come in. and they 
don't know what to do about going to hed for fear of 
locking her out. they wouldn't be so concerned if she 
hadn't been noticed in such low spirits 
<p 118> 
these last few 
days, and maryann d'think the beginning of a crowner's 
inquest has happened to the poor girl.' 
  "o -- 'tis burned -- 'tis burned!' came from joseph 
poorgrass's dry lips. 
  "no -- 'tis drowned!' said 'tall. 
  "or 'tis her father's razor!' suggested billy smallbury, 
with a vivid sense of detail. 
  "well -- miss everdene wants to speak to one or two 
of us before we go to bed. what with this trouble about 
the baily, and now about the girl, mis'ess is almost wild.' 
  they all hastened up the lane to the farmhouse, 
excepting the old maltster, whom neither news, fire, 
rain, nor thunder could draw from his hole. there, as 
the others' footsteps died away he sat down again and 
continued gazing as usual into the furnace with his red, 
bleared eyes. 
  from the bedroom window above their heads bath+ 
sheba's head and shoulders, robed in mystic white, were 
dimly seen extended into the air. 
  "are any of my men among you?' she said anxiously. 
  "yes, ma'am, several,' said susan tall's husband. 
  "tomorrow morning i wish two or three of you to 
make inquiries in the villages round if they have seen 
such a person as fanny robin. do it quietly; there is 
no reason for alarm as yet. she must have left whilst 
we were all at the fire.' 
  "i beg yer pardon, but had she any young man court+ 
ing her in the parish, ma'am?" asked jacob smallbury. 
  "i don't know,' said bathsheba. 
  "i've never heard of any such thing, ma'am,' said 
two or three. 
  "it is hardly likely, either,' continued bathsheba. 
"for any lover of hers might have come to the house if 
he had been a respectable lad. the most mysterious 
matter connected with her absence -- indeed, the only 
thing which gives me serious alarm -- is that she was 
seen to go out of the house by maryann with only her 
indoor working gown on -- not even a bonnet.' 
  "and you mean, ma'am, excusing my words, that a 
young 
<p 119> 
woman would hardly go to see her young man 
without dressing up,' said jacob, turning his mental 
vision upon past experiences. "that's true -- she would 
not, ma'am.' 
  "she had, i think, a bundle, though i couldn't see 
very well,' said a female voice from another window, 
which seemed that of maryann. "but she had no 
young man about here. hers lives in casterbridge, and 
i believe he's a soldier.' 
  "do you know his name?' bathsheba said. 
  "no, mistress; she was very close about it.' 
  "perhaps i might be able to find out if i went to 
casterbridge barracks,' said william smallbury. 
  "very well; if she doesn't return tomorrow, mind 
you go there and try to discover which man it is, and 
see him. i feel more responsible than i should if she 
had had any friends or relations alive. i do hope she 
has come to no harm through a man of that kind.... 
and then there's this disgraceful affair of the bailiff -- 
but i can't speak of him now.' 
  bathsheba had so many reasons for uneasiness that 
it seemed she did not think it worth while to dwell 
upon any particular one. "do as i told you, then' 
she said in conclusion, closing the casement. 
  "ay, ay, mistress; we will,' they replied, and moved 
away. 
  that night at coggan's, gabriel oak, beneath the 
screen of closed eyelids, was busy with fancies, and full 
of movement, like a river flowing rapidly under its ice. 
night had always been the time at which he saw bath+ 
sheba most vividly, and through the slow hours of 
shadow he tenderly regarded her image now. it is 
rarely that the pleasures of the imagination will compen+ 
sate for the pain of sleeplessness, but they possibly did 
with oak to-night, for the delight of merely seeing her 
effaced for the time his perception of the great differ+ 
ence between seeing and possessing. 
  he also thought of plans for fetching his few utensils 
and books from norcombe. the young man's best 
companion, the farrier's sure guide, the veterinary 
surgeon, paradise lost, the pilgrim's progress, robinson 
crusoe, ash's dictionary, the walkingame's arithmetic, 
constituted his library; 
<p 120> 
and though a limited series, it was 
one from which he had acquired more sound informa+ 
tion by diligent perusal than many a man of opportunities 
has done from a furlong of laden shelves. 
<c ix> 
<p 121> 
the homestead -- a visitor -- half-confidences 
by daylight, the bower of oak's new-found mistress, 
bathsheba everdene, presented itself as a hoary build+ 
ing, of the early stage of classic renaissance as regards 
its architecture, and of 'a proportion which told at a 
glance that, as is so frequently the case, it had once 
been the memorial hall upon a small estate around it, 
now altogether effaced as a distinct property, and merged 
in the vast tract of a non-resident landlord, which com+ 
prised several such modest demesnes. 
  fluted pilasters, worked from the solid stone, 
decorated its front, and above the roof the chimneys 
were panelled or columnar, some coped gables with 
finials and like features still retaining traces of their 
gothic extraction. soft brown mosses, like faded 
velveteen, formed cushions upon the stone tiling, and 
tufts of the houseleek or sengreen sprouted from the 
eaves of the low surrounding buildings. a gravel walk 
leading from the door to the road in front was encrusted 
at the sides with more moss -- here it was a silver-green 
variety, the nut-brown of the gravel being visible to the 
width of only a foot or two in the centre. this circum+ 
stance, and the generally sleepy air of the whole prospect 
here, together with the animated and contrasting state 
of the reverse facade, suggested to the imagination that 
on the adaptation of the building for farming purposes 
the vital principle' of the house had turned round inside 
its body to face the other way. reversals of this kind, 
strange deformities, tremendous paralyses, are often seen 
to be inflicted by trade upon edifices -- either individual 
or in the aggregate as streets and towns -- which were 
originally planned for pleasure alone. 
  lively voices were heard this morning in the upper 
rooms, the main staircase to which was of hard oak, the 
balusters, heavy as bed-posts, being turned and moulded 
in the quaint 
<p 122> 
fashion of their century, the handrail as 
stout as a parapet-top, and the stairs themselves con+ 
tinually twisting round like a person trying to look over 
his shoulder. going up, the floors above were found 
to have a very irregular surface, rising to ridges, sinking 
into valley; and being just then uncarpeted, the face 
of the boards was seen to be eaten into innumerable 
the opening and shutting of every door a tremble 
followed every bustling movement, and a creak accom+ 
panied a walker about the house like a spirit, wherever+ 
he went. 
  in the room from which the conversation proceeded, 
bathsheba and her servant-companion, liddy small+ 
bury were to be discovered sitting upon the floor, and 
sorting a complication of papers, books, bottles, and 
rubbish spread out thereon -- remnants from the house+ 
hold stores of the late occupier. liddy, the maltster's 
great-granddaughter, was about bathsheba's equal in 
age, and her face was a prominent advertisement of the 
features' might have lacked in form was amply made up 
for by perfection  of hue, which at this winter-time was 
the softened ruddiness on a surface of high rotundity 
and, like the presentations of those great colourists, it 
was a face which kept well back from the boundary 
between comeliness and the ideal. though elastic in 
nature she was less daring than bathsheba, and occa+ 
sionally showed some earnestness, which consisted half 
of genuine feeling, and half of mannerliness superadded 
by way of duty. 
  through a partly-opened door the noise of a scrubbing+ 
brush led up to the charwoman, maryann money, a person 
who for a face had a circular disc, furrowed less by age 
than by long gazes of perplexity at distant objects. to 
think of her was to get good-humoured; to speak of 
her was to raise the image of a dried normandy 
pippin. 
  "stop your scrubbing a moment,' said bathsheba 
through the door to her. "i hear something.' 
  maryann suspended the brush. 
<p 123> 
  the tramp of a horse was apparent, approaching the 
front of the building. the paces slackened, turned in 
at the wicket, and, what was most unusual, came up 
the mossy path close to the door. the door was 
tapped with the end of a crop or stick. 
  "what impertinence!' said liddy, in a low voice. 
"to ride up the footpath like that! why didn't he 
stop at the gate? lord! "tis a gentleman! i see the 
top of his hat.' 
  "be quiet!' said bathsheba. 
  the further expression of liddy's concern was con+ 
tinued by aspect instead of narrative. 
  "why doesn't mrs. coggan go to the door?' bath+ 
sheba continued. 
  rat-tat-tat-tat, resounded more decisively from bath+ 
sheba's oak. 
  "maryann, you go!' said she, fluttering under the 
onset ot a crowd of romantic possibilities. 
  "o ma'am -- see, here's a mess!' 
  the argument was unanswerable after a glance at 
maryann. 
  "liddy -- you must,' said bathsheba. 
  liddy held up her hands and arms, coated with dust 
from the rubbish they were sorting, and looked implor+ 
ingly at her mistress. 
  "there -- -mrs. coggan is going!' said bathsheba, 
exhaling her relief in the form of a long breath which 
had lain in her bosom a minute or more. 
  the door opened, and a deep voice said -- 
  "is miss everdene at home?' 
  "i'll see, sir,' said mrs. coggan, and in a minute 
appeared in the room. 
  "dear, what a thirtover place this world is!' con+ 
tinued mrs. coggan (a wholesome-looking lady who 
had a voice for each class of remark according to the 
emotion involved; who could toss a pancake or twirl 
a mop with the accuracy of pure mathematics, and 
who at this moment showed hands shaggy with frag+ 
ments of dough and arms encrusted with flour). "i 
am never up to my elbows, miss, in making a pudding 
but one of two things do happen -- either my nose must 
needs begin 
<p 124> 
tickling, and i can't live without scratching 
  a woman's dress being a part of her countenance, 
and any disorder in the one being of the same nature 
with a malformation or wound in the other, bathsheba 
said at once -- 
  "i can't see him in this state. whatever shall i do?' 
  not-at-homes were hardly naturalized in weatherbury 
farmhouses, so liddy suggested -- "say you're a fright 
with dust, and can't come down.' 
  "yes -- that sounds very well,' said mrs. coggan, 
critically. 
  "say i can't see him -- that will do.' 
  mrs. coggan went downstairs, and returned the 
answer as requested, adding, however, on her own 
responsibility, "miss is dusting bottles, sir, and is quite 
a object -- that's why 'tis.' 
  "oh, very well,' said the deep voice,' indifferently. 
"all i wanted to ask was, if anything had been heard 
of fanny robin?' 
  "nothing, sir -- but we may know to-night. william 
smallbury is gone to casterbridge, where her young 
man lives, as is supposed, and the other men be inquir+ 
ing about everywhere.' 
  the horse's tramp then recommenced and -retreated, 
and the door closed. 
  "who is mr. boldwood?' said bathsheba. 
  "a gentleman-farmer at little weatherbury.' 
  "married?' 
  "no, miss.' 
  "how old is he?' 
  "forty, i should say -- very handsome -- rather stern+ 
looking -- and rich.' 
  "what a bother this dusting is!  i am always in 
some unfortunate plight or other;' bathsheba said, 
complainingly. "why should he inquire aboat fanny?' 
  "oh, because, as she had no friends in her childhood, 
he took her and put her to school, and got her her 
place here under your uncle. he's a very kind man 
that way, but lord -- there!' 
  "what?' 
  "never was such a hopeless man for a woman! 
he's been 
<p 125> 
courted by sixes and sevens -- all the girls, 
gentle and simple, for miles round, have tried him. jane 
perkins worked at him for two months like a slave, 
and the two miss taylors spent a year upon him, 
and he cost farmer ives's daughter nights of tears 
and twenty pounds' worth of new clothes; but lord -- 
the money might as well have been thrown out of the 
window.' 
  a little boy came up at this moment and looked in 
upon them. this child was one of the coggans who, 
with the smallburys, were as common among the 
families of this district as the avons and derwents 
among our rivers. he always had a loosened tooth or 
a cut finger to show to particular friends, which he did 
with an air of being thereby elevated above the common 
herd of afflictionless humanity -- to which exhibition 
of congratulation as well as pity. 
  "i've got a pen-nee!' said master coggan in a 
scanning measure. 
  "well -- who gave it you, teddy?' said liddy. 
  "mis-terr bold-wood! he gave it to me for opening 
the gate.' 
  "what did he say?' 
  "he said "where are you going, my little man?'' 
and i said, "to miss everdene's please;'' and he said, 
"she is a staid woman, isn't she, my little man?' and 
i said, ""yes.''' 
  "you naughty child! what did you say that for?' 
  "cause he gave me the penny!' 
  "what a pucker evrything is in!' said bathsheba, 
discontentedly when the child had gone. 'get away, 
thing! you ought to be married by this time, and not 
here troubling me!' 
  "ay, mistress -- so i did. but what between the poor 
men i won't have, and the rich men who won't have me, 
i stand as a pelicon in the wilderness!' 
  "did anybody ever want to marry you miss?' liddy 
ventured to ask when they were again alone. "lots of 
'em, i daresay.?' 
  bathsheba paused, as if about to refuse a reply, but 
the temptation to say yes, since it was really in her 
power was irresistible by aspiring virginity, in spite of 
her spleen at having been published as old. 
<p 126> 
  "a man wanted to once,' she said, in a highly experi+ 
enced tone and the image of gabriel oak, as the farmer, 
rose before her. 
  "how nice it must seem!' said liddy, with the fixed 
features of mental realization. "and you wouldn't have 
him?' 
  "he wasn't quite good enough for me.' 
  "how sweet to be able to disdain, when most of us 
are glad to say, ""thank you!'' i seem i hear it. 
""no, sir -- i'm your better,'' or ""kiss my foot, sir; my 
face is for mouths of consequence.'' and did you love 
him, miss?' 
  "oh, no. but i rather liked him.' 
  "do you now?' 
  "of course not -- what footsteps are those i hear?' 
  liddy looked from a back window into the courtyard 
behind, which was now getting low-toned and dim with 
the earliest films of night. a crooked file of men was 
approaching the back door. the whole string of trailing 
individuals advanced in the completest balance of inten+ 
tion, like the remarkable creatures known as chain 
salpae, which, distinctly organized in other respects, have 
one will common to a whole family. some were, as 
usual, in snow-white smock-frocks of russia duck, and 
some in whitey-brown ones of drabbet -- marked on the 
wrists, breasts, backs, and sleeves with honeycomb-work. 
two or three womcn in pattens brought up the rear. 
  "the philistines be upon us,' said liddy, making her 
nose white against the glass. 
  "oh, very well. maryann, go down and keep them 
in the kitchen till i am dressed, and then show them in 
to me in the hall.' 
<c x> 
<p 127> 
half-an-hour later bathsheba, in finished dress, 
and followed by liddy, entered the upper end of the old 
hall to find that her men had all deposited themselves on 
a long form and a settle at the lower extremity. she sat 
down at a table and opened th e time-book, pen in her 
hand, with a canvas money-bag beside her. from this 
she poured a small heap of coin. liddy chose a 
position at her elbow and began to sew, sometimes 
pausing and looking round, or with the air of a privileged 
person, taking up one of the half-sovereigns lying before 
her and surveying it merely as a work of art, while 
strictly preventing her countenance from expressing any 
wish to possess it as money. 
  "now before i begin, men,' said bathsheba, "i have 
two matters to speak of. the first is that the bailiff is 
dismissed for thieving, and that i have formed a resolu+ 
tion to have no bailiff at all, but to manage everything 
with my own head and hands.' 
  the men breathed an audible breath of amazement. 
  "the next matter is, have you heard anything of 
fanny?' 
  "nothing, ma'am. 
  "have you done anything?' 
  "i met farmer boldwood,' said jacob smallbury, 'and 
i went with him and two of his men, and dragged new+ 
mill pond, but we found nothing.' 
  "and the new shepherd have been to buck's head, 
by yalbury, thinking she had gone there, but nobody 
had seed her,' said laban tall. 
  "hasn't william smallbury been to casterbridge?' 
  "yes, ma'am, but he's not yet come home. he 
promised to be back by six.' 
  "it wants a quarter to six at present,' said bathsheba, 
  
<p 128> 
looking at her watch. "i daresay he'll be in directly. 
well, now then' -- she looked into the book -- "joseph 
poorgrass, are you there?' 
  "yes, sir -- ma'am i mane,' said the person addressed. 
"i be the personal name of poorgrass.' 
  "and what are you?' 
  "nothing in my own eye. in the eye of other people 
 -- well, i don't say it; though public thought will out.' 
  "what do you do on the farm?' 
  "i do do carting things all the year, and in seed time i 
shoots the rooks and sparrows, and helps at pig-killing, sir.' 
  "how much to you ?' 
  "please nine and ninepence and a good halfpenny 
where 'twas a bad one, sir -- ma'am i mane.' 
  "quite correct. now here are ten shillings in addi+ 
tion as a small present, as i am a new comer.' 
  bathsheba blushed slightly at the sense of being 
generous in public, and henery fray, who had drawn 
up towards her chair, lifted his eyebrows and fingers to 
express amazement on a small scale. 
  "how much do i owe you -- that man in the corner -- 
what's your name?' continued bathsheba. 
  "matthew moon, ma'am,' said a singular framework of 
clothes with nothing of any consequence inside them, 
which advanced with the toes in no definite direction 
forwards, but turned in or out as they chanced to swing. 
  "matthew mark, did you say? -- speak out -- i shall 
not hurt you,' inquired the young farmer, kindly. 
  "matthew moon mem' said henery fray, correct+ 
ingly, from behind her chair, to which point he had 
edged himself. 
  "matthew moon,' murmured bathsheba, turning her 
bright eyes to the book. "ten and twopence halfpenny 
is the sum put down to you, i see?' 
  "yes, mis'ess,' said matthew, as the rustle of wind 
among dead leaves. 
  "here it is and ten shillings. now -the next -- andrew 
randle, you are a new man, i hear. how come you to 
leave your last farm?' 
<p 129> 
  "p-p-p-p-p-pl-pl-pl-pl-l-l-l-l-ease, ma'am, p-p-p-p-pl-pl+ 
pl-pl-please, ma'am-please'm-please'm --  --  ' 
  "'a's a stammering man, mem,' said henery fray in 
an undertone, "and they turned him away because the 
only time he ever did speak plain he said his soul was 
his own, and other iniquities, to the squire. "a can cuss, 
mem, as well as you or i, but 'a can't speak a common 
speech to save his life.' 
  "andrew randle, here's yours -- finish thanking me 
in a day or two. temperance miller -- oh, here's another, 
soberness -- both women i suppose?' 
  "yes'm. here we be, 'a b'lieve,' was echoed in shrill 
unison. 
  "what have you been doing?' 
  "tending thrashing-machine and wimbling haybonds, 
and saying ""hoosh!'' to the cocks and hens when they 
go upon your seeds and planting early flourballs and 
thompson's wonderfuls with a dibble.' 
  "yes -- i see. are they satisfactory women?' she 
inquired softly of henery fray. 
  "o mem -- don't ask me! yeilding women?' as 
scarlet a pair as ever was!' groaned henery under his 
breath. 
  "sit down. 
  "who, mem?' 
  "sit down,' 
  joseph poorgrass, in the background twitched, and 
his lips became dry with fear of some terrible conse+ 
quences, as he saw bathsheba summarily speaking, and 
henery slinking off to a corner. 
  "now the next. laban tall, you'll stay on working 
for me?' 
  "for you or anybody that pays me well, ma'am,' 
replied the young married man. 
  "true -- the man must live!' said a woman in the 
back quarter, who had just entered with clicking pattens. 
  "what woman is that?" bathsheba asked. 
  "i be his lawful wife!' continued the voice with 
greater prominence of manner and tone. this lady 
called herself five-and-twenty, looked thirty, passed as 
thirty-five, and was forty. she was a woman who never, 
like some newly married, showed 
<p 130> 
conjugal tenderness in 
public, perhaps because she had none to show. 
  "oh, you are,' said bathsheba. "well, laban, will 
you stay on ?' 
  "yes, he'll stay, ma'am!' said again the shrill tongue 
of laban's lawful wife. 
  "well, he can speak for himself, i suppose.' 
  "o lord, not he, ma'am! a simple tool. well 
enough, but a poor gawkhammer mortal,' the wife replied 
  "heh-heh-heh!' laughed the married man with a 
hideous effort of appreciation, for he was as irrepressibly 
good-humoured under ghastly snubs as a parliamentary 
candidate on the hustings. 
  the names remaining were called in the same 
manner. 
  "now i think i have done with you,' said bathsheba, 
closing the book and shaking back a stray twine of hair. 
"has william smallbury returned?' 
  "no, ma'am.' 
  "the new shepherd will want a man under him,' 
suggested henery fray, trying to make himself official 
again by a sideway approach towards her chair. 
  "oh -- he will. who can he have?' 
  "young cain ball is a very good lad,' henery said, 
"and shepherd oak don't mind his youth?' he added, 
turning with an apologetic smile to the shepherd, who 
had just appeared on the scene, and was now leaning 
against the doorpost with his arms folded. 
  "no, i don't mind that,' said gabriel. 
  "how did cain come by such a name?' asked 
bathsheba. 
  "oh you see, mem, his pore mother, not being a 
scripture-read woman made a mistake at his christening, 
thinking 'twas abel killed cain, and called en cain, 
but 'twas too late, for the name could never be got rid 
of in the parish. "tis very unfortunate for the boy.' 
  "it is rather unfortunate.' 
  "yes. however, we soften it down as much as we 
can, and call him cainey. ah, pore widow-woman! 
she cried her heart 
<p 131> 
out about it almost. she was 
brought up by a very heathen father and mother, who 
never sent her to church or school, and it shows how 
the sins of the parents are visited upon the children, 
mem.' 
  mr. fray here drew up his features to the mild degree 
of melancholy required when the persons involved in 
the given misfortune do not belong to your own family. 
  "very well then, cainey ball to be under-shepherd 
and you quite understand your duties? -- you i mean, 
gabriel oak?' 
  "quite well, i thank you miss everdene,' said 
shepard oak from the doorpost. "if i don't, i'll 
inquire.' gabriel was rather staggered by the remark+ 
able coolness of her manner. certainly nobody without 
previous information would have dreamt that oak and 
the handsome woman before whom he stood had ever 
been other than strangers. but perhaps her air was 
the inevitable result of the social rise which had advanced 
her from a cottage to a large house and fields. the 
case is not unexampled in high places. when, in the 
writings of the later poets, jove and his family are found 
to have moved from their cramped quarters on the peak 
of olympus into the wide sky above it, their words show 
a proportionate increase of arrogance and reserve. 
footsteps were heard in the passage, combining in 
their character the qualities both of weight and measure, 
rather at the expense of velocity. 
(all.) 'here's billy smallbury come from caster+ 
bridge.' 
' and what's the news ? ' said bathsheba, as william, 
after marching to the middle of the hall, took a hand+ 
kerchief from his hat and wiped his forehead from its 
centre to its remoter boundaries. 
'i should have been sooner, miss,' he said, 'if it 
hadn't been for the weather.' he then stamped with 
each foot severely, and on looking down his boots were 
perceived to be clogged with snow. 
'come at last, is it ?' said henery. 
" well, what about fanny ? ' said bathsheba. 
"well, ma'am, in round numbers, she's run away with 
the soldiers,' said william. 
<p 132> 
" no; not a steady girl like fanny ! ' 
"i'll tell ye all particulars. when i got to caster, 
bridge barracks, they said, " the eleventh dragoon+ 
guards be gone away, and new troops have come." 
the eleventh left last week for melchester and onwards. 
the route came from government like a thief in the 
night, as is his nature to, and afore the eleventh knew 
it almost, they wem on the march. they passed near 
here.' 
gabriel had listened with interest. 'i saw them go,' 
he said. 
' yes,' continued william, ' they pranced down the 
street playing "the girl i left behind me,' so 'tis 
said, in glorious notes of triumph. every looker-on's 
inside shook with the blows of the great drum to his 
deepest vitals, and there was not a dry eye throughout 
the town among the public-house people and the name+ 
less women !.' 
'but they're not gone to any war?' 
'no, ma'am; but they be gone to take the places 
of them who may, which is very close connected. and 
so i said to myself, fanny's young man was one of the 
regiment, and she's gone after him. there, ma'am, 
that's it in black and white.' 
gabriel remained musing and said nothing, for he 
was in doubt. 
'well, we are not likely to know more to-night, at 
any rate,' said bathsheba. 'but one of you had better 
run across to farmer boldwood's and tell him that 
much.' 
she then rose; but before retiring, addressed a few 
words to them with a pretty dignity, to which her 
mourning dress added a soberness that was hardly to 
be found in the words themselves. 
'now mind, you have a mistress instead of a master 
i don't yet know my powers or my talents in farming; 
but i shall do my best, and if you serve me well, so 
shall i serve you. don't any unfair ones among you 
(if there are any such, but i hope not) suppose that 
because i'm a woman i don't understand the difference 
between bad goings-on and good.' 
<p 133> 
(all.) 'nom!. 
(liddy.) 'excellent well said.' 
'i shall be up before you are awake; i shall be 
afield before you are up ; and i shall have breakfasted 
before you are afield. in short, i shall astonish you all. 
(all.) 'yes'm!' 
'and so good-night.' 
(all.) 'good-night, ma'am.' 
then this small-thesmothete stepped from the table, 
and surged out of the hall, her black silk dress licking 
up a few straws and dragging them along with a scratch+ 
ing noise upon the floor. biddy, elevating her feelings 
to the occasion from a sense of grandeur, floated off 
behind bathsheba with a milder dignity not entirely 
free from travesty, and the door was closed. 
<c xi> 
<p 134> 
outside the barracks -- snow -- a meeting 
for dreariness nothing could surpass a prospect in the 
outskirts of a certain town and military station, many 
miles north of weatherbury, at a later hour on this 
same snowy evening -- if that may be called a prospect 
of which the chief constituent was darkness. 
it was a night when sorrow may come to the 
brightest without causing any great sense of incongruity : 
when, with impressible persons, love becomes solicitous+ 
ness, hope sinks to misgiving, and faith to hope : when 
the exercise of memory does not stir feelings of regret 
at opportunities for ambition that have been passed by, 
and anticipation does not prompt to enterprise. 
the scene was a public path, bordered on the left 
hand by a river, behind which rose a high wall. on 
the right was a tract of land, partly meadow'and partly 
moor, reaching, at its remote verge, to a wide undulating 
uplan. 
the changes of the seasons are less obtrusive on 
spots of this kind than amid woodland scenery. still, 
to a close observer, they are just as perceptible ; the 
difference is that their media of manifestation are less 
trite and familiar than such well-known ones as the 
bursting of the buds or the fall of the leaf. many are 
not so stealthy and gradual as we may be apt to 
imagine in considering the general torpidity of a moor 
or waste. winter, in coming to the country hereabout, 
advanced in well-marked stages, wherein might have 
been successively observed the retreat of the snakes, 
the transformation of the ferns, the filling of the pools, 
a rising of fogs, the embrowning by frost, the collapse 
of the fungi, and an obliteration by snow. 
this climax of the series had been reached to-night on 
the aforesaid moor, and for the first time in the season 
its 
<p 135> 
irregularities were forms without features ; suggestive 
of anything, proclaiming nothing, and without more 
character than that of being the limit of something 
else -- the lowest layer of a firmament of snow. from 
this chaotic skyful of crowding flakes the mead and 
moor momentarily received additional clothing, only 
to appear momentarily more naked thereby. the vast 
arch of cloud above was strangely low, and formed as 
it were the roof of a large dark cavern, gradually sinking 
in upon its floor; for the instinctive thought was that 
the snow lining the heavens and that encrusting the 
earth would soon unite into one mass without any 
intervening stratum of air at all. 
we turn our attention to the left-hand characteristics ; 
which were flatness in respect of the river, verticality 
in respect of the wall behind it, and darkness as to 
both. these features made up the mass. if anything 
could be darker than the sky, it was the wall, and if any 
thing could be gloomier than the wall it was the river 
beneath. the indistinct summit of the facade was 
notched and pronged by chimneys here and there, and 
upon its face were faintly signified the oblong shapes 
of windows, though only in the upper part. below, 
down to the water's edge, the flat was unbroken by 
hole or projection. 
an indescribable succession of dull blows, perplexing 
in their regularity, sent their sound- with difficulty 
through the fluffy atmosphere. it was a neighbouring 
clock striking ten the bell was in the open air, and 
being overlaid with several inches of muffling snow, had 
lost its voiee for the time. 
about this hour the snow abated : ten flakes fell 
where twenty had fallen, then one had the room of 
ten. not long after a form moved by the brink of 
the river. 
by its outline upon the colourless background, a close 
observer might have seen 'that it was small. this was 
all that was positively discoverable, though it seemed 
human. 
the shape went slowly along, but without much 
exertion, for the snow, though sudden, was not as yet 
more than two inches deep. at this time some words 
were spoken aloud : -- 
' one. two. 'three. four. five.' 
 between each utterance the little shape advanced 
about half a dozen yards. it was evident now that 
the windows high 
<p 136> 
in the wall were being counted. 
the word 'five' represented the fifth window from 
the end of the wall. 
here the spot stopped, and dwindled smaller. the 
figure was stooping. then a morsel of snow flew 
across the river towards the fifth window. it smacked 
against the wall at a point several yards from its mark. 
the throw was the idea of a man conjoined with the 
execution of a woman. no man who had ever seen bird, 
rabbit, or squirrel in his childhood, could possibly have 
thrown with such utter imbecility as was shown here. 
another attempt, and another ; till by degrees the 
wall must have become pimpled with the adhering 
lumps of snow  at last one fragment struck the fifth 
window. 
the river would have been; seen by day to be of 
that deep smooth sort which races middle and' sides 
with the same gliding precision, any irregularities of 
speed being immediately corrected by a small whirl+ 
pool. nothing was heard in reply to the signal but 
the gurgle and cluck of one of these invisible wheels -- 
together with a few small sounds which a sad man 
would have called moans, and a happy man laughter -- 
caused by the flapping of the waters against trifling 
objects in other parts of the stream. 
the window was struck again in the same manner. 
then a noise was heard, apparently produced by 
the opening of the window. this was followed by a 
voice from the same quarter. 
'who's there ? ' 
the tones were masculine, and not those of surprise. 
the high wall being that of a barrack, and marriage 
being looked upon with disfavour in the army, assigna+ 
tions and communications had probably been made 
across the river before tonight. 
"is it sergeant troy?' said the blurred spot in the 
snow, tremulously. 
this person was so much like a mere shade upon 
the earth, and the other speaker so much a part of 
the building, that one would have said the wall was 
holding a conversation with the snow. 
<p 137> 
'yes,' came suspiciously from the shadow. ' what 
girl are you ? ' 
'o, frank -- don't you know me ?' said the spot. 
'your wife, fanny robin.' 
' fanny !.' said the wall, in utter astonishment. 
'yes,' said the girl, with a half-suppressed gasp of 
emotion. 
there was something in the woman's tone which is 
not that of the wife, and there was a mannerin the man 
which is rarely a husband's. the dialogue went on: 
'how did you come here ?' 
'i asked which was your window. forgive me !. ' 
"i did not expect you to-night. indeed, i did not 
think you would come at all. it was a wonder you 
found me here. i am orderly to-morrow.' 
'you said i was to come.' 
' well -- i said that you might.' 
'yes, i mean that i might. you are glad to see me, 
frank ? ' 
' o yes -- of course.' 
' can you -- come to me !.' 
'my dear fan, no .! the bugle has sounded, the 
barrack gates are closed, and i have no leave. we are 
all of us as good as in the county gaol till to-morrow 
morning.' 
' then i shan't see you till then .! ' the words- were 
in a faltering tone of disappointment. 
' how did you get here from weatherbury ? ' 
'i walked -- some part of the way -- the rest by the 
carriers.' 
' i am surprised.' 
' yes -- so am i. and frank, when will it 'be ? ' 
' what ? ' 
' that you promised.' 
" i don't quite recollect.' 
'0 you do! don't speak like that. it weighs me 
to the earth. it makes me say what ought to be said 
first by you.' 
' never mind -- say it.' 
'0, must i? -- it is, when shall we be married, 
frank ? ' 
" oh, i " see. well --  you have to get proper 
clothes.' 
"i have money. will it be by banns or license ?' 
<p 138> 
" banns, i should think.' 
" and we live in two parishes.' 
"do we ? what then?' 
"my lodgings are in st. mary's, and this is not. so 
they will have to be published in both.' 
"is that the law?' 
" yes. o frank -- you think me forward, i am 
afraid .! don't, dear frank -- will you -- for i love you so. 
and you said lots of times you would marry me, and 
and -- i -- i -- i --  -- ' 
  "don't cry, now! it is foolish. if i said so, of 
course i will.' 
'and shall i put up the banns in my parish, and will 
you in yours?' 
"yes' 
"to-morrow?' 
"not tomorrow. we'll settle in a few days.' 
"you have the permission of the officers?' 
"no, not yet.' 
"o -- how is it? you said you almost had before 
you left casterbridge.' 
"the fact is, i forgot to ask. your coming like this 
i'll go away now. will you qode,and seq be to-morroy 
is so sudden and unexpected.' 
"yes -- yes -- it is. it was wrong of me to worry you. 
i'll go away now. will you come and see me to-morrow, 
at mrs. twills's, in north street? i don't like to come 
to the barracks. there are bad women about, and they 
think me one.' 
"quite,so. i'll come to you, my dean good-night.' 
"good-night, frank -- good-night!' 
and the noise was again heard of a window closing 
the little spot moved away. when she passed the 
corner a subdued exclamation was heard inside the 
wall. 
"ho -- ho -- sergeant -- ho -- ho!' an expostulation 
followed, but it was indistinct; and it became lost amid 
a low peal of laughter, which was hardly distinguishable 
from the gurgle of the tiny whirlpools outside. 
<c xii> 
<p 139> 
farmers -- a rule -- in exception 
the first public evidence of bathsheba's decision to 
be a farmer in her own person and by proxy no more 
was her appearance the following market-day in. the 
cornmarket at casterbridge. 
the low though extensive hall, supported by beams 
and pillars, and latterly dignified by-the name of corn ex+ 
change, was thronged with hot men who talked among 
each other in twos and threes, the speaker of the minute 
looking sideways into his auditor's face and concentrating 
his argument by a contraction of one eyelid during de+ 
livery. the greater number carried in their hands 
ground-ash saplings, using them partly as walking-sticks 
and partly for poking up pigs, sheep, neighbours with 
their backs turned, and restful things in general, which 
seemed to require such treatment in the course of their 
peregrinations. during conversations each subjected 
his sapling to great varieties of usage -- bending it round 
his back, forming an"arch of it between his two hands, 
overweighting it on the ground till it reached nearly a 
semicircle; or perhaps it was hastily tucked under the 
arm whilst the sample-bag was pulled forth and a hand+ 
ful of corn poured into the palm, which, after criticism, 
was flung upon the floor, an issue of events perfectly 
well known to half-a-dozen acute town-bred fowls which 
had as usual crept into the building unobserved, and 
waited the fulfilment of their anticipations with a high+ 
stretched neck and oblique eye. 
among these heavy yeomen a feminine figure glided, 
the single one of her sex that the room contained. she 
was prettily and even daintily dressed. she moved 
between them as a chaise between carts, was heard after 
them as a romance after sermons, was felt among them 
like a breeze among furnaces. it had required a little 
determination -- far more than she had at 
<p 140> 
first imagined 
 -- to take up a position here, for at her first entry the 
lumbering dialogues had ceased, nearly every face had 
been turned towards her, and those that were already 
turned rigidly fixed there. 
two or three only of the farmers were personally 
known to bathsheba, and to these she had made her 
way. but if she was to be the practical woman she had 
intended to show herself, business must be carried on, 
introductions or none, and she ultimately acquired con+ 
fidence enough to speak and reply boldly to men merely 
known to her by hearsay. bathsheba too had her 
sample-bags, and by degrees adopted the professional 
pour into the hand -- holding up the grains in her narrow 
palm for inspection, in perfect casterbridge manner. 
something in the exact arch of her upper unbroken 
row of teeth, and in the keenly pointed corners of her 
red mouth when, with parted lips, she somewhat 
defiantly turned up her face to argue a point with a 
tall man, suggested that there was potentiality enough 
in that lithe slip of humanity for alarming exploits of 
sex, and daring enough to carry them out. but her eyes 
had a softness -- invariably a softness -- which, had they 
not been dark, would have seemed mistiness; as they 
were, it lowered an expression that might have been 
piercing to simple clearness, 
strange to say of a woman in full bloom and vigor, 
she always allowed her interlocutors to finish their state+ 
ments before rejoining with hers. in arguing on prices, 
he held to her own firmly, as was natural in a dealer, 
and reduced theirs persistently, as was inevitable in a 
oman. but there was an elasticity in her firmness 
which removed it from obstinacy, as there was a naivete 
in her cheapening which saved it from meanness. 
those of the farmers with whom she had no dealings 
by far the greater part) were continually asking each 
other, "who is she?' the reply would be -- 
"farmer everdene's niece; took on weatherbury 
upper farm; turned away the baily, and swears she'll do 
verything herself.' 
the other man would then shake his head. 
<p 141> 
"yes, 'tis a pity she's so headstrong,' the first would 
say. "but we ought to be proud of her here -- she 
lightens up the old place. 'tis such a shapely maid, 
however, that she'll soon get picked up.' 
it would be ungallant to suggest that the novelty of 
her engagement in such an occupation had almost as 
much to do with the magnetism as had the beauty of 
her face and movements. however, te interest was 
eneral, and this saturday's debut in the forum, whatever 
it may have been to bathsheba as the buying and selling 
farmer, was unquestionably a triumph to her as the 
maiden. indeed, the sensation was so pronounced that 
her instinct on two or three occasions was merely to 
valk as a queen among these gods of the fallow, like a 
little sister of a little jove, and"to neglect closing prices 
altogether. 
the numerous evidences of-her power to attract were 
only thrown into greater relief by a marked exception. 
women seem to have eyes in their ribbons for such 
matters as these. bathsheba, without looking within 
a right angle of him, was conscious of a black sheep 
among the flock. 
it perplexed her first. if there had been a respect+ 
able minority on either side, the case would have been 
most natural. if nobody had regarded her, she would 
have -- -taken the matter indifferently -- such cases had 
occurred. if eveybody, this man included, she would 
have taken it as a matter of course -- people had done 
so before. but the smallness of the exception made the 
mystery. 
she soon knew thus much of the recusant's appear+ 
ance. he was a gentlemanly man, with full and 
distinctly outlined roman features, the prominences 
of which glowed in the sun with a bronze-like richness 
of tone. he was erect in attitude, and quiet in 
demeanour. one characteristic pre-eminently marked 
him -- dignity. 
apparently he had some time ago reached that 
entrance to middle age at which a man's aspect naturally 
ceases to alter for the term of a dozen years or so; and, 
artificially, a woman't does likewise.   thirty-five and 
fifiy were his limits of variation -- he might have been 
either, or anywhere between the two. 
it may be said that married men of forty are usually 
ready 
<p 142> 
and generous enough to fling passing glances at 
any specimen of moderate beauty they may discern by 
the way. probably, as with persons playing whist for 
love, the consciousness of a certain immunity under 
any circumstances from that worst possible ultimate, 
the having to pay, makes them unduly speculative. 
bathsheba was convinced that this unmoved person 
was not a married man. 
when marketing was over, she rushed off to liddy, 
who was waiting for her -- beside the yellowing in which 
they had driven to town. the horse was put in, and 
on they trotted bathsheba's sugar, tea, and drapery 
parcels being packed behind, and expeessing in some 
indescribable manner, by their colour, shape, and 
general lineaments, that they were that youmg lady+ 
farmer's property, and the grocer's and drapers no 
more. 
" i've been through it, liddy, and it is over. i shan't 
mind it again, for they will all have grown accustomed 
to seeing me there; but this morning it was as bad as 
being married -- eyes everywhere!' 
"i knowed it would. be,' liddy said "men be such 
a terrible class of society to look at a body.' 
"but there was one man who had more sense than 
to waste his time upon me.' the information was put 
in this form that liddy might not for a moment suppose 
her mistress was at all piqued. "a very good-looking 
man,' she continued, "upright; about forty, i should 
think. do you know at all who he could be?' 
liddy couldn't think. 
"can't you guess at all?' said bathsheba with some 
disappointment. 
"i haven't a notion; besides, 'tis no difference, since 
he took less notice of you than any of the rest. now, 
if he'd taken more, it would have mattered a great deal.' 
bathsheba was suffering from the reverse feeling just 
then, and they bowled along in silence. a low carriage, 
bowling along still more rapidly behind a horse of un+ 
impeachable breed, overtook and passed them. 
"why, there he is!' she said. 
liddy looked. "that! that's farmer boldwood -- 
of course 
<p 143> 
'tis -- the man you couldn't see the other day 
when he called.' 
"oh, farmer boldwood,' murmured bathsheba, and 
looked at him as he outstripped them. the farmer had 
never turned his head once, but with eyes fixed on the 
most advanced point along the road, passed as uncon+ 
sciously and abstractedly as if bathshea and her charms 
were thin air. 
"he's an interesting man -- don't you think so?' she 
remarked. 
"o yes, very. everybody owns it,' replied liddy. 
"i wonder why he is so wrapt up and indifferent, and 
seemingly so far away from all he sees around him,' 
"it is said -- but not known for certain -- that he met 
with some bitter disappointment when he was a young 
man and merry. a woman jilted him, they say.' 
"people always say that -- and we know very well 
women scarcely ever jilt men; 'tis the men who jilt us. 
i expect it is simply his nature to be so reserved.' 
"simply his nature -- i expect so, miss -- nothing else 
in the world.' 
"still, 'tis more romantic to think he has been served 
cruelly, poor thing'! perhaps, after all, he has! i 
"depend upon it he has. o yes, miss, he has! 
feel he must have.' 
"however, we are very apt to think extremes of 
people. i --  shouldn't wonder after all if it wasn't a 
little of both -- just between the two -- rather cruelly 
used and rather reserved.' 
"o dear no, miss -- i can't think it between the 
two!' 
"that's most likely.' 
"well, yes, so it is. i am convinced it is most likely. 
you may --  take my word, miss, that that's what's the 
matter with him.' 
<c xiii> 
<p 144> 
sortes sanctorum -- the valentine 
it was sunday afternoon in the farmhouse, on the 
thirteenth of february. dinner being over, bathsheba, 
for want of a better companion, had asked liddy to 
come and sit with her. the mouldy pile was dreary 
in winter-time before the candles were lighted and the 
shutters closed ; the atmosphere of the place seemed 
as old as the walls; every nook behind the furniture 
had a temperature of its own, for the fire was not 
kindled in this part of the house early in the day; 
and bathsheba's new piano, which was an old one 
in other annals, looked particularly sloping and out 
of level on the warped floor before night threw a 
shade over its less prominent angles and hid the 
unpleasantness. liddy, like a little brook, though 
shallow, was always rippling; her presence had not so 
much weight as to task thought, and yet enough to 
exercise it. 
on the table lay an old quarto bible, bound in 
leather. liddy looking at it said, -- 
"did you ever find out, miss, who you are going to 
marry by means of the bible and key ?, 
"don't be so foolish, liddy. as if such things 
could be.' 
" well, there's a good deal in it, all the same.' 
' nonsense, child.' 
" and it makes your heart beat fearful. some believe 
in it; some don't; i do.' 
"very well, let's try it,' said bathsheba, bounding 
from her seat with that total disregard of consistency 
which can be indulged in towards a dependent, and 
entering into the spirit of divination at once. 'go and 
get the front door key.' 
liddy fetched it. 'i wish it wasn't sunday,' she 
said, on returning. ' perhaps 'tis wrong.' 
' what's right week days is right sundays,' replied her 
mistress in a tone which was a proof in itself. 
<p 145> 
the book was opened -- the leaves, drab with age, 
being quite worn away at much-read verses by the fore' 
fingers "of unpractised readers in former days, where they 
were moved along under the line as an aid to the vision. 
the special verse in the book of ruth was sought out 
by bathsheba, and the sublime words met her eye. they 
slightly thrilled and abashed her. it was wisdom in 
the abstract facing folly in the concrete. folly in the 
concrete blushed, persisted in her intention, and placed 
the key on -the book. a rusty patch immediately upon 
the verse, caused by previous pressure of an iron 
substance thereon, told that this was not the first time 
the old volume had been used for the purpose. 
'now keep steady, and be silent,' said bathsheba. 
the 'verse was repeated; the book turned round ; 
bathsheba blushed guiltily. 
'who did you try ?' said liddy curiously. 
'i shall not tell you.' 
'did you notice mr. boldwood's doings in church 
this morning, miss ? 'liddy continued, adumbrating by 
the remark the track her thoughts had taken. 
'no, indeed,' said bathsheba, with serene indifference 
" his pew is exactly opposite yours, miss.' 
"i know it.' 
"and you did not see his goings on !,' 
certainly i did not, i tell you.' 
liddy assumed a smaller physiognomy, and shut 
her lips decisively. 
this move was unexpected, and proportionately dis 
concerting. " what did he do?' bathsheba said perforce. 
"didn't turn his head to look at you once all the 
service. 
"why should he?' again demanded her mistress, 
wearing a nettled look. "i didn't ask him to. 
'oh no. but everybody else was noticing you ; and 
it was odd he didn't. there, 'tis like him. rich and 
gentlemanly, what does he care ? ' 
bathsheba dropped into a silence intended to ex+ 
press that she had opinions on the matter too abstruse 
for liddy's comprehension, rather than that she had 
nothing to say. 
" 
<p 146> 
dear me -- i had nearly forgotten the valentine 
i bought yesterday,' she exclaimed at length. 
"valentine ! who for, miss ? ' said liddy. " farmer 
boldwood ?' 
it was the single name among all possible wrong 
ones that just at this moment seemed to bathsheba 
more pertinent than the right. 
"well, no. it is only for little teddy coggan. 
have promised him something, and this will be a pretty 
surprise for him. liddy, you may as well bring me 
my desk and i'll direct it at once.' 
bathsheba took from her desk a gorgeously illumin+ 
ated and embossed design in post-octavo, which had 
been "bought on the previous market-day at the chief 
stationer's in casterbridge. in the eentre was a small 
oval enclosure ; this was left blank, that the sender 
might insert tender words more appropriate to the 
special occasion than any generalities by a printer 
could possibly be. 
" here's a place for writing,' said bathsheba. 'what 
shall i put ?' 
" something of this sort, i should think', returned 
liddy promptly : -- 
" the rose is red, 
 the violet blue, 
 camation's sweet, 
 and so are you.' 
" yes, that shall be it. it just suits itself to a chubby+ 
faced child like him,' said bathsheba. she ins.erted the 
words in a small though legible handwriting; enelosed 
the sheet in an envelope, and dipped her pen for the 
direction. 
"what fun it would be to send it to the stupid old 
boldwood, and how he would wonder.! ' said the 
irrepressible liddy, lifting her eyebrows, and indulging 
in an awful mirth on the verge of fear as she thought 
of the moral and social magnitude of the man contem+ 
plated. 
bathsheba paused to regard the idea at full length. 
boldwood's had begun to be a troublesome image -- a 
species of daniel in her kingdom who persisted in 
kneeling eastward 
<p 147> 
when reason and common sense 
said that he might just as well follow suit with the 
rest, and afford her the official glance of admiration 
which cost nothing at all. she was far from being 
seriously concerned about his nonconformity. still, 
it was faintly depressing that the most dignified and 
valuable man in the parish should withhold his eyes, 
and that a girl like liddy should talk about it. so 
liddy's idea was at first rather harassing than piquant. 
" no, i won't do that. he wouldn't see any humour 
in it.' 
" he'd worry to death,' said the persistent liddy. 
" really, i don't care particularly to send it to 
teddy,' remarked her mistress. " he's rather a naughty 
child sometimes.' 
" yes -- that he is.' 
" let's toss as men do,' said bathsheba, idly. 'now 
then, head, boldwood ; tail, teddy. no, we won't toss 
money on a sunday that would be tempting the devil 
indeed.' 
"toss this hymn-book; there can't be no sinfulness 
in that, miss.' 
'very well. open, boldwood -- shut, teddy. no; 
it's more likely to fall open. open, teddy -- shut, 
boldwood.' 
the book went fluttering in the air and came down shut. 
bathsheba, a small yawn upon her mouth, took the 
pen, and with off-hand serenity directed the missive to 
boldwood. 
'now light a candle, liddy. which seal shall we 
use? here's a unicorn's head --  there's nothing in 
that. what's this ? -- two doves -- no. it ought to be 
something extraodinary, ought it not, lidd? here's 
one with a motto -- i remember it is some funny one, 
but i can't read it. we'll try this, and if it doen't 
do we'll have another.' 
a large red seal was duly affixed. bathsheba looked 
closely at the hot wax to discover the words. 
'capital!' she exclaimed, throwing down the letter 
frolicsomely. " 'twould upset the solemnity of a parson 
  
<p 148> 
the same evening the letter was sent, and was duly 
returned to weatherbury again in the morning. 
of love as a spectacle bathsheba had a fair knowledge; 
but of love subjectively she knew nothing. 
<c xiv> 
<p 149> 
effect of the letter -- sunrise 
at dusk, on the evening of st. valentine's day, bold+ 
wood sat down to supper as usual, by a beaming fire 
of aged logs. upon the matel-shelf before him was 
a time-piece, surmounted by a spread eagle, and upon 
the eagle's wings was the letter bathsheba had sent. 
here the bachelor's gaze was continually fastening 
itself, till the large red seal became as a blot of blood 
on the retina of his eye; and as he ate and drank he 
still read in fancy the words thereon, although they 
were too remote for his sight -- 
" marry me.' 
the pert injunction was like those crystal substances 
which, colourless themselves, assume the tone of objects 
about them. here, in the quiet of boldwood's parlour, 
where everything that ,was not grave was extraneous, 
and where the atmosphere was that of a puritan sunday 
lasting all the week, the letter and its dictum changed' 
their tenor from the thoughtlessness of their origin to 
a deep solemnity, imbibed from their accessories 
now. 
since the receipt of the missive in the morning, 
boldwood had felt the symmetry of his existence to 
be slowly getting distorted in the direction of an ideal 
passion. the disturbance was as the first floating 
weed to columbus -- the eontemptibly little suggesting 
possibilities of the infinitely great. 
the letter must have had an origin and a motive. 
that the latter was of the smallest magnitude com+ 
patible with its existence at all, boldwood, of course, 
did not know. and such an explanation did not 
strike him as a possibility even. it is foreign to a 
mystified condition of mind to realize of the mystifier 
that the processes of approving a course suggested by 
circumstance, and of striking out a course from inner 
impulse, would look the same in the result. the vast 
difference between 
<p 150> 
starting a train of events, and direct+ 
ing into a particular groove a series already started, is 
rarely apparent to the person confounded by the 
issue. 
when boldwood went to bed he placed the valen+ 
tine in the corner of the looking-glass. he was 
conscious of its presence, even when his back was 
turned upon it. it was the first time in boldwood's 
life that such an event had occurred. the same 
fascination that caused him to think it an act which had 
a deliberate motive prevented him from regarding it as 
an impertinence. he looked again at the direction. 
the mysterious influences of night invested the writing 
with the presence of the unknown writer. somebody's 
some woman's -- hand had travelled softly over the 
paper bearing his name ; her unrevealed eyes had 
watched every curve as she formed it ; her brain had 
seen him in imagination the while. why should 
she have imagined him ? her mouth -- were the lips 
red or pale, plump or creased? -- had curved itself to a 
certain expression as the pen went on -- the corners had 
moved with all their natural tremulousness : what had 
been the expression ? 
the vision of the woman writing, as a supplement to 
the words written, had no individuality. she was a 
misty shape, and well she might be, considering that 
her original was at that moment sound asleep and 
oblivious of all love and letter-writing under the sky. 
whenever boldwood dozed she took a form, and com+ 
paratively ceased to be a vision : when he awoke there 
was the letter justifying the dream. 
the moon shone to-night, and its light was not of 
a customary kind. his window admitted only a 
reflection of its rays, and the pale sheen had that 
reversed direction which snow gives, coming upward 
and lighting up his ceiling in an unnatural way, casting 
shadows in strange places, and putting lights where 
shadows had used to be. 
the substance of the epistle had occupied him but 
little in comparison with the fact of its arrival. he 
suddenly wondered if anything more might be found in 
the envelope than what he had withdrawn. he jumped 
out of bed in the weird light, took the letter, pulled out 
the flimsy sheet, shook the envelope -- searched it. 
nothing more was there. boldwood looked, as he 
<p 151> 
had a hundred times the preceding day, at the insistent red 
seal : " marry me,' he said aloud. 
the solemn and reserved yeoman again closed the 
letter, and stuck it in the frame of the glass. in doing 
so he caught sight of his reflected features, wan in 
expression, and insubstantial in form. he saw how 
closely compressed was his mouth, and that his eyes 
were wide-spread and vacant. feeling uneasy and dis+ 
satisfied with himself for this nervous excitability, he 
returned to bed. 
then the dawn drew on. the full power of the 
clear heaven was not equal to that of a cloudy sky at 
noon, when boldwood arose and dressed himself. he 
descended the stairs and went out towards the gate of 
a field to the east, leaning over which he paused and 
looked around. 
it was one of the usual slow sunrises of this time of 
the year, and the sky, pure violet in the zenith, was 
leaden to the northward, and murky to the east, where, 
over the snowy down or ewe-lease on weatherbury 
upper farm, and apparently resting upon the ridge, the 
only half of the sun yet visible burnt rayless, like a red 
and flameless fire shining over a white hearthstone. 
the whole effect resembled a sunset as childhood 
resembles age. 
in other directions, the fields and sky were so much 
of one colour by the snow, that it was difficult in a 
hasty glance to tell whereabouts the horizon occurred ; 
and in general there was here, too, that before-mentioned 
preternatural inversion of light and shade which attends 
the prospect when the garish brightness commonly in 
the sky is found on the earth, and the shades of earth 
are in the sky. over the west hung the wasting moon, 
now dull and greenish-yellow, like tarnished brass. 
boldwood was listlessly noting how the frost had 
hardened and glazed the surface of the snow, till it 
shone in the red eastern light wit-h the polish of marble; 
how, in some portions of the slope, withered grass-bents, 
encased in icicles, bristled through the smooth wan 
coverlet in the twisted and curved shapes of old 
venetian glass; and how the footprints of a few birds, 
which had hopped over the snow whilst it lay in the 
state of a soft fleece, were now frozen to a short perma+ 
<p 152> 
nency. a half-muffled noise of light wheels interrupted 
him. boldwood turned back into the road. it was 
the mail-cart -- a crazy, two-wheeled vehicle, hardly 
heavy enough to resist a puff of wind. the driver held 
out a letter. boldwood seized it and opened it, ex+ 
pecting another anonymous one -- so greatly are people's 
ideas of probability a mere sense that precedent will 
repeat itself. 
"i don't think it is for you, sir,' said the man, when 
he saw boldwood's action. "though there is no name 
i think it is for your shepherd.' 
boldwood looked then at the address -- 
to the new shepherd, 
weatherbury farm, 
near casterbridge. 
"oh -- what a mistake !. -- it is not mine. nor is it 
for my shepherd. it is for miss everdene's.' you had 
better take it on to him -- gabriel oak -- and say i opencd 
it in mistake." 
at this moment, on the ridge, up against the blazing 
sky, a figure was visible, like the black snuff in the 
midst of a candle-flame. then it moved and began to 
bustle about vigorously from place to place, carrying 
square skeleton masses, which were riddled by the same 
rays. a small figure on all fours followed behind. the 
tall form was that of gabriel oak ; the small one that 
of george ; the articles in course of transit were hurdles. 
'wait, 'said boldwood. " that's the man on the hill. 
i'll take the letter to him myself." 
to boldwood it was now no longer merely a letter to 
i another man. it was an opportunity. exhibiting a 
face pregnant with intention, he entered the snowy field. 
gabriel, at that minute, descended the hill towards 
the right. the glow stretched down in this direction 
now, and touched the distant roof of warren's malthouse 
whither the shepherd was apparently bent :  boldwood 
followed at a distance. 
<c xv> 
<p 153> 
the scarlet and orange light outside the malthouse did 
not penetrate to its interior, which was, as usual, lighted 
by a rival glow of similar hue, radiating from the hearth. 
the maltster, after having lain down in his clothes 
for a few hours, was now sitting beside a three-leggcd 
table, breakfasting of bread and bacon. this was 
eaten on the plateless system, which is performed by 
placing a slice of bread upon the table, the meat flat 
upon the bread, a mustard plaster upon the meat, and 
a pinch of salt upon the whole, then cutting them 
vertically downwards with a large pocket-knife till wood 
is reached, when the severed lamp is impaled on the 
knife, elevated, and sent the proper way of food. 
the maltster's lack of teeth appeared not to sensibly 
diminish his powers as a mill. he had been without 
them for so many years that toothlessness was felt less 
to be a defect than hard gums an acquisition. indeed, 
he seemed to approach the grave as a hyperbolic curve 
approaches a stmight line -- less directly as he got nearer, 
till it was doubtful if he would ever reach it at all. 
in the ashpit was a heap of potatoes roasting, and a 
boiling pipkin of charred bread, callcd 'coffee,' for the 
benefit of whomsoever should call, for warren's was a 
sort of clubhouse. used as an alternative to the in!. 
"i say, says i, we get a fine day, and then down 
comes a snapper at night,' was a remark now suddenly 
heard spreading into the malthouse from the door, which 
had been opened the previous moment. the form of 
henery fray advanced to the fire, stamping the snow 
from his boots when about half-way there. the speech 
and entry had not seemed to be at all an abrupt begin+ 
ning to the maltster, introductoy matter being often 
omitted in this neighbourhood, both from word and 
<p 154> 
deed, and the maltster having the same latitude allowed 
him, did not hurry to reply. he picked up a fragment 
of cheese, by pecking upon it with his knife, as a butcher 
picks up skewers. 
henery appeared in a drab kerseymere great-coat, 
buttoned over his smock-frock, the white skirts of the 
latter being visible to the distance of about a foot below 
the coat-tails, which, when you got used to the style of 
dress, looked natural enough, and even ornamental -- it 
certainly was comfortable. 
matthew moon, joseph poorgrass, and other carters 
and waggoners followed at his heels, with great lanterns 
dangling from their hands, which showed that they had 
just come from the cart-horse stables, where they had 
been busily engaged since four o'clock that morning. 
"and how is she getting on without a baily?' the 
maltster inquired. 
henery shook his head, and smiled one of the bitter 
smiles, dragging all the flesh of his forehead into a 
corrugated heap in the centre. 
" she'll rue it -- surely, surely ! ' he said " benjy 
pennyways were not a true man or an honest baily -- 
as big a betrayer as joey iscariot himself. but to think 
she can carr' on alone! ' he allowed his head to swing 
laterally three or four times in silence. " never in all my 
creeping up -- never! ' 
this was recognized by all as the conclusion of some 
gloomy speech which had been expressed in thought 
alone during the shake of the head; henery meanwhile 
retained several marks of despair upon his face, to 
imply that they would be required for use again directly 
he should go on speaking. 
'all will be ruined, and ourselves too, or there's no 
meat in gentlemen's houses!' said mark clark. 
'a headstrong maid, that's what she is -- and won't 
listen to no advice at all. pride and vanity have ruined 
many a cobbler's dog. dear, dear, when i think o' it, 
i sorrows like a man in travel ! ' 
'true, henery, you do, i've heard ye,' said joseph 
poorgrass in a voice of thorough attestation, and with 
a wire-drawn smile of misery. 
"'twould do a martel man no harm to have what's 
under 
<p 155> 
her bonnet,' said billy smallbury, who had just 
entered, bearing his one tooth before him. "she can 
spaik real language, and must have some sense some+ 
where. do ye foller me ?' 
"i do: but no baily -- i deserved that place,' wailed 
henery, signifying wasted genius by gazing blankly at 
visions of a high destiny apparently visible to him on 
billy smallbury's smock-frock. " there, 'twas to be, i 
suppose. your lot is your lot, and scripture is nothing; 
for if you do good you don't get rewarded according to 
your works, but be cheated in some mean way out of 
your recompense.' 
"no, no; i don't agree with'ee there,' said mark 
clark. god's a perfect gentleman in that respect.' 
"good works good pay, so to speak it,' attested 
joseph poorgrass. 
a short pause ensued, and as a sort of entr'acte 
henery turned and blew out the lanterns, which the 
increase of daylight rendered no longer necessary even 
in the malthouse, with its one pane of glass. 
"i wonder what a farmer-woman can want with a 
harpsichord, dulcimer, pianner, or whatever 'tis they d'call 
it?' said the maltster. 'liddy saith she've a new one.' 
"got a pianner?' 
"ay. seems her old uncle's things were not good 
enough for her. she've bought all but everything new. 
there's heavy chairs for the stout, weak and wiry ones 
for the slender; great watches, getting on to the size 
of clocks, to stand upon the chimbley-piece.' 
pictures, for the most part wonderful frames.' 
" and long horse-hair settles for the drunk, with horse+ 
hair pillows at each end,' said mr. clark. " likewise 
looking-glasses for the pretty, and lying books for the 
wicked.' 
a firm loud tread was now heard stamping outside; 
the door was opened about six inches, and somebody on 
the other side exclaimed -- 
"neighbours, have ye got room for a few new-born 
lambs?' 
" ay, sure, shepherd,' said the conclave. 
the door was flung back till it kicked the wall and 
trembled from top to bottom with the blow. mr. 
oak appeared in the 
<p 156> 
entry with a steaming face, hay+ 
bands wound about his ankles to keep out the snow, a 
leather strap round his waist outside the smock-frock, 
and looking altogether an epitome of the world's health 
and vigour. four lambs hung in various embarrassing 
attitudes over his shoulders, and the dog george, whom 
gabriel had contrived to fetch from norcombe, stalked 
solemnly behind. 
" well, shepherd oak, and how's lambing this year, 
if i mid say it?' inquired joseph poorgrass. 
"terrible trying," said oak. "i've been wet through 
twice a-day, either in snow or rain, this last fortnight. 
cainy and i haven't tined our eyes to-night.' 
"a good few twins, too, i hear ?' 
"too many by half. yes ; 'tis a very queer lambing 
this year. we shan't have done by lady day.' 
"and last year 'twer all over by sexajessamine 
sunday,' joseph remarked. 
"bring on the rest cain,' said gabriel, " and then run 
back to the ewes. i'll follow you soon.' 
cainy ball -- a cheery-faced young lad, with a small 
circular orifice by way of mouth, advanced and deposited 
two others, and retired as he was bidden. oak lowered 
the lambs from their unnatural elevation, wrapped them 
in hay, and placed them round the fire. 
" we've no lambing-hut here, as i used to have at 
norcombe,' said gabriel, " and 'tis such a plague to bring 
the weakly ones to a house. if 'twasn't for your place 
here, malter, i don't know what i should do! this keen 
weather. and how is it with you to-day, malter? ' 
" oh, neither sick nor sorry, shepherd ; 'but no 
younger.' 
" ay -- i understand. 
"sit down, shepherd oak', continued the ancient man 
of malt. " and how was the old place at norcombe, 
when ye went for your dog? i should like to see the 
old familiar spot ; but faith, i shouldn't" know a soul 
there now.' 
" i suppose you wouldn't. 'tis' altered very much.' 
"is it true that dicky hill's wooden cider-house is 
pulled down?' 
<p 157> 
" o yes -- years ago, and dicky's cottage just above it.' 
"well, to be sure!, 
" yes ; and tompkins's old apple-tree is rooted that 
used to bear two hogsheads of cider; and no help from 
other trees.' 
'rooted? -- you don't say it! ah! stirring times we 
live in -- stirring times.' 
"and you can mind the old well that used to be in 
the middle of the place? that's turned into a solid 
iron pump with a large stone trough, and all complete.' 
"dear, dear -- how the face of nations alter, and 
what we live to see nowadays! yes -- and 'tis the same 
here. they've been talking but now of the mis'ess's 
strange doings.' 
" what have you been saying about her?' inquired 
oak, sharply turning to the rest, and getting very 
warm. 
" these middle-aged men have been pulling her over 
the coals for pride and vanity,' said mark clark; "but 
i say, let her have rope enough. bless her pretty face 
shouldn't i like to do so -- upon her cherry lips!' 
the gallant mark clark here made a peculiar and well 
known sound with his own. 
" mark,' said gabriel, sternly, 'now you mind this ! 
none of that dalliance-talk -- that smack-and-coddle style 
of yours -- about miss everdene. i don't allow it. do 
you hear? ' 
" with all my heart, as i've got no chance,' replied 
mr. clark, cordially. 
' i suppose you've been speaking against her? ' said 
oak, turning to joseph poorgrass with a very grim 
look. 
"no, no -- not a word i -- 'tis a real joyful thing that 
she's no worse, that's what i say,' said joseph, trembling 
and blushing with terror. " matthew just said --  -- ' 
" matthew moon, what have you been saying ? ' asked 
oak. 
'i? why ye know i wouldn't harm a worm -- no, 
not one underground worm ?' said matthew moon, 
looking very uneasy. 
"well, somebody has -- and look here, neighbours.' 
gabriel, though one of the quietest and most gentle 
men on earth, rose to the occasion, with martial 
promptness and vigour. "that's my fist.' here he 
placed his fist, rather smaller in size than a common 
loaf, in the mathemarical centre of the maltster's little 
table, and with it gave a bump or two thereon, as if 
<p 158> 
to ensure that their eyes all thoroughly took in the 
idea of fistiness before he went further. "now -- the 
first man in the parish that i hear prophesying bad of 
our mistress, why' (here the fist was raised and let fall 
as t'hor might have done with his hammer in assaying 
it) -- "he'll smell and taste that -- or i'm a dutchman.' 
all earnestly expressed by their features that their 
minds did not wander to holland for a moment on 
account of this statement, but were deploring the 
difference which gave rise to the figure ; and mark 
clark cried "hear, hear; just what i should ha' said.' 
the dog george looked up at the same time after the 
shepherd's menace, and though he understood english 
but imperfectly, began to growl. 
" now, don't ye take on so, shepherd, and sit down!' 
said henery, with a deprecating peacefulness equal to 
anything of the kind in christianity. 
"we hear that ye bc a extraordinary good and 
clever man, shepherd,' said joseph poorgrass with 
considerable anxiety from behind the maltster's bed+ 
stead whither he had retired for safety. "'tis a great 
thing to be clever, i'm sure,' he added, making move+ 
ments associated with states of mind rather than body ; 
" we wish we were, don't we, neighbours ? ' 
"ay, that we do, sure,' said matthew moon, with 
a small anxious laugh towards oak, to show how very 
friendly disposed he was likewise. 
" who's been telling you i'm clever?' said oak. 
"'tis blowed about from pillar to post quite common,' 
said matthew. " we hear that ye can tell the t1me as 
well by the stars as we can by the sun and moon, 
shepherd.' 
" yes, i can do a little that way,' said gabriel, as a 
man of medium sentiments on the subject. 
names upon their waggons almost like copper-plate, 
with beautiful flourishes, and great long tails. a 
excellent fine thing for ye to be such a clever man, 
shepherd. joseph poorgrass used to prent to farmer 
james everdene's waggons before you came, and 'a 
could never mind which way to turn the j's and e's 
 -- could ye, joseph?' joseph shook his head to express 
how absolute was 
<p 159> 
the fact that he couldn't. "and so 
you used to do 'em the wrong way, like this, didn't ye, 
joseph ?' matthew marked on the dusty floor with his 
whip-handle 
lames 
"and how farmer james would cuss, and call thee a 
fool, wouldn't he, joseph, when 'a seed his name 
looking so inside-out-like ?' continued matthew moon 
with feeling. 
'ay -- 'a would,' said joseph, meekly. " but, you see, 
i wasn't so much to blame, for them j's and e's be 
such trying sons o' witches for the memory to mind 
whether they face backward or forward ; and i always 
had such a forgetful memory, too.' 
"'tis a bad afiction for ye, being such a man of 
calamities in other ways.' 
" well, 'tis ; but a happy providence ordered that it 
should be no worse, and i feel my thanks. as to 
shepherd, there, i'm sure mis'ess ought to have made 
ye her baily -- such a fitting man for't as you be.' 
"i don't mind owning that i expected it,' said oak, 
frankly. ' indeed, i hoped for the place. at the same 
time, miss everdene has a right to be own baily if 
she choose -- and to keep me down to be a common 
shepherd only.' oak drew a slow breath, looked sadly 
into the bright ashpit, and seemed lost in thoughts not 
of the most hopeful hue. 
the genial warmth of the fire now began to stimulate 
the nearly lifeless lambs to bleat and move their limbs 
briskly upon the hay, and to recognize for the first time 
the fact that they were born. their noise increased to a 
chorus of baas, upon which oak pulled the milk-can from 
before the fire, and taking a small tea-pot from the pocket 
of his smock-frock, filled it with milk, and taught those of 
the helpless creatures which were not to be restored to 
their dams how to drink from the spout -- a trick they 
acquired with astonishing aptitude. 
"and she don't even let ye have the skins of the 
dead lambs, i hear?' resumed joseph poorgrass, his 
eyes lingering on the operations of oak with the neces+ 
sary melancholy. 
"i don't have them,' said gabriel. 
"ye be very badly used, shepherd,' hazardcd joseph 
again, in 
<p 160> 
the hope of getting oak as an ally in lamenta+ 
tion after all. "i think she's took against ye -- that 
i do.' 
'o no -- not at all,' replied gabriel, hastily, and a 
sigh escaped him, which the deprivation of lamb skins 
could hardly have caused. 
before any further remark had been added a shade 
darkened the door, and boldwood entered the malthouse, 
bestowing upon each a nod of a quality between friendli+ 
ness and condescension. 
"ah! oak, i thought you were here,' he said. 'i 
met the mail-cart ten minutes ago, and a letter was put 
into my hand, which i opened without reading the 
address. i believe it is yours. you must excuse the 
accident please.' 
"o yes -- not a bit of difference, mr. boldwood -- 
not a bit,' said gabriel, readily. he had not a corre+ 
spondent on earth, nor was there a possible letter coming 
to him whose contents the whole parish would not have 
been welcome to persue. 
oak stepped aside, and read the following in an 
unknown hand: -- 
" dear friend, -- i do not know your name, but l think 
these few lines will reach you, which i wrote to thank you 
for your kindness to me the night i left weatherbury in a 
reckless way. i also return the money i owe you, which 
you will excuse my not keeping as a gift. all has ended 
well, and i am happy to say i am going to be married to 
the young man who has courted me for some time -- sergeant 
troy, of the 11th dragoon guards, now quartered in this 
town. he would, i know, object to my having received 
anything except as a loan, being a man of great respecta+ 
bility and high honour -- indeed, a nobleman by blood. 
 "i should be much obliged to you if you would keep the 
contents of this letter a secret for the present, dear friend. 
we mean to surprise weatherbury by coming there soon 
as husband and wife, though l blush to state it to one nearly 
a strangen the sergeant grew up in weatherbury. thank+ 
ing you again for your kindness, 
"i am, your sincere well-wisher, 
" fannv robin.' 
' have you read it, mr. boldwood?' said gabriel; 
"if not, you had better do so. i know you are interested 
in fanny robin.' 
<p 161> 
boldwood read the letter and looked grieved. 
"fanny -- poor fanny! the end she is so confident 
of has not yet come, she should remember -- and may 
never come. i see she gives no address.' 
"what sort of a man is this sergeant troy?' said 
gabriel. 
"h'm -- i'm afraid not one to build much hope upon 
in such a case as this,' the farmer murmured, "though 
he's a clever fellow, and up to everything. a slight 
romance attaches to him, too. his mother was a french 
governess, and it seems that a secret attachment existed 
between her and the late lord severn. she was married 
to a poor medical man, and soon after an infant was 
horn; and while money was forthcoming all went on 
well. unfortunately for her boy, his best friends died; 
and he got then a situation as second clerk at a lawyer's 
in casterbridge. he stayed there for some time, and 
might have worked himself into a dignified position of 
some sort had he not indulged in the wild freak of 
enlisting. i have much doubt if ever little fanny will 
surprise us in the way she mentions -- very much doubt 
a silly girl! -- silly girl!' 
the door was hurriedly burst open again, and in 
came running cainy ball out of breath, his mouth red 
and open, like the bell of a penny trumpet, from which 
he coughed with noisy vigour and great distension of face. 
"now, cain ball,' said oak, sternly, "why will you 
run so fast and lose your breath so? i'm always telling 
you of it.' 
'oh -- i -- a puff of mee breath -- went -- the -- wrong 
way, please, mister oak, and made me cough -- hok -- 
hok!' 
"well --  what have you come for?' 
"i've run to tell ye,' said the junior shepherd, 
supporting his exhausted youthful frame against the 
doorpost, ' that you must come directly'. two more ewes 
have twinned -- that's what's the matter, shepherd oak.' 
" oh, that's it,' said oak, jumping up, and dimissing 
for the present his thoughts on poor fanny. " you are 
a good boy to run and tell me, cain, and you shall 
smell a large plum pudding some day as a treat. but, 
before we go, cainy, bring the tarpot, and we'll mark 
this lot and have done with 'em.' 
<p 162> 
oak took from his illimitable pockets a marking iron, 
dipped it into the pot, and imprintcd on the buttocks 
of the infant sheep the initials of her he delighted to 
muse on -- "b. e.,' which signified to all the region 
round that henceforth the lambs belonged to farmer 
bathsheba everdene, and to no one else. 
" now, cainy, shoulder your two, and off good 
morning, mr. boldwood.' the shepherd lifted the 
sixteen large legs and four small bodies he had himself 
brought, and vanished with them in the direction of 
the lambing field hard by -- their frames being now in a 
sleek and hopeful state, pleasantly contrasting with their 
death's-door plight of hialf an hour before. 
boldwood followed him a little way up the field, 
hesitated, and turned back. he followed him again 
with a last resolve, annihilating return. on approaching 
the nook in which the fold was constructed, the farmer 
drew out-his pocket-book, unfastened-it, and allowed it 
to lie open on his hand. a letter was revealed -- bath+ 
sheba's. 
"i was going to ask you, oak,' he said, with unreal 
carelessness, "if you know whose writing this is? ' 
oak glanced into the book, and replied instantly, 
with a flushed face, " miss everdene's.' 
oak had coloured simply at the consciousness of 
sounding her name. he now felt a strangely distressing 
qualm from a new thought. ' the letter could of course 
be no other than anonymous, or the inquiry would not 
have been necessary. 
boldwood mistook his confusion : sensitive persons 
are always ready with their "is it i ? ' in prefercnce to 
objective reasoning. 
" the question was perfectly fair,' he returned -- and 
there was something incongruous in the serious eamest+ 
ness with which he applied himself to an argument on 
a valentine. " you know it is always expected that 
privy inquiries will be made : that's where the -- fun 
lies.' if the word "fun' had been "torture,' it could 
not have been uttered with a more constrained and 
restless countenance than was boldwood's then.' 
soon parting from gabriel, the lonely and reserved 
man returned to his house to breakfast -- feeling twinges 
of shame and regret at having so far exposed his mood 
by those fevered 
<p 163> 
questions to a stranger. he again 
placed the letter on the mantelpiece, and sat down to 
think of the circumstances attending it by the light of 
gabriel's information. 
all saints' and all souls" 
<c xvi> 
<p 164> 
all saints' and all souls' 
on a week-day morning a small congregation, con+ 
sisting mainly of women and girls, rose from its knees 
in the mouldy nave of a church called all saints', in 
the distant barrack-town before mentioned, at the end 
of a service without a sermon. they were about to 
disperse, when a smart footstep, entering the porch and 
coming up the central passage, arrested their attention. 
the step echoed with a ring unusual in a church; it 
was the clink of spurs. everybody looked. a young 
cavalry soldier in a red uniform, with the three chevrons 
of a sergeant upon his sleeve, strode up the aisle, with 
an embarrassment which was only the more marked 
by the intense vigour of his step, and by the deter+ 
mination upon his face to show none. a slight flush 
had mounted his cheek by the time he had run the 
gauntlet between these women ; but, passing on through 
the chancel arch, he never paused till he came close 
to the altar railing. here for a moment he stood 
alone. 
the officiating curate, who had not yet doffed his 
surplice, perceived the new-comer, and followed him 
to the communion-space. he whispered to the soldier, 
and then beckoned to the clerk, who in his turn 
whispered to an elderly woman, apparently his wife, and 
they also went up the chancel steps. 
"'tis a wedding!' murmured some of the women, 
brightening. " let's wait!' 
the majority again sat down. 
there was a creaking of machinery behind, and 
some of the young ones turned their heads. from the 
interior face of the west wall of the tower projected a 
little canopy with a quarter-jack and small bcll beneath 
it, the automaton being driven by the same clock 
machinery that struck the large bell in the tower. be+ 
tween the tower and the church was a close sereen, the 
door of which was kept shut during services, hiding 
this 
<p 165> 
grotesque clockwork from sight. at present, how+ 
ever, the door was open, and the egress of the jack, the 
blows on the bell, and the mannikin's retreat intc.the 
nook again, were visible to many, and audible through+ 
out the church. 
the jack had struck half-past eleven. 
" where's the woman ?" whispered some of the 
spectators. 
the young sergeant stood still with the abnormal 
rigidity of the old pillars around. he faced the south+ 
east, and was as silent as he was still. 
the silence grew to be a noticeable thing as the 
minutes went on, and nobody else appeared, and not a 
soul moved. the rattle of the quarter-jack again from 
its niche, its blows for three-quarters, its fussy retreat, 
were almost painfully abrupt, and caused many of the 
congregation to start palpably. 
"i wonder where the woman is!' a voice whispered 
again. 
there began now that slight shifting of feet, that 
artificial coughing among several, which betrays a 
nervous suspense. at length there was a titter. but 
the soldier never moved. there he stood, his face to 
the south-east, upright as a column, his cap in his hand. 
the clock ticked on. the women threw off their 
nervousness, and titters and giggling became more 
frequent. then came a dead silence. every one was 
waiting for the end. some persons may have noticed 
how extraordinarily the striking of quarters. seems to 
quicken the flight of time. it was hardly credible that 
the jack had not got wrong with the minutes when the 
rattle began again, the puppet emerged, and the four 
quarters were struck fitfully as before: one could al+ 
most be positive that there was a malicious leer upon 
the hideous creature's face, and a mischievous delight 
in its twitchings. then, followed the dull and remote 
resonance of the twelve heavy strokes in the tower 
above. the women were impressed, and there was no 
giggle this time. 
the clergyman glided into the vestry, and the clerk 
vanished. the sergeant had not yet turned ; every 
woman in the church was waiting to see his face, and 
he appeared to know it. at last he did turn, and 
stalked resolutely down the nave, braving them all, 
with a compressed lip. two bowed and toothless old 
<p 166> 
almsmen then looked at each other and chuckled, 
innocently enough ; but the sound had a strange weird 
effect in that place. 
opposite to the church was a paved square, around 
which several overhanging wood buildings of old time 
cast a picturesque shade. the young man on leaving 
the door went to cross the square, when, in the middle, 
he met a little woman. the expression of her face, 
which had been one of intense anxiety, sank at the 
sight of his nearly to terror. 
" well ? ' he said, in a suppressed passion, fixedly 
looking at her. 
" o, frank -- i made a mistake! -- i thought that 
church with the spire was all saints', and i was at the 
door at half-past eleven to a minute as you said. 
waited till a quarter to twelve, and found then that i 
was in all souls'. but i wasn't much frightened, for 
i thought it could be to-morrow as well.' 
"you fool, for so fooling me! but say no more.' 
" shall it be to-monow, frank ? ' she asked blankly. 
"to-morrow !' and he gave vent to a hoarse laugh. 
"i don't go through that experience again for some 
time, i warrant you ! ' 
" but after all,' she expostulated in a trembling voice, 
"the mistake was not such a terrible thing! now, dear 
frank, when shall it be?' 
"ah, when ? god knows !' he said, with a light 
irony, and turning from her walked rapidly away. 
<c xvii> 
<p 167> 
in the market-place 
on saturday boldwood was in casterbridge market 
house as usual, when the disturber of his dreams entered 
and became visible to him. adam had awakened from 
his deep sleep, and behold! there was eve. the 
farmer took courage, and for the first time really looked 
at her. 
material causes and emotional effects are not to be 
arranged in regular equation. the result from capital 
employed in the production of any movement of a 
mental nature is sometimes as tremendous as the cause 
itself is absurdly minute. when women are in a freakish 
mood, their usual intuition, either from carelessness or 
inherent defect, seemingly fails to teaeh them this, and 
hence it was that bathsheba was fated to be astonished 
today. 
boldwood looked at her -- not slily, critically, or 
understandingly, but blankly at gaze, in the way a 
reaper looks up at a passing train -- as something foreign 
to his element, and but dimly understood. to bold+ 
wood women had been remote phenomena rather than 
necessary complements -- comets of such uncertain 
aspeet, movement, and permanence, that whether 
their orbits were as geometrical, unchangeable, and 
as subject to laws as his own, or as absolutely erratic 
as they superficially appeared, he had not deemed it 
his duty to consider. 
he saw her black hair, her correct facial curves 
and profile, and the roundness of her chin and throat. 
he saw then the side of her eyelids, eyes, and lashes, 
and the shape of her ear. next he noticed her figure, 
her skirt, and the very soles of her shoes. 
boldwood thought her beautiful, but wondered 
whether he was right in his thought, for it seemed 
impossible that this romance in the flesh, if so sweet 
as he imagined, could have 
<p 168> 
been going on long without 
creating a commotion of delight among men, and pro+ 
voking more inquiry than bathsheba had done, even 
though that was not a little. to the best of his judg+ 
ment neither nature nor art could improve this perfect 
one of an imperfect many. his heart began to move 
within him. boldwood, it must be remembered, though 
forty years of age, had never before inspected a woman 
with the very centre and force of his glance; they had 
struck upon all his senses at wide angles. 
was she really beautiful? he could not assure 
himself that his opinion was true even now. he fur+ 
tively said to a neighbour, 'is miss everdene considered 
handsome?' 
"0 yes; she was a good deal 'notied the first 
time she came, if you remember. a very handsome 
girl indeed.' 
a man is never more credulous than in receiving 
favourable opinions on the beauty of a woman he is 
half, or quite, in love with; a mere child's word on the 
point has the weight of an r.a.'s. boldwood was 
satisfied now. 
and this charming woman had in effect said to 
him, "marry me.' why should she have done that 
strange thing ? boldwood's blindness to the difference 
between approving of what circumstances suggest, and 
originating what they do not suggest, was well matched 
by bathsheba's insensibility to the possibly great issues 
of little beginnings. 
she was at this moment coolly dealing with a dashing 
young farmer, adding up accounts with him as indiffer+ 
ently as if his face had been the pages of a ledger. it 
was evident that such a nature as his had no attraction 
for a woman of bathsheba's taste. but boldwood grew 
hot down to his hands with an incipient jealousy; he 
trod for the first time the threshold of "the injured 
lover's hell.' his first impulse was to go and thrust 
himself between them. this could be done, but only 
in one way -- by asking to see a sample of her corn. 
boldwood renounced the idea. he could not make 
the request; it was debasing loveliness to ask it to 
buy and sell, and jarred with his conceptions of her. 
all this time bathsheba was conscious of having 
broken into that dignified stronghold at last. his 
eyes, she knew, were 
<p 169> 
following her everywhere. this 
was a triumph; and had it come naturally, such a 
triumph would have been the sweeter to her for this 
piquing delay. but it had been brought about by 
misdirected ingenuity, and she valued it only as she 
valued an artificial flower or a wax fruit. 
being a woman with some good sense in reasoning 
on subjects wherein her heart was not involved, bath+ 
sheba genuinely repented that a freak which had owed 
its existence as much to liddy as to herself, should 
ever have been undertaken, to disturb the placidity of 
a man she respected too highly to deliberately tease. 
she that day nearly formed the intention of begging 
his pardon on the very next occasion of their meeting. 
the worst features of this arrangement were that, if 
he thought she ridiculed him, an apology would in+ 
crease the offence by being disbelieved; and if he 
thought she wanted him to woo her, it would read 
like additional evidence of her forwardness. 
<c xviii> 
<p 170> 
boldwood in meditation -- regret 
boldwood was tenant of what was called little 
weatherbury farm, and his person was the nearest ap+ 
proach to aristocracy that this remoter quarter of the 
parish could boast of. genteel strangers, whose god 
was their town, who might happen to be compelled to 
linger about this nook for a day, heard the sound of 
light wheels, and prayed to see good society, to the 
degree of a solitary lord, or squire at the very least, 
but it was only mr. boldwood going out for the day. 
they heard the sound of wheels yet once more, and 
were re-animated to expectancy : it was only mr. bold+ 
wood coming home again. 
his house stood recessed from the road, and the 
stables, which are to a farm what a fireplace is to a 
room, were behind, their lower portions being lost 
amid bushes of laurel. inside the blue door, open 
half-way down, were to be seen at this time the backs 
and tails of half-a-dozen warm and contented horses 
standing in their stalls; and as thus viewed, they pre+ 
sented alternations of roan and bay, in shapes like a 
moorish arch, the tail being a streak down the midst 
of each. over these, and lost to the eye gazing in 
from the outer light, the mouths of the same animals 
could be heard busily sustaining the above-named 
warmth and plumpness by quantities of oats and hay. 
the restless and shadowy figure of a colt wandered 
about a loose-box at the end, whilst the steady grind 
of all the eaters was occasionally diversified by the 
rattle of a rope or the stamp of a foot. 
pacing up and down at the heels of the animals was 
farmer boldwood himself. this place was his almonry 
and cloister in one : here, after looking to the feeding 
of his four-footed dependants, the celibate would walk 
and meditate of an evening till the moon's rays streamed 
in through the cobwebbed windows, or total darkness 
enveloped the scene. 
<p 171> 
his square-framed perpendicularity showed more fully 
now than in the crowd and bustle of the market-house. 
in this meditative walk his foot met the floor with heel 
and toe simultaneously, and his fine reddish-fleshed face 
was bent downwards just enough to render obscure the 
still mouth and the well-rounded though rather prominent 
and broad chin. a few clear and thread-like horizontal 
lines were the only interruption to the otherwise smooth 
surface of his large forehead. 
the phases of boldwood's life were ordinary enough, 
but his was not an ordinary nature. that stillness, 
which struck casual observers more than anything else 
in his character and habit, and seemed so precisely 
like the rest of inanition, may have been the perfect 
balance of enormous antagonistic forces -- positives and 
negatives in fine adjustment. his equilibrium disturbed, 
he was in extremity at once. if an emotion possessed 
him at all, it ruled him; a feeling not mastering him 
was entirely latent. stagnant or rapid, it was never 
slow. he was always hit mortally, or he was missed. 
he had no light and careless touches in his constitu+ 
tion, either for good or for evil. stern in the outlines of 
action, mild in the details, he was serious throughout all. 
he saw no absurd sides to the follies of life, and thus, 
though not quite companionable in the eyes of merry 
men and scoffers, and those to whom all things show 
life as a jest, he was not intolerable to the earnest and 
those acquainted with grief. being a man -who read 
all the dramas of life seriously, if he failed to please 
when they were comedies, there was no frivolous treat+ 
ment to reproach him for when they chanced to end 
tragically. 
bathsheba was far from dreaming that the dark and 
silent shape upon which she had so carelessly thrown a 
seed was a hotbed of tropic intensity. had she known 
boldwood's moods, her blame would have been fearful, 
and the stain upon her heart ineradicable. moreover, 
had she known her present power for good or evil over 
this man, she would have trembled at her responsibility. 
luckily for her present, unluckily for her future tran+ 
quillity, her understanding had not yet told her what 
boldwood was. nobody knew entirely ; for though it 
was possible to form guesses concerning his wild 'capa+ 
<p 172> 
bilities from old floodmarks faintly visible, he had never 
been seen at the high tides which caused them. 
farmer boldwood came to the stable-door and looked 
forth across the level fields. beyond the first enclosure 
was a hedge, and on the other side of this a meadow 
belonging to bathsheba's farm. 
it was now early spring -- the time of going to grass 
with the sheep, when they have the first feed of the 
meadows, before these are laid up for mowing. the 
wind, which had been blowing east for several weeks, 
had veered to the southward, and the middle of spring 
had come abruptly -- almost without a beginning. it 
was that period in the vernal quarter when we map 
suppose the dryads to be waking for the season. the 
vegetable world begins to move and swell and the saps 
to rise, till in the completest silence of lone gardens 
and trackless plantations, where- everything seems -help+ 
less and still after the bond and slavery of frost, there 
are bustlings, strainings, united thrusts, and pulls-all+ 
together, in comparison with which the powerful tugs of 
cranes and pulleys in a noisy city are but.  pigmy efforts. 
"boldwood, looking into the distant meadows, saw 
there three figures. they were those of miss' everdene, 
shepherd oak, and cainy ball. 
when bathsheba's figure shone upon the farmer's 
eyes it lighted him up as the moon lights up a great 
tower. a man's body is as the shell; or the tablet, of 
his soul, as he is reserved or ingenuous, overflowing or 
self-contained. there was a  change in boldwood's 
exterior from its former impassibleness ; and his face 
showed that he was now living outside his defences 
for the first time, and with a fearful sense of exposure. 
it is the usual experience of strong natures when they 
love. 
at last he arrived at a conclusion. it was to go 
across and inquire boldly of her. 
the insulation of his heart by reserve during these 
many years, without a channel of any kind for disposable 
emotion, had worked its effect. it has been observed 
more than once that the causes of love are chiefly 
<p 173> 
subjective, and boldwood was a living testimony to 
the truth of the proposition. no mother existed to 
absorb his devotion, no sister for his tenderness, no 
idle ties for sense. he became surcharged with the 
compound, which was genuine lover's love. 
he approached the gate of the meadow. beyond 
it the ground was melodious with ripples, and the sky 
with larks; the low bleating of the flock mingling with 
both. mistress and man were engaged in the operation 
of making a lamb "take,' which is performed whenever 
an ewe has lost her own offspring, one of the twins of 
another ewe being given her as a substitute. gabriel 
had skinned the dead lamb, and was tying the skin 
over the body of the live lamb, in the customary manner, 
whilst bathsheba was holding open a little pen of four 
hurdles, into which the mother and foisted lamb were 
driven, where they would remain till the old sheep 
conceived an affection for the young one. 
bathsheba looked up at the completion of the 
manouvre, and saw the farmer by the gate, where he 
was overhung by a willow tree in full bloom. gabriel, 
to whom her face was as the uncertain glory of an april 
day, was ever regardful of its faintest changes, and 
instantly discerned thereon the mark of some influence 
from without, in the form of a keenly self-conscious 
reddening. he also turned and beheld boldwood. 
at onee connecting these signs with the letter bold+ 
wood had shown him, gabriel suspected her of some 
coquettish procedure begun by that means, and carried 
on since, he knew not how. 
farmer boldwood had read the pantomime denoting 
that they were aware of his presence, and the perception 
was as too much light turned upon his new sensibility. 
he was still in the road, and by moving on he hoped 
that neither would recognize that he had originally 
intended to enter the field. he passed by with an 
utter and overwhelming sensation of ignorance, shyness, 
and doubt. perhaps in her manner there were signs 
that she wished to see him -- perhaps not -- he could not 
read a woman. the cabala of this erotic philosophy 
seemed to consist of the subtlest meanings expressed in 
misleading ways. 
<p 174> 
every turn, look, word, and accent 
contained a mystery quite distinct from its obvious 
import, and not one had ever been pondered by him 
until now. 
as for bathsheba, she was not deceived into the 
belief that farmer boldwood had walked by on business 
or in idleness. she collected the probabilities of the 
case, and concluded that she was herself responsible for 
boldwood's appearance there. it troubled her much 
to see what a great flame a little wildfire was likely to 
kindle. bathsheba was no schemer for marriage, nor 
was she deliberately a trifler with the affections of men, 
and a censor's experience on seeing an actual flirt after 
observing her would have been a feeling of surprise 
that bathsheba could be so different from such a one, 
and yet so like what a flirt is supposed to be. 
she resolved never again, by look or by sign, to 
interrupt the steady flow of this man's life. but a 
resolution to avoid an evil is seldom framed till the evil 
is so far advanced as to make avoidance impossible. 
<c xix> 
<p 175> 
the sheep-washing -- the offer 
boldwood did eventually call upon her. she was 
not at home. " of course not,' he murmured. in con+ 
templating bathsheba as a woman, he had forgotten the 
accidents of her position as an agriculturist -- that being 
as much of a farmer, and as extensive a farmer, as 
himself, her probable whereabouts was out-of-doots at 
this time of the year. this, and the other oversights 
boldwood was guilty of, were natural to the mood, and 
still more natural to the circumstances. the great aids 
to idealization in love were present here : occasional 
observation of her from a distance, and the absence of 
social intercourse with her -- visual familiarity, oral 
strangeness. the smaller human elements were kept 
out of sight ; the pettinesses that enter so largely into 
all earthly living and doing were disguised by the 
accident of lover and loved-one not being on visiting 
terms ; and there was hardly awakened a thought in 
boldwood that sorry household realities appertained to 
her, or that she, like all others, had moments of 
commonplace, when to be least plainly seen was to be 
most prettily remembered. thus a mild sort of 
apotheosis took place in his fancy, whilst she still lived 
and breathed within his own horizon, a troubled creature 
like himself. 
it was the end of may when the farmer determined 
to be no longer repulsed by trivialities or distracted by 
suspense. he had by this time grown used to being in 
love; the passion now startled him less even when it 
tortured him more, and he felt himself adequate to the 
situation. on inquiring for her at her house they had 
told him she was at the sheepwashing, and he went off 
to seek her there. 
the sheep-washing pool was a perfectly circular basin 
of brickwork in the meadows, full of the clearest water. 
to birds on the wing its glassy surface, reflecting the 
light sky, must have been 
<p 176> 
visible for miles around as a 
glistening cyclops' eye in a green face. the grass 
about the margin at this season was a sight to remember 
long -- in a minor sort of way. its activity in sucking 
the moisture from the rich damp sod. was almost a pro+ 
cess observable by the eye. the outskirts of this level 
water-meadow were diversified by rounded and hollow 
pastures, where just now every flower that was not a 
buttercup was a daisy. the river slid along noiselessly 
as a shade, the swelling reeds and sedge forming a 
flexible palisade upon its moist brink. to the north 
of the mead were trees, the leaves of which were new, 
soft, and moist, not yet having stiffened and darkened 
under summer sun and drought, their colour being 
yellow beside a green -- green beside a yellow. 
from the recesses of this knot of foliage the loud 
notes of three cuckoos were resounding through the 
still air. 
boldwood went meditating down the slopes with his 
eyes on his boots, which the yellow pollen from the 
buttercups had bronzed in artistic gradations. a tribu+ 
tary of the main stream flowed through the basin of the 
pool by an inlet and outlet at opposite points of its 
diameter. shepherd oak, jan coggan, moon, poor+ 
grass, cain ball, and several others were assembled 
here, all dripping wet to the very roots of their hair, 
and bathsheba was standing by in a new riding-habit -- 
the most elegant she had ever worn -- the reins of her 
horse being looped over her arm. flagons of cider 
were rolling about upon the green. the meek sheep 
were pushed into the pool by coggan and matthew 
moon, who stood by the lower hatch, immersed to their 
waists; then gabriel, who stood on the brink, thrust 
them under as they swam along, with an instrument 
like a crutch, formed for the purpose, and also for 
assisting the exhausted animals when the wool became 
saturated and they began to sink. they were let out 
against the stream, and through the upper opening, all 
impurities flowing away below. cainy ball and joseph, 
who performed this latter operation, were if possible 
wetter than the rest ; they resembled dolphins under a 
fountain, every protuberance and angle of their clothes 
dribbling forth a small rill. 
<p 177> 
boldwood came close and bade her good-morning, with 
such constraint that she could not but think he had 
stepped across to the washing for its own sake, hoping 
not to find her there ; more, she fancied his brow severe 
and his eye slighting. bathsheba immediately contrived 
to withdraw, and glided along by the river till she was 
a stone's throw off. she heard footsteps brushing the 
grass, and had a consciousness that love was encircling 
her like a perfume. instead of turning or waiting, 
bathsheba went further among the high sedges, but 
boldwood seemed determined, and pressed on till they 
were completely past the bend of the river. here, 
without being seen, they could hear the splashing and 
shouts of the washers above. 
"miss everdene!' said the farmer. 
she trembled, turned, and said 'good morning.' 
his tone was so utterly removed from all she had 
expected as a beginning. it was lowness and quiet 
accentuated : an emphasis of deep meanings, their form, 
at the same time, being scarcely expressed. silence 
has sometimes a remarkable power of showing itself as 
the disembodied soul of feeling wandering without its 
carcase, and it is then more impressive than speech. 
in the same way, to say a little is often to tell more 
than to say a great deal. boldwood told everything in 
that word. 
as the conseiousness expands on learning that what 
was fancied to be the rumble of wheels is the reverbera+ 
tion of thunder, so did bathsheba's at her intuitive 
conviction. 
'i feel -- almost too much -- to think,' he said, with a 
solemn simplicity. "i have come to speak to you with+ 
out preface. my life is not my own since i have beheld 
you clearly, miss everdene -- i come to make you an 
offer of marriage.' 
bathsheba tried to preserve an absolutely neutral 
countenance, and all the motion she made was that of 
closing lips which had previously been a little parted. 
"i am now forty-one years old,' he went on. "i may 
have been called a confirmed bachelor, and i was a 
confirmed bachelor. i had never any views of myself 
as a husband in my earlier days, nor have i made any 
calculation on the subject since i have been older. 
but we all change, and my change, in this matter, 
<p 178> 
came 
with seeing you. i have felt lately, more and more, 
that my present way of living is bad in every respect. 
beyond all things, i want you as my wife.' 
"i feel, mr. boldwood, that though i respect you 
much, i do not feel -- what would justify me to -- in 
accepting your offer,' she stammered. 
this giving back of dignity for dignity seemed to 
open the sluices of feeling that boldwood had as yet 
kept closed. 
" my life is a burden without you,' he exclaimed, in 
a low voice. "i want you -- i want you to let me say 
i love you again and again!' 
bathsheba answered nothing, and the mare upon 
her arm seemed so impressed that instead of cropping 
the herbage she looked up. 
"i think and hope you care enough for me to listen 
to what i have to tell!" 
   bathsheba's momentary impulse at hearing this was 
to ask why he thought that, till she remembered that, 
far from being a conceited assumption on boldwood's 
part, it was but the natural conclusion of serious reflec+ 
tion based on deceptive premises of her own offering. 
"i wish i could say courteous flatteries to you,' the 
farmer continued in an easier tone, " and put my rugged 
feeling into a graceful shape: but i have neither power 
nor patience to learn such things. i want you for my 
wife -- so wildly that no other feeling can abide in me; 
but i should not have spoken out had i not been led 
to hope.' 
"the valentine again! o that valentine!' she 
said to herself, but not a word to him. 
  "if you can love me say so, miss everdene. if not 
 -- don't say no!' 
  "mr. boldwood, it is painful to have to say i am 
surprised, so that i don't know how to answer you with 
propriety and respect -- but am only just able to speak 
out my feeling -- i mean my meaning; that i am afraid 
i can't marry you, much as i respect you. you are too 
dignified for me to suit you, sir.' 
  "but, miss everdene!' 
"i -- i didn't -- i know i ought never to have dreamt 
of sending 
<p 179> 
that valentine -- forgive me, sir -- it was a 
wanton thing which no woman with any self-respect 
should have done. if you will only pardon my thought+ 
lessness, i promise never to --  -- ' 
" no, no, no. don't say thoughtlessness! make me 
think it was something more -- that it was a sort of 
prophetic instinct -- the beginning of a feeling that you 
would like me. you torture me to say it was done in 
thoughtlessness -- i never thought of it in that light, and 
i can't endure it. ah ! i wish i knew how to win you! 
but that i can't do -- i can only ask if i have already got 
you. if i have not, and it is not true that you have 
come unwittingly to me as i have to you, i can say no 
more.' 
  "i have not fallen in love with you, mr. boldwood -- 
certainly i must say that.' she allowed a very small 
smile to creep for the first time over her serious face in 
saying this, and the white row of upper teeth, and keenly+ 
cut lips already noticed, suggested an idea of heartless+ 
ness, which was immediately contradicted by the pleasant 
eyes. 
"but you will just think -- in kindness and conde+ 
scension think -- if you cannot bear with me as a husband! 
i fear i am too old for you, but believe me i will take 
more care of you than would many a man of your own 
age. i will protect and cherish you with all my strength 
 -- i will indeed! you shall have no cares -- be worried 
by no household affairs, and live quite at ease, miss 
everdene. the dairy superintendence shall be done by 
a man -- i can afford it will -- you shall never have so 
much as to look out of doors at haymaking time, or to 
think of weather in the harvest. i rather cling; to the 
chaise, because it is he same my poor father and mother 
drove, but if you don't like it i will sell it, and you shall 
have a pony-carriage of your own. i cannot say how 
far above every other idea and object on earth you seem 
to me -- nobody knows -- god only knows -- how much 
you are to me!' 
bathsheba's heart was young, and it swelled with 
sympathy for the deep-natured man who spoke so 
simply. 
  "don't say it! don't! i cannot bear you to feel so 
much, and me to feel nothing. and i am afraid they 
will notice us, mr. boldwood. will you let the matter 
rest now? i cannot think 
<p 180> 
collectedly. i did not know 
you were going to say this to me. 0, i am wicked to 
have made you suffer so!' she was frightened as well 
as agitated at his vehemence. 
  "say then, that you don't absolutely refuse. do not 
quite refuse?' 
"i can do nothing. i cannot answer.' 
"i may speak to you again on the subject?' 
"yes.' 
"i may think of you?' 
"yes, i suppose you may think of me.' 
"and hope to obtain you?' 
"no -- do not hope! let us go on.' 
"i will call upon you again to-morrow.' 
"no -- please not. give me time.' 
"yes -- i will give you any time,' he said earnestly and 
gratefully. "i am happier now.' 
"no -- i beg you! don't be happier if happiness 
only comes from my agreeing. be neutral, mr. bold+ 
wood! i must think.' 
"i will wait,' he said. 
and then she turned away. boldwood dropped his 
gaze to the ground, and stood long like a man who did not 
know where he was. realities then returned upon him 
like the pain of a wound received in an excitement 
which eclipses it, and he, too, then went on. 
<c xx> 
<p 181> 
perplexity -- grinding the shears -- a quarrel 
"he is so disinterested and kind to offer me all that i 
can desire,' bathsheba mused. 
yet farmer boldwood, whether by nature kind or 
the reverse to kind, did not exercise kindness, here. 
the rarest offerings of the purest loves are but a self+ 
indulgence, and no generosity at all. 
bathsheba, not being the least in love with him, was 
eventually able to look calmly at his offer. it was one 
which many women of her own station in the neighbour+ 
hood, and not a few of higher rank, would have been 
wild to accept and proud to publish. in every point of 
view, ranging from politic to passionate, it was desirable 
that she, a lonely girl, should marry, and marry this 
earnest, well-to-do, and respected man. he was close 
to her doors: his standing was sufficient: his qualities 
were even supererogatory. had she felt, which she did 
not, any wish whatever for the married state in the 
abstract, she could not reasonably have rejected him, 
being a woman who frequently appealed to her under, 
standing for deliverance from her whims. boldwood as 
a means to marriage was unexceptionable: she esteemed 
and liked him, yet she did not want him. it appears 
that ordinary men take wives because possession is not 
possible without marriage, and that ordinary women 
accept husbands because marriage is not possible with, 
out possession; with totally differing aims the method is 
the same on both sides. but the understood incentive 
on the woman's part was wanting here. besides, bath+ 
sheba's position as absolute mistress of a farm and house 
was a novel one, and the novelty had not yet begun to 
wear off. 
but a disquiet filled her which was somewhat to her 
credit, for it would have affected few. beyond the men+ 
tioned reasons with which she combated her objections, 
she had a strong 
<p 182> 
feeling that, having been the one who 
began the game, she ought in honesty to accept the conse, 
quences. still the reluctance remained. she said in the 
same breath that it would be ungenerous not to marry 
boldwood, and that she couldn't do it to save her life. 
bathsheba's was an impulsive nature under a delibera, 
tive aspect.  an elizabeth in brain and a mary stuart 
in spirit, she often performed actions of the greatest 
temerity with a manner of extreme discretion. many of 
her thoughts were perfect syllogisms; unluckily they 
always remained thoughts. only a few were irrational 
assumptions; but, unfortunately, they were the ones 
which most frequently grew into deeds. 
  the next day to that of the declaration she found 
gabriel oak at the bottom of her garden, grinding his 
shears for the sheep-shearing. all the surrounding 
cottages were more or less scenes of the same operation; 
the scurr of whetting spread into the sky from all parts 
of the village as from an armury previous to a campaign. 
peace and war kiss each other at their hours of prepara+ 
tion -- sickles, scythes, shears, and pruning-hooks, ranking 
with swords, bayonets, and lances, in their common 
necessity for point and edge. 
cainy ball turned the handle of gabriel's grinstone, 
his head performing a melancoly see-saw up and down 
with each turn of the wheel. oak stood somewhat as 
eros is represented when in the act of sharpening his 
arrows: his figure slightly bent, the weight of his body 
thrown over on the shears, and his head balanced side+ 
ways, with a critical compression of the lips and contrac+ 
tion of the eyelids to crown the attitude. 
his mistress came up and looked upon them in 
silence for a minute or two; then she said -- 
"cain, go to the lower mead and catch the bay mare. 
i'll turn the winch of the grindstone. i want to speak 
to you, gabriel. 
cain departed, and bathsheba took the handle. 
gabriel had glanced up in intense surprise, quelled its 
expression, and looked down again. bathsheba turned 
the winch, and gabriel applied the shears. 
the peculiar motion involved in turning a wheel 
has a wonderful tendency to benumb the mind. it 
is a sort of 
<p 183> 
attenuated variety of ixion's punishment, 
and contributes a dismal chapter to the history of 
heavy, and the body's centre of gravity seems to 
settle by degrees in a leaden lump somewhere be+ 
tween the eyebrows and the crown. bathsheba felt 
the unpleasant symptoms after two or three dozen 
turns. 
  "will you turn, gabriel, and let me hold the shears?" 
she said. "my head is in a'whirl, and i can't talk. 
gabriel turned. bathsheba then began, with some 
awkwardness, allowing her thoughts to stray occasion+ 
ally from her story to attend to the shears, which 
required a little nicety in sharpening. 
  "i wanted to ask you if the men made any observa+ 
tions on my going behind the sedge with mr. boldwood 
yesterday?' 
  "yes, they did,' said gabriel. "you don't hold 
the shears right, miss -- i knew you wouldn't know the 
way -- hold like this.' 
he relinquished the winch, and inclosing her two 
hands completely i his own (taking each as we some+ 
times slasp a child's hand in teaching him to write), 
grasped the shears with her. "incline the edge so,' 
he said. 
  hands and shears were inclined to suit the words, 
and held thus for a peculiarly long time by the in+ 
structor as he spoke. 
  "that will do,' exclaimed bathsheba. "loose my 
hands. i won't have them held! turn the winch.' 
gabriel freed her hands quietly, retired to his 
handle, and the grinding went on. 
  "did the men think it odd?' she said again. 
"odd was not the idea, miss.' 
"what did they say?' 
"that farmer boldwood's name and your own 
were likely to be flung over pulpit together before the 
year was out.' 
"i thought so by the look of them! why, there's 
nothing in it. a more foolish remark was never made, 
and i want you to contradict it! that's what i came for.' 
  gabriel looked incredulous and sad, but between 
his moments of incredulity, relieved. 
"they must have heard our conversation,' she 
continued. 
<p 184> 
"well, then, bathsheba!' said oak, stopping the 
handle, and gazing into her face with astonishment. 
  "miss everdene, you mean," she said, with dignity. 
  "i mean this, that if mr. boldwood really spoke of 
marriage, i bain't going to tell a story and say he 
didn't to please you. i have already tried to please 
you too much for my own good!' 
hathsheba regarded him with round-eyed perplexity. 
she did not know whether to pity him for disappointed 
love of her, or to be angry with him for having got 
over it -- his tone being ambiguous. 
  "i said i wanted you just to mention that it was 
not true i was going to be married to him,' she mur+ 
mured, with a slight decline in her assurance. 
"i can say that to them if you wish, miss everdene. 
and i could likewise give an opinion to 'ee on what 
you have done.' 
"i daresay. but i don't want your opinion.' 
"i suppose not,' said gabriel bitterly, and going on 
with his turning, his words rising and falling in a 
regular swell and cadence as he stooped or rose with 
the winch, which directed them, according to his 
position, perpendiculary into the earth, or horizontally 
along the garden, his eyes being fixed on a leaf upon 
the ground. 
  with bathsheba a hastened act was a rash act; 
but, as does not always happen, time gained was 
prudence insured. it must be added, however, that 
time was very seldom gained. at this period the 
single opinion in the parish on herself and her doings 
that she valued as sounder than her own was gabriel 
oak's. and the outspoken honesty of his character 
was such- that on any subject even that of her love 
for, or marriage with, another man, the same disinter+ 
estedness of opinion might be calculated on, and be 
had for the asking. thoroughly convinced of the 
impossibility of his own suit, a high resolve constrained 
him not to injure that of another. this is a lover's 
most stoical virtue, as the lack of it is a lover's most 
venial sin. hnowing he would reply truly, she asked 
the question, painful as she must have known the sub+ 
ject would be. such is the selfishness of some charm+ 
ing women. perhaps it was some excuse for her thus 
torturing honesty to her own advantage, that she had 
<p 185> 
absolutely no other sound judgment within easy reach. 
"well, what is your opinion of my conduct,' she 
said, quietly. 
"that it is unworthy of any thoughtful, and meek, 
and comely woman.' 
in an instant bathsheba's face coloured with the 
angry crimson of a danby sunset. but she forbore 
to utter this feeling, and the reticence of her tongue 
only made the loquacity of her face the more notice+ 
able. 
the next thing gabriel did was to make a mistake. 
"perhaps you don't like the rudeness of my repri+ 
manding you, for i know it is rudeness; but i thought 
it would do good.' 
she instantly replied sarcastically -- 
"on the contrary, my opinion of you is so low, that 
i see in your abuse the praise of discerning people!' 
"i am glad you don't mind it, for i said it honestly 
and with every serious meaning.' 
  "i see. but, unfortunately, when you try not to 
speak in jest you are amusing -- just as when you wish 
to avoid seriousness you sometimes say a sensible word 
it was a hard hit, but bathsheba had unmistakably 
lost her temper, and on that account gabriel had 
never in his life kept his own better. he said nothing. 
she then broke out -- 
  "i may ask, i suppose, where in particular my 
unworthiness lies? in my not marrying you, perhaps! 
"not by any means,' said gabriel quietly. "i have 
long given up thinking of that matter.' 
"or wishing it, i suppose,' she said; and it was 
apparent that she expected an unhesitating denial of 
this supposition. 
whatever gabriel felt, he coolly echoed her words -- 
"or wishing it either.' 
  a woman may be treated with a bitterness which 
is sweet to her, and with a rudeness which is not 
offensive. bathsheba would have submitted to an 
indignant chastisement for her levity had gabriel pro+ 
tested that he was loving her at the same time; the 
impetuosity of passion unrequited is bearable, even if 
it stings and anathematizes there is a triumph in the 
humiliation, and a tenderness in the strife. this was 
what she had been expecting, and what she had not 
got. to be lectured 
<p 186> 
because the lecturer saw her in 
the cold morning light of open-shuttered disillusion 
was exasperating. he had not finished, either. he 
continued in a more agitated voice: -- 
"my opinion is (since you ask it) that you are 
greatly to blame for playing pranks upon a man like 
mr. boldwood, merely as a pastime. leading on a 
man you don't care for is not a praiseworthy action. 
and even, miss everdene, if you seriously inclined 
towards him, you might have let him find it out in 
some way of true loving-kindness, and not by sending 
him a valentine's letter.' 
bathsheba laid down the shears. 
 "i cannot allow any man to -- to criticise my private 
conduct!' she exclaimed. "nor will i for a minute. 
so you'll please leave the farm at the end of the week!' 
it may have been a peculiarity -- at any rate it was 
a fact -- that when bathsheba was swayed by an emotion 
of an earthly sort her lower lip trembled: when by a 
refined emotion, her upper or heavenward one. her 
nether lip quivered now. 
"very well, so i will,' said gabriel calmly. he had 
been held to her by a beautiful thread which it pained 
him to spoil by breaking, rather than by a chain he 
could not break. "i should be even better pleased to 
go at once,' he added. 
"go at once then, in heaven's name!' said she,her 
eyes flashing at his, though never meeting them. 
"don't let me see your face any more.' 
"very well, miss everdene -- so it shall be.' 
and he took his shears and went away from her in 
placid dignity, as moses left the presence of pharaoh. 
<c xxi> 
<p 187> 
troubles in the fold -- a message 
gabriel oak had ceased to feed the weatherbury 
flock for about four-and-twenty hours, when on sunday 
afternoon the elderly gentlemen joseph poorgrass, 
matthew moon, fray, and half-a-dozen others, came 
running up to the house of the mistress of the upper 
farm. 
 "whatever is the matter, men?' she said, meeting 
them at the door just as she was coming out on her 
way to church, and ceasing in a moment from the close 
compression of her two red lips, with which she had 
accompanied the exertion of pelling on a tight glove. 
"sixty!' said joseph poorgrass. 
"seventy!' said moon. 
"fifty-nine!' said susan tall's husband. 
" -- sheep have broke fence,' said fray. 
" -- and got into a field of young clover,' said tall. 
" -- young clover!' said moon. 
" -- clover!' said joseph poorgrass. 
"and they be getting blasted,' said henery fray. 
"that they be,' said joseph. 
"and will all die as dead as nits, if they bain't got 
out and cured!'said tall. 
joseph's countenance was drawn into lines and 
puckers by his concern. fray's forehead was wrinkled 
both perpendicularly and crosswise, after the pattern of 
a portcullis, expressive of a double despair. laban 
tall's lips were thin, and his face were rigid. matthew's 
jaws sank, and his eyes turned whichever way the 
strongest muscle happened to pull them. 
  "yes,' said joseph, "and i was sitting at home, 
looking for ephesians, and says i to myself, "'tis 
nothing but corinthians and thessalonians in this 
danged testament,'' when 
<p 188> 
who should come in but 
henery there: ""joseph,'' he said, ""the sheep have 
with bathsheba it was a moment when thought was 
blasted theirselves -- -''' 
  with bathsheba it was a moment when thought was 
speech and speech exclamation. moreover, she had 
hardly recovered her equanimity since the disturbance 
which she had suffered from oak's remarks. 
'thats enought -- that's enough! -- oh, you fools!' 
she cried, throwing the parasol and prayer-book into 
the passage, and running out of doors in the direction 
signified. "to come to me, and not go and get them 
out directly! oh, the stupid numskulls!' 
her eyes were at their darkest and brightest now. 
bathsheba's beauty belonged rather to the demonian 
than to the angelic school, she never looked so well as 
when she was angry -- and particularly when the effect 
was heightened by a rather dashing velvet dress, care+ 
fully put on before a glass. 
all the ancient men ran in a jumbled throng after 
her to the clover-field, joseph sinking down in the 
midst when about half-way, like an individual withering 
in a world which was more and more insupportable. 
having once received the stimulus that her presence 
always gave them they went round among the sheep 
with a will. the majority of the afflicted animals were 
lying down, and could not be stirred. these were 
bodily lifted out, and the others driven into the adjoining 
field. here, after the lapse of a few minutes, several 
more fell down, and lay helpless and livid as the rest. 
bathsheba, with a sad, bursting heart, looked at these 
primest specimens of her prime flock as they rolled 
there -- 
swoln with wind and the rank mist they drew. 
many of them foamed at the mouth, their breathing 
being quick and short, whilst the bodies of all were 
fearfully distended. 
"o, what can i do, what can i do!' said bathsheba, 
helplessly. "sheep are such unfortunate animals! -- 
there's always something happening to them! i never 
knew a flock pass a year without getting into some scrape 
or other.' 
"there's only one way of saving them,' said tall. 
<p 189> 
"what way? tell me quick!' 
"they must be pierced in the side with a thing made 
on purpose.' 
"can you do it? can i?' 
"no, ma'am. we can't, nor you neither. it must 
be done in a particular spot. if ye go to the right or 
left but an inch you stab the ewe and kill her. not 
even a shepherd can do it, as a rule.' 
"then they must die,' she said, in a resigned tone. 
"only one man in the neighbourhood knows the way,' 
said joseph, now just come up. "he could cure 'em 
all if he were here.' 
"who is he? let's get him!' 
"shepherd oak," said matthew. "ah, he's a clever 
man in talents!' 
"ah, that he is so!' said joseph poorgrass. 
"true -- he's the man,' said laban tall. 
"how dare you name that man in my presence!' she 
said excitedly. "i told you never to allude to him, nor 
shall you if you stay with me. ah!' she added, brighten+ 
ing, "farmer boldwood knows!' 
  "0 no, ma'am' said matthew. "two of his store 
ewes got into some vetches t'other day, and were just 
like these. he sent a man on horseback here post-haste 
for gable, and gable went and saved 'em, farmer 
boldwood hev got the thing they do it with. 'tis a 
holler pipe, with a sharp pricker inside. isn't it, 
joseph?' 
  "ay -- a holler pipe,' echoed joseph. "that's what 
'tis.' 
"ay, sure -- that's the machine,' chimed in henery 
fray, reflectively, with an oriental indifference to the 
flight of time. 
"well," burst out bathsheba, "don't stand there with 
your ""ayes'' and your ""sures,'' talking at me! get 
somebody to cure the sheep instantly!' 
  all then stalked or in eonsternation, to get some+ 
body as directed, without any idea of who it was to be. 
in a minute they had vanished through the gate,.and 
she stood alone with the dying flock. 
"never will i send for him never!' she said firmly. 
<p 190> 
one of the ewes here contracted its muscles horribly, 
extended itself, and jumped high into the air. the 
leap was an astonishing one. the ewe fell heavily, and 
lay still. 
bathsheba went up to it. the sheep was dead. 
"o, what shall i do -- what shall i do!' she again 
exclaimed, wringing her hands. "i won't send for him. 
no, i won't!' 
the most vigorous expression of a resolution does 
not always coinicide with the greatest vigour of the 
resolution itself. it is often flung out as a sort of prop 
to support a decaying conviction which, whilst strong, 
required no enunciation to prove it so. the "no, i 
won't' of bathsheba meant virtually, "i think i must.' 
she followed her assistants through the gate, and 
lifted her hand to one of them. laban answered to her 
signal. 
"where is oak staying?' 
"across the valley at nest cottage!' 
"jump on the bay mare, and ride across, and say he 
must return instantly -- that i say so.' 
tall scrambled off to the field, and in two minutes 
was on poll, the bay, bare-backed, and with only a 
halter by way of rein. he diminished down the 
hill. 
bathsheba watched. so did all the rest. tall 
cantered along the bridle-path through sixteen acres, 
sheeplands, middle field the flats, cappel's piece, 
shrank almost to a point, crossed the bridge, and 
ascended from the valley through springmead and 
whitepits on the other side. the cottage to which 
gabriel had retired before taking his final departure 
from the locality was visible as a white spot on the 
opposite hill, backed by blue firs. bathsheba walked 
up and down. the men entered the field and 
endeavoured to ease the anguish of the dumb creatures 
by rubbing them. nothing availed. 
bathsheba continued walking. the horse was seen 
descending the hill, and the wearisome series had to be 
repeated in reverse order: whitepits, springmead, 
cappel's piece, the flats, middle field, sheeplands, 
sixteen acres. she hoped tall had had presence of 
mind enough to give the mare up to gabriel, and return 
himself on foot. the rider neared them. it was tall. 
<p 191> 
"o, what folly!' said bathsheba. 
gabriel was not visible anywhere. 
"perhaps he is already gone!' she said. 
tall came into the inclosure, and leapt off, his face 
tragic as morton's after the battle of shrewsbury. 
"well?' said bathsheba, unwilling to believe that 
her verbal lettre-de-cachet could possibly have miscarried. 
"he says beggars mustn't be choosers,' replied laban. 
"what!' said the young farmer, opening her eyes 
and drawing in her breath for an outburst. joseph 
poorgrass retired a few steps behind a hurdle. 
"he says he shall not come onless you request en 
to come civilly and in a proper manner, as becomes any 
'ooman begging a favour.' 
"oh, oh, that's his answer! where does he get his 
airs? who am i, then, to be treated like that? shall 
i beg to a man who has begged to me?' 
another of the flock sprang into the air, and fell 
dead. 
the men looked grave, as if they suppressed opinion. 
bathsheba turned aside, her eyes full of tears. the 
strait she was in through pride and shrewishness could 
not be disguised longer: she burst out crying bitterly; 
they all saw it; and she attempted no further concealment. 
"i wouldn't cry about it, miss,' said william small+ 
bury, compassionately. "why not ask him softer like? 
i'm sure he'd come then. gable is a true man in that 
way.' 
bathsheba checked her grief and wiped her eyes. 
"o, it is a wicked cruelty to me -- it is -- it is!' she 
murmured. "and he drives me to do what i wouldn't; 
yes, he does ! -- tall, come indoors.' 
after this collapse, not very dignified for the head 
of an establishment, she went into the house, tall at 
her heels. here she sat down and hastily scribbled a 
note between the small convulsive sobs of convalescence 
which follow a fit of crying as a ground-swell follows a 
storm. the note was none the less polite for being 
written in a hurry. she held it at a distance, was 
about to fold it, then added these words at the 
bottom: -- 
"do not desert me, gabriel!' 
<p 193> 
she looked a little redder in refolding it, and closed 
her lips, as if thereby to suspend till too late the action 
of conscience in examining whether such strategy were 
justifiable. the note was despatched as the message 
had been, and bathsheba waited indoors for the result. 
it was an anxious quarter of an hour that intervened 
between the messenger's departure and the sound of the 
horse's tramp again outside. she- could not watch this 
time, but, leaning over the old bureau at which she had 
written the letter, closed her eyes, as if to keep out both 
hope and fear. 
  the case, however, was a promising one. gabriel 
was not angry: he was simply neutral, although her first 
command had been so haughty. such imperiousness 
would have damned a little less beauty; and on the 
other hand, such beauty would have redeemed a little 
less imperiousness. 
she went out when the horse was heard, and looked 
up. a mounted figure passed between her and the 
sky, and drew on towards the fleld of sheep, the rider 
turning his face in receding. gabriel looked at her. 
it was a moment when a woman's eyes and tongue tell 
distinctly opposite tales. bathsheba looked full of 
gratitude, and she said: -- 
  "o, gabriel, how could you serve me so unkindly!' 
such a tenderly-shaped reproach for his previous 
delay was the one speech in the language that he could 
pardon for not being commendation of his readiness 
now. 
gabriel murmured a confused reply, and hastened 
on. she knew from the look which sentence in her 
note had brought him. bathsheba followed to the 
field. 
gabriel was already among the turgid, prostrate forms. 
he had flung off his coat, rolled up his shirt-sleeves, 
and taken from his pocket the instrument of salvation. 
it was a small tube or trochar, with a lance passing 
down the inside; and gabriel began to use it with a 
dexterity that would have graced a hospital surgeon. 
passing his hand over the sheep's left flank, and 
selecting the proper point, he punctured the skin and 
rumen with the lance as it stood in the tube; then he 
suddenly withdrew the lance, retaining the tube in its 
place. a current of air rushed up the tube, forcible 
enough to have extinguished a candle held at the 
orifice. 
it has been said that mere ease after torment is de+ 
light for a time; and the countenances of these poor 
creatures expressed it now. forty-nine operations were 
successfully performed. owing to the great hurry 
necessitated by the far-gone state of some of the flock, 
gabriel missed his aim in one case, and in one only -- 
striking wide of the mark, and inflicting a mortal blow 
at once upon the suffering ewe. four had died; three 
recovered without an operation. the total number of 
sheep which had thus strayed and injured themselves 
so dangerously was fifty-seven. 
when the love-led man had ceased from his labours, 
bathsheba came and looked him in the face. 
"gabriel, will you stay on with me?' she, said, 
smiling winningly, and not troubling to bring her lips 
quite together again at the end, because there was going 
to be another smile soon. 
"i will,' said gabriel. 
and she smiled on him again. 
<c xxii> 
<p 194> 
the great barn and the sheep-shearers 
men thin away to insignificance and oblivion quite as 
often by not making the most of good spirits when they 
have them as by lacking good spirits when they are 
indispensable. gabriel lately, for the first time since 
his prostration by misfortune, had been independent in 
thought and vigorous in action to a marked extent -- 
conditions which, powerless without an opportunity as 
an opportunity without them is barren, would have 
given him a sure lift upwards when the favourable-con+ 
junction should have occurred. but this incurable 
loitering beside bathsheba everdene stole his time 
ruinously. the spring tides were going by without 
floating him off, and the neap might soon come which 
could not. 
it was the first day of june, and the sheep-shearing 
season culminated, the landscape, even to the leanest 
pasture, being all health and colour. every green was 
young, every pore was open, and every stalk was swollen 
with racing currents of juice. god was palpably present 
in the country, and the devil had gone with the world 
to town. flossy catkins of the later kinds, fern-sprouts 
like bishops' croziers, the square-headed moschatel, the 
odd cuckoo-pint, -- like an apoplectic saint in a niche 
of malachite, -- snow-white ladies'-smocks, the toothwort, 
approximating to human flesh, the enchanter's night+ 
shade, and the black-petaled doleful-bells, were among 
the quainter objects of the vegetable world in and about 
weatherbury at this teeming time; and of the animal, 
the metamorphosed figures of mr. jan coggan, the 
master-shearer; the second and third shearers, who 
travelled in the exercise of their calling, and do not re+ 
quire definition by name; henery fray the fourth 
shearer, susan tall's husband the fifth, joseph poorgrass 
the sixth, young cain ball as assistant-shearer, and 
gabriel oak as general supervisor. none of these were 
clothed 
<p 195> 
to any extent worth mentioning, each appearing 
to have hit in the matter of raiment the decent mean 
between a high and low caste hindoo. an angularity 
of lineament, and a fixity of facial machinery in general, 
proclaimed that serious work was the order of the day. 
they sheared in the great barn, called for the nonce 
the shearing-barn, which on ground-plan resembled a 
church with transepts. it not only emulated the form 
of the neighbouring church of the parish, but vied with 
it in antiquity. whether the barn had ever formed one 
of a group of conventual buildings nobody seemed to be 
aware; no trace of such surroundings remained. the 
vast porches at the sides, lofty enough to admit a waggon 
laden to its highest with corn in the sheaf, were spanned 
by heavy-pointed arches of stone, broadly and boldly cut, 
whose very simplicity was the origin of a grandeur not 
apparent in erections where more ornament has been 
attempted. the dusky, filmed, chestnut roof, braced 
and tied in by huge collars, curves, and diagonals, was 
far nobler in design, because more wealthy in material, 
than nine-tenths of those in our modern churches. 
along each side wall was a range of striding buttresses, 
throwing deep shadows on the spaces between them, 
which were perforated by lancet openings, combining 
in their proportions the precise requirements both of 
beauty and ventilation. 
one could say about this barn, what could hardly 
be said of either the church or the castle, akin to it in 
age and style, that the purpose which had dictated its 
original erection was the same with that to which it 
was still applied. unlike and superior to either of 
those two typical remnants of mediaevalism, the old 
barn embodied practices which had suffered no mutila+ 
tion at the hands of time. here at least the spirit of 
the ancient builders was at one with the spirit of the 
modern beholder. standing before this abraded pile, 
the eye regarded its present usage, the mind-dwelt upon 
its past history, with a satisfied sense of functional 
continuity throughout -- a feeling almost of gratitude, 
and quite of pride, at the permanence of the idea 
which had heaped it up. the fact that four centuries 
had neither proved it to be founded on a mistake, 
<p 196> 
inspired any hatred of its purpose, nor given rise to 
any reaction that had battered it down, invested this 
simple grey effort of old minds with a repose, if not a 
grandeur, which a too curious reflection was apt to 
disturb in its ecclesiastical and military compeers. for 
once medievalism and modernism had a common stand+ 
point. the lanccolate windows, the time-eaten arch+ 
stones and chamfers, the orientation of the axis, the 
misty chestnut work of the rafters, referred to no exploded 
fortifying art or worn-out religious creed. the defence 
and salvation of the body by daily bread is still a study, 
a religion, and a desire. 
to-day the large side doors were thrown open 
towards the sun to admit a bountiful light to the 
immediate spot of the shearers' operations, which was 
the wood threshing-floor in the centre, formed of thick 
oak, black with age and polished by the beating of flails 
for many generations, till it had grown as slippery and 
as rich in hue as the state-room floors of an elizabethan 
mansion. here the shearers knelt, the sun slanting in 
upon their bleached shirts, tanned arms, and the polished 
shears they flourished, causing these to bristle with a 
thousand rays strong enough to blind a weak-eyed man. 
beneath them a captive sheep lay panting, quickening 
its pants as misgiving merged in terror, till it quivered 
like the hot landscape outside. 
this picture of to-day in its frame of four hundred 
years ago did not produce that marked contrast between 
ancient and modern which is implied by the contrast 
of date. in comparison with cities, weatherbury was 
immutable. the citizen's then is the rustic's now. 
in london, twenty or thirty-years ago are old times; 
in paris ten years, or five; in weatherbury three or 
four score years were included in the mere present, 
and nothing less than a century set a mark on its 
face or tone. five decades hardly modified the cut of 
a gaiter, the embroidery of a smock-frock, by the breadth 
of a hair. ten generations failed to alter the turn of 
a single phrase. in these wessex nooks the busy out+ 
sider's ancient times are only old; his old times are still 
new; his present is futurity. 
so the barn was natural to the shearers, and the 
shearers were in harmony with the barn. 
the spacious ends of the building, answering ecclesi+ 
astically 
<p 197> 
to nave and chancel extremities, were fenced 
off with hurdles, the sheep being all collected in a crowd 
within these two enclosures; and in one angle a catching+ 
pen was formed, in which three or four sheep were 
continuously kept ready for the shearers to seize without 
loss of time. in the background, mellowed by tawny 
shade, were the three women, maryann money, and 
temperance and soberness miller, gathering up the 
fleeces and twisting ropes of wool with a wimble for 
tying them round. they were indifferently well assisted 
by the old maltster, who, when the malting season from 
october to april had passed, made himself useful upon 
any of the bordering farmsteads. 
"behind all was bathsheba, carefully watching the 
men to see that there was no cutting or wounding 
through carelessness, and that the animals were shorn 
close. gabriel, who flitted and hovered under her 
bright eyes like a moth, did not shear continuously, 
half his time being spent in attending to the others 
and selecting the sheep for them. at the present 
moment he was engaged in handing round a mug of 
mild liquor, supplied from a barrel in the corner, 
and cut pieces of bread and cheese. 
bathsheba, after throwing a glance here, a caution 
there, and lecturing one of the younger operators who 
had allowed his last finished sheep to go off among 
the flock without re-stamping it with her initials, came 
again to gabriel, as he put down the luncheon to drag 
a frightened ewe to his shear-station, flinging it over 
upon its back with a dexterous twist of the arm 
he lopped off the tresses about its head, and opened 
up the neck and collar, his mistress quietly looking 
on: 
"she blushes at the insult,' murmured bathsheba, 
watching the pink flush which arose and overspread 
the neck and shoulders of the ewe where they were 
left bare by the clicking shears -- a flush which was 
enviable, for its delicacy, by many queens of coteries, 
and would have been creditable, for its promptness, to 
any woman in the world. 
poor gabriel's soul was fed with a luxury of content 
by having her over him, her eyes critically regarding 
his skilful shears, which apparently were going to gather 
up a piece of the flesh at every close, and yet never did 
so. like guildenstern, 
<p 198> 
oak was happy in that he was 
not over happy. he had no wish to converse with her: 
that his bright lady and himself formed one group, 
exclusively their own, and containing no others in the 
world, was enough. 
so the chatter was all on her side. there is a 
loquacity that tells nothing, which was bathsheba's; 
and there is a silence which says much: that was 
gabriel's. full of this dim and temperate bliss, he 
went on to fling the ewe over upon her other side, 
covering her head with his knee, gradually running 
the shears line after line round her dewlap; thence 
about her flank and back, and finishing over the tail. 
"well done, and done quickly!' said bathsheba, 
looking at her watch as the last snip resounded. 
"how long, miss?' said gabriel, wiping his brow. 
"three-and-twenty minutes and a half since you took 
the first lock from its forehead. it is the first time that 
i have ever seen one done in less than half an hour.' 
the clean, sleek creature arose from its fleece -- how 
perfectly like aphrodite rising from the foam should 
have been seen to be realized -- looking startled and 
shy at the loss of its garment, which lay on the floor 
in one soft cloud, united throughout, the portion visible 
being the inner surface only, which, never before exposed, 
was white as snow, and without flaw or blemish of the 
minutest kind. 
"cain ball!' 
"yes, mister oak; here i be!' 
cainy now runs forward with the tar-pot. "b. e.' is 
newly stamped upon the shorn skin, and away the simplc 
dam lcaps, panting, over the board into the shirtless 
flock outside. then up comes maryann; throws the 
loose locks into the middle of the fleece, rolls it up, 
and carries it into the background as three-and-a-half 
pounds of unadulterated warmth for the winter enjoy+ 
ment of persons unknown and far away, who will, 
however, never experience the superlative comfort 
derivable from the wool as it here exists, new and pure 
 -- before the unctuousness of its nature whilst in a 
living state has dried, stiffened, and been washed out 
 -- rendering it just now as superior to anything woollen 
as cream is superior to milk-and-water. 
<p 199> 
but heartless circumstance could not leave entire 
gabriel's happiness of this morning. the rams, old 
ewes, and two-shear ewes had duly undergone their 
stripping, and the men were proceeding with the shear+ 
lings and hogs, when oak's belief that she was going to 
stand pleasantly by and time him through another 
performance was painfully interrupted by farmer bold+ 
wood's appearance in the extremest corner of the barn. 
nobody seemed to have perceived his entry, but there 
he certainly was. boldwood always carried with him a 
social atmosphere of his own, which everybody felt who 
came near him; and the talk, which bathsheba's 
presence had somewhat suppressed, was now totally 
suspended. 
  he crossed over rowards bathsheba, who turned to 
greet him with a carriage of perfect ease. he spoke to 
her in low tones, and she instinctively modulated her 
own to the same pitch, and her voice ultimately even 
caught the inflection of his. she was far from having 
a wish to appear mysteriously connected with him; but 
woman at the impressionable age gravitates to the larger 
body not only in her choice of words, which is apparent 
every day, but even in her shades of tone and humour, 
when the influence is great. 
  what they conversed about was not audible to 
gabriel, who was too independent to get near, though 
too concerned to disregard. the issue of their dialogue 
was the taking of her hand by the courteous farmer to 
help her over the spreading-board into the bright june 
sunlight outside. standing beside the sheep already 
shorn, they went on talking again. concerning the 
flock? apparently not. gabriel theorized, not without 
truth, that in quiet discussion of any matter within reach 
of the speakers' eyes, these are usually fixed upon it. 
bathsheba demurely regarded a contemptible straw lying 
upon the ground, in a way which suggested less ovine 
criticism than womanly embarrassment. she became 
more or less red in the cheek, the blood wavering in 
uncertain flux and reflux over the sensitive space between 
ebb and flood. gabriel sheared on, constrained and 
sad. 
she left boldwood's side, and he walked up and 
down alone for nearly a quarter of an hour. then she 
reappeared in her 
<p 200> 
new riding-habit of myrtle-green, which 
fitted her to the waist as a rind fits its fruit; and young 
bob coggan led -on -her mare, boldwood fetching his 
own horse from the tree under which it had been tied. 
  oak's eyes could not forsake them; and in en+ 
deavouring to continue his shearing at the same time 
that he watched boldwood's manner, he snipped the 
sheep in the groin. the animal plunged; bathsheba 
instantly gazed towards it, and saw the blood. 
"o, gabriel!' she exclaimed, with severe remon+ 
strance you who are so strict with the other men -- see 
what you are doing yourself!' 
to an outsider there was not much to complain of 
in this remark ; but to oak, who "knew bathsheba to be 
well aware that she herself was the cause of the poor 
ewe's wound, because she had wounded the ewe's shearer 
in a -- still more vital part, it had a sting which the abiding 
sense of his inferiority to both herself and boldwood was 
not calculated to heal. but a manly resolve to recognize 
boldly that he had no longer a lover's interest in her, 
helped him oceasionally to conceal a feeling. 
" bottle .! ' he shouted, in an unmoved voice of routine. 
cainy ball ran up, the wound was anointed, and the 
shearing continued. 
boldwood gently tossed bathsheba into the saddle, 
and before they turned away she again spoke out to oak 
with the same dominative and tantalizing graciousness. 
"i am going now to see mr. boldwood's leicesters. 
take my place in the barn, gabriel, and keep the men 
carefully to their work.' 
the horses' heads were put about, and they trotted 
away. 
boldwood's deep attachment was a matter of great 
interest among all around him ; but, after having been 
pointed out for so many years as the perfect exemplar 
of thriving bachelorship, his lapse was an anticlimax 
somewhat resembling that of st. john long's death by 
consumption in the midst of his proofs that it was not 
a fatal disease. 
<p 201> 
" that means matrimony,' said temperance miller, 
following them out of sight with her eyes. 
"i reckon that's the size o't,' said coggan, working 
along without looking up. 
" well, better wed over the mixen than over the moor,' 
said laban tall, turning his sheep. 
henery fray spoke, exhibiting miserable eyes at the 
same time: "i don't see why a maid should take a 
husband when she's bold enough to fight her own 
battles, and don't want a home ; for 'tis keeping another 
woman out. but let it be, for 'tis a pity he and she 
should trouble two houses.' 
as usual with decided characters, bathsheba invari+ 
ably provoked the criticism of individuals like henery 
fray. her emblazoned fault was to be too pronounced 
in her objections, and not sufficiently overt in her 
likings. we learn that it is not the rays which bodies 
absorb, but those which they reject, that give them the 
colours they are known by ; and win the same way people 
are specialized by their dislikes and antagonisms, whilst 
their goodwill is looked upon as no attribute at all. 
henery continued in a more complaisant mood : "i 
once hinted my mind to her on a few things, as nearly 
as a battered frame dared to do 'so to such a froward 
piece. you all know, neighbours, what a man i be, 
and how i come down with my powerful words when 
my pride is boiling wi' scarn ?' 
" we do, we do, henery.' 
" so i said, "" mistress everdene, there's places empty, 
and there's gifted men willing ; but the spite '' -- no. not 
the spite -- i didn't say spite -- ""but the villainy of the 
contrarikind,'' i said (meaning womankind), "" keeps 'em 
out.'' that wasn't too strong for her, say ? ' 
" passably well put.' 
"yes; and i would have said it, had death and 
salvation overtook me for it. such is my spirit when i 
have a mind.' 
"a true man, and proud as a lucifer.' 
"you see the artfulness ? why, 'twas about being 
baily really; but i didn't put it so plain that she could 
understand my meaning, so i could lay it on all the 
<p 202> 
stronger. that was my depth .! ... however, let her 
marry an she will. perhaps 'tis high time. i believe 
farmer boldwood kissed her behind the spear-bed at the 
sheep-washing t'other day -- that i do.' 
" what a lie !.' said gabriel. 
" ah, neighbour oak -- how'st know ? ' said, henery, 
mildly. 
" because she told me all that passed,' said oak, with 
a pharisaical sense that he was not as other shearers in 
this matter. 
"ye have a right to believe it,' said henery, with 
dudgeon; "a very true right. but i mid see a little 
distance into things !. to be long-headed enough for a 
baily's place is a poor mere trifle -- yet a trifle more than 
nothing. however, i look round upon life quite cool. 
do you heed me, neighbours ? my words, though made 
as simple as i can, mid be rather deep for some heads.' 
" o yes, henery, we quite heed ye.' 
" a strange old piece, goodmen -- whirled about from 
here to yonder, as if i were nothing ! a little warped, 
too. but i have my depths; ha, and even my great 
depths ! i might gird at a certain shepherd, brain to 
brain. but no -- o no !.' 
" a strange old piece, ye say .! ' interposed the maltster, 
in a querulous voice. "at the same time ye be no old 
man worth naming -- no old man at all. yer teeth 
bain't  half  gone  yet ; and what's a old  man's standing 
if se be his teeth bain't gone? weren't i stale in 
wedlock afore ye were out  of arms ? 'tis a poor thing 
to be sixty, when there's people far past four-score -- a 
boast'weak as water.' 
it was the unvaying custom in weatherbury to 
sink minor differences when the maltster had to be 
pacified. 
" weak as-water .! yes,' said jan coggan.- "malter, 
we feel ye to be a wonderful veteran man, and nobody 
can gainsay it.' 
" nobody,' said joseph poorgrass. "ye be a very 
rare old  spectacle, malter, and we all admire ye for that 
gift. ' 
"ay, and as a young man, when my senses were in 
prosperity, i was likewise liked by a good-few who 
knowed me,' said the maltster. 
" 'ithout doubt you was -- 'ithout doubt.' 
the bent and hoary 'man was satisfied, and so 
apparently was henery frag. that matters should 
continue pleasant maryann 
<p 203> 
spoke, who, what with her 
brown complexion, and the working wrapper of rusty 
linsey, had at present the mellow hue of an old sketch 
in oils -- notably some of nicholas poussin's: -- 
" do anybody know of a crooked man, or a lame, or 
any second-hand fellow at all that would do for poor 
me ?' said maryann. "a perfect one i don't expect to 
 at my time of life. if i could hear of such a thing 
twould do me more good thantoast and ale.' 
 coggan furnished a suitable reply. oak went on 
with his shearing, and said not another word. pestilent 
moods had come, and teased away his quiet. bathsheba 
had shown indications of anointing him above his 
fellows by installing him as the bailiff that the farm 
imperatively required. he did not covet the post 
relatively to the farm : in relation to herself, as beloved 
by him and unmarried to another, he had coveted it. 
his readings of her seemed now to be vapoury and 
indistinct. his lecture to her was, he thought, one of 
the absurdest mistakes. far from coquetting with 
boldwood, she had trifled with himself in thus feigning 
that she had trifled with another. he was inwardly 
convinced that, in accordance with the anticipations of 
his easy-going and worse-educated comrades, that day 
would see boldwood the accepted husband of miss 
everdene. gabriel at this time of his life had out+ 
grown the instinctive dislike which every christian 
boy has for reading the bible, perusing it now quite 
frequently, and he inwardly said, " ''i find more bitter 
than death the woman whose heart is snares and 
nets .! '' ' this was mere exclamation -- the froth of the 
storm. he adored bathsheba just the same. 
" we workfolk shall have some lordly- junketing 
to-night,' said cainy ball, casting forth his thoughts in 
a new direction. "this morning i see'em making the 
great puddens in the milking-pails -- lumps of fat as big 
as yer thumb, mister oak ! i've never seed such 
splendid large knobs of fat before in the days of my 
life -- they never used to be bigger then a horse-bean. 
and there was a great black crock upon the brandise 
with his legs a-sticking out, but i dont know what was 
in within." 
'and there's two bushels of biffins for apple-pies,' 
said maryann. 
<p 204> 
"well, i hope to do my duty by it all,' said joseph 
poorgrass, in a pleasant, masticating manner of anticipa+ 
tion. " yes ; victuals and drink is a cheerful thing, 
and gives nerves to the nerveless, if the form of words 
may be used. 'tis the gospel of the body, without 
which we perish, so to speak it.' 
<c xxiii> 
<p 205> 
eventide -- a second declaration 
for the shearing-supper a long table was placed on the 
grass-plot beside the house, the end of the table being 
thrust over the sill of the wide parlour window and a 
foot or two into the room. miss everdene sat inside 
the window, facing down the table. she was thus at 
the head without mingling with the men. 
this evening bathsheba was unusually excited, her 
red cheeks and lips contrasting lustrously with the mazy 
skeins of her shadowy hair. she seemed to expect 
assistance, and the seat at the bottom of the table was 
at her request left vacant until after they had begun 
and the duties appertaining to that end, which he did 
with great readiness. 
at this moment mr. boldwood came in at the gate, 
and crossed the green to bathsheba at the window. 
he apologized for his lateness : his arrival was evidently 
by arrangement. 
" gabriel,' said she, " will you move again, please, 
and let mr. boldwood come there ?' 
oak moved in silence back to his original seat. 
the gentleman-farmer was dressed in cheerful style, 
in a new coat and white waistcoat, quite contrasting 
with his usual sober suits of grey. inwardy, too, he 
was blithe, and consequently chatty to an exceptional 
degree. so also was bathsheba now that he had come, 
though the uninvited presence of pennyways, the bailiff 
who had been dismissed for theft, disturbed her equan+ 
imity for a while. 
supper being ended, coggan began on his own 
private account, without reference to listeners : -- 
l've lost my love and l care not, 
i've lost my love, and l care not; 
i shall soon have another 
<p 206> 
that's better than t'other! 
i've lost my love, and i care not. 
this lyric, when concluded, was received with a 
silently appreciative gaze at the table, implying that the 
performance, like a work by those established authors 
who are independent of notices in the papers, was a 
well-known delight which required no applause. 
"now, master poorgass, your song!' said coggan. 
"i be all but in liquor, and the gift is wanting in 
me,' said joseph, diminishing himself. 
"nonsense; wou'st never be so ungrateful, joseph -- 
never!' said coggan, expressing hurt feelings by an 
inflection of voice. "and mistress is looking hard at 
ye, as much as to say, ""sing at once, joseph poor+ 
grass.'' ' 
"faith, so she is; well, i must suffer it! ... just 
eye my features, and see if the tell-tale blood overheats 
me much, neighbours?' 
"no, yer blushes be quite reasonable,' said coggan. 
"i always tries to keep my colours from rising when 
a beauty's eyes get fixed on me,' said joseph, differently; 
"but if so be 'tis willed they do, they must.' 
"now, joseph, your song, please,' said bathsheba, 
from the window. 
"well, really, ma'am,' he replied, in a yielding tone, 
"i don't know what to say. it would be a poor plain 
ballet of my own composure.' 
'hear, hear! ' said the supper-party. 
poorgrass, thus assured, trilled forth a flickering yet 
commendable piece of sentiment, the tune of which 
consisted of the key-note and another, the latter being 
the sound chiefly dwelt upon. this was so successful 
that he rashly plunged into a second in the same 
breath, after a few false starts : -- 
i sow'-ed th'-e 
i sow'-ed 
i sow'-ed the'-e seeds' of love', 
i-it was' all' i'-in the'-e spring', 
i-in a'-pril', ma'-ay, a'-nd sun'-ny' june', 
when sma'-all bi'-irds they' do' sing. 
<p 207> 
" well put out of hand,' said coggan, at the end of the 
verse. ' "" they do sing '' was a very taking paragraph.' 
"ay; and there was a pretty place at "seeds of 
love,'' and 'twas well heaved out. though "love '' is 
a nasty high corner when a man's voice is getting 
crazed. next verse, master poorgrass.' 
but during this rendering young bob coggan ex+ 
hibited one of those anomalies which will afflict little 
people when other persons are particularly serious : in 
trying to check his laughter, he pushed down his throat 
as much of the tablecloth as he could get hold of, when, 
after continuing hermetically sealed for a short time, his 
mirth burst out through his nose. joseph perceived it, 
and with hectic cheeks of indignation instantly ceased 
singing. coggan boxed bob's ears immediately. 
"go on, joseph -- go on, and never mind the young 
scamp,' said coggan. "'tis a very catching ballet. 
now then again -- the next bar; i'll help ye to flourish 
up the shrill notes where yer wind is rather wheezy : -- 
o the wi'-il-lo'-ow tree' will' twist', 
and the wil'-low' tre'-ee wi'ill twine'. 
but the singer could not be set going again. bob 
coggan was sent home for his ill manners, and tran+ 
quility was restored by jacob smallbury, who volunteered 
a ballad as inclusive and interminable as that with which 
the worthy toper old silenus amused on a similar occasion 
the swains chromis and mnasylus, and other jolly dogs 
of his day. 
it' was still the beaming time .of evening, though 
night was stealthily making itself visible low down upon 
the ground, the western lines of light taking the earth 
without alighting upon it to any extent, or illuminating 
the dead levels at all. the sun had crept round the 
tree as a last effort before death, and then began to 
sink, the shearers' lower parts becoming steeped in 
embrowning twilight, whilst their heads and shoulders 
were still enjoying day, touched with a yellow of self+ 
sustained brilliancy that seemed inherent rather than 
acquired. 
the sun went down in an ochreous mist; but they 
sat, and 
<p 208> 
talked on, and grew as merry as the gods in 
homer's heaven. bathsheba still remained enthroned 
inside the window, and occupied herself in knitting, 
from which she sometimes looked up to view the fading 
scene outside. the slow twilight expanded and enveloped 
them completely before the signs of moving were shown. 
gabriel suddenly missed farmer boldwood from his 
place at the bottom of the table. how long he had 
been gone oak did not know; but he had apparently 
withdrawn into the eneircling dusk. whilst he was 
thinking of this, liddy brought candles into the back 
part of the room overlooking the shearers, and their 
lively new flames shone down the table and over the 
men, and dispersed among the green shadows behind. 
bathsheba's form, still in its original position, was now 
again distinct between their eyes and the light, which 
revealed that boldwood had gone inside the room, and 
was sitting near her. 
next came the question of the evening. would miss 
everdene sing to them the song she always sang so 
charmingly -- " the banks of allan water ' -- before they 
went home ? 
after a moment's consideration bathsheba assented, 
beckoning to gabriel, who hastened up into the coveted 
atmosphere. 
" have you brought your flute ? " she whispered. 
" yes, miss.' 
" play to my singing, then.' 
she stood up in the window-opening, facing the 
men, the candles behind her, gabriel on her right hand, 
immediately outside the sash-frame. boldwood had 
drawn up on her left, within the room. her singing 
was soft and rather tremulous at first, but it soon swelled 
to a steady clearness. subsequent events caused one 
of the verses to be remembered for many months, and 
even years, by more than one of those who were gathered 
there : -- 
for his bride a soldier sought her, 
and a winning tongue had he : 
on the banks of allan water 
none was gay as she !. 
<p 209> 
in addition to the dulcet piping of gabriel's flute, 
boldwood supplied a bass in his customary profound 
voice, uttering his notes so softly, however, as to abstain 
entirely from making anything like an ordinary duet of 
the song ; they rather formed a rich unexplored shadow, 
which threw her tones into relief. the shearers reclined 
against each other as at suppers in the early ages of the 
world, and so silent and absorbed were they that her 
breathing could almost be heard between the bars ; and 
at the end of the ballad, when the last tone loitered on 
to an inexpressible close, there arose that buzz of 
pleasure which is the attar of applause. 
it is scarcely necessary to state that gabriel could 
not avoid noting the farmer's bearing to-night towards 
their entertainer. yet there was nothing exceptional in 
his actions beyond what appertained to his time of 
performing them. it was when the rest were all looking 
away that boldwood observed her ; when they regarded 
her he turned aside; when they thanked or praised he 
was silent; when they were inattentive he murmured 
his thanks. the meaning lay in the difference between 
actions, none of which had any meaning of itself; 
and the necessity of being jealous, which lovers are 
troubled with, did not lead oak to underestimate these 
signs. 
bathsheba then wished them good-night, withdrew 
from the window, and retired to the back part of the 
room, boldwood thereupon closing the sash and the 
shutters, and remaining inside with her. oak wandered 
away under the quiet and scented trees. recovering 
from the softer impressions produced by bathsheba's 
voice, the shearers rose to leave, coggan turning to 
pennyways as he pushed back the bench to pass out : -- 
"i like to give praise where praise is due, and the 
man deserves it -- that 'a do so,' he remarked, looking at 
the worthy thief, as if he were the masterpiece of some 
world-renowned artist. 
<p 210> 
"i'm sure i should never have believed it if we hadn t 
proved it, so to allude,' hiccupped joseph poorgrass, " that 
every cup, every one of the best knives and forks, and 
every empty bottle be in their place as perfect now as 
at the beginning, and not one stole at all. 
"i'm sure i don't deserve half the praise you give 
me,' said the virtuous thief, grimly. 
" well, i'll say this for pennyways,' added coggan, 
"that whenever he do really make up his mind to do a 
noble thing in the shape of a good action, as i could 
see by his face he. did to-night afore sitting down, he's 
generally able to carry it out. yes, i'm proud to say. 
neighbours, that he's stole nothing at all. 
"well,' -- 'tis an honest deed, and we thank ye for it, 
pennyways,' said joseph; to which opinion the remainder 
of the company subscribed unanimously. 
  at this time of departure, when nothing more was 
visible of the inside of the parlour than a thin and still 
chink of light between the shutters, a passionate scene 
was in eourse of enactment there.' 
miss everdene and boldwood were alone. her 
cheeks had lost a great deal of their healthful fire from 
the very seriousness of her position ; but her eye was 
bright with the excitement of a triumph -- though it was 
a triumph which had rather been contemplated than 
desired. 
she was standing behind a low arm-chair, from which 
she had just risen, and he was kneeling in it -- inclining 
himself over its back towards her, and holding her hand 
in both his own. his body moved restlessly, and it was 
with what keats daintily calls a too happy happiness. 
this unwonted abstraction by love of all dignity from 
a man of whom it had ever seemed the chief component, 
was, in its distressing incongruity, a pain to her which 
quenched much of the pleasure she derived from the 
proof that she was idolized. 
" i will try to love you,' she was saying, in a trembling 
voice quite unlike her usual self-confidence. " and if i 
can believe in any way that i shall make you a good 
wife i shall indeed be willing to marry you. but, mr. 
boldwood, hesitation on so high a matter is honourable 
in any woman, and i don't want to give a solemn 
promise to-night. i would rather ask you to wait a few 
weeks till i can see my situation better.' 
"but you have every reason to believe that then --  -- ' 
'i have every reason to hope that at the end of the 
five or 
<p 211> 
six weeks, between this time and harvest, that 
you say you are going to be away from home, i shall be 
able to promise to be your wife,' she said, firmly. "but 
remember this distinctly, i don't promise yet.' 
"it is enough i don't ask more. i can wait on 
those dear words. and now, miss everdene, good+ 
night!' 
" good-night,' she said, graciously -- almost tenderly; 
and boldwood withdrew with a serene smile. 
bathsheba knew more of him now ; he had entirely 
bared his heart before her, even until he had almost 
worn in her eyes the sorry look of a grand bird without 
the feathers that make it grand. she had been awe+ 
struck at her past temerity, and was struggling to make 
amends without thinking whether the sin quite deserved 
the penalty she was schooling herself to pay. to have 
brought all this about her ears was terrible; but after a 
while the situation was not without a fearful joy. the 
facility with which even the most timid woman some+ 
times acquire a relish for the dreadful when that is 
amalgamated with a little triumph, is marvellous. 
<c xxiv> 
<p 212> 
the same night -- the fir plantation 
among the multifarious duties which bathsheba had 
voluntarily imposed upon herself by dispensing with the 
services of a bailiff, was the particular one of looking 
round the homestead before going to bed, to see that 
all was right and safe for the night. gabriel had almost 
constantly preceded her in this tour every evening, 
watching her affairs as carefully as any specially appointed 
officer of surveillance could have done; but this tender 
devotion was to a great extent unknown to his mistress, 
and as much as was known was somewhat thanklessly 
received. women are never tired of bewailing man's 
fickleness in love, but they only seem to snub his con+ 
stancy. 
as watching is best done invisibly, she usually carried 
a dark lantern in her hand, and every now and then 
turned on the light to examine nooks and corners with 
the coolness of a metropolitan policeman. this cool+ 
ness may have owed its existence not so much to her 
fearlessness of expected danger as to her freedom from 
the suspicion of any; her worst anticipated discovery 
being that a horse might not be well bedded, the fowls 
not all in, or a door not closed. 
this night the buildings were inspected as usual, 
and she went round to the farm paddock. here the 
only sounds disturbing the stillness were steady munch+ 
ings of many mouths, and stentorian breathings from all 
but invisible noses, ending in snores and puffs like the 
blowing of bellows slowly. then the munching would 
recommence, when the lively imagination might assist 
the eye to discern a group of pink-white nostrils, shaped 
as caverns, and very clammy and humid on their sur+ 
faces, not exactly pleasant to the touch until one got 
used to them; the mouths beneath having a great 
partiality for closing upon any loose end of bathsheba's 
apparel which came within 
<p 213> 
reach of their tongues. 
above each of these a still keener vision suggested a 
brown forehead and two staring though not unfriendly 
eyes, and above all a pair of whitish crescent-shaped 
horns like two particularly new moons, an occasional 
stolid " moo!' proclaiming beyond the shade of a doubt 
that these phenomena were the features and persons of 
daisy, whitefoot, bonny-lass, jolly-o, spot, twinkle-eye, 
etc., etc. -- the respectable dairy of devon cows belonging 
to bathsheba aforesaid. 
her way back to the house was by a path through a 
young plantation of tapering firs, which had been planted 
some years earlier to shelter the premises from the north 
wind. by reason of the density of the interwoven foliage 
overhead, it was gloomy there at cloudless noontide, 
twilight in the evening, dark as midnight at dusk, and 
black as the ninth plague of egypt at midnight. to 
describe the spot is to call it a vast, low, naturally formed 
hall, the plumy ceiling of which was supported by slender 
pillars of living wood, the floor being covered with a soft 
dun carpet of dead spikelets and mildewed cones, with 
a tuft of grass-blades here and there. 
this bit of the path was always the crux of the 
night's ramble, though, before starting, her apprehen+ 
sions of danger were not vivid enough to lead her to 
take a companion. slipping along here covertly as 
time, bathsheba fancied she could hear footsteps enter+ 
ing the track at the opposite end. it was certainly a 
rustle of footsteps. her own instantly fell as gently as 
snowflakes. she reassured herself by a remembrance 
that the path was public, and that the traveller was 
probably some villager returning home ; regetting, at 
the same time, that the meeting should be about to 
occur in' the darkest point of her route, even though 
only just outside her own door. 
the noise approached, came close, and a figure was 
apparently on the point of gliding past her when some+ 
thing tugged at her skirt and pinned it forcibly to the 
ground. the instantaneous check nearly threw bath+ 
sheba off her balance. in recovering she struck against 
warm clothes and buttons. 
'a rum start, upon my soul!' said a masculine voice, 
a foot or so above her head. 'have i hurt you, mate?' 
"no,' said bathsheba, attempting to shrink a way. 
<p 214> 
" we have got hitched together somehow, i think.' 
" yes.' 
"are you a woman ?' 
'yes.' 
"a lady, i should have said.' 
"it doesn't matter.' 
"i am a man.' 
"oh!' 
bathsheba softly tugged again, but to no purpose. 
"is that a dark lantern you have ? i fancy so,' said 
the man. 
'yes.' 
"if you'll allow me i'll open it, and set you free.' 
a hand seized the lantern, the door was opened, the 
rays burst out from their prison, and bathsheba beheld 
her position with astonishment. 
the man to whom she was hooked was brilliant in 
brass and scarlet. he was a soldier. his sudden 
appearance was to darkness what the sound of a trumpet 
is to silense. gloom, the genius loci at all times hitherto, 
was now totally overthrown, less by the lantern-light 
than by what the lantern lighted. the contrast of this 
revelation with her anticipations of some sinister figure 
in sombre garb was so great that it had upon her the 
effect of a fairy transformation. 
it was immediately apparent that the military man's 
spur had become entangled in the gimp which decorated 
the skirt of her dress. he caught a view of her face. 
"i'll unfasten you in one moment, miss,' he said, 
with new-born gallantry. 
" o no -- i can do it, thank you,' she hastily replied, 
and stooped for the performance. 
the unfastening was not such a trifling affair. the 
rowel of the spur had so wound itself among the gimp 
cords in those few moments, that separation was likely 
to be a matter of time. 
he too stooped, and the lantern standing on the 
ground betwixt them threw the gleam from its open side 
among the fir-tree needles and the blades of long damp 
grass with the effect of a large glowworm. it radiated 
upwards into their 
<p 215> 
faces, and sent over half the planta+ 
tion gigantic shadows of both man and woman, each 
dusky shape becoming distorted and mangled upon the 
tree-trunks till it wasted to nothing. 
he looked hard into her eyes when she raised them 
for a moment; bathsheba looked down again, for his 
gaze was too strong to be received point-blank with her 
own. but she had obliquely noticed that he was young 
and slim, and that he wore three chevrons upon his 
sleeve. 
bathsheba pulled again. 
" you are a prisoner, miss; it is no use blinking the 
matter,' said the soldier, drily. " i must cut your dress 
if you are in such a hurry.' 
" yes -- please do!' she exclaimed, helplessly. ' 
"it wouldn't be necessary if you could wait a 
moment;' and he unwound a cord from the little 
wheel. she withdrew her own hand, but, whether by 
accident or design, he touched it. bathsheba was 
vexed; she hardly knew why. 
his unravelling went on, but it nevertheless seemed 
coming to no end. she looked at him again. 
'thank you for the sight of such a beautiful face!' 
said the young sergeant, without ceremony. 
she coloured with embarrassment. "'twas un+ 
willingly shown,' she replied, stiffly, and with as much 
dignity -- which was very little -- as she could infuse into 
a position of captivity 
"i like you the better for that incivility, miss,' he 
said. 
" i should have liked -- i wish -- you had never shown 
yourself to me by intruding here!' she pulled again, 
and the gathers of her dress began to give way like 
liliputian musketry. 
" i deserve the chastisement your words give me. 
but why should such a fair and dutiful girl have such 
an aversion to her father's sex ? ' 
"go on your way, please.' 
' what, beauty, and drag you after me ? do but 
look; i never saw such a tangle!' 
'o, 'tis shameful of you ; you have been making 
it worse on purpose to keep me here -- you have ! ' 
"indeed, i don't think so,' said the sergeant, with a 
merry twinkle. 
<p 216> 
"i tell you you have!' she exclaimed, in high 
temper. i insist upon undoing it. now, allow me!' 
"certainly, miss; i am not of steel.' he added a 
sigh which had as much archness in it as a sigh could 
possess without losing its nature altogether. 'i am 
thankful for beauty, even when 'tis thrown to me like 
a bone to a dog. these moments will be over too 
soon!' 
she closed her lips in a determined silence. 
bathsheba was revolving in her mind whether by a 
bold and desperate rush she could free herself at the 
risk of leaving her skirt bodily behind her. the 
thought was too dreadful. the dress -- which she had 
put on to appear stately at the supper -- was the head 
and front of her wardrobe ; not another in her stock 
became her so well. what woman in bathsheba's 
position, not naturally timid, and within call of her 
retainers, would have bought escape from a dashing 
soldier at so dear a price ? 
"all in good time ; it will soon be done, i perceive,' 
said her cool friend. 
" this trifling provokes, and -- and --  -- ' 
" not too cruel!' 
" --  insults me.!' 
"it is done in order that i may have the pleasure 
of apologizing to so charming a woman, which i 
straightway do most humbly, madam,' he said, bowing 
low. 
bathsheba really knew not what to say. 
"i've seen a good many women in my time, 
continued the young man in a murmur, and more 
thoughtfully than hitherto, critically regarding her bent 
head at the same time; "but i've never seen a woman 
so beautiful as you. take it or leave it -- be offended 
or like it -- i don't care.' 
" who are you, then, who can so well afford to 
despise opinion ? ' 
" no stranger. sergeant troy. i am staying in 
this place. -- there ! it is undone at last, you see. 
your light fingers were more eager than mine. i wish it 
had been the knot of knots, which there's no untying !. ' 
this was worse and worse. she started up, and so 
did he. 
<p 217> 
how to decently get away from him -- that 
was her difficulty now. she sidled off inch by inch, 
the lantern in her hand, till she could see the redness 
of his coat no longer. 
" ah, beauty ; good-bye !. ' he said. 
she made no reply, and, reaching a distance of 
twenty or thirty yards, turned about, and ran indoors. 
liddy had just retired to rest. in ascending to her 
own chamber, bathsheba opened the girl's door an 
inch or two, and, panting, said -- 
" liddy, is any soldier staying in the village -- 
sergeant somebody -- rather gentlemanly for a sergeant, 
and good looking -- a red coat with blue facings ?' 
'no, miss ... no, i say; but really it might be 
sergeant troy home on furlough, though i have not 
seen him. he was here once in that way when the 
regiment was at casterbridge.' 
" yes; that's the name. had he a moustache -- no 
whiskers or beard ?' 
" he had.' 
" what kind of a person is he ?' 
"o ! miss -- i blush to name it -- a gay man! but 
i know him to be very quick and trim, who might have 
made his thousands, like a squire. such a clever 
young dand as he is! he's a doctor's son by name, 
which is a great deal; and he's an earl's son by 
nature!' 
" which is a great deal more. fancy! is it true ? ' 
" yes. and, he was brought up so well, and sent to 
casterbridge grammar school for years and years. 
learnt all languages while he was there ; and it was 
said he got on so far that he could take down chinese 
in shorthand ; but that i don't answer for, as it was 
only reported. however, he wasted his gifted lot, 
and listed a soldier; but even then he rose to be a 
sergeant without trying at all. ah! such a blessing it 
is to be high-born ; nobility of blood will shine out even 
in the ranks and files. and is he really come home, 
miss ?" 
' i believe so. good-night, liddy.' 
after all, how could a cheerful wearer of skirts 
be permanently offended with the man ? there are 
occasions when girls like bathsheba will put up with 
a great deal of 
<p 218> 
unconventional behaviour. when they 
want to be praised, which is often, when they want to 
be mastered, which is sometimes ; and when they want 
no nonsense, which is seldom. just now the first 
feeling was in the ascendant with bathsheba, with a dash 
of the second. moreover, by chance or by devilry, the 
ministrant was antecedently made interesting by being 
a handsome stranger who had evidently seen better 
days. 
so she could not clearly decide whether it was her 
opinion that he had insulted her or not. ' 
"was ever anything so odd! ' she at last exclaimed 
to herself, in her own room. "and was ever anything 
so meanly done as what i did to to sulk away like that 
from a man who was only civil and kind!' clearly she 
did not think his barefaced praise of her person an 
insult now. 
it was a fatal omission of boldwood's that he had 
never once told her she was beautiful. 
<c xxv> 
<p 219> 
the new acquaintance described 
idiosyncrasy and vicissitude had combined to 
stamp sergeant troy as an exceptional being. 
he was a man to whom memories were an in+ 
cumbrance, and anticipations a superfluity. simply 
feeling, considering, and caring for what was before his 
eyes, he was vulnerable only in the present. his out+ 
look upon time was as a transient flash of the eye now 
and then : that projection of consciousness into days 
gone by and to come, which makes the past a synonym 
for the pathetic and the future a word for circum+ 
spection, was foreign to troy. with him the past 
was yesterday ; the future, to-morrow ; never, the day 
after. 
on this account he might, in certain lights, have 
been regarded as one of the most fortunate of his 
order. for it may be argued with great plausibility 
that reminiscence is less an endowment than a disease, 
and that expectation in its only comfortable form -- that 
of absolute faith -- is practically an impossibility; whilst 
in the form of hope and the secondary compounds, 
patience, impatience, resolve, curiosity, it is a constant 
fluctuation between pleasure and pain. 
sergeant troy, being entirely innocent of the 
practice of expectation, was never disappointed. to 
set against this negative gain there may have been 
some positive losses from a certain narrowing of the 
higher tastes and sensations which it entailed. but 
limitation of the capacity is never recognized as a loss 
by the loser therefrom : in this attribute moral or 
aesthetic poverty contrasts plausibly with material, since 
those who suffer do not mind it, whilst those who mind 
it soon cease to suffer. it is not a denial of anything 
to have been always without it, and what troy had 
never enjoyed he did not miss; but, being fully 
conscious that what sober 
<p 220> 
people missed he enjoyed, 
his capacity, though really less, seemed greater than 
theirs. 
he was moderately truthful towards men, but to 
women lied like a cretan -- a system of ethics above all 
others calculated to win popularity at the first flush of 
admission into lively society ; and the possibility of the 
favour gained being transitory had reference only to 
the future. 
he never passed the line which divides the spruce 
vices from the ugly ; and hence, though his morals had 
hardly been applauded, disapproval of them" had fre+ 
quently been tempered with a smile. this treatment 
had led to his becoming a sort of regrater of other 
men's gallantries, to his own aggrandizement as a 
corinthian, rather than to the moral profit of his 
hearers. 
his reason and his propensities had seldom any 
reciprocating influence, having separated by mutual 
consent long ago : thence it sometimes happened that, 
while his intentions were as honourable as could be 
wished, any particular deed formed a dark background 
which threw them into fine relief. the sergeant's 
vicious phases being the offspring of impulse, and 
his virtuous phases of cool meditation, the latter 
had a modest tendency to be oftener heard of than 
seen. 
troy was full of activity, but his activities were less of 
a locomotive than a vegetative nature ; and, never being 
based upon any original choice of foundation or direc+ 
tion, they were exercised on whatever object chance 
might place in their way. hence, whilst he sometimes 
reached the brilliant in speech because that -was 
spontaneous, he fell below the commonplace in action, 
from inability to guide incipient effort. he had a 
quick comprehension and considerable force of char+ 
acter ; but, being without the power to combine them, 
the comprehension became engaged with trivialities 
whilst waiting for the will to direct it, and the force 
wasted itself in useless grooves through unheeding the 
comprehension. 
he was a fairly well-educated man for one of middle 
class -- exceptionally well educated for a common soldier. 
he spoke fluently and unceasingly. he could in this 
way be one thing and seem another : for instance, he 
could speak of love and 
<p 221> 
think of dinner; call on the 
intend to owe. 
the wondrous power of flattery in passados at woman 
is a perception so universal as to be remarked upon by 
many people almost as automatically as they repeat a 
proverb, or say that they are christians and the like, 
without thinking much of the enormous corollaries 
which spring from the proposition. still less is it acted 
upon for the good of the complemental being alluded 
to. with the majority such an opinion is shelved with 
all those trite aphorisms which require some catastrophe 
to bring their tremendous meanings thoroughly home. 
when expressed with some amount of reflectiveness it 
seems co-ordinate with a belief that this flattery must 
be reasonable to be effective. it is to the credit of 
men that few attempt to settle the question by experi+ 
ment, and it is for their happiness, perhaps, that accident 
has never settled it for them. nevertheless, that a 
male dissembler who by deluging her with untenable 
fictions charms the female wisely, may acquire powers 
reaching to the extremity of perdition, is a truth taught 
to many by unsought and wringing occurrences. and 
some profess to have attained to the same knowledge 
by experiment as aforesaid, and jauntily continue their 
indulgence in such experiments with terrible effect. 
sergeant troy was one. 
he had been known to observe casually that in 
dealing with womankind the only alternative to flattery 
was cursing and swearing. there was no third method. 
" treat them fairly, and you are a lost man,' he would 
say. 
this philosopher's public appearance in weatherbury 
promptly followed his arrival there. a week or two 
after the shearing, bathsheba, feeling a nameless relief 
of spirits on account of boldwood's absence, approached 
her hayfields and looked over the hedge towards the 
haymakers. they consisted in about equal proportions 
of gnarled and flexuous forms, the former being the 
men, the latter the women, who wore tilt bonnets 
covered with nankeen, which hung in a curtain upon 
their shoulders. coggan and mark clark were mowing 
in a less forward meadow, clark humming a tune to 
the strokes of his 
<p 222> 
scythe, to which jan made no attempt 
to keep time with his. in the first mead they were 
already loading hay, the women raking it into cocks 
and windrows, and the men tossing it upon the 
waggon. 
from behind the waggon a bright scarlet spot 
emerged, and went on loading unconcernedly with the 
rest. it was the gallant sergeant, who had come hay+ 
making for pleasure ; and nobody could deny that he 
was doing the mistress of the farm real knight-service 
by this voluntary contribution of his labour at a busy 
time. 
as soon as she had entered the field troy saw her, 
and sticking his pitchfork into the ground and picking 
up his crop or cane, he came forward. bathsheba 
blushed with half-angry embarrassment, and adjusted 
her eyes as well as her feet to the direct line of her 
path. 
<c xxvi> 
<p 223> 
scene on the verge of the hay-mead 
'ah, miss everdene!' said the sergeant, touching his 
diminutive cap. "little did i think it was you i was 
speaking to the other night. and yet, if i had reflected, 
the "queen of the corn-market" (truth is truth at any 
hour of the day or night, and i heard you so named in 
casterbridge yesterday), the "queen of the corn-market,'' 
i say, could be no other woman. i step across now to 
beg your forgiveness a thousand times for having been 
led by my feelings to express myself too strongly for a 
stranger. to be sure i am no stranger to the place -- 
i am sergeant troy, as i told you, and i have assisted 
your uncle in these fields no end of times when i was a 
lad. i have been doing the same for you today.' 
"i suppose i must thank you for that, sergeant 
troy,' said the queen of the corn-market, in an in+ 
differently grateful tone. 
the sergeant looked hurt and sad. "indeed you 
must not, miss everdene,' he said. " why could you 
think such a thing necessary ? ' 
"i am glad it is not.' 
" why ? if i may ask without offence.' 
" because i don't much want to thank you for any" 
thing.' 
"i am afraid i have made a hole with my tongue 
that my heart will never mend. o these intolerable 
times: that ill-luck should follow a man for honestly 
telling a woman she is beautiful.! 'twas the most i 
said -- you must own that; and the least i could say -- 
that i own myself.' 
'there is some talk i could do without more easily 
than money.' 
"indeed. that remark is a sort of digression.' 
" no. it means that i would rather have your room 
than your company.' 
<p 224> 
"and i would rather have curses from you than 
kisses from any other woman ; so i'll stay here.' 
bathsheba was absolutely speechless. and yet she 
could not help feeling that the assistance he was render+ 
ing forbade a harsh repulse. 
" well,' continued troy, "i suppose there is a praise 
which is rudeness, and that may be mine. at the 
same time there is a treatment which is injustice, and 
that may be yours. because a plain blunt man, who 
has never been taught concealment, speaks out his 
mind without exactly intending it, he's to be snapped 
off like the son of a sinner.' 
"indeed there's no such case between us,' she said, 
turning away. "i don't allow strangers to be bold and 
impudent -- even in praise of me.' 
" ah -- it is not the fact but the method which offends 
you,' he said, carelessly. "but i have the sad satis+ 
faction of knowing that my words, whether pleasing or 
offensive, are unmistakably true. would you have had 
me look at you, and tell my acquaintance that you are 
quite a common-place woman, to save you the embar+ 
rassment of being stared at if they come near you ? 
not i. i couldn't tell any such ridiculous lie about 
a beauty to encourage a single woman in england in 
too excessive a modesty.' 
"it is all pretence -- what you are saying!' exclaimed 
bathsheba, laughing in spite of herself at the sergeant's 
sly method. " you have a rare invention, sergeant 
troy. why couldn't you have passed by me that 
night, and said nothing ? -- that was all i meant to 
reproach you for.' 
"because i wasn't going to. half the pleasure of 
a feeling lies in being able to express it on the spur of 
the moment, and i let out mine. it would have been 
just the same if you had been the reverse person -- ugly 
and old -- i should have exclaimed about it in the same 
way. ' 
" how long is it since you have been so afflicted with 
strong feeling, then ? ' 
" oh, ever since i was big enough to know loveliness 
from deformity.' 
<p 225> 
"'tis to be hoped your sense of the difference you 
speak of doesn't stop at faces, but extends to morals as 
well. ' 
'i won't speak of morals or religion -- my own or 
anybody else's. though perhaps i should have been a 
very good christian if you pretty women hadn't made 
me an idolater.' 
bathsheba moved on to hide the irrepressible dimp+ 
lings of merriment. troy followed, whirling his crop. 
'but -- miss everdene -- you do forgive me ? ' 
" hardly. ' 
"why ?' 
" you say such things.' 
"i said you were beautiful, and i'll say so still; for, 
by --  so you are !. the most beautiful ever i saw, or 
may i fall dead this instant! why, upon my --  -- ' 
" don't -- don't! i won't listen to you -- you are so 
profane!' she said, in a restless state between distress 
at hearing him and a penchant to hear more. 
"i again say you are a most fascinating woman. 
there's nothing remarkable in my saying so, is there? 
i'm sure the fact is evident enough. miss everdene, 
my opinion may be too forcibly let out to please you, 
and, for the matter of that, too insignificant to convince 
you, but surely it is honest, and why can't it be ex+ 
cused? ' 
"because it -- it isn't a correct one,' she femininely 
murmured. 
" 0, fie -- fie-! am i any worse for breaking the 
third of that terrible ten than you for breaking the 
ninth ?" 
"well, it doesn't seem quite true to me that i am 
fascinating,' she replied evasively. 
' not so to you : then i say with all respect that, if 
so, it is owing to your modesty, miss everdene. but 
surely you must have been told by everybody of what 
everybody notices ? and you should take their words 
for it.' 
" they don't say so exactly.' 
" o yes, they must!' 
"well, i mean to my face, as you do,' she went on, 
allowing 
<p 226> 
herself to be further lured into a conversation 
that intention had rigorously forbidden. 
"but you know they think so ?' 
"no -- that is -- i certainly have heard liddy say 
they do, but --  -- ' she paused. 
capitulation -- that was the purport of the simple 
reply, guarded as it was -- capitulation, unknown to her+ 
self. never did a fragile tailless sentence convey a 
more perfect meaning. the careless sergeant smiled 
within himself, and probably too the devil smiled from 
a loop-hole in tophet, for the moment was the turning+ 
point of a career. her tone and mien signified beyond 
mistake that the seed which was to lift the foundation 
had taken root in the chink : the remainder was a mere 
question of time and natural changes. 
"there the truth comes out ! ' said the soldier, in 
reply. "never tell me that a young lady can live in a 
buzz of admiration without knowing something about it. 
ah,' well, miss everdene, you are -- pardon my blunt 
way -- you are rather an injury to our race than other+ 
wise. 
" how -- indeed ? ' she said, opening her eyes. 
"o, it is true enough. i may as well be hung for 
a sheep as a lamb (an old country saying, not of much 
account, but it will do for a rough soldier), and so i 
will speak my mind, regardless of your pleasure, and 
without hoping or intending to get your pardon. why, 
miss everdene, it is in this manner that your good 
looks may do more. harm than good in the world.' 
the sergeant looked down the mead in critical abstrac+ 
ion. " probably some one man on an average falls in' 
love, with each ordinary woman. she can marry him : 
he is content, and leads a useful life. such women as 
you a hundred men always covet -- your eyes will be+ 
witch scores on scores into an unavailing fancy for you 
you can only marry one of that many. out of these 
say twenty will endeavour to. drown the bitterness of 
espised love in drink ; twenty more will mope away 
their lives without a wish or attempt to make a mark in 
he world, because they have no ambition apart from 
their attachment to you ; twenty more -- the susceptible 
person 
<p 227> 
myself possibly among them -- will be always 
draggling after you, getting where they may just see 
you, doing desperate things. men are such constant 
fools! the rest may try to get over their passion with 
more or less success. but all these men will be 
saddened. and not only those ninety-nine men, but 
the ninety-nine women they might have married are 
saddened with them. there's my tale. that's why i 
say that a woman so charming as yourself, miss ever+ 
dene, is hardly a blessing to her race.' 
the handsome sergeant's features were during this 
speech as rigid and stern as john knox's in addressing 
his gay young queen. 
seeing she made no reply, he said, "do you read 
french ? ' 
"no; i began, but when i got to the verbs, father 
died,' she said simply. 
'i do -- -when i have an opportunity, which latterly 
has not been often (my mother was a parisienne) -- -and 
there's a proverb they have, qui aime bien chatie bien 
 -- "he chastens who loves well." do you understand 
me? 
'ah!' she replied, and there was even a little tremu+ 
lousness in the usually cool girl's voice; 'if you can 
only fight half as winningly as you can talk, you are 
able to make a pleasure of a bayonet wound!' and 
then poor bathsheba instanly perceived her slip in 
making this admission: in hastily trying to retrieve it, 
she went from bad to worse. 'don't, however, suppose 
that i derive any pleasure from what you tell me.' 
'i know you do not -- -i know it perfectly,' said troy, 
with much hearty conviction on the exterior of his face: 
and altering the expression to moodiness; 'when a 
dozen men arfe ready to speak tenderly to you, and 
give the admiration you deserve without adding the 
warning you need, it stands to reason that my poor 
rough-and-ready mixture of praise and blame cannot 
convey much pleasure. fool as i may be, i am not so 
conceited as to suppose that!' 
'i think you -- -are conceited, nevertheless,' said 
bathsheba, looking askance at a reed she was fitfully 
pulling with one hand, having lately grown feverish 
under the soldier's 
<p 228> 
system of procedure -- not because 
the nature of his cajolery was entirely unperceived, but 
because its vigour was overwelming. 
'i would not own it to anybody esle -- nor do i 
exactly to you. still, there might have been some self+ 
conceit in my foolish supposition the other night. i 
knew that what i said in admiration might be an 
opinion too often forced upon you to give any pleasure 
but i certainly did think that the kindness of your 
nature might prevent you judging an uncontrolled 
tongue harshly -- which you have done -- and thinking 
badly of me and wounding me this morning, when i 
am working hard to save your hay.' 
'well, you need not think more of that: perhaps you 
did not mean to be rude to me by speaking out your 
mind: indeed, i believe you did not,' said the shrewd 
woman, in painfully innocent earnest. 'and i thank 
you for giving help here. but -- -but mind you don't 
speak to me again in that way, or in any other, unless 
i speak to you.' 
'o, miss bathsheba! that is to hard!' 
'no, it isn't. why is it?' 
'you will never speak to me; for i shall not be 
here long. i am soon going back again to the miser+ 
able monotony of drill -- and perhaps our regiment will 
be ordered out soon. and yet you take away the one 
little ewe-lamb of plaesure that i have in this dull life 
of mine. well, perhaps generosity is not a woman's 
most marked characteristic.' 
'when are you going from here?' she asked, with 
some interest. 
'in a month.' 
'but how can it give you pleasure to speak to me?' 
'can you ask miss everdene -- knowing as you do 
 -- what my offence is based on?' 
'i you do care so much for a silly trifle of that 
kind, then, i don't mind doing it,' she uncertainly and 
doubtingly answered. 'but you can't really care for a 
word from me? you only say so -- i think you only 
say so.' 
'that's unjust -- but i won't repeat the remark. i 
am too 
<p 229> 
gratified to get such a mark of your friendship 
at any price to cavil at the tone. i do miss everdene, 
care for it. you may think a man foolish to want a 
mere word --  just a good morning. perhaps he is -- i 
don't know. but you have never been a man looking 
upon a woman, and that woman yourself.' 
" well.' 
" then you know nothing of what such an experience 
is like -- and heaven forbid that you ever should!' 
"nonsense, flatterer! what is it like? i am 
interested in knowing." 
"put shortly, it is not being able to think, hear, or 
look in any direction except one without wretchedness, 
nor there without torture.' 
" ah, sergeant, it won't do -- you are pretending ! ' she 
said, shaking her head. ' your words are too dashing 
to be true.' 
"i am not, upon the honour of a soldier' 
"but why is it so? -- of course i ask for mere pas+ 
time.' 
" because you are so distracting -- and i am so 
distracted. ' 
" you look like it.' 
" i am indeed.' 
" why, you only saw me the other night!' 
" that makes no difference. the lightning works in+ 
stantaneously. i loved you then, at once -- as i do now.' 
bathsheba surveyed him curiously, from the feet 
upward, as high as she liked to venture her glance, 
which was not quite so high as his eyes. 
" you cannot and you don"t,' she said demurely. 
"there is-no such sudden feeling in people. i won't 
listen to you any longer. hear me, i wish i knew what 
o'clock it is -- i am going -- i have wasted too much time 
here already!" 
the sergeant looked at his watch and told her. 
" what, haven't you a watch, miss?' he inquired. 
"i have not just at present -- i am about to get a 
new one.' 
"no. you shall be given one. yes -- you  shall. 
a gift, miss everdene -- a gift." 
and before she knew what the young -- man was 
intending, a heavy gold watch was in her hand. 
<p 230> 
"it is an unusually good one for a man like me to 
possess,' he quietly said. "that watch has a history. 
press the spring and open the back.' 
she did so. 
'what do you see?' 
'a crest and a motto.' 
" a coronet with five points, and beneath, cedit amor 
rebus -- "love yields to circumstance." it's the motto 
of the earls of severn. that watch belonged to the 
last lord, and was given to my mother's husband, a 
medical man, for his use till i came of age, when it was 
to be given to me. it was all the fortune that ever i 
inherited. that watch has regulated imperial interests 
in its time -- the stately ceremonial, the courtly assigna+ 
tion, pompous travels, and lordly sleeps. now it is 
yours. 
" but, sergeant troy, i cannot take this -- i cannot ! ' 
she exclaimed, with round-eyed wonder. " a gold watch ! 
what are you doing? don't be such a dissembler!" 
the sergeant retreated to avoid receiving back his 
gift, which she held out persistently towards him. 
bathsheba followed as he retired. 
"keep it -- do, miss everdene -- keep it !' said the 
erratic child of impulse. " the fact of your possessing 
it makes it worth ten times as much to me. a more 
plebeian one will answer my purpose just as well, and 
the pleasure of knowing whose heart my old one beats 
against -- well, i won't speak of that. it is in far 
worthier hands than ever it has been in before.' 
"but indeed i can't have it!' she said, in a perfect 
simmer of distress. " o, how can you do such a thing ; 
that is if you really mean it! give me your dead 
father's watch, and such a valuable one! you should 
not be so reckless, indeed, sergeant troy!' 
"i loved my father: good; but better, i love you 
more. that's how i can do it,' said the sergeant, with 
an intonation of such exquisite fidelity to nature that it. 
was evidently not all acted now. her beauty, which, 
whilst it had been quiescent, he had praised in jest, 
had in its animated phases moved him to 
<p 231> 
earnest; and 
though his seriousness was less than she imagined, it 
was probably more than he imagined himself. 
bathsheba was brimming with agitated bewilderment, 
and she said, in half-suspicious accents of feeling, "can 
it be! 0, how can it be, that you care for me, and 
so suddenly,! you have seen so little of me: i may 
not be really so -- so nice-looking as i seem to you. 
please, do take it ; o, do! i cannot and will not have 
it. believe me, your generosity is too great. i have 
never done you a single kindness, and why should you 
be so kind to me?' 
a factitious reply had been again upon his lips, but 
it was again suspended, and he looked at her with an 
arrested eye. the truth was, that as she now stood -- 
excited, wild, and honest as the day --  her alluring 
beauty bore out so fully the epithets he had bestowed 
upon it that he was quite startled at his temerity in 
advancing them as false. he said mechanically, "ah, 
why ?' and continued to look at her. 
"and my workfolk see me following you about the 
field, and are wondering. o, this is dreadful!' she 
went on, unconscious of the transmutation she was 
effecting. 
"i did not quite mean you to accept it at first, for it 
as my one poor patent of nobility,' he broke out, 
bluntly; "but, upon my soul, i wish you would now. 
without any shamming, come! don't deny me the 
happiness of wearing it for my sake ? but you are too 
lovely even to care to be kind as others are.' 
" no, no ; don"t say so !. i have reasons for reserve 
which i cannot explain.' 
" bet it be, then, let it be,' he said, receiving back 
the watch at last; "i must be leaving you now. and 
will you speak to me for these few weeks of my stay ? ' 
'indeed i will. yet, i don't know if i will! o, 
why did you come and disturb me so !' 
"perhaps in setting a gin, i have caught myself. 
such things have happened. well, will you let me 
work in your fields ? ' he coaxed. 
" yes, i suppose so ; if it is any pleasure to you.' 
" miss everdene, i thank you. 
" no, no.' 
<p 232> 
'good-bye!' 
the sergeant brought his hand to the cap on the 
slope of his head, saluted, and returned to the distant 
group of haymakers. 
bathsheba could not face the haymakers now. her 
heart erratically flitting hither and thither from per+ 
plexed excitement, hot, and almost tearful, she retreated 
homeward, murmuring, o, what have i done ! what 
does it mean ! i wish i knew how much of it was 
true! 
<c xxvii> 
<p 233> 
hiving the bees 
the weatherbury bees were late in their swarming this 
year. it was in the latter part of june, and the day after 
the interview with troy in the hayfield, that bathsheba 
was standing in her garden, watching a swarm in the 
air and guessing their probable settling place. not only 
were they late this year, but unruly. sometimes through+ 
out a whole season all the swarms would alight on the 
lowest attainable bough -- such as part of a currant-bush 
or espalier apple-tree ; next year they would, with just 
the same unanimity, make straight off to the uppermost 
member of some tall, gaunt costard, or quarrenden, 
and there defy all invaders who did not come armed 
with ladders and staves to take them. 
this was the case at present. bathsheba's eyes, 
shaded by one hand, were following the ascending 
multitude against the unexplorable stretch of blue till 
they ultimately halted by one of the unwieldy trees 
spoken of. a process somewhat analogous to that of 
alleged formations of the universe, time and times ago, 
was observable. the bustling swarm had swept the sky 
in a scattered and uniform haze, which now thickened to 
a nebulous centre: this glided on to a bough and grew 
still denser, till it formed a solid black spot upon the 
light. 
the men and women being all busily engaged in 
saving the hay -- even liddy had left the house for the 
purpose of lending a hand -- bathsheba resolved to hive 
the bees herself, if possible. she had dressed the hive 
with herbs and honey, fetched a ladder, brush, and 
crook, made herself impregnable with armour of leather 
gloves, straw hat, and large gauze veil -- once green but 
now faded to snuff colour -- and ascended a dozen rungs 
of the ladder. at once she heard, not ten yards off, 
a voice that was beginning to have a strange power in 
agitating her. 
<p 234> 
"miss everdene, let me assist you ; you should not 
attempt such a thing alone.' 
troy was just opening the garden gate. 
bathsheba flung down the brush, crook, and empty 
hive, pulled the skirt of her dress tightly round her 
ankles in a tremendous flurry, and as well as she could 
slid down the ladder. by the time she reached the 
bottom troy was there also, and he stooped to pick 
up the hive. 
"how fortunate i am to have dropped in at this 
moment!' exclaimed the sergeant. 
she found her voice in a minute. "what! and will 
you shake them in for me?' she asked, in what, for a 
defiant girl, was a faltering way; though, for a timid 
girl, it would have seemed a brave way enough. 
" will i ! ' said troy. " why, of course i will. how 
blooming you are to-day ! ' troy flung down his cane 
and put his foot on the ladder to ascend. 
"but you must have on the veil and gloves, or you'll 
be stung fearfully!' 
"ah, yes. i must put on the veil and gloves. will 
you kindly show me how to fix them properly?' 
'and you must have the broad-brimmed hat, too ;, for 
your cap has no brim to keep the veil off, and they'd 
reach your face.' 
" the broad-brimmed hat, too, by all means.' 
so a whimsical fate ordered that her hat should be 
taken off -- veil and all attached -- and placed upon his 
head, troy tossing his own into a gooseberry bush. 
then the veil had to be tied at its lower edge round 
his collar and the gloves put on him. 
he looked such an extraordinary object in this guise 
that, flurried as she was, she could not avoid laughing 
outright. it was the removal of yet another stake from 
the palisade of cold manners which had kept him off 
bathsheba looked on from the g:-ound whilst he was 
busy sweeping and shaking the bees from the tree, 
holding up the hive with the other hand for them to 
fall into. she made use of an unobserved minute 
whilst his attention was absorbed in the 
<p 235> 
operation to 
arrange her plumes a little. he came down holding 
the hive at arm's length, behind which trailed a cloud 
of bees. 
' upon my life,' said troy, through the veil, ' holding 
up this hive makes one"s arm ache worse than a week 
of sword-exercise.' when the manoeuvre was complete 
he approached her. 'would you be good enough to 
untie me and let me out? i am nearly stifled inside 
this silk cage.' 
to hide her embarrassment during the unwonted 
process of untying the string about his neck, she said : -- 
'i have never seen that you spoke of.' 
'what ?' 
'the sword-exercise.' 
'ah ! would you like to ?' said troy. 
bathsheba hesitated. she had heard wondrous 
reports from time to time by dwellers in weatherbury, 
who had by chance sojourned awhile in casterbridge, 
near the barracks, of this strange and glorious perform+ 
ance, tlie sword-exercise. men and boys who had 
peeped through chinks or over walls into the barrack+ 
yard returned with accounts of its being the most 
flashing affair conceivable ; accoutrements and weapons 
glistening like stars-here,there,around-yet all by rule 
and compass. so she said mildly what she felt strongly. 
'yes ; i should like to see it very much.' 
'and so you shall; you shall see me go through it.' 
'no! how?' 
'let me consider.' 
'not with a walking-stick -- i don't care to see that. 
lt must be a real sword.' 
'yes, i know; and i have no sword here; but i 
think i could get one by the evening. now, will you 
do this?' 
'o no, indeed !' said bathsheba, blushing. ' thank 
you very much, but i couldn't on any account. 
'surely you might? nobody would know.' 
she shook her head, but with a weakened negation. 
' if i were to,' she said, 'i must bring liddy too. might 
i not?' 
<p 236> 
troy looked far away. 'i don't see why you want 
to bring her,' he said coldly. 
an unconscious look of assent in bathsheba's eyes 
betrayed that something more than his coldness had 
made her also feel that liddy would be superfluous in 
the suggested scene. she had felt it, even whilst making 
the proposal. 
'well, i won't bring liddy -- and i'll come. but 
only for a very short time,' she added; 'a very short 
time.' 
'it will not take five minutes,' said troy. 
<p 237> 
<c xxviii> 
the hollow amid the ferns 
the hill opposite bathsheba's dwelling extended, a 
mile off, into an uncultivated tract of land, dotted at 
this season with tall thickets of brake fern, plump and 
diaphanous from recent rapid growth, and radiant in 
hues of clear and untainted green. 
at eight o'clock this midsummer evening, whilst the 
bristling ball of gold in the west still swept the tips of 
the ferns with its long, luxuriant rays, a soft brushing+ 
by of garments might have been heard among them, 
and bathsheba appeared in their midst, their soft, 
feathery arms caressing her up to her shoulders. she 
paused, turned, went back over the hill and half-way 
to her own door, whence she cast a farewell glance upon 
the spot she had just left, having resolved not to remain 
near the place after all. 
she saw a dim spot of artificial red moving round 
the shoulder of the rise. it disappeared on the other 
side. 
she waited one minute -- two minutes -- thought of 
troy's disappointment at her non-fulfilment of a promised 
engagement, till she again ran along the field, clambered 
over the bank, and followed the original direction. she 
was now literally trembling and panting at this her 
temerity in such an errant undertaking; her breath 
came and went quickly, and her eyes shone with an in+ 
frequent light. yet go she must. she reached the 
verge of a pit in the middle of the ferns. troy stood 
in the bottom, looking up towards her. 
'i heard you rustling through the fern before i saw 
you,' he said, coming up and giving her his hand to help 
her down the slope. 
the pit was a saucer-shaped concave, naturally 
formed, with a top diameter of about thirty feet, and 
shallow enough to allow the sunshine to reach their 
heads. standing in the 
<p 238> 
centre, the sky overhead was 
met by a circular horizon of fern : this grew nearly to 
the bottom of the slope and then abruptly ceased. the 
middle within the belt of verdure was floored with a 
thick flossy carpet of moss and grass intermingled, so 
yielding that the foot was half-buried within it. 
'now,' said 'troy, producing the sword, which, as he 
raised it into the sunlight, gleamed a sort of greeting, 
like a living thing, 'first, we have four right and four 
left cuts; four right and four left thrusts. infantry cuts 
and guards are more interesting than ours, to my mind; 
but they are not so swashing. they have seven cuts 
and three thrusts. so much as a preliminary. well, 
next, our cut one is as if you were sowing your corn -- 
so.' bathsheba saw a sort of rainbow, upside down in 
the air, and troy's arm was still again. 'cut two, as if 
you were hedging -- so. three, as if you were reaping 
 -- so.' four, as if you were threshing -- in that way. 
'then the same on the left. the thrusts are these : one, 
two, three, four, right ; one, two, three, four, left.' he 
repeated them. 'have 'em again ?' he said. 'one, 
two --  -- ' 
she hurriedly interrupted : 'i'd rather not; though 
i don't mind your twos and fours; but your ones and 
threes are terrible !' 
'very well. i'll let you off the ones and threes. 
next, cuts, points and guards altogether.' troy duly 
exhibited them. 'then there's pursuing practice, in 
this way.' he gave the movements as before. 'there, 
those are the stereotyped forms. the infantry have 
two most diabolical upward cuts, which we are too 
humane to use. like this -- three, four.' 
'how murderous and bloodthirsty !' 
'they are rather deathy. now i'll be more inter+ 
esting, and let you see some loose play -- giving all the 
cuts and points, infantry and cavalry, quicker than 
lightning, and as promiscuously -- with just enough rule 
to regulate instinct and yet not to fetter it. you are 
my antagonist, with this difference from real warfare, 
that i shall miss you every time by one hair's breadth, 
or perhaps two. mind you don't flinch, whatever you 
do.' 
<p 239> 
'i'll be sure not to!' she said invincibly. 
he pointed to about a yard in front of him. 
bathsheba's adventurous spirit was beginning to find 
some grains of relish in these highly novel proceedings. 
she took up her position as directed, facing troy. 
'now just to learn whether you have pluck enough 
to let me do what i wish, i'll give you a preliminary 
test.' 
he flourished the sword by way of introduction 
number two, and the next thing of which she was 
conscious was that the point and blade of the sword 
were darting with a gleam towards her left side, just 
above her hip; then of their reappearance on her right 
side, emerging as it were from between her ribs, having 
apparently passed through her body. the third item 
of consciousness was that of seeing the same sword, 
perfectly clean and free from blood held vertically in 
troy's hand (in the position technically called 'recover 
swords'). all was as quick as electricity. 
'oh!' she cried out in affright, pressing her hand to 
her side. ' have you run me through ? -- no, you have 
not! whatever have you done!' 
'i have not touched you,' said troy, quietly. 'it 
was mere sleight of hand. the sword passed behind 
you. now you are not afraid, are you ? because if 
you are l can't perform. i give my word that l will 
not only not hurt you, but not once touch you.' 
'i don't think i am afraid. you are quite sure you 
will not hurt me ?' 
'quite sure.' 
"is the sword very sharp ?' 
'o no -- only stand as still as a statue. now !' 
in an instant the atmosphere was transformed to 
bathsheba's eyes. beams of light caught from the low 
sun's rays, above, around, in front of her, well-nigh shut 
out earth and heaven -- all emitted in the marvellous 
evolutions of troy's reflecting blade, which seemed 
everywhere at once, and yet nowherre specially. these 
circling gleams were accompanied by a keen rush that 
was almost a whistling -- also springing 
<p 240> 
from all sides of 
her at once. in short, she was enclosed in a firmament 
of light, and of sharp hisses, resembling a sky-full of 
meteors close at hand. 
never since the broadsword became the national 
weapon had there been more dexterity shown in its 
management than by the hands of sergeant troy, and 
never had he been in such splendid temper for the 
performance as now in the evening sunshine among the 
ferns with bathsheba. it may safely be asserted with 
respect to the closeness of his cuts, that had it been 
possible for the edge of the sword to leave in the air a 
permanent substance wherever it flew past, the space 
left untouched would have been almost a mould of 
bathsheba's figure. 
behind the luminous streams of this aurora militaris, 
she could see the hue of troy's sword arm, spread in a 
scarlet haze over the space covered by its motions, like 
a twanged harpstring, and behind all troy himself, 
mostly facing her; sometimes, to show the rear cuts, 
half turned away, his eye nevertheless always keenly 
measuring her breadth and outline, and his lips tightly 
closed in sustained effort. next, his movements lapsed 
slower, and she could see them individually. the 
hissing of the sword had ceased, and he stopped 
entirely. 
'that outer loose lock of hair wants tidying, he 
said, before she had moved or spoken. 'wait: i'll do 
it for you.' 
an arc of silver shone on her right side: the sword 
had descended. the lock droped to the ground. 
'bravely borne!' said troy. 'you didn't flinch a 
shade's thickness. wonderful in a woman!' 
'it was because i didn't expect it. o, you have 
spoilt my hair!' 
'only once more.' 
'no -- no! i am afraid of you -- indeed i am !' she 
cried. 
'i won't touch you at all -- not even your hair. i 
am only going to kill that caterpillar settling on you. 
now: still!' 
it appeared that a caterpillar had come from the 
fern and chosen the front of her bodice as his resting 
place. she saw the point glisten towards her bosom, 
and seemingly enter it. bathsheba closed her eyes in 
the full persuasion that she was 
<p 241> 
killed at last. how+ 
ever, feeling just as usual, she opened them again. 
'there it is, look,' said the sargeant, holding his 
sword before her eyes. 
the caterpillar was spitted upon its point. 
'why, it is magic!' said bathsheba, amazed. 
'o no -- dexterity. i merely gave point to your 
bosom where the caterpillar was, and instead of running 
you through checked the extension a thousandth of an 
inch short of your surface.' 
'but how could you chop off a curl of my hair with 
a sword that has no edge?' 
the hollow amid the ferns 
"no edge .! this sword will shave like a razor. 
look here.' 
he touched the palm of his hand with the blade, 
and then, lifting it, showed her a thin shaving of scarf+ 
skin dangling therefrom. 
" but you said before beginning that it was blunt and 
couldn't cut me .!' 
'that was to get you to stand still, and so make sure 
of your safety. the risk of injuring you through your 
moving was too great not to force me to tell you a 
fib to escape it.' 
she shuddered. 'i have been within an inch of my 
life, and didn't know it! ' 
'more precisely speaking, you have been within half 
an inch of being pared alive two hundred and ninety-five 
tinies.' 
" cruel, cruel, 'tis of you !. ' 
" you have been perfectly safe, nevertheless. my 
sword never errs.' and troy returned the weapon to 
the scabbard. 
bathsheba, overcome by a hundred tumultuous feel' 
ings resulting from the scene, abstractedly sat down on 
a tuft of heather. 
'i must leave you now,' said troy, softly. " and i'll 
venture to take and keep this in remembrance of you.' 
she saw him stoop to the grass, pick up the winding 
lock which he had severcd from her manifold tresses, 
twist it round his fingers, unfasten a button in the hreast 
of his coat, and carefully put it inside. she felt power+ 
less to withstand or deny him. he was altogether too 
much for her, and bathsheba 
<p 242> 
seemed as one who, facing 
a reviving wind, finds it blow so strongly that it stops 
the breath. 
he drew near and said, 'i must be leaving you.' 
he drew nearer still. a minute later and she saw his 
scarlet form disappear amid the ferny thicket, almost in 
a flash, like a brand swiftly waved. 
that minute's interval had brought the blood beating 
into her face, set her stinging as if aflame to the very 
hollows oi her feet, and enlarged emotion to a compass 
which quite swamped thought. it had brought upon 
her a stroke resulting, as did that of moses in horeh, in 
a liquid stream -- here a stream of tears. she felt like 
one who has sinned a great sin. 
the circumstance had been the gentle dip of troy's 
mouth downwards upon her own. he had kissed her, 
particulars of a twilight walk 
<c xxix> 
<p 243> 
particulars of a twilight walk 
we now see the element of folly distinctly mingling 
with the many varying particulars which made up the 
character of bathsheba everdene. it was almost foreign 
to her intrinsic nature. introduced as lymph on the 
dart of eros, it eventually permeated and coloured 
her whole constitution. bathsheba, though she had too 
much understanding to be entirely governed by her 
womanliness, had too much womanliness to use her 
understanding to the best advantage. perhaps in no 
minor point does woman astonish her helpmate more 
than in the strange power she possesses of believing 
cajoleries that she knows to be false -- except, indeed, in 
that of being utterly sceptical on strictures that she 
knows to be true. 
bathsheba loved troy in the way that only self-reliant 
women love when they abandon their self-reliance. 
when a strong woman recklessly throws away her 
strength she is worse than a weak woman who has never 
had any strength to throw away. one source of her 
inadequacy is the novelty of the occasion. she has 
never had practice in making the best of such a 
condition. weakness is doubly weak by being new. 
bathsheba was not conscious of guile in this matter. 
though in one sense a woman of the world, it was, after 
all, that world of daylight coteries and green carpets 
wherein cattle form the passing crowd and winds the 
busy hum ; where a quiet family of rabbits or hares lives 
on the other side of your party-wall, where your neigh+ 
bour is everybody in the tything, and where calculation 
formulated self-indulgence of bad, nothing at all. had 
her utmost thoughts in this direction been distinctly 
worded (and by herself they never were), they would 
<p 244> 
only have amounted to such a matter as that she felt 
her impulses to be pleasanter guides than her discretion . 
her love was entire as a child's, and though warm as 
summer it was fresh as spring. her culpability lay in 
her making no attempt to control feeling by subtle and 
careful inquiry into consuences. she could show others 
the steep and thorny way, but 'reck'd not her own rede,' 
and troy's deformities lay deep down from a 
woman's vision, whilst his embellishments were upon 
the verysurface; thus contrasting with homely oak, 
whose defects were patent to the blindest, and whose 
vertues were as metals in a mine. 
the difference between love and respect was mark+ 
edly shown in her conduct. bathsheba had spoken of 
her interest in boldwood with the greatest freedom to 
liddy, but she had only communed with her own heart 
concerning 'troy'. 
all this infatuation gabriel saw, and was troubled 
thereby from the time of his daily journey a-field to the 
time of his return, and on to the small hours of many a 
night. that he was not beloved had hitherto been his 
great that bathsheba was getting into the toils 
was now a sorrow greater than the first, and one which 
nearly olbscured it. it was a result which paralleled 
the oft-quoted observation of hippocrates concerning 
physical pains. 
that is a noble though perhaps an unpromising love 
particulars of a twillght walk 
which not even the fear of breeding aversion in the 
bosom of the one beloved can deter from combating his 
or her errors. oak determined to speak to his mistress. 
he would base his appeal on what he considered her 
unfair treatment of farmer boldwood, now absent from 
home. 
an opportunity occurred one evening when she had 
gone for a short walk by a path through the neighbour+ 
ing cornfields. it was dusk when oak, who had not 
been far a-field that day, took the same path and met 
her returning, quite pensively, as he thought. 
the wheat was now tall, and the path was narrow; 
thus the way was quite a sunken groove between the 
embowing thicket on either side. two persons could 
not walk abreast 
<p 245> 
without damaging the crop, and oak 
stood aside to let her pass. 
'oh, is it gabriel?' she said. 'you are taking a 
walk too. good-night.' 
"i thought i would come to meet you, as it is rather 
late," said oak, turning and following at her heels when 
she had brushed somewhat quickly by him. 
"thank you, indeed, but i am not very fearful.' 
" o no ; but there are bad characters about.' 
"i never meet them.' 
now oak, with marvellous ingenuity, had been going 
to introduce the gallant sergeant through the channel of 
"bad characters.' but all at once the scheme broke 
down, it suddenly occurring to him that this was rather a 
clumsy way, and too barefaced to begin with. he tried 
another preamble. 
"and as the man who would naturally come to meet 
you is away from home, too -- i mean farmer boldwood 
 -- why, thinks i, i'll go,' he said. 
"ah, yes.' she walked on without turning her head, 
and for many steps nothing further was heard from her 
quarter than the rustle of her dress against the heavy 
corn-ears. then she resumed rather tartly -- 
'i don't quite understand what you meant by saying 
that mr. boldwood would naturally come to meet me.' 
i meant on account of the wedding which they say 
is likely to take place between you and him, miss. for+ 
give my speaking plainly.' 
"they say what is not true,' she returned quickly. 
no marriage is likely to take place between us.' 
gabriel now put forth his unobscured opinion, for 
the moment had come. " well, miss everdene,' he 
said, "putting aside what people say, i never in my life 
saw any courting if his is not a courting of you." 
bathsheba would probably have terminated the con' 
versation there and then by flatly forbidding the subject, 
had not her conscious weakness of position allured her 
to palter and argue in endeavours to better it. 
<p 246> 
"since this subject has been mentioned,' she said 
very emphatically, 'i am glad of the opportunity of 
clearing up a mistake which is very common and very 
provoking. i didn't definitely promise mr. boldwood 
anything. i have never cared for him. i respect him, 
and he has urged me to marry him. but i have given 
him no distinct answer. as soon as he returns i shall 
do so; and the answer will be that i cannot think of 
marrying him.' 
'people are full of mistakes, seemingly.' 
' they are.' 
the other day they said you were trifling with him, 
and you almost proved that you were not; lately they 
have said that you be not, and you straightway begin 
to show --  -- ' 
that i am, i suppose you mean.' 
' well, i hope they speak the truth.' 
they do, but wrongly applied. i don't trifle with 
him ; but then, i have nothing to do with him.' 
oak was unfortunately led on to speak of boldwood's 
rival in a wrong tone to her after all. 'i wish you had 
never met that young sergeant troy, miss,' he sighed. 
partlculars of a twilight walk 
bathsheba's steps became faintly spasmodic. " why?' 
she asked. 
' he is not good enough for 'ee.' 
"did any one tell you to speak to me like this ?' 
" nobody at all.' 
"then it appears to me that sergeant troy does not 
concern us here,' she said, intractably. ' yet i must say 
that sergeant 'troy is an educated man, and quite worthy 
of any woman. he is well born.' 
"his being higher in learning and birth than the 
ruck o' soldiers is anything but a proof of his worth. it 
show's his course to be down'ard.' 
"i cannot see what this has to do with our conversa+ 
tion. mr. troy's course is not by any means downward; 
and his superiority <1is>1 a proof of his worth .! ' 
"i believe him to have no conscience at all. and i 
cannot help begging you, miss, to have nothing to do 
with him. listen to me this once -- only this once !. 
i don't say he's such 
<p 247> 
a bad man as i have fancied -- i 
pray to god he is not. but since we don't exactly 
know what he is, why not behave as if he <1might>1 be bad, 
simply for your own safety ? don't trust him, mistress; 
i ask you not to trust him so.' 
" why, pray ? ' 
"i like soldiers, but this one i do not like,' he said, 
sturdily. " his cleverness in his calling may have 
tempted him astray, and what is mirth to the neighbours 
is ruin to the woman. when he tries to talk to 'ee again, 
why not turn away with a short 'good day' ; and when 
you see him coming one way, turn the other. when 
he says anything laughable, fail to see the point 
and don't smile, and speak of him before those who will 
report your talk as "that fantastical man,' or " that 
sergeant what's-his-name." "that man of a family 
that has come to the dogs.' don't be unmannerly 
towards en, but harmless-uncivil, and so get rid of the 
man.' 
no christmas robin detained by a window-pane ever 
pulsed as did bathsheba now. 
i say -- i say again -- that it doesn't become you to 
talk about him. why he should be mentioned passes 
me quite . she exclaimed desperately. " i know this, 
th-th-that he is a thoroughly conscientious man -- blunt 
sometimes even to rudeness -- but always speaking his 
mind about you plain to your face .! ' 
"oh.' 
"he is as good as anybody in this parish.! he is 
very particular, too, about going to church -- yes, he 
is.!' 
'i am afraid nobody saw him there. i never 
did certainly.' 
' the reason of that is,' she said eagerly, " that he goes 
in privately by the old tower door, just when the service 
commences, and sits at the back of the gallery. he 
told me so.' 
this supreme instance of troy's goodness fell upon 
gabriel ears like the thirteenth stroke of crazy clock. 
it was not only received with utter incredulity as re+ 
garded itself, but threw a doubt on all the assurances 
that had preceded it. 
oak was grieved to find how entirely she trusted him. 
he brimmed with deep feeling as he replied in a steady 
voice, the 
<p 248> 
steadiness of which was spoilt by the palpable+ 
ness of his great effort to keep it so : -- 
' you know, mistress, that i love you, and shall love 
you always. i only mention this to bring to your mind 
that at any rate i would wish to do you no harm : 
beyond that i put it aside. i have lost in the race for 
money and good things, and i am not such a fool as to 
pretend to 'ee now i am poor, and you have got alto+ 
gether above me. but bathsheba, dear mistress, this 
i beg you to consider -- that, both to keep yourself well 
honoured among the workfolk, and in common generosity 
to an honourable man who loves you as well as i, you 
particulars of a twilight walk 
should be more discreet in your bearing towards this 
soldier.' 
" don't, don't, don't !. ' she exclaimed, in a choking 
voice. 
"are ye not more to me than my own affairs, and 
even life .! ' he went on. "come, listen to me.! i am 
six years older than you, and mr. boldwood is ten years 
older than i, and consider -- i do beg of 'ee to consider 
before it is too late -- how safe you would be in his 
hands .! ' 
oak's allusion to his own love for her lessened, to 
some extent, her anger at his interference ; but she 
could not really forgive him for letting his wish to marry 
her be eclipsed by his wish to do her good, any more 
than for his slighting treatment of troy. 
"i wish you to go elsewhere,' she commanded, a 
paleness of face invisible to the eye being suggested by 
the trembling words. " do not remain on this farm any 
longer. i don't want you -- i beg you to go !.' 
"that's nonsense,' said oak, calmly. " this is the 
second time you have pretended to dismiss me; and 
what's the use o' it?' 
" pretended !. you shall go, sir -- your lecturing i 
will not hear .! i am mistress here.' 
" go, indeed -- what folly will you say next ? treating 
me like dick, tom and harry when you know that a 
short time ago my position was as good as yours !. upon 
my life, bathsheba, it is too barefaced. you know, too, 
that i can't go without putting things in such a strait as 
you wouldn't get out of 
<p 249> 
i can't tell when. unless, indeed, 
you'll promise to have an understanding man as bailiff, 
or manager, or something. i'll go at once if you'll 
promise that.' 
'i shall have no bailiff; i shall continue to be my 
own manager,' she said decisively. 
"very well, then ; you should be thankful to me for 
biding. how would the farm go on with nobody to 
mind it but a woman? but mind this, i don't wish 
'ee to feel you owe me anything. not i. what i do, 
i do. sometimes i say i should be as glad as a bird to 
leave the place -- for don't suppose i'm content to be a 
nobody. i was made for better things. however, i 
don't like to see your concerns going to ruin, as they 
must if you keep in this mind.... i hate taking my 
own measure so plain, but, upon my life, your provok+ 
ing ways make a man say what he wouldn't dream of 
at other times ! i own to being rather interfering. but 
you know well enough how it is, and who she is that i 
like too well, and feel too much like a fool about to be 
civil to her ! ' 
it is more than probable that she privately and un+ 
consciously respected him a little for this grim fidelity, 
which had been shown in his tone even more than in 
his words. at any rate she murmured something to the 
effect that he might stay if he wished. she said more 
distinctly, " will you leave me alone now? i don't 
order it as a mistress -- i ask it as a woman, and i 
expect you not to be so uncourteous as to refuse.' 
" certainly i will, miss everdene,' said gabriel, gently. 
he wondered that the request should have come at this 
moment, for the strife was over, and they were on a 
most desolate hill, far from every human habitation, and 
the hour was getting late. he stood still and allowed 
her to get far ahead of him till he could only see her 
form upon the sky. 
a distressing explanation of this anxiety to be rid of 
him at that point now ensued. a figure apparently rose 
from the earth beside her. the shape beyond all doubt 
was troy's. oak would not be even a possible listener, 
and at once turned back till a good two hundred yards 
were between the lovers and himself. 
<p 250> 
gabriel went home by way of the churchyard. in 
passing the tower he thought of what she had said about 
the sergeant's virtuous habit of entering the church un+ 
particulars of a twilight walk 
perceived at the beginning of service. believing that 
the little gallery door alluded to was quite disused, he 
ascended the external flight of steps at the top of which 
it stood, and examined it. the pale lustre yet hanging 
in the north-western heaven was sufficient to show that 
a sprig of ivy had grown from the wall across the door 
to a length of more than a foot, delicately tying the 
panel to the stone jamb. it was a decisive proof that 
the door had not been opened at least since troy came 
back to weatherbury. 
<c xxx> 
<p 251> 
hot cheeks and tearful eyes 
half an hour later bathsheba entered her own house. 
there burnt upon her face when she met the light of 
the candles the flush and excitement which were little 
less than chronic with her now. the farewell words of 
troy, who had accompanied her to the very door, still 
lingered in her ears. he had bidden her adieu for two 
days, which were so he stated, to be spent at bath in 
visiting some friends. he had also kissed her a second 
time. 
it is only fair to bathsheba to explain here a little 
fact which did not come to light till a long time after+ 
wards : that troy's presentation of himself so aptly at 
the roadside this evening was not by any distinctly pre+ 
concerted arrangement. he had hinted -- she had 
forbidden; and it was only on the chance of his still 
coming that she had dismissed oak, fearing a meeting 
between them just then. 
she now sank down into a chair, wild and perturbed 
by all these new and fevering sequences. then she 
jumped up with a manner of decision, and fetched her 
desk from a side tahle. 
in three minutes, without pause or modification, she 
had written a letter to boldwood, at his address beyond 
casterbridge, saying mildly but firmly that she had well 
hot cheeks and tearful eyes 
considered the whole subject he had brought before her 
and kindly given her time to decide upon; that her 
final decision was that she could not marry him. she 
had expressed to oak an intention to wait till boldwood 
came home before communicating to him her conclusive 
reply. but bathsheba found that she could not wait. 
it was impossible to send this letter till the next day; 
yet to quell her uneasiness by getting it out of her hands, 
and so, as it were, setting the act in motion at once, she 
arose to take it to any one of the women who might be 
in the kitchen. 
<p 252> 
she paused in the passage. a dialogue was going 
on in the kitchen, and bathsheba and troy were the 
subject of it. 
"if he marry her, she'll gie up farming.' 
"twill be a gallant life, but may bring some trouble 
between the mirth -- so say i.' 
"well, i wish i had half such a husband.' 
bathsheba had too much sense to mind seriously 
what her servitors said about her ; but too much womanly 
redundance of speech to leave alone what was said till 
it died the natural death of unminded things. she 
burst in upon them. 
"who are you speaking of? ' she asked. 
there was a pause before anybody replied. at last 
liddy said frankly, ' what was passing was a bit of a 
word about yourself, miss.' 
"i thought so .! maryann and liddy and temper+ 
ance -- now i forbid you to suppose such things. you 
know i don't care the least for mr. troy -- not i. every+ 
body knows how much i hate him. -- yes,' repeated the 
froward young person, "<1hate>1 him .! ' 
" we know you do, miss,' said liddy; "and so do we 
all.' 
" i hate him too,' said maryann. 
" maryann -- o you perjured woman !. how can you 
speak that wicked story ! ' said bathsheba, excitedly. 
"you admired him from your heart only this morning 
in the very world, you did. yes, maryann, you know it ! ' 
'yes, miss, but so did you. he is a wild scamp 
now, and you are right to hate him." 
"he's <1not>1 a wild scamp.! how dare you to my face !. 
i have no right to hate him, nor you, nor anybody. 
but i am a silly woman.! what is it to me what he is ? 
you know it is nothing. i don't care for him ; i don"t 
mean to defend his good name, not i. mind this, if 
any of you say a word against him you'll be dismissed 
instantly !. ' 
she flung down the letter and surged back into the 
parlour, with a big heart and tearful eyes, liddy following 
her. 
'o miss.!' said mild liddy, looking pitifully into 
bathsheba's face. "i am sorry we mistook you so .! 
did think you cared for him; but i see you don't now.' 
" shut the door, liddy.' 
<p 253> 
liddy closed the door, and went on : ' people always 
say such foolery, miss. i'll make answer hencefor'ard, 
"of course a lady like miss everdene can't love him;' 
i'll say it out in plain black and white.' 
bathsheba burst out : 'o liddy, are you such a 
simpleton ? can't you read riddles ? can't you see? 
are you a woman yourself ? ' 
liddy's clear eyes rounded with wonderment. 
' yes; you must be a blind thing, liddy .! ' she said, 
in reckless abandonment and grief. "o, i love him 
to very distraction and misery and agony .! don't be 
frightened at me, though perhaps i am enough to frighten 
any innocent woman. come closer -- closer.' she put 
her arms round liddy's neck. "i must let it out to 
somebody; it is wearing me away !. don't you yet know 
enough of me to see through that miserable denial of 
mine? o god, what a lie it was !. heaven and my 
love forgive me. and don't you know that a woman 
who loves at all thinks nothing of perjury when it is 
hot cheeks and tearful eyes 
balanced against her love ? there, go out of the room ; 
i want to be quite alone.' 
liddy went towards the door. 
' liddy, come here. solemnly swear to me that he's 
not a fast man; that it is all lies they say about him !.' 
'put, miss, how can i say he is not if --  -- ' 
"you graceless girl.! how can you have the cruel 
heart to repeat what they say? unfeeling thing that 
you are.... but <1i'll>1 see if you or anybody else in the 
village, or town either, dare do such a thing .! ' she 
started off, pacing from fireplace to door, and back 
again. 
"no, miss. i don't -- i know it is not true !. ' said 
liddy, frightened at bathsheba's unwonted vehemence. 
i suppose you only agree with me like that to please 
me. but, liddy, he <1cannot be>1 had, as is said. do you 
hear? " 
' yes, miss, yes.' 
"and you don't believe he is?" 
'i don't know what to say, miss,' said liddy, be+ 
ginning to cry. "if i say no, you don"t believe me; 
and if i say yes, you rage at me ! ' 
" say you don't believe it -- say you don't ! ' 
<p 254> 
'i don't believe him to be so had as they make out.' 
"he is not had at all.... my poor life and heart, 
how weak i am .! ' she moaned, in a relaxed, desultory 
way, heedless of liddy's presence. "o, how i wish i 
had never seen him.! loving is misery for women 
always. i shall never forgive god for making me a 
woman, and dearly am i beginning to pay for the honour 
of owning a pretty face.' she freshened and turned to 
liddy suddenly. " mind this, lydia smallbury, if you 
repeat anywhere a single word of what l have said to 
you inside this closed door, i'll never trust you, or love 
you, or have you with me a moment longer -- not a 
moment ! ' 
" i don't want to repeat anything,' said liddy, with 
womanly dignity of a diminutive order; "but i don't 
wish to stay with you. and, if you please, i'll go at the 
end of the harvest, or this week, or to-day.... i don't 
see that i deserve to be put upon and stormed at for 
nothing ! ' concluded the small woman, bigly. 
" no, no, liddy ; you must stay ! ' said bathsheba, 
dropping from haughtiness to entreaty with capricious 
inconsequence. "you must not notice my being in a 
taking just now. you are not as a servant -- -you are a 
companion to me. dear, dear -- i don't know what i 
am doing since this miserable ache o'! my heart has 
weighted and worn upon me so .! what shall i come 
to ! i suppose i shall get further and further into 
troubles. i wonder sometimes if i am doomed to die 
in the union. i am friendless enough, god knows .! ' 
'i won't notice anything, nor will i leave you ! " sobbed 
liddy, impulsively putting up her lips to bathsheba's, 
and kissing her. 
then bathsheba kissed liddy, and all was smooth 
again. 
"i don't often cry, do i, lidd ? but you have made 
tears come into my eyes,' she said, a smile shining 
through the moisture. "try to think him a good man, 
won't you, dear liddy ? ' 
"i will, miss, indeed.' 
"he is a sort of steady man in a wild way, you know. 
way. i am afraid that's how i am. and promise me 
to keep my secret -- do, liddy.! and do not let them 
know that i have been crying 
<p 255> 
about him, because it will 
be dreadful for me, and no good to him, poor thing .!' 
"death's head himself shan't wring it from me, mistress, 
if i've a mind to keep anything; and i'll always be your 
friend,' replied liddy, emphatically, at the same time 
bringing a few more tears into her own eyes, not from 
any particular necessity, but from an artistic sense of 
making herself in keeping with the remainder of the 
hot cheeks and tearful eyes 
picture, which seems to influence women at such times. 
"i think god likes us to be good friends, don't you ?' 
"indeed i do.' 
"and, dear miss, you won"t harry me and storm at 
me, will you ? because you seem to swell so tall as a 
lion then, and it frightens me !. do you know, i fancy 
you would be a match for any man when you are in one 
0' your takings.' 
"never.! do you ? ' said bathsheba, slightly laughing, 
though somewhat seriously alarmed by this amazonian 
picture of herself. "i hope i am not a bold sort of 
maid -- mannish ? ' she continued with some anxiety. 
"o no, not mannish; but so almighty womanish 
that 'tis getting on that way sometimes. ah ! miss,' she 
said, after having drawn her breath very sadly in and 
sent it very sadly out, "i wish i had half your failing 
that way. 'tis a great protection to a poor maid in 
these illegit'mate days !. ' 
<c xxxi> 
<p 256> 
blame -- fury 
the next evening bathsheba, with the idea of getting 
out of the way of mr. boldwood in the event of his 
returning to answer her note in person, proceeded to 
fulfil an engagement made with liddy some few hours 
earlier. bathsheba's companion, as a gage of their 
reconciliation, had heen granted a week's holiday to 
visit her sister, who was married to a thriving hurdler 
and cattle-crib-maker living in a delightful labyrinth of 
hazel copse not far beyond yalbury. the arrangement 
was that miss everdene should honour them by coming 
there for a day or two to inspect some ingenious con+ 
tnvances which this man of the woods had introduced 
into his wares. 
leaving her instructions with gabriel and maryann, 
that they were to see everything carefully locked up for 
the night, she went out of the house just at the close of 
a timely thunder-shower, which had refined the air, and 
daintily bathed the coat of the land, though all beneath 
was dry as ever. freshness was exhaled in an essence 
from the varied contours of bank and hollow, as if the 
earth breathed maiden breath; and the pleased birds 
were hymning to the scene. before her, among the 
clouds, there was a contrast in the shape of lairs of 
fierce light which showed themselves in the neighbour+ 
hood of a hidden sun, lingering on to the farthest north+ 
west corner of the heavens that this midsummer season 
allowed. 
she had walked nearly two miles of her journey, 
watching how the day was retreating, and thinking how 
the time of deeds was quietly melting into the time of 
thought, to give place in its turn to the time of prayer 
and sleep, when she beheld advancing over yalbury hill 
the very man she sought so anxiously to elude. boldwood 
was stepping on, not with that quiet tread of reserved 
strength which was his customary 
<p 257> 
gait, in which he 
always seemed to be balancing two thoughts. his 
manner was stunned and sluggish now. 
boldwood had for the first time been awakened to 
woman's privileges in tergiversation even when it involves 
another person's possible blight. that bathsheba was 
a firm and positive girl, far less inconsequent than her 
fellows, had been the very lung of his hope ; for he had 
held that these qualities would lead her to adhere to a 
straight course for consistency's sake, and accept him, 
though her fancy might not flood him with the iridescent 
hues of uncritical love. but the argument now came 
back as sorry gleams from a broken mirror. the dis+ 
covery was no less a scourge than a surprise. 
he came on looking upon the ground, and did not 
see bathsheba till they were less than a stone's throw 
apart. he looked up at the sound of her pit-pat, and 
his changed appearance sufficiently denoted to her the 
depth and strength of the feelings paralyzed by her 
letter. 
" oh ; is it you, mr. boldwood ? ' she faltered, a guilty 
warmth pulsing in her face. 
those who have the power of reproaching in silence 
may find it a means more effective than words. there 
are accents in the eye which are not on the tongue, and 
more tales come from pale lips than can enter an ear. 
it is both the grandeur and the pain of the remoter 
moods that they avoid the pathway of sound. bold+ 
wood's look was unanswerable. 
seeing she turned a little aside, he said, 'what, are 
you afraid of me?' 
" why should you say that ? ' said bathsheba. 
"i fancied you looked so,' said he. 'and it is most 
strange, because of its contrast with my feeling for you. 
she regained self-possession, fixed her eyes calmly, 
and waited. 
" you know what that feeling is,' continued boldwood, 
deliberately. "a thing strong as death. no dismissal 
by a hasty letter affects that.' 
'i wish you did not feel so strongly about me,' she 
murmured. "it is generous of you, and more than i 
deserve, but i must not hear it now.' 
<p 258> 
"hear it? what do you think i have to say, then ? 
i am not to marry you, and thats enough. your letter 
was excellently plain. i want you to hear nothing -- 
not i.' 
bathsheba was unable to direct her will into any 
definite groove for freeing herself from this fearfully 
and was moving on. boldwood walked up to her heavily 
and dully. 
"bathsheba -- -darling -- -is it final indeed?' 
"indeed it is.' 
"o, bathsheba -- -have pity upon me!' boldwood 
burst out. "god's sake, yes -- i am come to that low, 
lowest stage -- -to ask a woman for pity! still, she is 
you -- -she is you.' 
bathsheba commanded herself well. but she could 
hardly get a clear voice for what came instinctively to 
her lips: "there is little honour to the woman in that 
speech.' it was only whispered, for something unutter+ 
ably mournful no less than distressing in this spectacle 
of a man showing himself to be so entirely the vane of a 
passion enervated the feminine instinct for punctilios. 
blame 
"i am beyond myself about this, and am mad,' he 
said. "i am no stoic at all to he supplicating here ; but 
i do supplicate to you. i wish you knew what is in 
me of devotion to you ; but it is impossible, that. in 
bare human mercy to a lonely man, don't throw me off 
now !' 
'i don't throw you off -- indeed, how can i ? i never 
had you.' in her noon-clear sense that she had never 
loved him she forgot for a moment her thoughtless angle 
on that day in february. 
'but there was a time when you turned to me, 
before i thought of you ! i don't reproach you, for 
even now i feel that the ignorant and cold darkness 
that i should have lived in if you had not attracted me 
by that letter -- valentine you call it -- would have becn 
worse than my knowledge of you, though it has brought 
this misery. but, i say, there was a time when i knew 
nothing of you, and cared nothing for you, and yet you 
drew me on. and if you say you gave me no en+ 
couragement, i cannot but contradict you.' 
<p 259> 
"what you call encouragement was the childish 
game of an idle minute. i have bitterly repented of it 
 -- ay, bitterly, and in tears. can you still go on re+ 
minding me ?' 
'i don't accuse you of it -- i deplore it. i took for 
earnest what you insist was jest, and now this that i 
pray to be jest you say is awful, wretched earnest. our 
moods meet at wrong places. i wish your feeling was 
more like mine, or my feeling more like yours.! o, 
could i but have foreseen the torture that trifling trick 
was going to lead me into, how i should have cursed 
you ; but only having been able to see it since, i cannot 
do that, for i love you too well.! but it is weak, idle 
drivelling to go on like this.... bathsheba, you are 
the first woman of any shade or nature that i have ever 
looked at to love, and it is the having been so near 
claiming you for my own that makes this denial so hard 
to bear. how nearly you promised me ! but i don't 
speak now to move your heart, and make you grieve 
because of my pain ; it is no use, that. i must bear it; 
my pain would get no less by paining you.' 
"but i do pity you -- deeply -- o so deeply .!' she 
earnestly said. 
"do no such thing -- do no such thing. your dear 
love, bathsheba, is such a vast thing beside your pity, 
that the loss of your pity as well as your love is no great 
addition to my sorrow, nor does the gain of your pity 
make it sensibly less. o sweet -- how dearly you 
spoke to me behind the spear-bed at the washing-pool, 
and in the barn at the shearing, and that dearest last 
time in the evening at your home.! where are your 
pleasant words all gone -- your earnest hope to be able 
to love me? where is your firm conviction that you 
would get to care for me very much ? really forgotten ? 
 -- really ? ' 
she checked emotion, looked him quietly and clearly 
in the face, and said in her low, firm voice, " mr. bold+ 
wood, i promised you nothing. would you have had 
me a woman of clay when you paid me that furthest, 
highest compliment a man can pay a woman -- telling 
her he loves her? i was bound to show some feeling, 
if l would not be a graceless shrew. yet each of those 
pleasures was just for the day -- the day just for the 
<p 260> 
pleasure. how was i to know that what is a pastime 
to all other men was death to you ? have reason, do, 
and think more kindly of me !' 
'well, never mind arguing -- never mind. one 
thing is sure: you were all but mine, and now you are 
not nearly mine. everything is changed, and that by 
you alone, remember. you were nothing to me once, 
and i was contented; you are now nothing to me again, 
and how different the second nothing is from the first .! 
would to god you had never taken me up, since it was 
only to throw me down .! ' 
fury 
bathsheba, in spite of her mettle, began to feel un+ 
mistakable signs that she was inherently the weaker 
vessel. she strove miserably against this feminity 
which would insist upon supplying unbidden emotions 
in stronger and stronger current. she had tried to 
elude agitation by fixing her mind on the trees, sky, any 
trivial object before her eyes, whilst his reproaches fell, 
but ingenuity could not save her now. 
"i did not take you up -- -surely i did not!' she 
answered as heroically as she could. " but don't be in 
this mood with me. i can endure being told i am in 
the wrong, if you will only tell it me gently! o sir, 
will you not kindly forgive me, and look at it 
cheerfully ? ' 
"cheerfully! can a man fooled to utter heart+ 
burning find a reason for being merry> if i have lost, 
how can i be as if i had won? heavens you must be 
heartless quite ! had i known what a fearfully bitter 
sweet this was to be, how would i have avoided you, 
and never seen you, and been deaf of you. i tell you 
all this, but what do you care! you don't care.' 
she returned silent and weak denials to his charges, 
and swayed her head desperately, as if to thrust away 
the words as they came showering ahout her ears from 
the lips of the trembling man in the climax of life, with 
his bronzed roman face and fine frame. 
"dearest, dearest, i am wavering even now between 
the two opposites of recklessly renouncing you, and 
labouring humbly for you again. forget that you have 
said no, and let it be as it was !. say, bathsheba, that 
you only wrote that refusal to me in fun -- -come, say it 
to me!' 
<p 261> 
" it would be untrue, and painful to both of us. you 
overrate my capacity for love. i don't possess half 
the warmth of nature you believe me to have. an un+ 
protected childhood in a cold world has beaten gentle+ 
ness out of me.' 
he immediately said with more resentment: "that 
may be true, somewhat ; but ah, miss everdene, it won't 
do as a reason! you are not the cold woman you 
would have me believe. no, no .! it isn't because you 
have no feeling in you that you don't love me. you 
naturally would have me think so -- -you would hide from 
that you have a burning heart like mine. you have 
love enough, but it is turned into a new channel. i 
know where.' 
the swift music of her heart became hubbub now, 
and she throbbed to extremity. he was coming to 
troy. he did then know what had occurred .! and 
the name fell from his lips the next moment. 
"why did troy not leave my treasure alone?' he 
asked, fiercely. "when i had no thought of injuring 
him, why did he force himself upon your notice.! 
before he worried you your inclination was to have me; 
when next i should have come to you your answer 
would have been yes. can you deny it -- -i ask, can 
you deny it?' 
she delayed the reply, but was to honest to with 
hold it. ' i cannot,' she whispered. 
"i know you cannot. but he stole in in my absence 
and robbed me. why did't he win you away before, 
when nobody would have been grieved? -- -when nobody 
would have been set tale-bearing. now the people 
sneer at me -- -the very hills and sky seem to laugh at 
me till i blush shamefuly for my folly. i have lost my 
respect, my good name, my standing -- -lost it, never to 
get it again. go and marry your man -- go on .! ' 
"o sir -- -mr. boldwood!' 
" you may as well. i have no further claim upon you. 
as for me, i had better go somewhere alone, and hide -- 
and pray. i loved a woman once. i am now ashamed. 
when i am dead they'll say, miserable love-sick man 
that he was. heaven -- -heaven -- -if i had got jilted 
secretly, and the dishonour not known, and my position 
fury 
kept.! but no matter, it is 
<p 262> 
gone, and the woman not 
gained. shame upon him -- shame .! ' 
his unreasonable anger terrified her, and she glided 
from him, without obviously moving, as she said, "i am 
only a girl -- do not speak to me so.!' 
"all the time you knew -- how very well you knew -- 
that your new freak was my misery. dazzled by brass 
and scarlet -- o, bathsheba -- this is woman's folly 
indeed .! ' 
she fired up at once. "you are taking too much 
upon yourself .! ' she said, veheniently. " everybody is 
upon me  -- everybody. it is unmanly to attack a 
woman so ! i have nobody in the world to fight my 
battles for me; but no mercy is shown. yet if a 
thousand of you sneer and say things against me, i <1will>1 
<1not>1 be put down !." 
" you'll chatter with him doubtless about me. say to 
him, "boldwood would have died for me.' yes, and 
you have given way to him, knowing him to be not the 
man for you. he has kissed you -- claimed you as his. 
do you hear -- he has kissed you. deny it .! ' 
the most tragic woman is cowed by a tragic man, 
and although boldwood was, in vehemence and glow, 
nearly her own self rendered into another sex, 
bathsheba's cheek quivered. she gasped, ' leave me, 
sir -- leave me !. i am nothing to you. let me go on !.' 
"deny that he has kissed you.' 
"i shall not.' 
" ha -- then he has ! ' came hoarsely from the farmer. 
"he has," she said, slowly, and, in spite of her fear, 
defiantly. 'i am not ashamed to speak the truth.' 
"then curse him; and curse him !. ' said boldwood, 
breaking into a whispered fury. ' whilst i would have 
given worlds to touch your hand, you have let a rake come 
in without right or ceremony and -- kiss you .! heaven's 
mercy -- kiss you ! ... ah, a time of his life shall come 
when he will have to repent, and think wretchedly of 
the pain he has caused another man ; and then may he 
ache, and wish, and curse, and yearn -- as i do now .! " 
'don't, don't, o, don't pray down evil upon him.! ' 
she 
<p 263> 
implored in a miserable cry. "anything but that -- 
anything. o, be kind to him, sir, for i love him true .' 
boldwood's ideas had reached that point of fusion at 
which outline and consistency entirely disappear. the 
impending night appeared to concentrate in his eye. 
he did not hear her at all now. 
"i'll punish him -- -by my soul, that will i.! i'll meet 
him, soldier or no, and i'll horsewhip the untimely 
stripling for this reckless theft of my one delight. if he 
were a hundred men i'd horsewhip him --  -- ' he 
dropped his voice suddenly and unnaturally. "bath+ 
sheba, sweet, lost coquette, pardon me .! i've been 
blaming you, threatening you, behaving like a churl to 
you, when he's the greatest sinner. he stole your dear 
heart away with his unfathomable lies.! ... lt is a 
fortunate thing for him that he's gone back to his 
regiment -- -that he's away up the country, and not here! 
i hope he may not return here just yet. i pray god 
he may not come into my sight, for i may be tempted 
beyond myself. o, bathsheba, keep him away -- yes, 
keep him away from me.!" 
for a moment boldwood stood so inertly after this 
that his soul seemed to have been entirely exhaled with 
the breath of his passionate words. he turned his face 
away, and withdrew, and his form was soon covered over 
by the twilight as his footsteps mixed in with the low 
hiss of the leafy trees. 
bathsheba, who had been standing motionless as a 
model all this latter time, flung her hands to her face, 
and wildly attempted to ponder on the exhibition which 
had just passed away. such astounding wells of fevered 
feeling in a still man like mr. boldwood were incompre+ 
hensible, dreadful. instead of being a man trained to 
repression he was -- what she had seen him. 
the force of the farmer's threats lay in their relation to a 
circumstance known at present only to herself: her lover was 
coming back to weatherby in the course of the very next 
day or two. troy had not returned to his distant barracks as 
boldwood and others supposed, but had merely gone to visit 
<p 264> 
some acquaintance in bath, and had yet a wek or more 
remaining to his furlough. 
 she felt wretchedly certain that if he revisited her just at 
this nick of time, and came into contact with boldwood,a 
fierce quarrel would be the consequence. she panted with 
solicitude when she thought of possible injury to troy. the 
least spark would kindle the farmer's swift feelings of rage 
and jealousy; he would lose his self-mastery as he had this 
evening; troy's blitheness might become aggressive; it might 
take the direction of derision, and boldwood's anger might 
then take the direction of revenge. 
 with almost a morbid dread of being thought a gushing 
girl, this guideless woman too well concealed from the world 
under a manner of carelessness the warm depths of her strong 
emotions. but now there was no reserve. in fer 
  
her distraction,instead of advancing further she 
walked up and down,beating 
the air with her fingers,pressing on her brow, and sobbing 
brokenly to herself. then she sat down on a heap of stones by 
the wayside to think. there she remained long. above the 
dark margin of the earth appeared foreshores and promontor+ 
ies of coppery cloud,bounding a green and pellucid expanse 
in the western sky. amaranthine glosses came over them then, 
and the unresting world wheeled her round to a contrasting 
prospect eastward, in the shape of indecisive and palpitating 
stars. she gazed upon their silent throes amid the shades of 
space, but realised none at all. her troubled spirit was far 
away with troy. 
<c xxxii> 
<p 265> 
night -- horses tramping 
the village of weatherbury was quiet as the graveyard 
in its midst, and the living were lying welinigh as still 
as the dead. the church clock struck eleven. the 
air was so empty of other sounds that the whirr of the 
clock-work immediately before the strokes was distinct, 
and so was also the click of the same at their close. 
the notes flew forth with the usual blind obtuseness 
of inanimate things -- flapping and rebounding among 
walls, undulating against the scattered clouds, spreading 
through their interstices into unexplored miles of space. 
bathsheba's crannied and mouldy halls were to-night 
occupied only by maryann, liddy being, as was stated, 
with her sister, whom bathsheba had set out to visit. 
a few minutes after eleven had struck, maryann turned 
in her bed with a sense of being disturbed. she was 
totally unconscious of the nature of the interruption to 
her sleep. it led to a dream, and the dream to an 
awakening, with an uneasy sensation that something 
had happened. she left her bed and looked out of 
the window. the paddock abutted on this end of the 
building, and in the paddock she could just discern by 
the uncertain gray a moving figure approaching the 
horse that was feeding there. the figure seized the 
horse by the forelock, and led it to the corner of the 
field. here she could see some object which circum+ 
stances proved to be a vehicle for after a few minutes 
the horse down the road, mingled with the sound of 
light wheels. 
two varieties only of humanity could have entered 
the paddock with the ghostiike glide of that mysterious 
figure. they were a woman and a gipsy man. a woman 
was out of the question in such an occupation at this 
hour, and the comer could be no less than a thief, who 
might probably have known the weakness of the house+ 
hold on this particular night, and have 
<p 266> 
chosen it on 
that account for his daring attempt. moreover, to 
raise suspicion to conviction itself, there were gipsies in ! 
weatherbury bottom. 
maryann, who had been afraid to shout in the robber's 
presence, having seen him depart had no fear. she 
hastily slipped on her clothes, stumped down the dis+ 
jointed staircase with its hundred creaks, ran to coggan's, 
the nearest house, and raised an alarm. coggan called 
gabriel, who now again lodged in his house as at first, 
and together they went to the paddock. beyond all 
doubt the horse was gone. 
" hark .! ' said gabriel. 
they listened. distinct upon the stagnant air came 
the sounds of a trotting horse passing up longpuddle 
lane -- just beyond the gipsies' encampment in weather+ 
bury bottom. 
" that's our dainty-i'll swear to her step,' said jan. 
" mighty me ! won't mis'ess storm and call us stupids 
wen she comes back ! ' moaned maryann. "how i 
wish it had happened when she was at home, and none 
of us had been answerable .! ' 
" we must ride after,' said gabriel, decisively. 
be responsible to miss everdene for what we do. yes, 
we'll follow. ' 
" faith, i don't see how,' said coggan. " all our 
horses are too heavy for that trick except little poppet, 
and what's she between two of us?-if we only had that 
" pair over the hedge we might do something.' 
'which pair ? ' 
'mr boldwood's tidy and moll.' 
" then wait here till i come hither again,' said gabriel. 
he ran down the hill towards farmer boldwood's. 
" farmer boldwood is not at home,' said maryann. 
",all the better,' said coggan. "i know what he's 
gone for.' 
less than five minutes brought up oak again, running 
at the same pace, with two halters dangling from his hand, 
"where did you find 'em ?" said coggan, turning 
round and leaping upon the hedge without waiting for 
an answer. 
"under the eaves. i knew where they were kept,' 
said gabriel, following him. "coggan, you can ride 
bare-backed ? there's no time to look for saddles.' 
<p 267> 
" like a hero .! ' said jan. 
'maryann, you go to hed,' gabriel shouted to her 
from the top of the hedge. 
springing down into boldwood's pastures, each 
pocketed his halter to hide it from the horses, who, 
seeing the men empty-handed, docilely allowed them+ 
selves to he seized by the mane, when the halters 
were dexterously slipped on. having neither bit nor 
bridle, oak and coggan extemporized the former by 
passing the rope in each case through the animal's 
mouth and looping it on the other side. oak vaulted 
astride, and coggan clambered up by aid of the hank, 
when they ascended to the gate and galloped off in the 
direction taken by bathsheha's horse and the robber. 
whose vehicle the horse had been harnessed to was a 
matter of some uncertainty. 
weatherbury bottom was reached in three or four 
minutes. they scanned the shady green patch by the 
roadside. the gipsies were gone. 
"the villains .! ' said gabriel. 'which way have they 
gone, i wonder ? ' 
'straight on, as sure as god made little apples,' 
said jan. 
" very well; we are better mounted, and must over+ 
discovered. the road-metal grew softer and more 
rain had wetted its surface to a somewhat plastic, but 
not muddy state. they came to cross-roads. coggan 
suddenly pulled up moll and slipped off. 
" what"s the matter ? ' said gabriel. 
"we must try to track 'em, since we can't hear 'em,' 
said jan, fumbling in his pockets. he struck a light, 
and held the match to the ground. the rain had been 
heavier here, and all foot and horse tracks made previous 
to the storm had been abraded and blurred by the drops, 
and they were now so many little scoops of water, which 
reflected the flame of the match like eyes. one set of 
tracks was fresh and had no water in them; one pair of 
ruts was also empty, and not small canals, like the cthers. 
the footprints forming this recent impression were full 
<p 268> 
of information as to pace ; they were in equidistant pairs, 
three or four feet apart, the right and left foot of each 
pair being exactly opposite one another. 
"straight on !. ' jan exclaimed. "tracks like that 
mean a stiff gallop. no wonder we don't hear him. 
and the horse is harnessed-iook at the ruts. ay, 
'how do you know ?' 
"old jimmy harris only shoed her last week, and 
i'd swear to his make among ten thousand.' 
"the rest of the gipsies must ha" gone on earlier, 
or some other way,' said oak. " 'you saw there were 
no other tracks ? ' 
"true.' they rode along silently for a long weary 
time. coggan carried an old pinchbeck repeater which 
he had inherited from some genius in his family; and 
it now struck one. he lighted another match, and ex+ 
amined the ground again. 
"'tis a canter now,' he said, throwing away the light. 
'a twisty', rickety pace for a gig. the fact is, they over+ 
drove her at starting ; we shall catch "em yet.' 
again they hastened on, and entered blackmore 
vale. coggan's watch struck one. when they looked 
again the hoof-marks were so spaced as to form a sort 
of zigzag if united, like the lamps along a street. 
" that's a trot, i know,' said gabriel. 
"only a trot now,' said coggan, cheerfully. "we 
shall overtake him in time.' 
they pushed rapidly on for yet two or three miles. 
"ah .! a moment,' said jan. 'let's see how she was 
driven up this hill. "twill help us,' a light was 
promptly struck upon his gaiters as before, and the ex+ 
amination made, 
" hurrah .! ' said coggan. "she walked up here -- 
and well she might. we shall get them in two miles, 
for a crown.' 
they rode three, and listened. no sound was to be 
heard save a milipond trickling hoarsely through a 
hatch, and suggesting gloomy possibilities of drowning 
by juraping in. gabriel dismounted when they came 
to a turning. the tracks were ahsolutely the only guide 
as to the direction that they now had, and great caution 
was necessary to avoid confusing them 
<p 269> 
with some others 
which had made their appearance lately. 
"what does this mean ? -- though i guess,' said 
gabriel, looking up at coggan as he moved the match 
over the ground about the turning. coggan, who, no 
less than the panting horses, had latterly shown signs 
of weariness, again scrutinized the mystic characters. 
this time only three were of the regular horseshoe 
shape. every fourth was a dot. 
horses tramping 
he screwed up his face and emitted a long 
" whew-w-w !. ' 
" lame,' said oak. 
" yes dainty is lamed ; the near-foot-afore,' said 
coggan slowly staring still at the footprints. 
" we'll push on,' said gabriel, remounting his humid 
steed. 
although the road along its greater part had been as 
good as any turnpike-road in the country, it was nomin+ 
ally only a byway. the last turning had brought them 
into the high road leading to bath. coggan recollected 
himself. 
"we shall have him now ! ' he exclaimed. 
" where ? " 
' sherton turnpike. the keeper of that gate is the 
sleepiest man between here and london -- dan randall. 
that's his name -- knowed en for years, when he was at 
casterbridge gate. between the lameness and the gate 
'tis a done job.' 
was said until, against a shady background of foliage, 
five white bars were visible, crossing their route a little 
way ahead. 
" hush -- we are almost close !. ' said gabriel. 
"amble on upon the grass,' said coggan. 
the white bars were blotted out in the midst by a 
dark shape in front of them. the silence of this lonely 
time was pierced by an exclamation from that quarter. 
" hoy-a-hoy ! gate .! ' 
it appeared that there had been a previous call which 
they had not noticed, for on their close approach the 
door of the turnpike-house opened, and the keeper 
came out half-dressed, with a candle in his hand. the 
rays illumined the whole group. 
" keep the gate close .! ' shouted gabriel. " he has 
stolen the horse !. ' 
<p 270> 
" who ? ' said the turnpike-man. 
gabriel looked at the driver of the gig, and saw a 
woman -- bathsheba, his mistress. 
on hearing his voice she had turned her face away 
from the light. coggan had, however, caught sight of 
her in the meanwhile. 
"why, 'tis mistress-i'll take my oath .! ' he said, 
amazed. 
bathsheba it certainly was, and she had by this time 
done the trick she could do so well in crises not of love, 
namely, mask a surprise by coolness of manner. 
' well, gabriel,' she inquired quietly, ' where are you 
going ? ' 
' we thought --  -- ' began gabriel. 
bath,' she said, taking for her own 
use the assurance that gahriel lacked. 'an important 
matter made it necessary for me to give up my visit to 
liddy, and go off at once. what, then, were you 
following me ?' 
' we thought the horse was stole.' 
" weli-what a thing .! how very foolish of you not 
to know that i had taken the trap and horse. i could 
neither wake maryann nor get into the house, though 
i hammered for ten minutes against her window-sill. 
fortunately, i could get the key of the coach-house, so 
i troubled no one further. didn't you think it might 
be me?" 
' why should we, miss ? ' 
" perhaps not why, those are never farmer bold+ 
wood's horses .! goodness mercy .! what have you been 
" doing bringing trouble upon me in this way? what.! 
mustn't a lady move an inch from her door without being 
dogged like a thief?' 
'but how was we to know, if you left no account of 
your doings ? ' expostulated coggan, "and ladies don't 
" drive at these hours, miss, as a jineral rule of society.' 
"i did leave an account -- and you would have seen 
it in the morning. i wrote in chalk on the coach-house 
doors that i had come back for the horse and gig, and 
driven off; that i could arouse nobody, and should 
return soon.' 
" but you'll consider, ma'am, that we couldn't see 
that till it got daylight.' 
'true,' she said, and though vexed at first she had 
too much 
<p 271> 
sense to blame them long or seriously for a 
devotion to her that was as valuable as it was rare. 
she added with a very pretty grace, ' well, i really thank 
you heartily for taking all this trouble; but i wish you 
had borrowed anybody's horses but mr. boldwood's.' 
'dainty is lame, miss,' said coggan. 'can ye go 
on?' 
'lt was only a stone in her shoe. i got down and 
pulled it out a hundred yards back. i can manage 
very well, thank you. i shall be in bath by daylight. 
will you now return, please?' 
she turned her head -- the gateman's candle 
shimmering upon her quick, clear eyes as she did so -- 
passed through the gate, and was soon wrapped in the 
embowering shades of mysterious summer boughs. 
coggan and gabriel put about their horses, and, fanned 
by the velvety air of this july night, retraced the road 
by which they had come. 
'a strange vagary, this of hers, isn't it, oak?' said 
coggan, curiously. 
'yes,' said gabriel, shortly. 
'she won't be in bath by no daylight!.' 
'coggan, suppose we keep this night's work as quiet 
as we can?' 
'i am of one and the same mind.' 
'very well. we shall be home by three o'clock or 
so, and can creep into the parish like lambs.' 
bathsheba's perturbed meditations by the roadside 
had ultimately evolved a conclusion that there were only 
two remedies for the present desperate state of affairs. 
the first was merely to keep troy away from weather+ 
bury till boldwood's indignation had cooled; the second 
to listen to oak's entreaties, and boldwood's denuncia+ 
tions, and give up troy altogether. 
alas! could she give up this new love -- induce 
him to renounce her by saying she did not like him -- 
could no more speak to him, and beg him, for her good, 
to end his furlough in bath, and see her and weather' 
bury no niore? 
it was a picture full of misery, but for a while she 
contemplated it firmly, allowing herself, nevertheless, 
as girls will, to 
<p 272> 
dwell upon the happy life she would 
have enjoyed had troy been boldwood, and the path 
of love the path of duty -- inflicting upon herself gratuit+ 
ous tortures by imagining him the lover of another 
woman after forgetting her; for she had penetrated 
troy's nature so far as to estimate his tendencies pretty 
accurately, hut unfortunately loved him no less in 
thinking that he might soon cease to love her -- indeed, 
considerably more. 
she jumped to her feet. she would see him at once. 
yes, she would implore him by word of mouth to assist 
her in this dilemma. a letter to keep him away could 
not reach him in time, even if he should be disposed to 
listen to it. 
was bathsheba altogether blind to the obvious fact 
that the support of a lover's arms is not of a kind best 
calculated to assist a resolve to renounce him? or was 
she sophistically sensible, with a thrill of pleasure, that 
by adopting this course for getting rid of him she was 
ensuring a meeting with him, at any rate, once more? 
it was now dark, and the hour must have been nearly 
ten. the only way to accomplish her purpose was to 
give up her idea of visiting liddy at yalbury, return to 
weatherbury farm, put the horse into the gig, and drive 
at once to bath. the scheme seemed at first impossible : 
the journey was a fearfully heavy one, even for a strong 
horse, at her own estimate; and she much underrated 
the distance. it was most venturesome for a woman, 
at night, and alone. 
but could she go on to liddy's and leave things to 
take their course? no, no; anything but that. bath+ 
sheba was full of a stimulating turbulence, beside which 
caution vainly' prayed for a hearing. she turned back 
towards the village. 
her walk was slow, for she wished not to enter 
weatherbury till the cottagers were in bed, and, par+ 
ticularly, till boldwood was secure. her plan was now 
to drive to bath during the night, see sergeant 'troy in 
the morning before he set out to come to her, bid him 
farewell, and dismiss him: then to rest the horse 
thoroughly (herself to weep the while, she thought), 
starting early the next morning on her return journey. 
by this arrangement she could trot dainty gently all 
the day, reach 
<p 273> 
liddy at yalbury in the evening, and 
come home to weatherbury with her whenever they 
chose -- so nobody would know she had been to bath 
at all. 
such was bathsheba's scheme. but in her topo+ 
graphical ignorance as a late comer to the place, slie 
misreckoned the distance of her journey as not much 
more than half what it really was. her idea, however, 
she proceeded to carry out, with what initial success we 
have already seen. 
<c xxxiii> 
<p 274> 
in the sun -- a harbinger 
a week passed, and there were no tidings of bath+ 
sheba; nor was there any explanation of her gilpin's 
rig. 
then a note came for maryann, stating that the 
business which had called her mistress to bath still 
detained her there; but that she hoped to return 
in the course of another week. 
another week passed. the oat-harvest began, and 
all the men were a-field under a monochromatic lammas 
sky, amid the trembling air and short shadows of noon. 
indoors nothing was to be heard save the droning of 
blue-bottle flies; out-of-doors the whetting of scythes 
and the hiss of tressy oat-ears rubbing together as their 
perpendicular stalks of amber-yellow fell heavily to each 
swath. every drop of moisture not in the men's bottles 
and flagons in the form of cider was raining as perspira+ 
tion from their foreheads and cheeks. drought was 
everywhere else. 
they were about to withdraw for a while into the 
charitable shade of a tree in the fence, when coggan 
saw a figure in a blue coat and brass buttons running 
to them across the field. 
'i wonder who that is?' he said. 
'i hope nothing is wrong about mistress,' said 
maryann, who with some other women was tying the 
bundles (oats being always sheafed on this farm), 'but 
an unlucky token came to me indoors this morning. 
l went to unlock the door and dropped the key, and it 
fell upon the stone floor and broke into two pieces. 
breaking a key is a dreadful bodement. i wish mis'ess 
was home.' 
''tis cain ball,' said gabriel, pausing from whetting 
his reaphook. 
oak was not bound by his agreement to assist in the 
corn-field; but the harvest month is an anxious time for 
<p 275> 
a farmer, and the corn was bathsheba's, so he lent a 
hand. 
'he's dressed up in his best clothes,' said matthew 
moon. 'he hev been away from home for a few days, 
since he's had that felon upon his finger; for 'a said, 
since i can't work i'll have a hollerday.' 
  'a good time for one -- a" excellent time,' said joseph 
poorgrass, straightening his back; for he, like some of 
the others, had a way of resting a while from his labour 
on such hot days for reasons preternaturally small; of 
which cain pall's advent on a week-day in his sunday+ 
clothes was one of the first magnitude. ''twas a bad leg 
allowed me to read the pilgrim's progress, and mark 
clark learnt alifours in a whitlow.' 
'ay, and my father put his arm out of joint to have 
time to go courting,' said jan coggan, in an eclipsing 
tone, wiping his face with his shirt-sleeve and thrusting 
back his hat upon the nape of his neck. 
by this time cainy was nearing the group of harvesters, 
and was perceived to be carrying a large slice of bread 
and ham in one hand, from which he took mouthfuls 
as he ran, the other being wrapped in a bandage. 
when he came close, his mouth assumed the bell shape, 
and he began to cough violently. 
   'now, cainy!.' said gabriel, sternly.  'how many 
more times must i tell you to keep from running so fast 
when you be eating? you'll choke yourself some day, 
that's what you'll do, cain ball.' 
 'hok-hok-hok.!  'replied cain. 'a crumb of my 
victuals went the wrong way -- hok-hok!, that's what 
'tis, mister oak.! and i've been visiting to bath 
because i had a felon on my thumb; yes, and l've 
seen -- ahok-hok!' 
directly cain mentioned bath, they all threw down 
their hooks and forks and drew round him. un+ 
fortunately the erratic crumb did not improve his 
narrative powers, and a supplementary hindrance was 
that of a sneeze, jerking from his pocket his rather large 
watch, which dangled in front of the young man 
pendulum-wise. 
<p 276> 
 'yes,' he continued, directing his thoughts to bath 
and letting his eyes follow, 'l've seed the world at last 
 -- yes -- and i've seed our mis'ess -- ahok-hok-hok ! ' 
' bother the boy! ' said gabriel. ' something is 
always going the wrong way down your throat, so that 
you can't tell what's necessary to be told.' 
"ahok !. there ! please, mister oak, a gnat have 
just fleed into my stomach and brought the cough on 
again !. ' 
'yes, that's just it. your mouth is always open, you 
young rascal .! ' 
''tis terrible bad to have a gnat fly down yer throat, 
pore boy !. ' said matthew moon. 
' well, at bath you saw --  -- ' prompted gabriel. 
'i saw our mistress,' continued the junior shepherd, 
'and a sojer, walking along. and bymeby they got 
closer and closer, and then they went arm-in-crook, like 
courting complete -- hok-hok ! like courting complete -- 
hok .! -- courting complete --  -- " losing the thread of his 
narrative at this point simultaneously with his loss of 
breath, their informant looked up and down the field 
apparently for some clue to it. 'well, i see our mis'ess 
and a soldier -- a-ha-a-wk .! ' 
a harblnger 
!damn the boy !' said gabriel. 
!'tis only my manner, mister oak, if ye'll excuse it,' 
said cain ball, looking reproachfully at oak, with eyes 
drenched in their own dew. 
!here's some cider for him -- that'll cure his throat,' 
said jan coggan, lifting a flagon of cider, pulling out 
the cork, and applying the hole to cainy's mouth; 
joseph poorgrass in the meantime beginning to think 
apprehensively of the serious consequences that would 
follow cainy ball's strangulation in his cough, and the 
history of his bath adventures dying with him. 
"for my poor self, i always say "please god ' afore 
i do anything,' said joseph, in an unboastful voice ; " and 
so should you, cain ball. "tis a great safeguard, and 
might perhaps save you from being choked to death 
some day.' 
mr. coggan poured the liquor with unstinted liber+ 
ality at the suffering cain's circular mouth; half of it 
running down the 
<p 277> 
side of the flagon, and half of what 
reached his mouth running down outside his throat, 
and half of what ran in going the wrong way, and being 
coughed and sneezed around the persons of the gathered 
reapers in the form of a cider fog, which for a moment 
hung in the sunny air like a small exhalation. 
"there's a great clumsy sneeze ! why can't ye have 
better manners, you young dog ! ' said coggan, with+ 
drawing the flagon. 
"the cider went up my nose ! ' cried cainy, as soon 
as he could speak; "and now 'tis gone down my neck, 
and into my poor dumb felon, and over my shiny 
buttons and all my best cloze ! ' 
"the poor lad's cough is terrible onfortunate,' said 
matthew moon. 'and a great history on hand, too. 
bump his back, shepherd.' 
"'tis my nater,' mourned cain. "mother says i 
always was so excitable when my feelings were worked 
up to a point!' 
" true, true,' said joseph poorgrass. "the balls 
were always a very excitable family. i knowed the 
boy's grandfather -- a truly nervous and modest man, 
even to genteel refinery. 'twas blush, blush with him, 
almost as much as 'tis with me -- not but that 'tis a 
fault in me !' 
"not at all, master poorgrass,' said coggan. " 'tis 
a very noble quality in ye.' 
"heh-heh ! well, i wish to noise nothing abroad -- 
nothing at all,' murmured poorgrass, diffidently. " but 
we be born to things -- that's true. yet i would rather 
my trifle were hid ; though, perhaps, a high nater is a 
little high, and at my birth all things were possible to 
my maker, and he may have begrudged no gifts.... 
but under your bushel, joseph ! under your bushel with 
'ee ! a strange desire, neighbours, this desire to hide, 
and no praise due. yet there is a sermon on the 
mount with a calendar of the blessed at the head, and 
certain meek men may be named therein.' 
"cainy's grandfather was a very clever man,' said 
matthew moon. "invented a' apple-tree out of his own 
head, which is called by his name to this day -- the early 
ball. you know 'em, 
<p 278> 
jan ? a quarrenden grafted on 
a tom putt, and a rathe-ripe upon top o' that again. 
'tis trew 'a used to bide about in a public-house wi' a 
'ooman in a way he had no business to by rights, but 
there -- 'a were a clever man in the sense of the term.' 
" now then,' said gabriel, impatiently, " what did you 
see, cain ? ' 
"i seed our mis'ess go into a sort of a park place, 
where there's seats, and shrubs and flowers, arm-in-crook 
with a sojer,' continued cainy, firmly, and with a dim 
sense that his words were very effective as regarded 
gabriel's emotions. "and i think the sojer was 
sergeant troy. and they sat there together for more 
than half-an-hour, talking moving things, and she once 
was crying a'most to death. and when they came out 
her eyes were shining and she was as white as a lily; 
and they looked into one another's faces, as far-gone 
friendly as a man and woman can be.' 
gabriel's features seemed to get thinner. " well, 
what did you see besides ? ' 
" oh, all sorts." 
"white as a lily? you are sure 'twas she? 
" yes." 
" well, what besides ? ' 
"great glass windows to the shops, and great clouds 
in the sky, full of rain, and old wooden trees in the 
country round.' 
" you stun-poll! what will ye say next?' said 
coggan. 
" let en alone,' interposed joseph poorgrass. "the 
boy's maning is that the sky and the earth in the 
kingdom of bath is not altogether different from ours 
here. 'tis for our good to gain knowledge of strange 
cities, and as such the boy's words should be suffered, 
so to speak it.' 
" and the people of bath,' continued cain, "never 
need to light their fires except as a luxury, for the 
water springs up out of the earth ready boiled for 
use.' 
" 'tis true as the light,' testified matthew moon. ' i've 
heard other navigators say the same thing.' 
" they drink nothing else there,' said cain, ' and seem 
to enjoy it, to see how they swaller it down.' 
<p 279> 
"well, it seems a barbarian practice enough to us, 
but i daresay the natives think nothing o' it,' said 
matthew. 
"and don't victuals spring up as well as drink?' 
asked coggan, twirling his eye. 
"no-i own to a blot there in bath -- a true blot. 
god didn't proride 'em with victuals as well as (+ 
and 'twas a drawback i couldn't get over at all.' 
" well, 'tis a curious place, to say the least,' observed 
moon; "and it must be a curious people that live 
therein. ' 
"miss everdene and the soldier were walking about 
together, you say ? ' said gabriel, returning to the 
group. 
"ay, and she wore a beautiful gold-colour silk 
gown, trimmed with black lace, that would have stood 
alone 'ithout legs inside if required. 'twas a very 
winsome sight; and her hair was brushed splendid. 
and when the sun shone upon the bright gown and his 
red coat -- my ! how handsome they looked. you 
could see 'em all the length of the street.' 
" and what then ? ' murmured gabriel. 
"and then i went into griffin's to hae my boots 
hobbed, and then i went to riggs's batty-cake shop, 
and asked 'em for a penneth of the cheapest and nicest 
stales, that were all but blue-mouldy, but not quite. 
and whilst i was chawing 'em down i walked on and 
seed a clock with a face as big as a baking trendle --  -- ' 
"but that's nothing to do with mistress ! ' 
"i'm coming to that, if you'll leave me alone, mister 
oak ! ' remonstrated cainy. "if you excites me, 
perhaps you'll bring on my cough, and then i shan't be 
able to tell ye nothing.' 
" yes-iet him tell it his own way,' said coggan. 
gabriel settled into a despairing attitude of patience, 
and cainy went on : -- 
"and there were great large houses, and more 
people all the week long than at weatherbury club+ 
walking on white tuesdays. and i went to grand 
churches and chapels. and how the parson would pray ! 
yes; he would kneel down and put up his hands 
together, and make the holy gold rings on his fingers 
gleam and twinkle in yer eyes, that he'd earned 
by praying so excellent well ! -- ah yes, i wish i lived 
there.' 
<p 280> 
"our poor parson thirdly can't get no money to 
buy such rings,' said  matthew moon, thoughtfully. 
"and as good a man as ever walked. i don't believe 
poor thirdly have a single one, even of humblest tin or 
copper. such a great ornament as they'd be to him on 
a dull a'ternoon, when he's up in the pulpit lighted by 
the wax candles ! but 'tis impossible, poor man. ah, 
to think how unequal things be.' 
"perhaps he's made of different stuff than to wear 
'em,' said gabriel, grimly. ' well, that's enough of this. 
go on, cainy -- quick.' 
' oh -- and the new style of pa'sons wear moustaches 
and long beards,' continued the illustrious traveller, 
'and look like moses and aaron complete, and make 
we fokes in the congregation feel all over like the 
children of israel.' 
"a very right feeling -- very,' said joseph poorgrass. 
"and there's two religions going on in the nation 
now -- high church and high chapel. and, thinks i, 
i'll play fair; so i went to high church in the morning, 
and high chapel in the afternoon.' 
' a right and proper boy,' said joseph poorgrass. 
"well, at high church they pray singing, and worship 
all the colours of the rainbow; and at high chapel they 
pray preaching, and worship drab and whitewash only. 
and then-i didn't see no more of miss everdene at 
all.' 
'why didn't you say so afore, then ? ' exclaimed oak, 
with much disappointment. 
' ah,' said matthew moon, 'she'll wish her cake 
dough if so be she's over intimate with that man.' 
'she's not over intimate with him,' said gabriel, 
indignantly. 
'she would know better,' said coggan. "our 
mis'ess has too much sense under they knots of black 
hair to do such a mad thing.' 
"you see, he's not a coarse, ignorant man, for he 
was well brought up,' said matthew, dubiously. " 'twas 
only wildness that made him a soldier, and maids rather 
like your man of sin.' 
"now, cain ball,' said gabriel restlessly, "can you 
swear in the most 
<p 281> 
awful form that the woman you saw 
was miss everdene ? ' 
'cain ball, you be no longer a babe and suckling,' 
said joseph in the sepulchral tone the circumstances 
demanded, "and you know what taking an oath is. 
'tis a horrible testament mind ye, which you say and 
seal with your blood-stone, and the prophet matthew 
tells us that on whomsoever it shall fall it will grind 
him to powder. now, before all the work-folk here 
assembled, can you swear to your words as the shep+ 
herd asks ye ?' 
" please no, mister oak ! ' said cainy, looking from 
one to the other with great uneasiness at the spiritual 
magnitude of the position. "i don't mind saying 'tis 
true, but i don't like to say 'tis damn true, if that's 
what you mane.' 
'cain, cain, how can you ! ' asked joseph sternly. 
"you be asked to swear in a holy manner, and you 
swear like wicked shimei, the son of gera, who cursed 
as he came. young man, fie ! ' 
"no, i don't ! 'tis you want to squander a pore 
boy's soul, joseph poorgrass -- that's what 'tis ! ' said 
cain, beginning to cry. "all i mane is that in common 
truth 'twas miss everdene and sergeant troy, but in 
the horrible so-help-me truth that ye want to make of 
it perhaps 'twas somebody else ! ' 
'there's no getting at the rights of it,' said gabriel, 
turning to his work. 
"cain ball, you'll come to a bit of bread ! ' groaned 
joseph poorgrass. 
then the reapers' hooks were flourished again, and 
the old sounds went on. gabriel, without making any 
pretence of being lively, did nothing to show that he 
was particularly dull. however, coggan knew pretty 
nearly how the land lay, and when they were in a nook 
together he said -- 
' don't take on about her, gabriel. what difference 
does it make whose sweetheart she is, since she can't be 
yours ? ' 
"that's the very thing i say to myself,' said gabriel. 
 <c xxxiv> 
<p 282> 
home again -- a trickster 
that same evening at dusk gabriel was leaning over 
coggan's garden-gate, taking an up-and-down survey 
before retiring to rest. 
a vehicle of some kind was softly creeping along 
the grassy margin of the lane. from it spread the 
tones of two women talking. the tones were natural 
and not at all suppressed. oak instantly knew the 
voices to he those of bathsheba and liddy. 
the carriage came opposite and passed by. it was 
miss everdene's gig, and liddy and her mistress were 
the only occupants of the seat. liddy was asking 
questions about the city of bath, and her companion 
was answering them listlessly and unconcernedly. both 
bathsheba and the horse seemed weary. 
the exquisite relief of finding that she was here 
again, safe and sound, overpowered all reflection, and 
oak could only luxuriate in the sense of it. all grave 
reports were forgotten. 
he lingered and lingered on, till there was no 
difference between the eastern and western expanses 
of sky, and the timid hares began to limp courageously 
round the dim hillocks. gabriel might have been 
there an additional half-hour when a dark form walked 
slowly by. " good-night, gabriel,' the passer said. 
it was boldwood. " good-night, sir,' said gabriel. 
boldwood likewise vanished up the road, and oak 
shortly afterwards turned indoors to bed. 
farmer boldwood went on towards miss everdene's 
house. he reached the front, and approaching the 
entrance, saw a light in the parlour. the blind was 
not drawn down, and inside the room was bathsheba, 
looking over some papers or letters. her back was 
towards boldwood. he went to the door, 
<p 283> 
knocked, 
and waited with tense muscles and an aching brow. 
boldwood had not been outside his garden since 
his meeting with bathsheba in the road to yalbury. 
silent and alone, he had remained in moody medita+ 
tion on woman's ways, deeming as essentials of the 
whole sex the accidents of the single one of their 
number he had ever closely beheld. by degrees a 
more charitable temper had pervaded him, and this 
was the reason of his sally to-night. he had come to 
apologize and beg forgiveness of bathsheba with some+ 
thing like a sense of shame at his violence, having but 
just now learnt that she had returned -- only from a 
visit to liddy, as he supposed, the bath escapade 
being quite unknown to him. 
he inquired for miss everdene. liddy's manner 
was odd, but he did not notice it. she went in, leaving 
him standing there, and in her absence the blind of the 
room containing bathsheba was pulled down. bold+ 
wood augured ill from that sign. liddy came out. 
"my mistress cannot see you, sir,' she said. 
the farmer instantly went out by the gate. he 
as unforgiven -- that was the issue of it all. he had 
seen her who was to him simultaneously a delight and 
a torture, sitting in the room he had shared with her 
as a peculiarly privileged guest only a little earlier in 
he summer, and she had denied him an entrance 
there now. 
boldwood did not hurry homeward. it was ten 
o'clock at least, when, walking deliberately through the 
lower part of weatherbury, he heard the carrier's spring 
van entering the village. the van ran to and from a 
town in a northern direction, and it was owned and 
driven by a weatherbury man, at the door of whose 
house it now pulled up. the lamp fixed to the head 
of the hood illuminated a scarlet and gilded form, who 
was the first to alight. 
'ah ! ' said boldwood to himself, "come to see her 
again.' 
troy entered the carrier's house, which had been 
the place of his lodging on his last visit to his native 
place. boldwood was moved by a sudden determina+ 
tion. he hastened home. in ten minutes he was 
back again, and made as if he were going to call upon 
troy at the carrier's. but as he approached, some 
<p 284> 
one opened the door and came out. he heard this 
person say " good-night ' to the inmates, and the voice 
was troy's. 'this was strange, coming so immediately 
after his arrival. boldwood, however, hastened up 
to him. troy had what appeared to be a carpet-bag 
in his hand -- the same that he had brought with him. 
it seemed as if he were going to leave again this very 
night. 
troy turned up the hill and quickened his pace. 
boldwood stepped forward. 
" sergeant troy ? ' 
" yes-i'm sergeant troy.' 
" just arrived from up the country, i think ?' 
" just arrived from bath.' 
" i am william boldwood.' 
" indeed.' 
the tone in which this word was uttered was all 
that had been wanted to bring boldwood to the 
point. 
" i wish to speak a word with you,' he said. 
" what about ? ' 
" about her who lives just ahead there -- and about 
a woman you have wronged.' 
" i wonder at your impertinence,' said troy, moving 
on. 
" now look here,' said boldwood, standing in front 
of him, " wonder or not, you are going to hold a conver+ 
sation with me.' 
troy heard the dull determination in boldwood's 
voice, looked at his stalwart frame, then at the thick 
cudgel he carried in his hand. he remembered it was 
past ten o'clock. it seemed worth while to be civil to 
boldwood. 
" very well, i'll listen with pleasure,' said troy, 
placing his bag on the ground, "only speak low, for 
somebody or other may overhear us in the farmhouse 
there.' 
" well then -- i know a good deal concerning your 
fanny robin's attachment to you. i may say, too, that 
i believe i am the only person in the village, excepting 
gabriel oak, who does know it. you ought to marry 
her.' 
" i suppose i ought. indeed, l wish to, but i 
cannot.' 
" why ? ' 
troy was about to utter something hastily; he then 
checked 
<p 285> 
himself and said, "i am too poor.' his voice 
was changed. previously it had had a deviimay-care 
tone. it was the voice of a trickster now. 
boldwood's present mood was not critical enough to 
notice tones. he continued, "i may as well speak 
plainly; and understand, i don't wish to enter into the 
questions of right or wrong, woman's honour and shame, 
or to express any opinion on your conduct. i intend a 
business transaction with you.' 
" i see,' said troy. " suppose we sit down here.' 
an old tree trunk lay under the hedge immediately 
opposite, and they sat down. 
the tone in which this word was uttered was all 
troy heard the dull determination in boldwood's 
voice, looked at his stalwart frame, then at the thick 
plainly ; and understand, i don't wish to enter into the 
" i was engaged to be married to miss everdene,' 
said boldwood, "but you came and --  -- ' 
" not engaged,' said troy. 
" as good as engaged.' 
" if i had not turned up she might have become en+ 
gaged to you.' 
" hang might ! ' 
" would, then.' 
" if you had not come i should certainly -- yes, 
certainly -- have been accepted by this time. if you had 
not seen her you might have been married to fanny. 
well, there's too much difference between miss ever+ 
dene's station and your own for this flirtation with her 
ever to benefit you by ending in marriage. so all i ask 
is, don't molest her any more. marry fanny. 
make it worth your while.' 
" how will you ?' 
" i'll pay you well now, i'll settle a sum of money 
upon her, and i'll see that you don't suffer from poverty 
in the future. i'll put it clearly. bathsheba is only 
playing with you: you are too poor for her as i said; 
so give up wasting your time about a great match you'll 
never make for a moderate and rightful match you may 
make to-morrow; take up your carpet-bag, turn about, 
leave weatherbury now, this night, and you shall take 
fifty pounds with you. fanny shall have fifty to enable 
her to prepare for the wedding, when you have told me 
where she is living, and she shall have five hundred 
paid down on her wedding-day.' 
<p 286> 
in making this statement boldwood's voice revealed 
only too clearly a consciousness of the weakness of his 
position, his aims, and his method. his manner had 
lapsed quite from that of the firm and dignified bold+ 
wood of former times; and such a scheme as he had 
now engaged in he would have condemned as childishly 
imbecile only a few months ago. we discern a grand 
force in the lover which helacks whilst a free man; but 
there is a breadth of vision in the free man which in 
the lover we vainly seek. where there is much bias 
there must be some narrowness, and love, though added 
emotion, is subtracted capacity. boldwood exemplified 
this to an abnormal degree: he knew nothing of fanny 
robin's circumstances or whereabouts, he knew nothing 
of troy's possibilities, yet that was what he said. 
" i like fanny best,' said troy; "and if, as you say, 
miss everdene is out of my reach, why i have all to 
gain by accepting your money, and marrying fan. but 
she's only a servant.' 
" never mind -- do you agree to my arrangement ?' 
" i do.' 
" ah ! ' said boldwood, in a more elastic voice. "o, 
troy, if you like her best, why then did you step in here 
and injure my happiness ? ' 
" i love fanny best now,' said troy. "but 
bathsh --  -- miss everdene inflamed me, and displaced 
fanny for a time. it is over now.' 
" why should it be over so soon? and why then 
did you come here again ? ' 
" there are weighty reasons. fifty pounds at once, 
you said !' 
" i did,' said boldwood, " and here they are -- fifty 
sovereigns.' he handed troy a small packet. 
" you have everything ready -- it seems that you 
calculated on my accepting them,' said the sergeant, 
taking the packet. 
" i thought you might accept them,' said boldwood. 
" you've only my word that the programme shall be 
adhered to, whilst i at any rate have fifty pounds.' 
" l had thought of that, and l have considered that 
if i can't appeal to your honour i can trust to your -- 
well, shrewdness we'll call it -- not to lose five hundred 
pounds in prospect, and 
<p 287> 
also make a bitter enemy of a 
man who is willing to be an extremely useful friend.' 
" stop, listen ! ' said troy in a whisper. 
a light pit-pat was audible upon the road just above 
them. 
'by george -- 'tis she,' he continued. 'i must go 
on and meet her.' 
'she -- who ? ' 
'bathsheba.' 
'bathsheba -- out alone at this time o' night .! ' said 
boldwood in amazement, and starting up. ' why must 
you meet her ?' 
'she was expecting me to-night -- and i must now 
speak to her, and wish her good-bye, according to your 
wish. ' 
'i don't see the necessity of speaking.' 
'it can do no harm -- and she'll be wandering about 
looking for me if i don't. you shall hear all i say to her. 
it will help you in your love-making when i am gone.' 
'your tone is mocking.' 
'o no. and renaember this, if she does not know 
what has become of me, she will think more about me 
than if i tell her flatly i have come to give her up.' 
'will you confine your words to that one point ? -- + 
shall i hear every word you say ? ' 
'every word. now sit still there, and hold my' 
carpet bag for me, and mark what you hear.' 
the light footstep came closer, halting occasionally, 
as if the walker listened for a sound. troy whistled a 
double note in a soft, fluty tone. 
'come to that, is it ! ' murmured boldwood, uneasily. 
'you promised silence,' said troy. 
'i promise again.' 
troy stepped forward. 
'frank, dearest, is that you ? ' the tones were 
bathsheba's. 
'o god .! ' said boldwood. 
'yes,' said troy to her. 
'how late you are,' she continued, tenderly. 'did 
you come by the carrier ? i listened and heard his 
wheels entering the village, but it was some time ago, 
and i had almost given you up, frank.' 
<p 288> 
'i was sure to come,' said frank. 'you knew i 
should, did you not ? ' 
'well, i thought you would,' she said, playfully ; 
'and, frank, it is so lucky .! there's not a soul in my 
house but me to-night. i've packed them all off so 
nobody on earth will know of your visit to your lady's 
bower. liddy wanted to go to her grandfather's to 
tell him about her holiday, and i said she might stay 
with them till to-morrow -- when you'll be gone again.' 
'capital,' said troy. ' but, dear me, i. had better 
go back for my bag, because my slippers and brush and 
comb are in it; you run home whilst i fetch it, and i'll 
promise to be in your parlour in ten minutes.' 
'yes.' she turned and tripped up the hill again. 
during the progress of this dialogue there was a 
nervous twitching of boldwood's tightly closed lips, and 
his face became bathed in a clammy dew. he now 
started forward towards troy. troy turned to him and 
took up the bag. 
'shall i tell her i have come to give her up and 
cannot marry her ? ' said the soldier, mockingly. 
'no, no; wait a minute. i want to say more to 
you -- more to you !. ' said boldwood, in a hoarse whisper. 
'now,' said troy, ' you see my dilemma. perhaps 
i am a bad man -- the victim of my impulses -- led away 
to do what i ought to leave undone. i can't, however, 
marry them both. and i have two reasons for- choosing 
fanny. first, i like her best upon the whole, and 
second, you make it worth my while.' 
at the same instant boldwood sprang upon him, and 
held him by the neck. troy felt boldwood's grasp slowly 
tightening. the move was absolutely unexpected. 
'a moment,' he gasped. 'you are injuring her you 
love .! ' 
'well, what do you mean ? ' said the farmer. 
give me breath,' said troy. 
boldwood loosened his hand, saying, 'by heaven, 
i've a mind to kill you .!' 
'and ruin her.' 
'save her.' 
'oh, how can she be saved now, unless i marry her ? ' 
<p 289> 
boldwood groaned. he reluctantly released the 
soldier, and flung him back against the hedge. 'devil, 
you torture me .! ' said he. 
troy rebounded like a ball, and was about to make 
a dash at the farmer; but he checked himself, saying 
lightly -- 
'it is not worth while to measure my strength with 
you. indeed it is a barbarous way of settling a quarrel. 
i shall shortly leave the army because of the same 
conviction. now after that revelation of how the land 
lies with bathsheba, 'twould be a mistake to kill me, 
would it not?' 
''twould be a mistake to kill you,' repeated boldwood, 
mechanically, with a bowed head. 
'better kill yourself.' 
' far better.' 
'i'm glad you see it.' 
'troy, make her your wife, and don't act upon what 
i arranged just now. the alternative is dreadful, but 
take bathsheba; i give her up .! she must love you 
indeed to sell soul and body to you so utterly as she 
has done. wretched woman -- deluded woman -- you 
are, bathsheba .! ' 
'but about fanny ? ' 
'bathsheba is a woman well to do,' continued bold+ 
wood, in nervous anxiety, 'and, troy, she will make a 
good wife ; and, indeed, she is worth your hastening 
on your marriage with her .! ' 
'but she has a wili-not to say a temper, and i shall 
be a mere slave to her. i could do anything with poor 
fanny robin.' 
'troy,' said boldwood, imploringly, ' i'll do anything 
for you, only don't desert her; pray don't desert her, 
troy.' 
'which, poor fanny ? ' 
'no ; bathsheba everdene. love her best .! love 
her tenderly !. how shall i get you to see how advan+ 
tageous it will be to you to secure her at once ?' 
'i don't wish to secure her in any new way.' 
boldwood's arm moved spasmodically towards troy's 
person again. he repressed the instinct, and his form 
drooped as with pain. 
troy went on -- 
<p 290> 
"i shall soon purchase my discharge, and then --  -- ' 
'but i wish you to hasten on this marriage !. it will 
be better for you both. you love each other, and you 
must let me help you to do it.' 
'how ? ' 
'why, by settling the five hundred on bathsheba 
instead of fanny, to enable you to marry at once. 
no ; she wouldn't have it of me. i'll pay it down to 
you on the wedding-day.' 
troy paused in secret amazement at boldwood's 
wild infatuation. he carelessly said, 'and am i to 
have anything now ? ' 
'yes, if you wish to. but i have not much additional 
money with me. i did not expect this; but all i have 
is yours.' 
boldwood, more like a somnambulist than a wakeful 
man, pulled out the large canvas bag he carried by way 
of a purse, and searched it. 
'i have twenty-one pounds more with me,' he said. 
'two notes and a sovereign. but before i leave you 
i must have a paper signed --  -- ' 
'pay me the money, and we'll go straight to her 
parlour, and make any arrangement you please to secure 
my compliance with your wishes. but she must know 
nothing of this cash business.' 
' nothing, nothing,' said boldwood, hastily. 'here 
is the sum, and if you'll come to my house we'll write 
out the agreement for the remainder, and the terms 
also.' 
' first we'll call upon her.' 
'but why? come with me to-night, and go with 
me to-morrow to the surrogate's.' 
'but she must be consulted; at any rate informed.' 
'very well; go on.' 
they went up the hill to bathsheba's house. when 
they stood at the entrance, troy said, 'wait here a 
moment.' opening the door, he glided inside, leaving 
the door ajar. 
boldwood waited. in two minutes a light appeared 
in the passage. boldwood then saw that the chain 
had been fastened across the door. troy appeared 
inside, carrying a bedroom candlestick. 
<p 291> 
'what, did you think i should break in ?' said 
boldwood, contemptuously. 
'oh, no; it is merely my humour to secure things. 
will you read this a moment ? i'll hold the light.' 
troy handed a folded newspaper through the slit 
between door and doorpost, and put the candle close. 
'that's the paragraph,' he said, placing his finger on 
a line. 
boldwood looked and read -- 
'marriages. 
'on the 17th inst., at st. ambrose's church, bath, 
by the rev. g. mincing, b.a., francis troy, only son 
of the late edward troy, esq., h.d., of weatherbury, 
and sergeant iith dragoon guards, to bathsheba, only 
surviving daughter of the late mr, john everdene, of 
casterbridge.' 
'this may be called fort meeting feeble, hey, 
boldwood ?' said troy. a low gurgle of derisive 
laughter followed the words. 
the paper fell from boldwood's hands. troy 
continued -- 
'fifty pounds to marry fanny, good. twenty-+ 
one pounds not to marry fanny, but bathsheba. good. 
finale : already bathsheba's husband. now, boldwood, 
yours is the ridiculous fate which always attends inter+ 
ference between a man and his wife. and another 
word. bad as i am, i am not such a villain as to 
make the marriage or misery of any woman a matter 
of huckster and sale. fanny has long ago left me. 
don't know where she is. i have searched everywhere. 
another word yet. you say you love bathsheba ; yet 
on the merest apparent evidence you instantly believe 
in her dishonour. a fig for such love !. now that i've 
taught you a lesson, take your money back again.' 
'i will not ; i will not !. ' said boldwood, in a hiss. 
'anyhow i won't have it,' said troy, contemptuously. 
he wrapped the packet of gold in the notes, and threw 
the whole into the road. 
boldwood shook his clenched fist at him. 'you 
juggler of satan .! you black hound .! but i'll punish 
you yet ; mark me, i'll punish you yet !. ' 
<p 292> 
another peal of laughter. troy then closed the 
door, and locked himself in. 
throughout the whole of that night boldwood's dark 
downs of weatherbury like an unhappy shade in the 
mournful fields by acheron. 
<c xxxv> 
<p 293> 
chapter xxxv 
at an upper window 
it was very early the next morning -- a time of sun and 
dew. the confused beginnings of many birds' songs 
spread into the healthy air, and the wan blue of the 
heaven was here and there coated with thin webs of 
incorporeal cloud which were of no efect in obscuring 
day. all the lights in the scene were yellow as to 
colour, and all the shadows were attenuated as to form. 
the creeping plants about the old manor-house were 
bowed with rows of heavy water drops, which had upon 
objects behind them the effect of minute lenses of high 
magnifying power. 
just before the clock struck five gabriel oak and 
coggan passed the village cross, and went on together 
to the fields. they were yet barely in view of their 
mistress"s house, when oak fancied he saw the opening 
of a casement in one of the upper windows. the two 
men were at this moment partially screened by an elder 
bush, now beginning to be enriched with black bunches 
of fruit, and they paused before emerging from its 
shade. 
a handsome man leaned idly from the lattice. he 
looked east and then west, in the manner of one who 
makes a first morning survey. the man was sergeant 
troy. his red jacket was loosely thrown on, but not 
buttoned, and he had altogether the relaxed bearing of 
a soldier taking his ease. 
coggan spoke first, looking quietly at the window. 
'she has married him ! ' he said. 
gabriel had previously beheld the sight, and he now 
stood with his back turned, making no reply. 
'i fancied we should know something to-day,' con+ 
tinued coggan. 'i heard wheels pass my door just 
after dark -- you were out somewhere.'he glanced 
round upon gabriel. 'good 
<p 294> 
heavens above us, oak, 
how white your face is; you look like a corpse !.' 
'do i?' said oak, with a faint smile. 
'lean on the gate: i'll wait a bit.' 
',all right, all right. ' 
they stood by the gate awhile, gabriel listlessly 
staring at the ground. his mind sped into the future, 
and saw there enacted in years of leisure the scenes o 
repentance that would ensue from this work of haste 
that they were married he had instantly decided. why 
had it been so mysteriously managed ? it had become 
known that she had had a fearful journey to bath, owing 
to her miscalculating the distance : that the horse had 
broken down, and that she had been more than two 
days getting there. it was not bathsheba's way to do 
things furtively. with all her faults, she was candour 
itself. could she have been entrapped ? the union 
was not only an unutterable grief to him: it amazed 
him, notwithstanding that he had passed the preceding 
week in a suspicion that such might be the issue of 
troy's meeting her away from home. her quiet return 
with liddy had to some extent dispersed the dread. 
just as that imperceptible motion which appears like 
stillness is infinitely divided in its properties from stili 
ness itself, so had his hope undistinguishable from 
despair differed from despair indeed. 
in a few minutes they moved on again towards the 
house. the sergeant still looked from the window. 
'morning, comrades .! ' he shouted, in a cheery voice, 
when they came up. 
coggan replied to the greeting. ' bain't ye going to 
answer the man ?' he then said to gabriel. 'i'd say 
good morning -- you needn't spend a hapeth of meaning 
upon it, and yet keep the man civil.' 
gabriel soon decided too that, since the deed was 
done, to put the best face upon the matter would be the 
greatest kindness to her he loved. 
'good morning, sergeant troy,' he returned, in a 
ghastly voice. 
'a rambling, gloomy house this,' said troy, smiling. 
<p 295> 
' why -- they may not be married .! ' suggested coggan. 
' perhaps she's not there.' 
gabriel shook his head. the soldier turned a little 
towards the east, and the sun kindled his scarlet coat 
to an orange glow. 
'but it is a nice old house,' responded gabriel. 
'yes-i suppose so; but i feel like new wine in an 
old bottle here. my notion is that sash-windows should 
be put throughout, and these old wainscoted walls 
brightened up a bit ; or the oak cleared quite away, and 
the walls papered.' 
'it would be a pity, i think.' 
'well, no. a philosopher once said in my hearing 
that the old builders, who worked when art was a living 
thing, had no respect for the work of builders who went 
before them, but pulled down and altered as they 
thought fit; and why shouldn't we ? ''creation and 
preservation don't do well together,'' says he, ''and a 
million of antiquarians can't invent a style.'' my mind 
exactly. i am for niaking this place more modern, that 
we may be cheerful whilst we can.' 
the military man turned and surveyed the interior 
of the room, to assist his ideas of improvement in this 
direction. gabriel and coggan began to move on. 
' oh, coggan,' said troy, as if inspired by a recollec+ 
tion ' do you know if insanity has ever appeared in mr. 
boldwood's family ? ' 
jan reflected for a moment. 
'i once heard that an uncle of his was queer in his 
head, but i don't know the rights o't,' he said. 
'it is of no importance,' said troy, lightly. 'well, 
i shall be down in the fields with you some time this 
week ; but i have a few matters to attend to first. so 
good-day to you. we shall, of course, keep on just as 
friendly terms as usual. i'm not a proud man : nobody 
is ever able to say that of sergeant troy. however, 
what is must be, and here's half-a-crown to drink my 
health, men.' 
troy threw the coin dexterously across the front plot 
and over the fence towards gabriel, who shunned it in 
its fall, his face turning to an angry red. coggan 
twirled his eye, edged 
<p 296> 
forward, and caught the money 
in its ricochet upon the road. 
' very weli-you keep it, coggan,' said gabriel with 
disdain and almost fiercely. 'as for me, i'll do with+ 
out gifts from him !' 
'don't show it too much,' said coggan, musingly. 
'for if he's married to her, mark my words, he'll buy 
his discharge and be our master here. therefore 'tis 
well to say '' friend '' outwardly, though you say 
''troublehouse '' within. ' 
' weli-perhaps it is best to be silent; but i can't 
go further than that. i can't flatter, and if my place 
here is only to be kept by smoothing him down, my 
place must be lost.' 
a horseman, whom they had for some time seen in 
the distance, now appeared close beside them. 
' there's mr. boldwood,' said oak. ' i wonder what 
troy meant by his question.' 
coggan and oak nodded respectfully to the farmer, 
just checked their paces to discover if they were wanted, 
and finding they were not stood back to let him pass on. 
the only signs of the terrible sorrow boldwood had 
been combating through the night, and was combating 
now, were the want of colour in his welidefined face, 
the enlarged appearance of the veins in his forehead 
and temples, and the sharper lines about his mouth. 
the horse bore him away, and the very step of the 
animal seemed significant of dogged despair. gabriel, for 
a minute, rose above his own grief in noticing boldwood's. 
he saw the square figure sitting erect upon the horse, 
the head turned to neither side, the elbows steady by 
the hips, the brim of the hat level and undisturbed in 
its onward glide, until the keen edges of boldwood's 
shape sank by degrees over the hill. to one who knew 
the man and his story there was something more striking 
in this immobility than in a collapse. the clash of 
discord between mood and matter here was forced 
painfully home to the heart ; and, as in laughter there are 
more dreadful phases than in tears, so was there in the 
steadiness of this agonized man an expression deeper 
than a cry. 
<c xxxvi> 
<p 297> 
wealth in jeopardy -- the rveel 
one night, at the end of august, when bathsheba's 
experiences as a married woman were still new, and 
when the weather was yet dry and sultry, a man stood 
motionless in the stackyard of weatherbury upper 
farm, looking at the moon and sky. 
the night had a sinister aspect. a heated breeze 
from the south slowly fanned the summits of lofty 
objects, and in the sky dashes of buoyant cloud were 
sailing in a course at right angles to that of another 
stratum, neither of them in the direction of the breeze 
below. the moon, as seen through these films, had 
a lurid metallic look. the fields were sallow with the 
impure light, and all were tinged in monochrome, as 
if beheld through stained glass. the same evening 
the sheep had trailed homeward head to tail, the 
behaviour of the rooks had heen confused, and the 
horses had moved with timidity and caution. 
thunder was imminent, and, taking some secondary 
appearances into consideration, it was likely to be 
followed by one of the lengthened rains which mark 
the close of dry weather for the season. before twelve 
hours had passed a harvest atmosphere would be a 
bygone thing. 
oak gazed with misgiving at eight naked and un' 
protected ricks, massive and heavy with the rich 
produce of one-half the farm for that year. he went 
on to the barn. 
this was the night which had been selected by 
sergeant troy -- ruling now in the room of his wife -- 
for giving the harvest supper and dance. as oak 
approached the building the sound of violins and a 
tambourine, and the regular jigging of many feet, grew 
more distinct. he came close to the large doors, one 
of which stood slightly ajar, and looked in. 
the central space, together with the recess at one 
end, was 
<p 298> 
emptied of all incumbrances, and this area, 
covering about two-thirds of the whole, was appropriated 
for the gathering, the remaining end, which was piled 
to the ceiling with oats, being screened off with sail' 
cloth. tufts and garlands of green foliage decomted 
the walls, beams, and extemporized chandeliers, and 
immediately opposite to oak a rostrum had been 
erected, bearing a table and chairs. here sat three 
fiddlers, and beside them stood a frantic man with his 
hair on end, perspiration streaming down his cheeks, 
and a tanabourine quivering in his hand. 
the dance ended, and on the black oak floor in the 
midst a new row of couples formed for another. 
'now, ma'am, and no offence i hope, i ask what 
dance you would like next ?' said the first violin. 
'really, it makes no difference,' said the clear voice 
of bathsheba, who stood at the inner end of the build+ 
ing, observing the scene from behind a table covered 
with cups and viands. troy was lolling beside her. 
'then,' said the fiddler, 'i'll venture to name that 
the right and proper thing is ''the soldier's joy'' -- 
there being a gallant soldier married into the farm -- 
hey, my sonnies, and gentlemen all ? ' 
'it shall be ''the soldier's joy,''' exclaimed a 
chorus. 
'thanks for the compliment,' said the sergeant 
the revel 
gaily, taking bathsheba by the hand and leading her 
to the top of the dance. 'for though i have pur+ 
chased my discharge from her most gracious majesty's 
regiment of cavalry the 11th dragoon guards, to attend 
to the new duties awaiting me here, i shall continue a 
soldier in spirit and feeling as long as i live.' 
so the dance began. as to the merits of 'the 
soldier's joy,' there cannot be, and never were, two 
opinions. it has been observed in the musical circles 
of weatherbury and its vicinity that this melody, at 
the end of three-quarters of an hour of thunderous 
footing, still possesses more stimulative properties for 
the heel and toe than the majority of other dances at 
their first opening. 'the soldier's joy' has, too, an 
additional charm, in being so admirably adapted to 
the tambourine aforesaid -- no mean instrument in the 
hands of a performer 
<p 299> 
who understands the proper 
convulsions, spasms, st. vitus's dances, and fearful 
frenzies necessary when exhibiting its tones in their 
highest perfection. 
the immortal tune ended, a fine dd rolling forth 
from the bass-viol with the sonorousness of a cannonade, 
and gabriel delayed his entry no longer. he avoided 
bathsheba, and got as near as possible to the platform, 
where sergeant troy was now seated, drinking brandy+ 
and-water, though the others drank without exception 
cider and ale. gabriel could not easily thrust himself 
within speaking distance of the sergeant, and he sent 
a message, asking him to come down for a moment. 
'the sergeant said he could not attend. 
'will you tell him, then,' said gabriel, 'that i only 
stepped ath'art to say that a heavy rain is sure to fall 
soon, and that something should be done to protect 
the ricks ?' 
'm. troy says it will not rain,' returned the 
messenger, 'and he cannot stop to talk to you about 
such fidgets.' 
in juxtaposition with troy, oak had a melancholy 
tendency to look like a candle beside gas, and ill at 
ease, he went out again, thinking he would go home ; 
for, under the circumstances, he had no heart for the 
scene in the barn. at the door he paused for a 
moment : troy was speaking. 
'friends, it is not only the harvest home that we 
are celebrating to-night; but this is also a wedding 
feast. a short time ago i had the happiness to lead 
to the altar this lady, your mistress, and not until now 
have we been able to give any public flourish to the 
event in weatherbury. that it may be thoroughly 
well done, and that every man may go happy to bed, 
i have ordered to be brought here some bottles of 
brandy and kettles of hot water. a treble-strong 
goblet will he handed round to each guest.' 
bathsheba put her hand upon his arm, and, with 
upturned pale face, said imploringly, ' no -- don't give 
it to them -- pray don't, frank .! it will only do them 
harm : they have had enough of everything.' 
'true -- we don't wish for no more, thank ye,' said 
one or two. 
'pooh .! ' said the sergeant contemptuously, and 
raised his 
<p 300> 
voice as if lighted up by a new idea. 
' friends,' he said, ' we'll send the women-folk home .! 
'tis time they were in bed. then we cockbirds will 
have a jolly carouse to ourselves .! if any of the men 
show the white feather, let them look elsewhere for a 
winter's work.' 
bathsheba indignantly left the barn, followed by 
all the women and children. the musicians, not 
looking upon themselves as ' company,' slipped quietly 
away to their spring waggon and put in the horse. 
thus troy and the men on the farm were left sole 
occupants of the place. oak, not to appear unneces+ 
sarily disagreeable, stayed a little while ; then he, too, 
arose and quietly took his departure, followed by a 
friendly oath from the sergeant for not staying to a 
second round of grog. 
gabriel proceeded towards his home. in approach+ 
ing the door, his toe kicked something which felt and 
sounded soft, leathery, and distended, like a boxing+ 
glove. it was a large toad humbly travelling across 
the path. oak took it up, thinking it might be better 
to kill the creature to save it from pain; but finding 
it uninjured, he placed it again among the grass. he 
knew what this direct message from the great mother 
meant. and soon came another. 
when he struck a light indoors there appeared upon 
the table a thin glistening streak, as if a brush of varnish 
had been lightly dragged across it. oak's eyes followed 
the serpentine sheen to the other side, where it led up 
to a huge brown garden-slug, which had come indoors 
to-night for reasons of its own. it was nature's second 
way of hinting to him that he was to prepare for foul 
weather. 
oak sat down meditating for nearly an hour. 
during this time two black spiders, of the kind common 
in thatched houses, promenaded the ceiling, ultimately 
dropping to the floor. this reminded him that if there 
was one class of manifestation on this matter that he 
thoroughly understood, it was the instincts of sheep. 
he left the room, ran across two or three fields towards 
the flock, got upon a hedge, and looked over among 
them. 
they were crowded close together on the other side 
around some 
<p 301> 
furze bushes, and the first peculiarity ob+ 
servable was that, on the sudden appearance of oak's 
head over the fence, they did not stir or run away. 
they had now a terror of something greater than their 
terror of man. but this was not the most noteworthy 
feature : they were all grouped in such a way that their 
tails, without a single exception, were towards that half 
of the horizon from which the storm threatened. there 
was an inner circle closely huddled, and outside these 
they radiated wider apart, the pattern formed by the 
flock as a whole not being unlike a vandyked lace 
collar, to which the clump of furze-bushes stood in the 
position of a wearer's neck. 
opinion. he knew now that he was right, and that 
troy was wrong. every voice in nature was unanimous 
in bespeaking change. but two distinct translations 
attached to these dumb expressions. apparently there 
was to be a thunder-storm, and afterwards a cold con+ 
tinuous rain. the creeping things seemed to know all 
about the later rain, hut little of the interpolated 
thunder-storm ; whilst the sheep knew all about the 
thunder-storm and nothing of the later rain. 
this complication of weathers being uncommon, 
was all the more to be feared. oak returned to the 
stack-yard. all was silent here, and the conical tips of 
the ricks jutted darkly into the sky. there were five 
wheat-ricks in this yard, and three stacks of barley. 
the wheat when threshed would average about thirty 
quarters to each stack ; the barley, at least forty. their 
value to bathsheba, and indeed to anybody, oak 
mentally estimated by the following simple calcula+ 
tion : -- 
5 x 30 = 150 quarters= 500fl. 
3 x 40=120 quarters= 250l. 
total . . 750l. 
seven hundred and fifty pounds in the divinest form 
that money can wear -- that of necessary food for man 
and beast : should the risk be run cf deteriorating this 
bulk of corn to less than half its value, because of the 
instability of a woman ? 'never, if i can prevent it.! ' 
said gabriel. 
<p 302> 
such was the argument that oak set outwardly before 
him. but man, even to himself, is a palimpsest, having 
an ostensible writing, and another beneath the lines. 
it is possible that there was this golden legend under 
the utilitarian one: 'i will help to my last effort the 
woman i have loved so dearly.' 
he went back to the barn to endeavour to obtain 
assistance for covering the ricks that very 
<p 303> 
night. all 
was silent within, and he would have passed on in the 
belief that the party had broken up, had not a dim 
light, yellow as saffron by contrast with the greenish 
whiteness outside, streamed through a knot-hole in the 
folding doors. 
gabriel looked in. an unusual picture met his 
eye. 
the candles suspended among the evergreens had 
burnt down to their sockets, and in some cases the 
leaves tied about them were scorched. many of the 
lights had quite gone out, others smoked and stank, 
grease dropping from them upon the floor. here, 
under the table, and leaning against forms and chairs 
in every conceivable attitude except the perpendicular, !' 
were the wretched persons of all the work-folk, the hair 
of their heads at such low levels being suggestive of 
mops and brooms. in the midst of these shone red 
and distinct the figure of sergeant troy, leaning back 
in a chair. coggan was on his back, with his mouth 
open, huzzing forth snores, as were several others ; the 
united breathings of the horizonal assemblage forming 
a subdued roar like london from a distance. joseph 
poorgrass was curled round in the fashion of a hedge+ 
hog, apparently in attempts to present the least possible 
portion of his surface to the air; and behind him was 
dimly visible an unimportant remnant of william smali 
bury. the glasses and cups still stood upon the table, 
a water-jug being overturned, from which a small rill, 
after tracing its course with marvellous precision down 
the centre of the long table, fell into the neck of the 
unconscious mark clark, in a steady, monotonous drip, 
like the dripping of a stalactite in a cave. 
gabriel glanced hopelessly at the group, which, with 
one or two exceptions, composed all the able-bodied 
men upon the farm. he saw at once that if the ricks 
were to be saved that night, or even the next morning, 
he must save them with his own hands. 
a faint ' ting-ting ' resounded from under coggan's 
waistcoat. it was coggan's watch striking the hour of 
two. 
oak went to the recumbent form of matthew moon, 
who usually undertook the rough thatching of the home+ 
stead, and shook him. the shaking was without effect. 
gabriel shouted in his ear, ' where's your thatching+ 
beetle and rick-stick and spars ? ' 
' under the staddles,' said moon, mechanically, with 
the unconscious promptness of a medium. 
gabriel let go his head, and it dropped upon the 
floor like a bowl. he then went to susan tall's 
husband. 
' where's the key of the granary ? ' 
no answer. the question was repeated, with the 
same result. to be shouted to at night was evidently 
less of a novelty to susan tall's husband than to 
matthew moon. oak flung down tall's head into the 
corner again and turned away. 
to be just, the men were not greatly to blame for 
this painful and demoralizing termination to the 
evening's entertainment. sergeant troy had so strenu+ 
ously insisted, glass in hand, that drinking should be 
the bond of their union, that those who wished to refuse 
hardly liked to be so unmannerly under the circum+ 
stances. having from their youth up been entirely un+ 
accustomed to any liquor stronger than cider or mild 
ale, it was no wonder that they had succumbed, one 
and all, with extraordinary uniformity, after the lapse of 
about an hour. 
gabriel was greatly depressed. this debauch boded 
ill for that wilful and fascinating mistress whom the 
faithful man even now felt within him as the embodi+ 
ment of all that was sweet and bright and hopeless. 
he put out the expiring lights, that the barn might 
not be endangered, closed the door upon the men in 
their deep and oblivious sleep, and went again into the 
lone night. a hot breeze, as if breathed from the 
parted lips of some dragon about to swallow the globe, 
fanned him from the south, while directly opposite in 
the north rose a grim misshapen body of 
<p 304> 
cloud, in the 
very teeth of the wind. so unnaturally did it rise that 
one could fancy it to be lifted by machinery from below. 
meanwhile the faint cloudlets had flown back into the 
south-east corner of the sky, as if in terror of the large 
cloud, like a young brood gazed in upon by some 
monster. 
going on to the village, oak flung a small stone 
against the window of laban tall's bedroom, expecting 
susan to open it ; but nobody stirred. he went round 
to the back door, which had been left unfastened for 
laban's entry, and passed in to the foot of the stair+ 
case. 
'mrs. tall, i've come for the key of the granary, 
to get at the rick-cloths,' said oak, in a stentorian 
voice. 
'is that you ? ' said mrs. susan tall, half awake. 
' yes,' said gabriel. 
'come along to bed, do, you drawlatching rogue -- 
keeping a body awake like this .' 
'it isn't laban -- 'tis gabriel oak. i want the key 
of the granary.' 
'gabriel. what in the name of fortune did you 
pretend to be laban for ?' 
' i didn't. i thought you meant --  -- ' 
'yes you did !. what do you want here ?' 
'the key of the granary.' 
"take it then. 'tis on the nail. people coming 
disturbing women at this time of night ought --  -- ' 
gabriel took the key, without waiting to hear the 
conclusion of the tirade. ten minutes later his lonely 
figure might have been seen dragging four large water+ 
proof coverings across the yard, and soon two of these 
heaps of treasure in grain were covered snug -- two cloths 
to each. two hundred pounds were secured. three 
wheat-stacks remained open, and there were no more 
cloths. oak looked under the staddles and found a 
fork. he mounted the third pile of wealth and began 
operating, adopting the plan of sloping the upper 
sheaves one over the other; and, in addition, filling 
the interstices with the material of some untied sheaves. 
so far all was well. by this hurried contrivance 
bathsheba's 
<p 305> 
property in wheat was safe for at any rate 
a week or two, provided always that there was not 
much wind. 
next came the barley. this it was only possible to 
protect by systematic thatching. time went on, and 
the moon vanished not to reappear. it was the 
farewell of the ambassador previous to war. the 
night had a haggard look, like a sick thing; and there 
came finally an utter expiration of air from the whole 
heaven in the form of a slow breeze, which might have 
been likened to a death. and now nothing was heard 
in the yard but the dull thuds of the beetle which drove 
in the spars, and the rustle of thatch in the intervals. 
the storm 
<c xxxvii> 
<p 306> 
the storm -- the two together 
a light flapped over the scene, as if reflected from 
phosphorescent wings crossing the sky, and a rumble 
filled the air. it was the first move of the approaching 
storm. 
the second peal was noisy, with comparatively little 
visible lightning. gabriel saw a candle shining in bath+ 
sheba's bedroom, and soon a shadow swept to and fro 
upon the blind. 
then there came a third flash. manoeuvres of a 
most extraordinary kind were going on in the vast 
firmamental hollows overhead. the lightning now was 
the colour of silver, and gleamed in the heavens like a 
mailed army. rumbles became rattles. gabriel from 
his elevated position could see over the landscape at 
least half-a-dozen miles in front. every hedge, bush, 
and tree was distinct as in a line engraving. in a 
paddock in the same direction was a herd of heifers, 
and the forms of these were visible at this moment in 
the act of galloping about in the wildest and maddest 
confusion, flinging their heels and tails high into the air, 
their heads to earth. a poplar in the immediate fore+ 
ground was like an ink stroke on burnished tin. then 
the picture vanished, leaving the darkness so intense 
that gabriel worked entirely by feeling with his hands. 
he had stuck his ricking-rod, or poniard, as it was 
indifferently called -- a long iron lance, polished by 
handling -- into the stack, used to support the sheaves 
instead of the support called a groom used on houses, 
a blue light appeared in the zenith, and in some in+ 
describable manner flickered down near the top of the 
rod. it was the fourth of the larger flashes. a moment 
later and there was a smack -- smart, clear, and short, 
gabriel felt his position to be anything but a safe one, 
and he resolved to descend. 
not a drop of rain had fallen as yet. he wiped his 
weary brow, and looked again at the black forms of 
the unprotected 
<p 307> 
stacks. was his life so valuable to 
him after all? what were his prospects that he 
should be so chary of running risk, when important 
and urgent labour could not be carried on without 
such risk ? he resolved to stick to the stack. how+ 
ever, he took a precaution. under the staddles was 
a long tethering chain, used to prevent the escape of 
errant horses. this he carried up the ladder, and 
sticking his rod through the clog at one end, allowed 
the other end of the chain to trail upon the ground 
the spike attached to it he drove in. under the 
shadow of this extemporized lightning-conductor he 
felt himself comparatively safe. 
before oak had laid his hands upon his tools again 
out leapt the fifth flash, with the spring of a serpent 
and the shout of a fiend. it was green as an 
emerald, and the reverberation was stunning. what 
was this the light revealed to him? in the open 
ground before him, as he looked over the ridge of 
the rick, was a dark and apparently female form. 
could it be that of the only venturesome woman in 
the parish -- bathsheba ? the form moved on a step : 
then he could see no more. 
"is that you, ma'am ? ' said gabriel to the darkness. 
"who is there ?' said the voice of bathsheba, 
the two together 
"gabriel. i am on the rick, thatching.' 
"o, gabriel ! -- and are you ? i have come about 
them. the weather awoke me, and i thought of the 
corn. i am so distressed about it -- can we save it any+ 
how ? i cannot find my husband. is he with you ?' 
"he is not here.' 
"do you know where he is ?' 
"asleep in the barn.' 
"he promised that the stacks should be seen to, 
and now they are all neglected ! can i do anything 
to help ? liddy is afraid to come out. fancy finding 
you here at such an hour ! surely i can do something ? ' 
"you can bring up some reed-sheaves to me, one by 
one, ma'am; if you are not afraid to come up the ladder 
in the dark,' said gabriel. "every moment is precious 
now, and that would save a good deal of time. it is 
not very dark when the lightning has been gone a bit.' 
<p 308> 
"i'll do anything ! ' she said, resolutely. she instantly 
took a sheaf upon her shoulder, clambered up close to 
his heels, placed it behind the rod, and descended for 
another. at her third ascent the rick suddenly brightened 
with the brazen glare of shining majolica -- every knot 
in every straw was visible. on the slope in front of him 
appeared two human shapes, black as jet. the rick 
lost its sheen -- -the shapes vanished. gabriel turned his 
head. it had been the sixth flash which had come from 
the east behind him, and the two dark forms on the 
slope had been the shadows of himself and bathsheba. 
then came the peal. it hardly was credible that 
such a heavenly light could be the parent of such a 
diabolical sound. 
"how terrible ! ' she exclaimed, and clutched him by 
the sleeve. gabriel turned, and steadied her on her 
aerial perch by holding her arm. at the same moment, 
while he was still reversed in his attitude, there was 
more light, and he saw, as it were, a copy of the tall 
poplar tree on the hill drawn in black on the wall of 
the barn. it was the shadow of that tree, thrown across 
by a secondary flash in the west. 
the next flare came. bathsheba was on the ground 
now, shouldering another sheaf, and she bore its dazzle 
without flinching -- thunder and ali-and again ascended 
with the load. there was then a silence everywhere 
for four or five minutes, and the crunch of the spars, 
as gabriel hastily drove them in, could again be distinctly 
heard. he thought the crisis of the storm had passed. 
but there came a burst of light. 
"hold on ! ' said gabriel, taking the sheaf from her 
shoulder, and grasping her arm again. 
heaven opened then, indeed. the flash was almost 
too novel for its inexpressibly dangerous nature to be 
at once realized, and they could only comprehend the 
magnificence of its beauty. it sprang from east, west, 
north, south, and was a perfect dance of death. the 
forms of skeletons appeared in the air, shaped with 
blue fire for bones -- dancing, leaping, striding, racing 
around, and mingling altogether in unparalleled con+ 
fusion. with these were intertwined undulating snakes of 
green, and behind these was a broad mass of lesser light. 
simultaneously came from every part of the tumbling 
<p 309> 
sky what may be called a shout ; since, though no shout 
ever came near it, it was more of the nature of a shout 
than of anything eise earthly. in the meantime one of 
the grisly forms had alighted upon the point of gabriel's 
rod, to run invisibly down it, down the chain, and into 
the earth. gabriel was almost blinded, and he could 
feel bathsheba's warm arm tremble in his hand -- a 
sensation novel and thrilling enough ; but love, life, 
everything human, seemed small and trifling in such 
close juxtaposition with an infuriated universe. 
oak had hardly time to gather up these impressions 
into a thought, and to see how strangely the red feather 
of her hat shone in this light, when the tall tree on the 
hill before mentioned seemed on fire to a white heat, 
and a new one among these terrible voices mingled with 
the last crash of those preceding. it was a stupefying 
blast, harsh and pitiless, and it fell upon their ears in a 
dead, flat blow, without that reverberation which lends 
the tones of a drum to more distant thunder. by the 
lustre reflected from every part of the earth and from the 
wide domical scoop above it, he saw that the tree was 
sliced down the whole length of its tall, straight stem, a 
huge riband of bark being apparently flung off. the 
other portion remained erect, and revealed the bared 
surface as a strip of white down the front. the 
lightning had struck the tree. a sulphurous smell 
filled the air; then all was silent, and black as a cave 
in hinnom. 
" we had a narrow escape ! ' said gabriel, hurriedly. 
" you had better go down.' 
bathsheba said nothing ; but he could distinctly hear 
her rhythmical pants, and the recurrent rustle of the 
sheaf beside her in response to her frightened pulsations. 
she descended the ladder, and, on second thoughts, he 
followed her. the darkness was now impenetrable by 
the sharpest vision. they both stood still at the 
bottom, side by side. bathsheba appeared to think 
only of the weather -- oak thought only of her just then. 
at last he said -- 
"the storm seems to have passed now, at any 
rate.' 
" i think so too,' said bathsheba. " though there 
are multitudes of gleams, look ! ' 
<p 310> 
the sky was now filled with an incessant light, 
frequent repetition melting into complete continuity, as 
an unbroken sound results from the successive strokes 
on a gong. 
" nothing serious,' said he. " i cannot understand 
no rain falling. but heaven be praised, it is all the 
better for us. i am now going up again.' 
" gabriel, you are kinder than i deserve ! i will stay 
and help you yet. o, why are not some of the others 
here ! ' 
" they would have been here if they could,' said oak, 
in a hesitating way. 
'o, i know it ali-all,' she said, adding slowly : 
" they are all asleep in the barn, in a drunken sleep, and 
my husband among them. that's it, is it not ? don't 
think i am a timid woman and can't endure things.' 
"i am not certain,' said gabriel. 'i will go and see,' 
he crossed to the barn, leaving her there alone. he 
looked through the chinks of the door. all was in 
total darkness, as he had left it, and there still arose, as 
at the former time, the steady buzz of many snores. 
he felt a zephyr curling about his cheek, and turned. 
it was bathsheba's breath -- she had followed him, and 
was looking into the same chink. 
he endeavoured to put off the immediate and pain+ 
ful subject of their thoughts by remarking gently, "lf 
you'll come back again, miss -- ma'am, and hand up a 
few more; it would save much time.' 
then oak went back again, ascended to the top, 
stepped off the ladder for greater expedition, and went 
on thatching. she followed, but without a sheaf 
" gabriel,' she said, in a strange and impressive voice. 
oak looked up at her. she had not spoken since 
he left the barn. the soft and continual shimmer of 
the dying lightning showed a marble face high against 
the black sky of the opposite quarter. bathsheba was 
sitting almost on the apex of the stack, her feet gathered 
up beneath her, and resting on the top round of the 
ladder. 
" yes, mistress,' he said. 
<p 311> 
"i suppose you thought that when i galloped away 
to bath that night it was on purpose to be married ?" 
'i did at last -- not at first,' he answered, somewhat 
surprised at the abruptness with which this new subject 
was broached. 
" and others thought so, too ? ' 
" yes.' 
"and you blamed me for it ?' 
" weli-a little.' 
"i thought so. now, i care a little for your good 
opinion, and i want to explain something-i have 
longed to do it ever since i returned, and you looked so 
gravely at me. for if i were to die -- and i may die 
soon -- it would be dreadful that you should always think 
mistakenly of me. now, listen.' 
gabriel ceased his rustling. 
'i went to bath that night in the full intention of 
breaking off my engagement to mr. troy. it was owing 
to circumstances which occurred after i got there that 
 -- that we were married. now, do you see the matter 
in a new light?' 
" i do -- somewhat.' 
" i must, i suppose, say more, now that i have 
begun. and perhaps it's no harm, for you are certainly 
under no delusion that i ever loved you, or that i can 
have any object in speaking, more than that object i 
have mentioned. well, i was alone in a strange city, 
and the horse was lame. and at last i didn't know 
what to do. i saw, when it was too late, that scandal 
might seize hold of me for meeting him alone in that 
way. but i was coming away, when he suddenly said 
he had that day seen a woman more beautiful than i, 
and that his constancy could not be counted on unless 
i at once became his.... and i was grieved and 
troubled --  -- ' she cleared her voice, and waited a 
moment, as if to gather breath. " and then, between 
jealousy and distraction, i married him ! ' she whispered 
with desperate impetuosity. 
gabriel made no reply. 
"he was not to blame, for it was perfectly true about 
 -- about his seeing somebody else,' she quickly added. 
"and now i don't wish for a single remark from you 
upon the subject -- 
<p 312> 
indeed, i forbid it. i only wanted 
you to know that misunderstood bit of my history before 
a time comes when you could never know it. -- you want 
some more sheaves ? ' 
she went down the ladder, and the work proceeded. 
gabriel soon perceived a languor in the movements of 
his mistress up and down, and he said to her, gently as 
a mother -- 
"i think you had better go indoors now, you are 
tired. i can finish the rest alone. if the wind does 
not change the rain is likely to keep off.' 
"if i am useless i will go,' said bathsheba, in a 
flagging cadence. 'but o, if your life should be lost !' 
" you are not useless; but i would rather not tire 
you longer. you have done well.' 
"and you better ! ' she said, gratefully. ! thank you 
for your devotion, a thousand times, gabriel ! good+ 
night-i know you are doing your very best for me.' 
she diminished in the gloom, and vanished, and he 
heard the latch of the gate fall as she passed through. 
he worked in a reverie now, musing upon her story, and 
upon the contradictoriness of that feminine heart which 
had caused her to speak more warmly to him to-night 
than she ever had done whilst unmarried and free to 
speak as warmly as she chose. 
he was disturbed in his meditation by a grating 
noise from the coach-house. it was the vane on the 
roof turning round, and this change in the wind was the 
signal for a disastrous rain. 
rain 
<c xxxviii> 
<p 313> 
rain -- one solitary meets another 
it was now five o'clock, and the dawn was promising 
to break in hues of drab and ash. 
the air changed its temperature and stirred itself 
more vigorously. cool breezes coursed in transparent 
eddies round oak's face. the wind shifted yet a point 
or two and blew stronger. in ten minutes every wind 
of heaven seemed to be roaming at large. some of the 
thatching on the wheat-stacks was now whirled fantas+ 
tically aloft, and had to be replaced and weighted with 
some rails that lay near at hand. this done, oak slaved 
away again at the barley. a huge drop of rain smote 
his face, the wind snarled round every corner, the trees 
rocked to the bases of their trunks, and the twigs clashed 
in strife. driving in spars at any point and on any 
system, inch by inch he covered more and more safely 
from ruin this distracting impersonation of seven hundred 
pounds. 'the rain came on in earnest, and oak soon felt 
the water to be tracking cold and clammy routes down 
his back. ultimately he was reduced welinigh to a 
homogeneous sop, and the dyes of his clothes trickled 
down and stood in a pool at the foot of the ladder. 
the rain stretched obliquely through the dull atmo+ 
sphere in liquid spines, unbroken in continuity between 
their beginnings in the clouds and their points in him. 
oak suddenly remembered that eight months before 
this time he had been fighting against fire in the same 
spot as desperately as he was fighting against water 
now -- and for a futile love of the same woman. as for 
her --  --  but oak was generous and true, and dis+ 
missed his reflections. 
it was about seven o'clock in the dark leaden 
morning when gabriel came down from the last stack, 
and thankfully exclaimed, "it is done .! ' he was 
<p 314> 
drenched, weary, and sad, and yet not so sad as drenched 
and weary, for he was cheered by a sense of success in 
a good cause. 
faint sounds came from the barn, and he looked 
that way. figures stepped singly and in pairs through 
the doors -- all walking awkwardly, and abashed, save 
the foremost, who wore a red jacket, and advanced 
with his hands in his pockets, whistling. the others 
shambled after with a conscience-stricken air : the whole 
procession was not unlike flaxman's group of the suitors 
tottering on towards the infernal regions under the 
conduct of mercury. the gnarled shapes passed into 
the village, troy, their leader, entering the farmhouse. 
not a single one of them had turned his face to the 
ricks, or apparently bestowed one thought upon their 
condition. 
soon oak too went homeward, by a different route 
from theirs. in front of him against the wet glazed 
surface of the lane he saw a person walking yet more 
slowly than himself under an umbrella. the man 
turned and plainly started; he was boldwood. 
" how are you this morning, sir ?' said oak. 
"yes, it is a wet day. -- oh, i am well, very well, i 
thank you ; quite well.' 
"i am glad to hear it, sir.' 
boldwood seemed to awake to the present by degrees. 
" you look tired and ill, oak,' he said then, desultorily 
regarding his companion. 
" i am tired. you look strangely altered, sir.' 
"i? not a bit of it : i am well enough. what put 
that into your head ?' 
"i thought you didn't look quite so topping as you 
used to, that was all.' 
" indeed, then you are mistaken,' said boldwood, 
shortly. "nothing hurts me. my constitution is an 
iron one.' 
"i've been working hard to get our ricks covered, 
and was barely in time. never had such a struggle in 
my life.... yours of course are safe, sir.' 
" o yes.' boldwood added, after an interval of 
silence : " what did you ask, oak ? ' 
" your ricks are all covered before this time ? ' 
<p 315> 
"no.' 
" at any rate, the large ones upon the stone staddles ?' 
" they are not.' 
"them under the hedge ?' 
" no. i forgot to tell the thatcher to set about it.' 
" nor the little one by the stile ?' 
"nor the little one by the stile. i overlooked the 
ricks this year.' 
'then not a tenth of your corn will come to measure, 
sir.' 
" possibly not. 
" overlooked them,' repeated gabriel slowly to him+ 
self. it is difficult to describe the intensely dramatic 
effect that announcement had upon oak at such a 
moment. all the night he had been feeling that the 
neglect he was labouring to repair was abnormal and 
isolated -- the only instance of the kind within the circuit 
of the county. yet at this very time, within the same 
parish, a greater waste had been going on, uncomplained 
of and disregarded. a few months earlier boldwood's 
forgetting his husbandry would have been as preposter+ 
ous an idea as a sailor forgetting he was in a ship. oak 
was just thinking that whatever he himself might have 
suffered from bathsheba's marriage, here was a man 
who had suffered more, when boldwood spoke in a 
changed voice -- that of one who yearned to make a 
confidence and relieve his heart by an outpouring. 
"oak, you know as well as i that things have gone 
wrong with me lately. i may as well own it. i was 
going to get a little settled in life; but in some way my 
plan has come to nothing.' 
"i thought my mistress would have married you,' 
said gabriel, not knowing enough of the full depths of 
boldwood's love to keep silence on the farmer's account, 
and determined not to evade discipline by doing so on 
his own. 'however, it is so sometimes, and nothing 
happens that we expect,' he added, with the repose of 
a man whom misfortune had inured rather than sub+ 
dued. 
'i daresay i am a joke about the parish,' said bold+ 
wood, as if the subject came irresistibly to his tongue, 
and with a miserable lightness meant to express his 
indifference. 
<p 316> 
" o no -- i don't think that.' 
 -- but the real truth of the matter is that there was 
not, as some fancy, any jilting on -- her part. no 
engagement ever existed between me and miss ever+ 
dene. people say so, but it is untrue: she never 
promised me .! ' boldwood stood still now and turned 
his wild face to oak. 'o, gabriel,' he continued, "i 
am weak and foolish, and i don't know what, and i 
can't fend off my miserable grief ! ... i had some faint 
belief in the mercy of god till i lost that woman. yes, 
he prepared a gourd to shade me, and like the prophet 
i thanked him and was glad. but the next day he 
prepared a worm to smite the gourd and wither it; and 
i feel it is better to die than to live.!" 
a silence followed. boldwood aroused himself from 
the momentary mood of confidence into which he had 
drifted, and walked on again, resuming his usual reserve, 
" no, gabriel,' he resumed, with a carelessness which 
was like the smile on the countenance of a skull: "it 
was made more of by other people than ever it was by 
us. i do feel a little regret occasionally, but no woman 
ever had power over me for any length of time. well, 
good morning ; i can trust you not to mention to others 
what has passed between us two here.' 
<c xxxix> 
<p 317> 
coming home -- a cry 
on the turnpke road, between casterbridge and 
weatherbury, and about three miles from the former 
which pervade the highways of this undulating part of 
south wessex. i returning from market it is usual 
for the farmers and other gig-gentry to alight at the 
bottom and walk up. 
one saturday evening in the month of october 
bathsheba's vehicle was duly creeping up this incline. 
she was sitting listlessly in the second seat of the gig, 
whilst walking beside her in farmer's marketing suit 
of unusually fashionable cut was an erect, welimade 
young man. though on foot, he held the reins and 
whip, and occasionally aimed light cuts at the horse's 
ear with the end of the lash, as a recreation. this 
man was her husband, formerly sergeant troy, who, 
having bought his discharge with bathsheba's money, 
was gradually transforming himself into a farmer of a 
spirited and very modern school. people of unalter+ 
able ideas still insisted upon calling him 'sergeant' 
when they met him, which was in some degree owing 
to his having still retained the welishaped moustache 
of his military days, and the soldierly bearing insepar+ 
able from his form and training. 
"yes, if it hadn't been for that wretched rain i 
should have cleared two hundred as easy as looking, 
my love,' he was saying. "don't you see, it altered 
all the chances? to speak like a book i once read, 
wet weather is the narrative, and fine days are the 
episodes, of our country's history; now, isn't that 
true?' 
' but the time of year is come for changeable weather.' 
"well, yes. the fact is, these autumn races are the 
ruin of everybody. never did i see such a day as 'twas .! 
'tis a wild open place, just out of budmouth, and a 
drab sea rolled in 
<p 318> 
towards us like liquid misery. wind 
and rain -- good lord !. dark ? why, 'twas as black 
as my hat before the last race was run. 'twas five 
o'clock, and you couldn't see the horses till they were 
almost in, leave alone colours. the ground was as 
heavy as lead, and all judgment from a fellow's experi+ 
ence went for nothing. horses, riders, people, were 
all blown about like ships at sea. three booths were 
blown over, and the wretched folk inside crawled out 
upon their hands and knees; and in the next field 
were as many as a dozen hats at one time. aye, 
pimpernel regularly stuck fast, when about sixty yards 
off, and when i saw policy stepping on, it did knock 
my heart against the lining of my ribs, i assure you, 
my love.!' 
" and you mean, frank,' said bathsheba, sadly -- 
her voice was painfully lowered from the fulness and 
vivacity of the previous summer -- "that you have lost 
more than a hundred pounds in a month by this 
dreadful horse-racing ? o, frank, it is cruel; it is 
foolish of you to take away my money so. we shall 
have to leave the farm; that will be the end of it !.' 
' humbug about cruel. now, there 'tis again -- 
turn on the waterworks ; that's just like you.' 
"but you'll promise me not to go to budmouth 
second meeting, won't you ? ' she implored. bathsheba 
was at the full depth for tears, but she maintained a 
dry eye. 
"i don't see why i should; in fact, if it turns out to 
be a fine day, i was thinking of taking you.' 
"never, never.! i'll go a hundred miles the other 
way first. i hate the sound of the very word.!' 
"but the question of going to see the race or staying 
at home has very little to do with the matter. bets are 
all booked safely enough before the race begins, you 
may depend. whether it is a bad race for me or a 
good one, will have very little to do with our going 
there next monday.' 
"but you don't mean to say that you have risked 
anything on this one too .! ' she exclaimed, with an 
agonized look. 
"there now, don't you be a little fool. wait till you 
are told. why, bathsheba, you have lost all the pluck 
and sauciness you formerly had, and upon my life if i 
had known what a 
<p 319> 
chicken-hearted creature you were 
under all your boldness, i'd never have-i know what.' 
a flash of indignation might have been seen in 
bathsheba's dark eyes as she looked resolutely ahead 
after this reply. they moved on without further 
speech, some early-withered leaves from the trees which 
hooded the road at this spot occasionally spinning 
downward across their path to the earth. 
a woman appeared on the brow of the hill. the 
ridge was in a cutting, so that she was very near the 
husband and wife before she became visible. troy had 
turned towards the gig to remount, and whilst putting 
his foot on the step-the woman passed behind him. 
though the overshadowing trees and the approach 
of eventide enveloped them in gloom, bathsheba could 
see plainly enough to discern the extreme poverty of 
the woman's garb, and the sadness of her face. 
"please, sir, do you know at what time casterbridge 
union-house closes at night ? ' 
a cry 
the woman said these words to troy over his 
shoulder. 
troy started visibly at the sound of the voice; yet 
he seemed to recover presence of mind sufficient to 
prevent himself from giving way to his impulse to 
suddenly turn and face her. he said, slowly -- 
" i don't know." 
the woman, on hearing him speak, quickly looked 
up, examined the side of his face, and recognized the 
soldier under the yeoman's garb. her face was drawn 
into an expression which had gladness and agony both 
among its elements. she uttered an hysterical cry, 
and fell down. 
" o, poor thing.!' exclaimed bathsheba, instantly 
preparing to alight. 
"stay where you are, and attend to the horse!' 
said troy, peremptorily throwing her the reins and 
the whip. "walk the horse to the top: i'll see to 
the woman.' 
" but i -- -' 
" do you hear? clk -- poppet.!' 
<p 320> 
the horse, gig, and bathsheba moved on. 
"how on earth did you come here? i thought 
you were miles away, or dead.! why didn't you 
write to me?' said troy to the woman, in a strangely 
gentle, yet hurried voice, as he lifted her up. 
" i feared to." 
'have you any money?' 
"none." 
"good heaven -- i wish i had more to give you!. 
here's  --  wretched  --  the merest trifle. it is every 
farthing i have left. i have none but what my wife 
gives me, you know, and i can't ask her now.' 
the woman made no answer. 
"i have only another moment,' continued troy; 
'and now listen. where are you going to-night? 
casterbridge union?' 
"yes; i thought to go there.' 
" you shan't go there; yet, wait. yes, perhaps for 
to-night ; i can do nothing better -- worse luck.! sleep 
there to-night, and stay there to-morrow. monday is 
the first free day i have; and on monday morning, 
at ten exactly, meet me on grey's bridge just out of the 
town. i'll bring all the money i can muster. you 
shan't want-i'll see that, fanny; then i'll get you a 
lodging somewhere. good-bye till then. i am a brute 
 -- but good-bye.!' 
after advancing the distance which completed the 
ascent of the hill, bathsheba turned her head. the 
woman was upon her feet, and bathsheba saw her 
withdrawing from troy, and going feebly down the 
hill by the third milestone from casterbridge. troy 
then came on towards his wife, stepped into the gig, 
took the reins from her hand, and without making any 
observation whipped the horse into a trot. he was 
rather agitated. 
"do you know who that woman was?' said bath+ 
sheba, looking searchingly into his face. 
"i do,' he said, looking boldly back into hers. 
"i thought you did,' said she, with angry hauteur, 
and still regarding him. " who is she?' 
<p 321> 
he suddenly seemed to think that frankness would 
benefit neither of the women. 
'nothing to either of us,' he said. "i know her 
by sight." 
'what is her name?' 
"how should i know her name ?' 
"i think you do.' 
"think if you will, and be --  -- " the sentence was 
completed by a smart cut of the whip round poppet's 
flank, which caused the animal to start forward at a 
wild pace. no more was said. 
on casterbridge highway 
<c xl> 
<p 322> 
for a considerable time the woman walked on. her 
steps became feebler, and she strained her eyes to look 
afar upon the naked road, now indistinct amid the 
penumbrae of night. at length her onward walk 
dwindled to the merest totter, and she opened a gate 
within which was a haystack. underneath this she sat 
down and presently slept. 
when the woman awoke it was to find herself in the 
depths of a moonless and starless night. a heavy un+ 
broken crust of cloud stretched across the sky, shutting 
out every speck of heaven ; and a distant halo which 
hung over the town of casterbridge was visible against 
the black concave, the luminosity appearing the 
brighter by its great contrast with the circumscribing 
darkness. towards this weak, soft glow the woman 
turned her eyes. 
"if i could only get there.!' she said. "meet him 
the day after to-morrow: god help me! perhaps i 
shall be in my grave before then.' 
a manor-house clock from the far depths of shadow 
struck the hour, one, in a small, attenuated tone. after 
midnight the voice of a clock seems to lose in breadth 
as much as in length, and to diminish its sonorousness 
to a thin falsetto. 
afterwards a light -- two lights -- arose frona the re+ 
mote shade, and grew larger. a carriage rolled along 
the toad, and passed the gate. it probably contained 
some late diners-out. the beams from one lamp shone 
for a moment upon the crouching woman, and threw 
her face into vivid relieff. the face was young in the 
groundwork, old in the finish ; the general contours 
were flexuous and childlike, but the finer lineaments 
had begun to be sharp and thin. 
the pedestrian stood up, apparently with revived 
determination, and looked around. the road appeared 
to be 
<p 323> 
familiar to her, and she carefully scanned the fence 
as she slowly walked along. presently there became 
visible a dim white shape; it was another milestone. 
she drew her fingers across its face to feel the marks. 
"two more!' she said. 
she leant against the stone as a means of rest for a 
 short interval, then bestirred herself, and again pursued 
her way. for a slight distance she bore up bravely, 
afterwards flagging as before. this was beside a lone 
copsewood, wherein heaps of white chips strewn upon 
the leafy ground showed that woodmen had been 
faggoting and making hurdles during the day. now 
there was not a rustle, not a breeze, not the faintest 
clash of twigs to keep her company. the woman 
looked over the gat, opened it, and went in. close 
to the entrance stood a row of faggots, bound and un+ 
bound, together with stakes of all sizes. 
for a few seconds the wayfarer stood with that tense 
stillness which signifies itself to be not the end but 
merely the suspension, of a previous motion. her 
attitude was that of a person who listens, either to the 
external world of sound, or to the imagined discourse of 
thought. a close criticism might have detected signs 
proving that she was intent on the latter alternative. 
moreover, as was shown by what followed, she was 
oddly exercising the faculty of invention upon the spe+ 
ciality of the clever jacquet droz, the designer of auto+ 
matic substitutes for human limbs. 
by the aid of the casterbridge aurora, and by feeling 
with her hands, the woman selected two sticks from the 
heaps. these sticks were nearly straight to the height 
of three or four feet, where each branched into a fork 
like the letter y. she sat down, snapped off the small 
upper twigs, and carried the remainder with her into 
the road. she placed one of these forks under each 
arm as a crutch, tested them, timidly threw her whole 
weight upon them -- so little that it was -- and swung 
herself forward. the girl had made for herself a 
material aid. 
the crutches answered well. the pat of her feet, 
and the tap of her sticks upon the highway, were all the 
sounds that 
<p 324> 
came from the traveller now. she had 
passed the last milestone by a good long distance, and 
began to look wistfully towards the bank as if calculating 
upon another milestone soon. the crutches, though 
so very useful, had their limits of power. mechanism 
only transfers labour, being powerless to supersede it, 
and the original amount of exertion was not cleared 
away; it was thrown into the body and arms. she was 
exhausted, and each swing forward became fainter. at 
last she swayed sideways, and fell. 
here she lay, a shapeless heap, for ten minutes and 
more. the morning wind began to boom dully over 
the flats, and to move afresh dead leaves which had 
lain still since yesterday. the woman desperately 
turned round upon her knees, and next rose to her 
feet. steadying herself by the help of one crutch, she 
essayed a step, then another, then a third, using the 
crutches now as walking-sticks only. thus she pro+ 
gressed till descending mellstock hill another milestone 
appeared, and soon the beginning of an iron-railed fence 
came into view. she staggered across to the first post, 
clung to it, and looked around. 
the casterbridge lights were now individually visible, 
it was getting towards morning, and vehicles might be 
hoped for, if not expected soon. she listened. there 
was not a sound of life save that acme and sublimation 
of all dismal sounds, the hark of a fox, its three hollow 
notes being rendered at intervals of a minute with the 
precision of a funeral bell. 
less than a mile.!' the woman murmured. "no; 
more,' she added, after a pause. 'the mile is to the 
county hall, and my resting-place is on the other side 
casterbridge. a little over a mile, and there i am! ' 
after an interval she again spoke. "five or six steps to 
a yard -- six perhaps. i have to go seventeen hundred 
yards. a hundred times six, six hundred. seventeen 
times that. o pity me, lord.!' 
holding to the rails, she advanced, thrusting one 
hand forward upon the rail, then the other, then leaning 
over it whilst she dragged her feet on beneath. 
this woman was not given to soliloquy; but ex, 
tremity of feeling lessens the individuality of the weak, 
as it increases 
<p 325> 
that of the strong. she said again in the 
same tone, "i'll believe that the end lies five posts for+ 
ward, and no further, and so get strength to pass them.' 
this was a practical application of the principle that 
a half-feigned and fictitious faith is better than no faith 
at all. 
she passed five posts and held on to the fifth. 
"i'll pass five more by believing my longed-for spot 
is at the next fifth. i can do it.' 
she passed five more. 
"it lies only five further.' 
she passed five more. 
"but it is five further.' 
she passed them. 
'that stone bridge is the end of my journey,' she 
said, when the bridge over the froom was in view. 
she crawled to the bridge. during the effort each 
breath of the woman went into the air as if never to 
return again. 
"now for the truth of the matter,' she said, sitting 
down. "the truth is, that i have less than half a mile.' 
self-beguilement with what she had known all the time 
to be false had given her strength to come over half 
a mile that she would have been powerless to face in 
the lump. the artifice showed that the woman, by 
some mysterious intuition, had grasped the paradoxical 
truth that blindness may operate more vigorously than 
prescience, and the short-sighted effect more than the 
far-seeing ; that limitation, and not comprehensiveness, 
is needed for striking a blow. 
the half-mile stood now before the sick and weary 
woman like a stolid juggernaut. it was an impassive 
king of her world. the road here ran across durnover 
moor, open to the road on either side. she surveyed 
the wide space, the lights, herself, sighed, and lay down 
against a guard-stone of the bridge. 
never was ingenuity exercised so sorely as the 
traveller here exercised hers. every conceivable aid, 
m&thod, stratagem, mechanism, by which these last 
desperate eight hundred yards could be overpasscd by a 
human being unperceived, was revolved in her busy 
brain, and dismissed as impracticable. she thought of 
<p 326> 
sticks, wheels, crawling -- she even thought of rolling. 
but the exertion demanded by either of these latter two 
was greater than to walk erect. the faculty of con+ 
trivance was worn out, hopelessness had come at 
last. 
" no further.!' she whispered, and closed her eyes. 
from the stripe of shadow on the opposite side of 
the bridge a portion of shade seemed to detach itself 
and move into isolation upon the pale white of the road. 
it glided noiselessly towards the recumbent woman. 
she became conscious of something touching her 
hand; it was softness and it was warmth. she 
opened her eye's, and the substance touched her face. 
a dog was licking her cheek. 
he was huge, heavy, and quiet creature, standing 
darkly against the low horizon, and at least two feet 
higher than the present position of her eyes. whether 
newfoundland, mastiff, bloodhound, or what not, it was 
impossible to say. he seemed to be of too strange and 
mysterious a nature to belong to any variety among those 
of popular nomenclature. being thus assignable to no 
breed, he was the ideal embodiment of canine greatness 
 -- a generalization from what was common to all. night, 
in its sad, solemn, and benevolent aspect, apart from its 
stealthy and cruel side, was personified in this form 
darkness endows the small and ordinary ones among 
mankind with poetical power, and even the suffering 
woman threw her idea nto figure. 
in her reclining position she looked up to him just 
as in earlier times she had, when standing, looked up 
to a man. the animal, who was as homeless as she, 
respectfully withdrew a step or two when the woman 
moved, and, seeing that she did not repulse him, he 
licked her hand again. 
a thought moved within her like lightning. "perhaps 
i can make use of him-i might do it then!' 
she pointed in the direction of casterbridge, and 
the dog seemed to misunderstand : he trotted on. then, 
finding she could not follow, he came back and whined. 
the ultimate and saddest singularity of woman's effort 
and invention was reached when, with a quickened breath+ 
ing, she rose to a stooping posture, and, resting her two 
little arms 
<p 327> 
upon the shoulders of the dog, leant firmly 
thereon, and murmured stimulating words. whilst she 
sorrowed in her heart she cheered with her voice, and 
what was stranger than that the strong should need 
encouragement from the weak was that cheerfulness 
should be so well stimulated by such utter dejection. 
her friend moved forward slowly, and she with small 
mincing steps moved forward beside him, half her 
weight being thrown upon the animal. sometimes 
she sank as she had sunk from walking erect, from 
the crutches, from the rails. the dog, who now 
thoroughly understood her desire and her incapacity, 
was frantic in his distress on these occasions ; he would 
tug at her dress and run forward. she always called 
him back, and it was now to be observed that the 
woman listened for human sounds only to avoid them. 
it was evident that she had an object in keeping her 
presence on the road and her forlorn state unknown. 
their progress was necessarily very slow. they 
reached the bottom of the town, and the casterbridge 
lamps lay before them like fallen pleiads as they turned 
to the left into the dense shade of a deserted avenue of 
chestnuts, and so skirted the borough. thus the town 
was passed, and the goal was reached. 
on this much-desired spot outside the town rose a 
picturesque building. originally it had been a mere 
case to hold people. the shell had been so thin, so 
devoid of excrescence, and so closely drawn over the 
accommodation granted, that the grim character of 
what was beneath showed through it, as the shape of 
a body is visible under a winding-sheet. 
then nature, as if offended, lent a hand. masses 
of ivy grew up, completely covering the walls, till the 
place looked like an abbey; and it was discovered that 
the view from the front, over the casterbridge chimneys, 
was one of the most magnificent in the county. a 
neighbouring earl once said that he would give up a 
year's rental to have at his own door the view enjoyed 
by the inmates from theirs -- and very probably the 
inmates would have given up the view for his year's 
rental. 
this stone edifice consisted of a central mass and 
<p 328> 
two wings, whereon stood as sentinels a few slim 
chimneys, now gurgling sorrowfully to the slow wind. 
in the wall was a gate, and by the gate a belipull 
formed of a hanging wire. the woman raised herself 
as high as possible upon her knees, and could just 
reach the handle. she moved it and fell forwards in 
a bowed attitude, her face upon her bosom. 
it was getting on towards six o'clock, and sounds of 
movement were to be heard inside the building which 
was the haven of rest to this wearied soul. a little door 
by the large one was opened, and a man appeared inside. 
he discerned the panting heap of clothes, went back 
for a light, and came again. he entered a second 
time, and returned with two women. 
these lifted the prostrate figure and assisted her in 
through the doorway. the man then closed the door. 
how did she get here ?" said one of the women. 
"the lord knows,' said the other. 
there is a dog outside," murmured the overcome 
traveller. " where is he gone ? he helped me.' 
i stoned him away,' said the man. 
the little procession then moved forward -- the man 
in front bearing the light, the two bony women next, 
supporting between them the small and supple one. 
thus they entered the house and disappeared. 
suspicion 
<c xli> 
<p 329> 
suspicion -- fanny is sent for 
bathsheba said very little to her husband all that 
evening of their return from market, and he was not 
disposed to say much to her. he exhibited the un+ 
pleasant combination of a restless condition with a 
silent tongue. the next day, which was sunday, passed 
nearly in the same manner as regarded their taciturnity, 
bathsheba going to church both morning and afternoon. 
this was the day before the budmouth races. in the 
evening troy said, suddenly -- 
" bathsheba, could you let me have twenty pounds ?" 
her countenance instantly sank. ' twenty pounds ? 
she said. 
'the fact is, i want it badly.' the anxiety upon 
troy's face was unusual and very marked. lt was a 
culmination of the mood he had been in all the day. 
"ah !. for those races to-morrow.' 
troy for the moment made no reply. her mistake 
had its advantages to a man who shrank from having 
his mind inspected as he did now. "well, suppose i 
do want it for races ?' he said, at last. 
"o, frank.!' bathsheba replied, and there was such 
a volume of entreaty in the words. "only such a few 
weeks ago you said that i was far sweeter than all your 
other pleasures put together, and that you would give 
them all up for me; and now, won't you give up this 
one, which is more a worry than a pleasure? do, 
frank. come, let me fascinate you by all i can do 
 -- by pretty words and pretty looks, and everything i 
can think of -- to stay at home. say yes to your wife -- 
say yes.!' 
the tenderest and softest phases of bathsheba's 
nature were prominent now -- advanced impulsively for 
his acceptance, without any of the disguises and defences 
which the wariness of her character when she was cool 
too frequently threw 
<p 330> 
over them. few men could have 
resisted the arch yet dignified entreaty of the beautiful 
face, thrown a little back and sideways in the weli 
known attitude that expresses more than the words it 
accompanies, and which seems to have heen designed 
for these special occasions. had the woman not been 
his wife, troy would have succumbed instantly ; as it 
was, he thought he would not deceive her longer. 
"the money is not wanted for racing debts at all,' 
he said. 
" what is it for ?' she asked. " you worry me a great 
deal by these mysterious responsibilities, frank." 
troy hesitated. he did not now love her enough 
to allow himself to be carried too far by her ways. yet 
it was necessary to be civil. "you wrong me by such 
a suspicious manner, he said. " such strait-waistcoating 
as you treat me to is not becoming in you at so early a 
date.' 
"i think that i have a right to grumble a little if i 
pay,' she said, with features between a smile and a 
pout. 
exactly; and, the former being done, suppose we 
proceed to the latter. bathsheba, fun is all very well, 
but don't go too far, or you may have cause to regret 
something.' 
she reddened. " i do that already,' she said, quickly 
" what do you regret ? ' 
suspicion 
"that my romance has come to an end.' 
" all romances end at marriage.' 
'i wish you wouldn't talk like that. you grieve me 
to my soul by being smart at my expense.' 
" you are dull enough at mine. i believe you hate 
me.' 
" not you -- only your faults. i do hate them.' 
"'twould be much more becoming if you set your+ 
self to cure them. come, let's strike a balance with 
the twenty pounds, and be friends.' 
she gave a sigh of resignation. 'i have about that 
sum here for household expenses. if you must have it, 
take it.' 
"very good. thank you. i expect i shall have 
gone away before you are in to breakfast to-morrow.' 
"and must you go ? ah !. there was a time, frank, 
when it would have taken a good many promises to 
other people to drag you away from me. you used to 
call me darling, then. 
<p 331> 
but it doesn't matter to you how 
my days are passed now.' 
"i must go, in spite of sentiment.' troy, as he 
spoke, looked at his watch, and, apparently actuated by 
<1non lucendo>1 principles, opened the case at the back, 
revealing, snugly stowed within it, a small coil of hair. 
bathsheba's eyes had been accidentally lifted at that 
moment, and she saw the action and saw the hair. she 
flushed in pain and surprise, and some words escaped 
her before she had thought whether or not it was wise 
to utter them. "a woman's curl of hair !' she said. 
"o, frank, whose is that ?' 
troy had instantly closed his watch. he carelessly 
replied, as one who cloaked some feelings that the sight 
had stirred. ' why, yours, of course. whose should it 
be ? i had quite forgotten that i had it.' 
' what a dreadful fib, frank.!' 
" i tell you i had forgotten it.!' he said, loudly. 
'i don't mean that -- it was yellow hair.' 
"nonsense.' 
"that's insulting me. i know it was yellow. now 
whose was it ? i want to know.' 
"very welii'll tell you, so make no more ado. it 
is the hair of a young woman i was going to marry 
before i knew you.' 
" you ought to tell me her name, then.' 
"i cannot do that.' 
"is she married yet?' 
"no.' 
"is she alive?' 
" yes.' 
"is she pretty ?' 
" yes.' 
'it is wonderful how she can be, poor thing, under 
such an awful affliction!' 
" affliction -- what affliction ? ' he inquired, quickly. 
" having hair of that dreadful colour.' 
" oh -- ho-i like that.!' said troy, recovering him+ 
self. "why, her hair has been admired by everybody 
who has seen her since she has worn it loose, which has 
not been long. it is 
<p 332> 
beautiful hair. people used to 
turn their heads to look at it, poor girl.!' 
"pooh! that's nothing -- that's nothing!' she ex+ 
claimed, in incipient accents of pique. 'if i cared for 
your love as much as i used to i could say people had 
turned to look at mine.' 
"bathsheba, don't be so fitful and jealous. you 
knew what married life would be like, and shouldn't 
have entered it if you feared these contingencies.' 
troy had by this time driven her to bitterness: her 
heart was big in her throat, and the ducts to her eyes 
were painfully full. ashamed as she was to show 
emotion, at last she burst out: -- 
"this is all i get for loving you so well! ah! when 
i married you your life was dearer to me than my own. 
i would have died for you -- how truly i can say that i 
would have died for you.! and now you sneer at my 
foolishness in marrying you. o! is it kind to me to 
throw my mistake in my face ? whatever opinion you 
may have of my wisdom, you should not tell me of it so 
mercilessly, now that i am in your power.' 
" i can't help how things fall out,' said troy; "upon 
my heart, women will be the death of me.!' 
"well you shouldn't keep people's hair. you'll 
burn it, won't you, frank?' 
frank went on as if he had not heard her. "there 
are considerations even before my consideration for you; 
reparations to be made -- ties you know nothing of if 
you repent of marrying, so do i.' 
trembling now, she put her hand upon his arm, 
saying, in mingled tones of wretchedness and coaxing, 
"i only repent it if you don't love me better than any 
woman in the world.! i don't otherwise, frank. you 
don't repent because you already love somebody better 
than you love me, do you ?' 
"i don't know. why do you say that?' 
"you won't burn that curl. you like the woman 
who owns that pretty hair -- yes; it is pretty -- more 
beautiful than my miserable black mane! well, it is 
no use; i can't help being ugly. you must like her 
best, if you will!' 
"until to-day, when i took it from a drawer, i have 
<p 333> 
never looked upon that bit of hair for several months -- 
that i am ready to swear.' 
"but just now you said "ties;" and then -- that 
woman we met?' 
"'twas the meeting with her that reminded me of 
the hair.' 
"is it hers, then ?' 
"yes. there, now that you have wormed it out of 
me, i hope you are content.' 
"and what are the ties ?' 
"oh! that meant nothing -- a mere jest.' 
"a mere jest ! ' she said, in mournful astonishment. 
"can you jest when i am so wretchedly in earnest ? 
tell me the truth, frank. i am not a fool, you know, 
although i am a woman, and have my woman's moments. 
come! treat me fairly,' she said, looking honestly and 
fearlessly into his face. "i don't want much; bare 
justice -- that's all! ah! once i felt i could be content 
with nothing less than the highest homage from the 
husband i should choose. now, anything short of 
cruelty will content me. yes! the independent and 
spirited bathsheba is come to this.!' 
"for heaven's sake don't be so desperate! "troy 
said, snappishly, rising as he did so, and leaving the 
room. 
directly he had gone, bathsheba burst into great 
sobs -- dry-eyed sobs, which cut as they came, without 
any softening by tears. but she determined to repress 
all evidences of feeling. she was conquered; but she 
would never own it as long as she lived. her pride 
was indeed brought low by despairing discoveries of her 
spoliation by marriage with a less pure nature than her 
own. she chafed to and fro in rebelliousness, like a 
caged leopard; her whole soul was in arms, and the 
blood fired her face. until she had met troy, bath+ 
sheba had heen proud of her position as a woman; it 
had been a glory to her to know that her lips had been 
touched hy no man's on earth -- that her waist had 
never been encircled by a lover's arm. she hated 
herself now. in those earlier days she had always 
nourished a secret contempt for girls who were the 
slaves of the first goodiooking young fellow who should 
choose to salute them. she had never taken kindly to 
the idea of 
<p 334> 
marriage in the abstract as did the majority 
of women she saw about her. in the turmoil of her 
anxiety for her lover she had agreed to marry him; but 
the perception that had accompanied her happiest hours 
on this account was rather that of self-sacrifice than of 
promotion and honour. although she scarcely knew 
the divinity's name, diana was the goddess whom 
bathsheba instinctively adored. that she had never, 
by look, word, or sign, encouraged a man to approach 
her -- that she had felt herself sufficient to herself, and 
had in the independence of her girlish heart fancied 
there was a certain degradation in renouncing the 
simplicity of a maiden existence to become the humbler 
half of an indifferent matrimonial whole -- were facts 
now bitterly remembered. o, if she had never 
stooped to folly of this kind, respectable as it was, and 
could only stand again, as she had stood on the hill at 
norcombe, and dare troy or any other man to pollute 
a hair of her head by his interference!. 
the next morning she rose earlier than usual, and 
had the horse saddled for her ride round the farm in 
the customary way. when she came in at half-past 
eight -- their usual hour for breakfasting -- she was in+ 
formed that her husband had risen, taken his breakfast, 
and driven off to casterbridge with the gig and poppet. 
after breakfast she was cool and collected -- quite 
herself in fact -- and she rambled to the gate, intending 
to walk to another quarter of the farm, which she still 
personally superintended as well as her duties in the 
house would permit, continually, however, finding her+ 
self preceded in forethought by gabriel oak, for whom 
she began to entertain the genuine friendship of a sister. 
of course, she sometimes thought of him in the light of 
an old lover, and had momentary imaginings of what 
life with him as a husband would have been like; also 
of life with boldwood under the same conditions. but 
bathsheba, though she could feel, was not much given 
to futile dreaming, and her musings under this head 
were short and entirely confined to the times when 
troy's neglect was more than ordinarily evident. 
she saw coming up the road a man like mr. boldwood. 
<p 335> 
it was mr. boldwood. bathsheba blushed painfully, 
and watched. the farmer stopped when still a long 
way off, and held up his hand to gabriel oak, who was 
in a footpath across the field. the two men then 
approached each other and seemed to engage in 
earnest conversation. 
thus they continued for a long time. joseph poor+ 
grass now passed near them, wheeling a barrow of apples 
up the hill to bathsheba's residence. boldwood and 
gabriel called to him, spoke to him for a few minutes, 
and then all three parted, joseph immediately coming 
up the hill with his barrow. 
bathsheba, who had seen this pantomime with some 
surprise, experienced great relief when boldwood turned 
back again. 'well, what's the message, joseph ? ' she 
said. 
he set down his barrow, and, putting upon himself 
the refined aspect that a conversation with a lady re+ 
quired, spoke to bathsheba over the gate. 
"you'll never see fanny robin no more -- use nor 
principai-ma'am.' 
" why ?' 
"because she's dead in the union.' 
" fanny dead -- never.!' 
" yes, ma'am.' 
" what did she die from ?" 
"i don't know for certain; but i should be inclined 
to think it was from general neshness of constitution. 
she was such a limber maid that 'a could stand no 
hardship, even when i knowed her, and 'a went like a 
candle-snoff, so 'tis said. she was took bad in the 
morning, and, being quite feeble and worn out, she 
died in the evening. she belongs by law to our parish; 
and mr. boldwood is going to send a waggon at three 
this afternoon to fetch her home here and bury her.' 
"indeed i shall not let mr. boldwood do any such 
thing-i shall do it! fanny was my uncle's servant, 
and, although i only knew her for a couple of days, 
fanny is sent for 
she belongs to me. how very, very sad this is.! -- 
the idea of fanny being in a workhouse.' bathsheba 
had begun to know what suffering was, and she spoke 
with real feeling.... "send across to mr. boldwood's, 
and say that mrs. troy will take upon herself the duty 
<p 336> 
of fetching an old servant of the family.... we 
ought not to put her in a waggon; we'll get a hearse.' 
" there will hardly be time, ma'am, will there?' 
" perhaps not,' she said, musingly. " when did you 
say we must be at the door -- three o'clock?' 
" three o'clock this afternoon, ma'am, so to speak it.' 
"very weli-you go with it. a pretty waggon is 
better than an ugly hearse, after all. joseph, have the 
new spring waggon with the blue body and red wheels, 
and wash it very clean. and, joseph --  -- ' 
" yes, ma'am.' 
' carry with you some evergreens and flowers to put 
upon her coffin  -- indeed, gather a great many, and 
completely bury her in them. get some boughs of 
laurustinus, and variegated box, and yew, and boy'siove; 
ay, and some hunches of chrysanthemum. and let old 
pleasant draw her, because she knew him so well.' 
'i will, ma'am. i ought to have said that the 
union, in the form of four labouring men, will meet me 
when i gets to our churchyard gate, and take her and 
bury her according to the rites of the board of guardians, 
as by law ordained.' 
" dear me -- casterbridge union -- and is fanny come 
to this?' said bathsheba, musing. "i wish i had known 
of it sooner. i thought she was far away. how long 
has she lived there?' 
"on'y been there a day or two.' 
"oh.! -- then she has not been staying there as a 
regular inmate?' 
" no. she first went to live in a garrison-town t'other 
side o' wessex, and since then she's been picking up a 
living at seampstering in melchester for several months, 
at the house of a very respectable widow-woman who 
takes in work of that sort. she only got handy the 
union-house on sunday morning 'a b'lieve, and 'tis sup+ 
posed here and there that she had traipsed every step 
of the way from melchester. why she left her place, 
i can't say, for i don't know; and as to a lie, why, i 
wouldn't tell it. that's the short of the story, ma'am.' 
"ah-h .! ' 
<p 337> 
no gem ever flashed from a rosy ray to a white one 
more rapidly than changed the young wife's counten+ 
ance whilst this word came from her in a long-drawn 
breath. "did she walk along our turnpike-road?' she 
said, in a suddenly restless and eager voice. 
"i believe she did.... ma'am, shall i call liddy? 
you bain't well, ma'am, surely ? you look like a lily -- 
so pale and fainty.!' 
"no; don't call her; it is nothing. when did she 
pass weatherbury?' 
"last saturday night.' 
"that will do, joseph; now you may go.' 
" certainly, ma'am.' 
" joseph, come hither a moment. what was the 
colour of fanny robin's hair?' 
"really, mistress, now that 'tis put to me so judge+ 
and-jury like, i can't call to mind, if ye'll believe me.!' 
"never mind; go on and do what i told you. stop 
 -- well no, go on.' 
she turned herself away from him, that he might no 
longer notice the mood which had set its sign so visibly 
upon her, and went indoors with a distress:ng sense of 
faintness and a beating brow. about an hour after, she 
heard the noise of the waggon and went out, still with a 
painful consciousness of her bewildered and troubled 
look. joseph, dressed in his best suit of clothes, was 
putting in the horse to start. the shrubs and flowers 
were all piled in the waggon, as she had directed 
bathsheba hardly saw them now. 
" whose sweetheart did you say, joseph?' 
'i don't know, ma'am.' 
"are you quite sure?' 
" yes, ma'am, quite sure.' 
"sure of what?' 
"i'm sure that all i know is that she arrived in the 
morning and died in the evening without further parley. 
what oak and mr. boldwood told me was only these 
few words. "little fanny robin is dead, joseph,' 
gabriel said, looking in my face in his steady old way. 
i was very sorry, and i said, "ah!. -- and how did she 
<p 338> 
come to die?' "well, she's dead in casterhridge 
union," he said; "and perhaps 'tisn't much matter 
about how she came to die. she reached the union 
early sunday morning, and died in the afternoon -- that's 
clear enough." then i asked what she'd been doing 
lately, and mr. boldwood turned round to me then, and 
left off spitting a thistle with the end of his stick. he 
told me about her having lived by seampstering in 
melchester, as i mentioned to you, and that she walked 
therefrom at the end of last week, passing near here 
saturday night in the dusk. they then said i had 
better just name a hent of her death to you, and away 
they went. her death might have been brought on by 
biding in the night wind, you know, ma'am; for people 
used to say she'd go off in a decline: she used to cough 
a good deal in winter time. however, 'tisn't much 
odds to us about that now, for 'tis all over.' 
"have you heard a different story at all?' she 
looked at him so intently that joseph's eyes quailed. 
"not a word, mistress, i assure 'ee.!" he said. 
"hardly anybody in the parish knows the news yet.' 
"i wonder why gabriel didn't bring the message to 
me himself. he mostly makes a point of seeing me 
upon the most trifling errand.' these words were 
merely murmured, and she was looking upon the ground. 
"perhaps he was busy, ma'am,' joseph suggested. 
"and sometimes he seems to suffer from things upon 
his mind, connected with the time when he was better 
off than 'a is now. 'a's rather a curious item, but a 
very understanding shepherd, and learned in books.' 
'did anything seem upon his mind whilst he was 
speaking to you about this?' 
'i cannot but say that there did, ma'am. he was 
terrible down, and so was farmer boldwood.' 
'thank you, joseph. that will do. go on now, 
or you'll be late.' 
bathsheba, still unhappy, went indoors again. in 
the course of the afternoon she said to liddy, who had 
been informed of the occurrence, " what was the colour 
<p 339> 
of poor fanny robin's hair? do you know? i cannot 
recollect-i only saw her for a day or two.' 
"it was light, ma'am; but she wore it rather short, 
and packed away under her cap, so that you would 
hardly notice it. but i have seen her let it down when 
she was going to bed, and it looked beautiful then. 
real golden hair.' 
" her young man was a soldier, was he not?' 
"yes. in the same regiment as mr. troy. he says 
he knew him very well.' 
" what, mr. troy says so? how came he to say 
that?' 
"one day i just named it to him, and asked him if 
he knew fanny's young man. he said, "o yes, he 
knew the young man as well as he knew himself, and 
that there wasn't a man in the regiment he liked 
better."' 
"ah! said that, did he ?' 
"yes; and he said there was a strong likeness be+ 
tween himself and the other young man, so that some+ 
times people mistook them --  -- ' 
' liddy, for heaven's sake stop your talking.!' said 
bathsheba, with the nervous petulance that comes from 
worrying perceptions. 
joseph and his burden 
<p 340> 
<c xlii> 
joseph and his burden -- buck's head 
a wall bounded the site of casterbridge union+ 
house, except along a portion of the end. here a high 
gable stood prominent, and it was covered like the front 
with a mat of ivy. in this gable was no window, 
chimney, ornament, or protuberance of any kind. the 
single feature appertaining to it, beyond the expanse of 
dark green leaves, was a small door. 
the situation of the door was peculiar. the sill 
was three or four feet above the ground, and for a 
moment one was at a loss for an explanation of this 
exceptional altitude, till ruts immediately beneath sug+ 
gested that the door was used solely for the passage of 
articles and persons to and from the level of a vehicle 
standing on the outside. upon the whole, the door 
seemed to advertise itself as a species of traitor's gate 
translated to another sphere. that entry and exit 
hereby was only at rare intervals became apparent on 
noting that tufts of grass were allowed to flourish undis+ 
turbed in the chinks of the sill. 
as the clock over the south-street alms-house pointed 
to five minutes to three, a blue spring waggon, picked 
out with red, and containing boughs and flowers, passed 
the end of the street, and up towards this side of the 
building. whilst the chimes were yet stammering out 
a shattered form of "malbrook,' joseph poorgrass rang 
the bell, and received directions to back his waggon 
against the high door under the gable. the door then 
opened, and a plain elm coffin was slowly thrust forth, 
and laid by two men in fustian along the middle of the 
vehicle. 
one of the men then stepped up beside it, took from 
his pocket a lump of chalk, and wrote upon the cover 
the name and a few other words in a large scrawling 
hand. (we believe that they do these things more 
tenderly now, and provide a 
<p 341> 
plate.) he covered the 
whole with a black cloth, threadbare, but decent, the 
taiiboard of the waggon was returned to its place, one 
of the men handed a certificate of registry to poorgrass, 
and both entered the door, closing it hehind them. 
their connection with her, short as it had been, was 
over for ever. 
joseph then placed the flowers as enjoined, and the 
evergreens around the flowers, till it was difficult to 
divine what the waggon contained; he smacked his 
whip, and the rather pleasing funeral car crept down 
the hill, and along the road to weatherbury. 
the afternoon drew on apace, and, looking to the 
right towards the sea as he walked beside the horse, poor+ 
grass saw strange clouds and scrolls of mist rolling over 
the long ridges which girt the landscape in that quarter. 
they came in yet greater volumes, and indolently crept 
across the intervening valleys, and around the withered 
papery flags of the moor and river brinks. then their 
dank spongy forms closed in upon the sky. it was 
a sudden overgrowth of atmospheric fungi which had 
their roots in the neighbouring sea, and by the time 
that horse, man, and corpse entered yalbury great 
wood, these silent workings of an invisible hand had 
reached them, and they were completely enveloped, 
this being the first arrival of the autumn fogs, and the 
first fog of the series. 
the air was as an eye suddenly struck blind. the 
waggon and its load rolled no longer on the horizontal 
division between clearness and opacity, but were 
imbedded in an elastic body of a monotonous pallor 
throughout. there was no perceptible motion in the 
air, not a visible drop of water fell upon a leaf of the 
beeches, birches, and firs composing the wood on either 
side. the trees stood in an attitude of intentness, as if 
they waited longingly for a wind to come and rock 
them. a startling quiet overhung all surrounding things 
 -- so completely, that the crunching of the waggon+ 
wheels was as a great noise, and small rustles, which 
had never ohtained a hearing except by night, were dis+ 
tinctly individualized. 
joseph poorgrass looked round upon his sad burden 
as it loomed faintly through the flowering laurustinus, 
then at the 
<p 342> 
unfathomable gloom amid the high trees on 
each hand, indistinct, shadowless, and spectreiike in 
their monochrome of grey. he felt anything but cheer+ 
ful, and wished he had the company even of a child or 
dog. stopping the home, he listened. not a footstep 
or wheel was audible anywhere around, and the dead 
silence was broken only by a heavy particle falling from 
a tree through the evergreens and alighting with a smart 
rap upon the coffin of poor fanny. the fog had by 
this time saturated the trees, and this was the first 
dropping of water from the overbrimming leaves. the 
hollow echo of its fall reminded the waggoner painfully 
of the grim leveller. then hard by came down another 
drop, then two or three. presently there was a continual 
tapping of these heavy drops upon the dead leaves, the 
road, and the travellers. the nearer boughs were beadcd 
with the mist to the greyness of aged men, and the rusty+ 
red leaves of the beeches were hung with similar drops, 
like diamonds on auburn hair. 
at the roadside hamlet called roy-town, just beyond 
this wood, was the old inn buck's head. it was about 
a mile and a half from weatherbury, and in the meridian 
times of stage-coach travelling had been the place 
where many coaches changed and kept their relays 
of horses. all the old stabling was now pulled down, 
and little remained besides the habitable inn itself, 
which, standing a little way back from the road, sig+ 
nified its existence to people far up and down the 
highway by a sign hanging from the horizontal bough 
of an elm on the opposite side of the way. 
travellers  -- for the variety <1tourist>1 had hardly 
developed into a distinct species at this date -- some+ 
times said in passing, when they cast their eyes up to 
the sign-bearing tree, that artists were fond of repre+ 
senting the signboard hanging thus, but that they 
themselves had never before noticed so perfect an 
instance in actual working order. it was near this tree 
that the waggon was standing into which gabriel oak 
crept on his first journey to weatherbury; but, owing 
to the darkness, the sign and the inn had been un+ 
observed. 
the manners of the inn were of the old-established 
<p 343> 
type. indeed, in the minds of its frequenters they 
existed as unalterable formule : <1e.g.>1 -- 
rap with the bottom of your pint for more liquor. 
for tobacco, shout. 
in calling for the girl in waiting, say, "maid.!' 
ditto for the landlady, 'old soul.!' etc., etc. 
it was a relief to joseph's heart when the friendly 
signboard came in view, and, stopping his horse 
immediately beneath it, he proceeded to fulfil an 
intention made a long time before. his spirits were 
oozing out of him quite. he turned the horse's head 
to the green bank, and entered the hostel for a mug 
of ale. 
going down into the kitchen of the inn, the floor 
of which was a step below the passage, which in its 
buck's head 
turn was a step below the road outside, what should 
joseph see to gladden his eyes but two copper-coloured 
discs, in the form of the countenances of mr. jan 
coggan and mr. mark clark. these owners of the 
two most appreciative throats in the neighbourhood, 
within the pale of respectability, were now sitting face 
to face over a threeiegged circular table, having an 
iron rim to keep cups and pots from being accidentally 
elbowed off; they might have been said to resemble 
the setting sun and the full moon shining <1vis-a*-vis>1 
across the globe. 
" why, 'tis neighbour poorgrass.!' said mark clark. 
"i'm sure your face don't praise your mistress's table, 
joseph.' 
"i've had a very pale companion for the last four 
miles,' said joseph, indulging in a shudder toned 
down by resignation. 'and to speak the truth, 'twas 
beginning to tell upon me. i assure ye, i ha'n't seed 
the colour of victuals or drink since breakfast time 
this morning, and that was no more than a dew-bit 
afield.' 
"then drink, joseph, and don't restrain yourself!.' 
said coggan, handing him a hooped mug three+ 
quarters full. 
joseph drank for a moderately long time, then for 
a longer time, saying, as he lowered the jug, "'tis 
pretty drinking -- very 
<p 344> 
pretty drinking, and is more 
than cheerful on my melancholy errand, so to speak it.' 
"true, drink is a pleasant delight,' said jan, as one 
who repeated a truism so familiar to his brain that he 
hardly noticed its passage over his tongue ; and, 
lifting the cup, coggan tilted his head gradually 
backwards, with closed eyes, that his expectant soul 
might not be diverted for one instant from its bliss 
by irrelevant surroundings. 
"well, i must be on again,' said poorgmss. "not 
but that i should like another nip with ye; but the 
parish might lose confidence in me if i was seed 
here.' 
" where be ye trading o't to to-day, then, joseph ?' 
"back to weatherbury. i've got poor little fanny 
robin in my waggon outside, and i must be at the 
churchyard gates at a quarter to five with her.' 
'ay-i've heard of it. and so she's nailed up in 
parish boards after all, and nobody to pay the bell 
shilling and the grave half-crown.' 
"the parish pays the grave half-crown, but not the 
bell shilling, because the bell's a luxery: but 'a can 
hardly do without the grave, poor body. however, i 
expect our mistress will pay all.' 
"a pretty maid as ever i see.! but what's yer hurry, 
joseph ? the pore woman's dead, and you can't bring 
her to life, and you may as well sit down comfortable, 
and finish another with us.' 
"i don't mind taking just the least thimbleful ye 
can dream of more with ye, sonnies. but only a few 
minutes, because 'tis as 'tis.' 
"of course, you'll have another drop. a man's 
twice the man afterwards. you feel so warm and 
glorious, and you whop and slap at your work without 
any trouble, and everything goes on like sticks a+ 
breaking. too much liquor is bad, and leads us to 
that horned man in the smoky house ; but after all, 
many people haven't the gift of enjoying a wet, and 
since we be highly favoured with a power that way, 
we should make the most o't.' 
"true,' said mark clark. "'tis a talent the lord 
<p 345> 
has mercifully bestowed upon us, and we ought not 
to neglect it. but, what with the parsons and clerks 
and schooipeople and serious tea-parties, the merry 
old ways of good life have gone to the dogs -- upon 
my carcase, they have.!' 
" well, really, i must be onward again now,' said 
joseph. 
'now, now, joseph; nonsense.! the poor woman 
is dead, isn't she, and what's your hurry?' 
"well, i hope providence won't be in a way with 
me for my doings,' said joseph, again sitting down. 
'i've been troubled with weak moments lately, 'tis 
true. i've been drinky once this month already, and 
i did not go to church a-sunday, and i dropped a 
curse or two yesterday; so i don't want to go too far 
for my safety. your next world is your next world, 
and not to be squandered offhand.' 
'i believe ye to be a chapeimember, joseph. that 
i do.' 
'oh, no, no.! i don't go so far as that.' 
" for my part,' said coggan, "i'm staunch church 
of england.' 
" ay, and faith, so be i,' said mark clark. 
"i won't say much for myself; i don't wish to,' 
coggan continued, with that tendency to talk on 
principles which is characteristic of the barley-corn. 
"but i've never changed a single doctrine : i've stuck 
like a plaster to the old faith i was born in. yes; 
there's this to be said for the church, a man can 
belong to the church and bide in his cheerful old 
inn, and never trouble or worry his mind about 
doctrines at all. but to be a meetinger, you must 
go to chapel in all winds and weathers, and make 
yerself as frantic as a skit. not but that chapei 
members be clever chaps enough in their way. they 
can lift up beautiful prayers out of their own heads, all 
about their families and shipwmcks in the newspaper.' 
"they can -- they can,' said mark clark, with cor+ 
roborative feeling ; "but we churchmen, you see, must 
have it all printed aforehand, or, dang it all, we should 
no more know what to say to a great gaffer like the 
lord than babes unborn,' 
" chapeifolk be more hand-in-glove with them above 
than we,' said joseph, thoughtfully. 
" yes,' said coggan. " we know very well that if 
anybody do go to heaven, they will. they've worked 
hard for it, and they 
<p 346> 
deserve to have it, such as 'tis. 
i bain't such a fool as to pretend that we who stick 
to the church have the same chance as they, because 
we know we have not. but i hate a feller who'll 
change his old ancient doctrines for the sake of getting 
to heaven. i'd as soon turn king's-evidence for the 
few pounds you get. why, neighbours, when every 
one of my taties were frosted, our parson thirdly 
were the man who gave me a sack for seed, though 
he hardly had one for his own use, and no money to 
buy 'em. if it hadn't been for him, i shouldn't hae 
had a tatie to put in my garden. d'ye think i'd 
turn after that? no, i'll stick to my side; and if we 
be in the wrong, so be it : i'll fall with the fallen .! ' 
" well said -- very well said,' observed joseph. -- 
" however, folks, i must be moving now: upon my life 
i must. pa'son thirdly will be waiting at the church 
gates, and there's the woman a-biding outside in the 
waggon.' 
" joseph poorgmss, don't be so miserable.! pa'son 
thirdly won't mind. he's a generous man ; he's found 
me in tracts for years, and i've consumed a good many 
in the course of a long and shady life; but he's never 
been the man to cry out at the expense. sit down.' 
the longer joseph poorgrass remained, the less his 
spirit was troubled by the duties which devolved upon 
him this afternoon. the minutes glided by uncounted, 
until the evening shades began perceptibly to deepen, 
and the eyes of the three were but sparkling points 
on the surface of darkness. coggan's repeater struck 
six from his pocket in the usual still small tones. 
at that moment hasty steps were heard in the entry, 
and the door opened to admit the figure of gabriel oak, 
followed by the maid of the inn bearing a candle. he 
stared sternly at the one lengthy and two round faces 
of the sitters, which confronted him with the expressions 
of a fiddle and a couple of warming-pans. joseph poor+ 
grass blinked, and shrank several inches into the back+ 
ground. 
' upon my soul, i'm ashamed of you ; 'tis disgraceful, 
joseph, disgraceful!. " said gabriel, indignantly. " coggan, 
you call yourself a man, and don't know better than this.' 
<p 347> 
coggan looked up indefinitely at oak, one or other 
of his eyes occasionally opening and closing of its own 
accord, as if it were not a member, but a dozy individual 
with a distinct personality. 
" don't take on so, shepherd!' said mark clark, 
looking reproachfully at the candle, which appeared 
to possess special features of interest for his eyes. 
'nobody can hurt a dead woman,' at length said 
coggan, with the precision of a machine. "all that 
could be done for her is done -- she's beyond us : and 
why should a man put himself in a tearing hurry for 
lifeless clay that can neither feel nor see, and don't 
know what you do with her at all? if she'd been 
alive, i would have been the first to help her. if she 
now wanted victuals and drink, i'd pay for it, money 
down. but she's dead, and no speed of ours will 
bring her to life. the woman's past us -- time spent 
upon her is throwed away: why should we hurry to 
do what's not required ? drink, shepherd, and be 
friends, for to-morrow we may be like her.' 
" we may,' added mark clark, emphatically, at once 
drinking himself, to run no further risk of losing his 
chance by the event alluded to, jan meanwhile merging 
his additional thoughts of to-morrow in a song : -- 
to-mor-row, to-mor-row ! 
and while peace and plen-ty i find at my board, 
with a heart free from sick-ness and sor-row, 
with my friends will i share what to-day may af-ford, 
and let them spread the ta-ble to-mor-row. 
to-mor -- row', to-mor -- + 
"do hold thy horning, jan.!' said oak; and turning 
upon poorgrass, " as for you, joseph, who do your wicked 
deeds in such confoundedly holy ways, you are as drunk 
as you can stand.' 
"no, shepherd oak, no! listen to reason, shepherd. 
all that's the matter with me is the affliction called a 
multiplying eye, and that's how it is i look double to 
you-i mean, you look double to me.' 
a multiplying eye is a very bad thing,' said mark 
clark. 
<p 348> 
it always comes on when i have been in a public -- 
house a little time,' said joseph poorgrass, meekly. 
"yes; i see two of every sort, as if i were some holy 
man living in the times of king noah and entering 
into the ark.... y-y-y-yes,' he added, becoming much 
affected by the picture of himself as a person thrown 
away, and shedding tears; "i feel too good for england : 
i ought to have lived in genesis by rights, like the other 
men of sacrifice, and then i shouldn't have b-b-been 
called a d-d-drunkard in such a way.!' 
"i wish you'd show yourself a man of spirit, and not 
sit whining there.!' 
"show myself a man of spirit ? ... ah, well! let 
me take the name of drunkard humbly-iet me be a 
man of contrite knees-iet it be .! l know that i always 
do say "please god' afore i do anything, from my 
getting up to my going down of the same, and i be 
willing to take as much disgrace as there is in that 
holy act. hah, yes.! ... but not a man of spirit ? 
have i ever allowed the toe of pride to be lifted 
against my hinder parts without groaning manfully that 
i question the right to do so? i inquire that query 
boldly?' 
" we can't say that you have, hero poorgrass,' 
admitted jan. 
"never have i allowed such treatment to pass un+ 
questioned!. yet the shepherd says in the face of that 
rich testimony that i be not a man of spirit! well, 
let it pass by, and death is a kind friend !.' 
gabriel, seeing that neither of the three was in a fit 
state to cake charge of the waggon for the remainder of 
the journey, made no reply, but, closing the door again 
upon them, went across to where the vehicle stood, now 
getting indistinct in the fog and gloom of this mildewy 
time. he pulled the horse's head from the large patch 
of turf it had eaten bare, readjusted the boughs over 
the coffin, and drove along through the unwholesome 
night. 
it had gradually become rumoured in the village 
that the body to be brought and buried that day was 
all that was left of the unfortunate fanny robin who 
had followed the eleventh from casterbridge through 
melchester and onwards. but, 
<p 349> 
thanks to boldwood's 
reticence and oak's generosity, the lover she had followed 
had never been individualized as troy. gabriel hoped 
that the whole truth of the matter might not be published 
till at any rate the girl had been in her grave for a few 
days, when the interposing barriers of earth and time, 
and a sense that the events had been somewhat shut 
into oblivion, would deaden the sting that revelation and 
invidious remark would have for bathsheba just now. 
by the time that gabriel reached the old manor+ 
house, her residence, which lay in his way to the church, 
it was quite dark. a man came from the gate and said 
through the fog, which hung between them like blown 
flour -- 
"is that poorgrass with the corpse?' 
gabriel recognized the voice as that of the parson. 
" the corpse is here, sir,' said gabriel. 
"i have just been to inquire of mrs. troy if she could 
tell me the reason of the delay. i am afraid it is too 
late now for the funeral to be performed with proper 
decency. have you the registrar's certificate ? ' 
" no,' said gabriel. "i expect poorgrass has that ; 
and he's at the buck's head. i forgot to ask him 
for it.' 
"then that settles the matter. we'll put off the 
funeral till to-morrow morning. the body may be 
brought on to the church, or it may be left here at 
the farm and fetched by the bearers in the morning. 
they waited more than an hour, and have now gone 
home.' 
gabriel had his reasons for thinking the latter a 
most objectionable plan, notwithstanding that fanny 
had been an inmate of the farm-house for several years 
in the lifetime of bathsheba's uncle. visions of several 
unhappy contingencies which might arise from this delay 
flitted before him. but his will was not law, and he 
went indoors to inquire of his mistress what were her 
wishes on the subject. he found her in an unusual 
mood : her eyes as she looked up to him were suspicious 
and perplexed as with some antecedent thought. troy 
had not yet returned. at first bathsheba assented with 
a mien of indifference to his proposition that they should 
go on to the church at once with their burden; but 
immediately 
<p 350> 
afterwards, following gabriel to the gate, 
she swerved to the extreme of solicitousness on fanny's 
account, and desired that the girl might be brought into 
the house. oak argued upon the convenience of leaving 
her in the waggon, just as she lay now, with her flowers 
and green leaves about her, merely wheeling the vehicle 
into the coach-house till the morning, but to no purpose, 
"it is unkind and unchristian,' she said, 'to leave the 
poor thing in a coach-house all night.' 
very well, then,' said the parson. "and i will 
arrange that the funeral shall take place early to+ 
morrow. perhaps mrs. troy is right in feeling that we 
cannot treat a dead fellow-creature too thoughtfully 
we must remember that though she may have erred 
grievously in leaving her home, she is still our sister : 
and it is to be believed that god's uncovenanted 
mercies are extended towards her, and that she is a 
member of the flock of christ.' 
the parson's words spread into the heavy air with a 
sad yet unperturbed cadence, and gabriel shed an 
honest tear. bathsheba seemed unmoved. mr. 
thirdly then left them, and gabriel lighted a lantern. 
fetching three other men to assist him, they bore the 
unconscious truant indoors, placing the coffin on two 
benches in the middle of a little sitting-room next the 
hall, as bathsheba directed. 
every one except gabriel oak then left the room. 
he still indecisively lingered beside the body. he was 
deeply troubled at the wretchedly ironical aspect that 
circumstances were putting on with regard to troy's 
wife, and at his own powerlessness to counteract them, 
(n spite of his careful manoeuvring all this day, the very 
worst event that could in any way have happened in 
connection with the burial had happened now. oak 
imagined a terrible discovery resulting from this after+ 
noon's work that might cast over bathsheba's life a shade 
which the interposition of many lapsing years might but 
indifferently lighten, and which nothing at all might 
altogether remove. 
suddenly, as in a last attempt to save bathsheba 
from, at any rate, immediate anguish, he looked again, 
as he had looked before, at the chalk writing upon the 
<p 351> 
coffinlid. the scrawl was this simple one, " fanny 
robin and child.' gabriel took his handkerchief and 
carefully rubbed out the two latter words, leaving visible 
the inscription " fanny' robin ' only. he then left the 
room, and went out quietly by the front door. 
<c xliii> 
<p 352> 
fanny's revenge 
! do you want me any longer ma'am ? " inquired liddy, 
at a later hour the same evening, standing by the door 
with a chamber candlestick in her hand and addressing 
bathsheba, who sat cheerless and alone in the large 
parlour beside the first fire of the season. 
" no more to-night, liddy.' 
"l'll sit up for master if you like, ma'am. i am not 
at all afraid of fanny, if i may sit in my own room and ' 
have a candle. she was such a childlike, nesh young 
thing that her spirit couldn't appear to anybody if it 
tried, i'm quite sure.' 
"o no, no! you go to bed. i'll sit up for him 
myself till twelve o'clock, and if he has not arrived by 
that time, i shall give him up and go to bed too.' 
it is half-past ten now.' 
'oh! is it?' 
why don't you sit upstairs, ma'am ? ' 
" why don't i ? ' said bathsheba, desultorily. 'it 
isn t worth while -- there's a fire here, liddy.' she 
suddenly exclaimed in an impulsive and excited whisper, 
have you heard anything strange said of fanny?' 
the words had no sooner escaped her than an expres+ 
sion of unutterable regret crossed her face, and she 
burst into tears. 
"no -- not a word !' said liddy, looking at the 
weeping woman with astonishment. 'what is it makes 
you cry so, ma'am; has anything hurt you ? ' she came 
to bathsheba's side with a face full of sympathy. 
" no, liddy-i don't want you any more. i can 
hardly say why i have taken to crying lately: i never 
used to cry. good-night.' 
liddy then left the parlour and closed the door. 
<p 353> 
bathsheba was lonely and miserable now ; not lone+ 
lier actually than she had heen before her marriage; 
but her loneliness then was to that of the present time 
as the solitude of a mountain is to the solitude of a 
cave. and within the last day or two had come these 
disquieting thoughts about her husband's past. her 
wayward sentiment that evening concerning fanny's 
temporary resting-place had been the result of a strange 
complication of impulses in bathsheba's bosom. per+ 
haps it would be more accurately described as a 
determined rebellion against her prejudices, a revulsion 
from a lower instinct of uncharitableness, which would 
have withheld all sympathy from the dead woman, be+ 
cause in life she had preceded bathsheba in the atten+ 
tions of a man whom bathsheba had by no means 
ceased from loving, though her love was sick to death 
just now with the gravity of a further misgiving. 
in five or ten minutes there was another tap at the 
door. liddy reappeared, and coming in a little way 
stood hesitating, until at length she said, !maryann has 
just heard something very strange, but i know it isn't 
true. and we shall be sure to know the rights of it in 
a day or two.' 
"what is it ?' 
" oh, nothing connected with you or us, ma'am. it 
is about fanny. that same thing you have heard.' 
"i have heard nothing.' 
"i mean that a wicked story is got to weatherbury 
within this last hour -- that --  -- ' liddy came close to 
her mistress and whispered the remainder of the sentence 
slowly into her ear, inclining her head as she spoke in 
the direction of the room where fanny lay. 
bathsheba trembled from head to foot. 
"i don't believe it ! ' she said, excitedly. 'and 
there's only one name written on the coffin-cover.' 
"nor i, ma'am. and a good many others don't; 
for we should surely have been told more about it if it 
had been true -- don't you think so, ma'am ? ' 
"we might or we might not.' 
bathsheba turned and looked into the fire, that 
liddy might not see her 
<p 354> 
face. finding that her mistress 
was going to say no more, liddy glided out, closed the 
door softly, and went to bed. 
bathsheba's face, as she continued looking into the 
fire that evening, might have excited solicitousness on 
her account even among those who loved her least. 
the sadness of fanny robin's fate did not make bath+ 
sheba's glorious, although she was the esther to this 
poor vashti, and their fates might be supposed to stand 
in some respects as contrasts to each other. when 
liddy came into the room a second time the beautiful 
eyes which met hers had worn a listless, weary look+ 
when she went out after telling the story they had ex+ 
pressed wretchedness in full activity. her simple 
country nature, fed on old-fashioned principles, was 
troubled by that which would have troubled a woman 
of the world very little, both fanny and her child, if she 
had one, being dead. 
bathsheba had grounds for conjecturing a connection 
between her own history and the dimly suspected 
tragedy of fanny's end which oak and boldwood never 
for a moment credited her with possessing. the 
meeting with the lonely woman on the previous saturday 
night had been unwitnessed and unspoken of. oak 
may have had the best of intentions in withholding for 
as many days as possible the details of what had 
happened to fanny ; but had he known that bathsheba's 
perceptions had already been exercised in the matter, 
he would have done nothing to lengthen the minutes of 
suspense she was now undergoing, when the certainty 
which must terminate it would be the worst fact suspected 
after all. 
she suddenly felt a longing desire to speak to some 
one stronger than herself, and so get strength to sustain 
her surmised position with dignity and her carking 
doubts with stoicism. where could she find such a 
friend? nowhere in the house. she was by far the 
coolest of the women under her roof. patience and 
suspension of judgement for a few hours were what she 
wanted to learn, and there was nobody to teach her. 
might she but go to gabriel oak ! -- but that could not 
be. what a way oak had, she thought, of enduring 
things. boldwood, who seemed so much deeper and 
higher and stronger in 
<p 355> 
feeling than gabriel, had not 
yet learnt, any more than she herself, the simple 
lesson which oak showed a mastery of by every turn 
and look he gave -- that among the multitude of interests 
by which he was surrounded, those which affected his 
personal welibeing were not the most absorbing and 
important in his eyes. oak meditatively looked upon 
the horizon of circumstances without any special regard 
to his own standpoint in the midst. that was how 
she would wish to be. but then oak was not racked 
by incertitude upon the inmost matter of his bosom, as 
she was at this moment. oak knew all about fanny 
that he wished to know -- she felt convinced of that. 
if she were to go to him now at once and say no more 
than these few words, !what is the truth of the story?' 
he would feel bound in honour to tell her. it would 
be an inexpressible relief. no further speech would 
need to be uttered. he knew her so well that no 
eccentricity of behaviour in her would alarm him. 
she flung a cloak roundher, went to the door and 
opened it. every blade, every twig was still. the air 
was yet thick with moisture, though somewhat less dense 
than during the afternoon, and a steady smack of drops 
upon the fallen leaves under the boughs was almost 
musical in its soothing regularity. lt seemed better to 
be out of the house than within it, and bathsheba closed 
the door, and walked slowly down the lane till she came 
opposite to gabriel's cottage, where he now lived alone, 
having left coggan's house through being pinched for 
room. there was a light in one window only', and that 
was downstairs. the shutters were not closed, nor was 
any blind or curtain drawn over the window, neither 
robbery nor observation being a contingency which could 
do much injury to the occupant of the domicile. yes, 
it was gabriel himself who was sitting up : he was reading, 
from her standing-place in the road she could see him 
plainly, sitting quite still, his light curly head upon his 
hand, and only occasionally looking up to snuff the 
candle which stood beside him. at length he looked 
at the clock, seemed surprised at the lateness of the 
hour, closed his book, and arose. he was going to bed, 
she knew, and if she tapped it must be done at once. 
<p 356> 
alas for her resolve ! she felt she could not do it, 
not for worlds now could she give a hint about her 
misery to him, much less ask him plainly for information 
on the cause of fanny's death. she must suspect, and 
guess, and chafe, and bear it all alone. 
like a homeless wanderer she lingered by the bank, 
as if lulled and fascinated by the atmosphere of content 
which seemed to spread from that little dwelling, and 
was so sadly lacking in her own. gabriel appeared in 
an upper room, placed his light in the window-bench, 
and then -- knelt down to pray. the contrast of the 
picture with her rebellious and agitated existence at this 
same time was too much for her to bear to look upon 
longer. it was not for her to make a truce with 
trouble by any such means. she must tread her giddy 
distracting measure to its last note, as she had begun it. 
with a swollen heart she went again up the lane, and 
entered her own door. 
more fevered now by a reaction from the first feelings 
which oak's example had raised in her, she paused in 
the hall, looking at the door of the room wherein fanny 
lay. she locked her fingers, threw back her head, and 
strained her hot hands rigidly across her forehead, saying, 
with a hysterical sob, 'would to god you would speak 
and tell me your secret, fanny .! . , . o, i hope, hope 
it is not true that there are two of you ! ... if i could 
only look in upon you for one little minute, i should 
know all !. ' 
a few moments passed, and she added, slowly, 'and 
i will' 
bathsheba in after times could never gauge the mood 
which carried her through the actions following this 
murmured resolution on this memorable evening of her 
life. she went to the lumber-closet for a screw-driver. 
at the end of a short though undefined time she found 
herself in the small room, quivering with emotion, a mist 
before her eyes, and an excruciating pulsation in her 
brain, standing beside the uncovered coffin of the girl 
whose conjectured end had so entirely engrossed her, and 
saying to herself in a husky voice as she gazed within -- 
'it was best to know the worst, and i know it now.!' 
<p 357> 
she was conscious of having brought about this 
situation by a series of actions done as by one in an 
extravagant dream ; of following that idea as to method, 
which had burst upon her in the hall with glaring 
obviousness, by gliding to the top of the stairs, assuring 
herself by listening to the heavy breathing of her maids 
that they were asleep, gliding down again, turning the 
handle of the door within which the young girl lay, and 
deliberately setting herself to do what, if she had antici+ 
pated any such undertaking at night and alone, would 
have horrified her, but which, when done, was not so 
dreadful as was the conclusive proof of her husband's 
conduct which came with knowing beyond doubt the 
last chapter of fanny's story. 
bathsheba's head sank upon her bosom, and the 
breath which had been bated in suspense, curiosity, and 
interest, was exhaled now in the form of a whispered 
wail: 'oh-h-h!' she said, and the silent room added 
length to her moan. 
her tears fell fast beside the unconscious pair in the 
coffin: tears of a complicated origin, of a nature inde+ 
scribable, almost indefinable except as other than those 
of simple sorrow. assuredly their wonted fires must 
have lived in fanny's ashes when events were so shaped 
as to chariot her hither in this natural, unobtrusive, yet 
effectual manner. the one feat alone -- that of dying -- 
by which a mean condition couid be resolved into a 
grand one, fanny had achieved. and to that had 
destiny subjoined this rencounter to-night, which had, 
in bathsheba's wild imagining, turned her companion's 
failure to success, her humiliation to triumph, her luck 
lessness to ascendency; et had thrown over herself a 
garish light of mockery, and set upon all things about 
her an ironical smile. 
fanny's face was framed in by that yeiiow hair of 
hers; and there was no longer much room for doubt as 
to the origin of the curl owned by troy. in bath+ 
sheba's heated fancy the innocent white countenance 
expressed a dim triumphant consciousness of the pain 
she was retaliating for her pain with all the merciless 
rigour of the mosaic law: 'burning for burning; wound 
for wound: strife for strife. 
bathsheba indulged in contempiations of escape from 
her position by immediate death, which thought she, 
<p 358> 
though it was an inconvenient and awful way, had limits 
to its inconvenience and awfulness that could not be 
overpassed ; whilst the shames of life were measureless. 
yet even this scheme of extinction by death was out 
fanny's revenge 
tamely copying her rival's method without the reasons 
which had glorified it in her rival's case. she glided 
rapidly up and down the room, as was mostly her habit 
hen excited, her hands hanging clasped in front of her, 
as she thought and in part expressed in brocken words : 
o, i hate her, yet i don't mean that i hate her, for 
it is grievous and wicked; and yet i hate her a little ! 
yes, my flesh insists upon hating her, whether my spirit 
is willing or no !.... if she had only lived, i could 
ave been angry and cruel towards her with some justifi+ 
cation ; but to be vindictive towards a poor dead woman 
recoils upon myself. o god, have mercy,! i am 
miserable at all this !. ' 
bathsheba became at this moment so terrified at her 
own state of mind that she looked around for some sort 
of refuge from herself. the vision of oak kneeling 
down that night recurred to her, and with the imitative 
instinct which animates women she seized upon the idea, 
resolved to kneel, and, if possible, pray. gabriel had 
prayed ; so would she. 
she knelt beside the coffin, covered her face with her 
hands, and for a time the room was silent as a tomb. 
whether from a purely mechanical, or from any other 
cause, when bathsheba arose it was with a quieted spirit, 
and a regret for the antagonistic instincts which had 
seized upon her just before. 
in her desire to make atonement she took flowers 
from a vase by the window, and began laying them 
around the dead girl's head. bathsheba knew no other 
way of showing kindness to persons departed than by 
giving them flowers. she knew not how long she 
remained engaged thus. she forgot time, life, where 
she was, what she was doing. a slamming together of 
the coach-house doors in the yard brought her to her+ 
self again. an instant after, the front door opened and 
closed, steps crossed the hall, and her husband appeared 
at the entrance to the room, looking in upon her. 
he beheld it all by degrees, stared in stupefaction at 
the scene, as if he thought it an illusion raised by some 
fiendish 
<p 359> 
incantation. bathsheba, pallid as a corpse on 
end, gazed back at him in the same wild way. 
so little are instinctive guesses the fruit of a legitimate 
induction, that at this moment, as he stood with the 
door in his hand, troy never once thought of fanny in 
connection with what he saw. his first confused idea 
was that somebody in the house had died. 
'weli-what ? ' said troy, blankly. 
'i must go ! i must go ! ' said bathsheba, to herself 
more than to him. she came with a dilated eye towards 
the door, to push past him. 
' what's the matter, in god's name ? who's dead ?' 
said troy. 
'i cannot say; let me go out. i want air.! ' she 
continued. 
'but no; stay, i insist ! ' he seized her hand, and 
then volition seemed to leave her, and she went off into 
a state of passivity. he, still holding her, came up the 
room, and thus, hand in hand, troy and bathsheba 
approached the coffin's side. 
the candle was standing on a bureau close by them, 
and the light slanted down, distinctly enkindling the 
cold features of both mother and babe. troy looked 
in, dropped his wife's hand, knowledge of it all came 
over him in a lurid sheen, and he stood still. 
so still he remained that he could be imagined to 
have left in him no motive power whatever. the 
clashes of feeling in all directions confounded one 
another, produced a neutrality, and there was motion in 
none. 
'do you know her?' said bathsheba, in a small 
enclosed echo, as from the interior of a cell. 
'i do,' said troy. 
'is it she?' 
'it is.' 
he had originally stood perfectly erect. and now, 
in the welinigh congealed immobility of his frame 
could be discerned an incipient movement, as in the 
darkest night may be discerned light after a while. 
he was gradually sinking forwards. the lines of his 
features softened, and dismay modulated to illiimitable 
sadness. bathsheba was regarding him from the other 
side, still with parted lips and distracted eyes. 
<p 360> 
capacity 
for intense feeling is proportionate to the general 
intensity of the nature ,and perhaps in all fanny's 
sufferings, much greater relatively to her strength, there 
never was a time she suffered in an absolute sense 
what bathsheba suffered now. 
what troy did was to sink upon  his knees with 
an indefinable union of remorse and reverence upon 
his face, and, bending over fanny robin, gently kissed 
her, as one would kiss an infant asleep to avoid 
awakening it. 
at the sight and sound of that, to her, unendurable 
act, bathsheba sprang towards him. all the strong 
feelings which had been scattered over her existence 
since she knew what feeling was, seemed gathered 
together into one pulsation now. the revulsion from 
her indignant mood a little earlier, when she had 
meditated upon compromised honour, forestalment, 
eclipse in maternity by another, was violent and entire. 
all that was forgotten in the simple and still strong 
attachment of wife to husband. she had sighed for 
her self-completeness then, and now she cried aloud 
against the severance of the union she had deplored. 
she flung her arms round troy's neck, exclaiming wildly 
from the deepest deep of her heart -- 
' don't -- don't kiss them !. o, frank, i can"t bear 
it-i can't ! i love you better than she did: kiss me 
too, frank -- kiss me ! you will, frank, kiss me too !' 
there was something so abnormal and startling in 
the childlike pain and simplicity of this appeal from a 
woman of bathsheba's calibre and independence, that 
troy, loosening her tightly clasped arms from his neck, 
looked at her in bewilderment. it was such and unex+ 
pected revelation of all women being alike at heart, even 
those so different in their accessories as fanny and this 
one beside him, that troy could hardly seem to believe 
her to be his proud wife bathsheba. fanny's own 
spirit seemed to be animating her frame. but this was 
the mood of a few instants only. when the momentary 
'i will not kiss you!' he said pushing her away. 
had the wife now but gone no further. yet, 
perhaps. under the harrowing circumstances, to speak 
out was the one wrong 
<p 361> 
act which can be better under+ 
stood, if not forgiven in her, than the right and politic 
one, her rival being now but a corpse. all the feeling 
she had been betrayed into showing she drew back to 
herself again by a strenuous effort of self-command. 
'what have you to say as your reason ?' she asked 
her bitter voice being strangely low -- quite that of 
another woman now. 
'i have to say that i have been a bad, black-hearted 
man,' he answered. 
less than she.' 
'ah! don't taunt me, madam. this woman is more 
to me, dead as she is, than ever you were, or are, or can 
be.  if satan had not tempted me with that face of 
yours, and those cursed coquetries, i should have 
he turned to fanny then. 'but never mind, darling,' 
wife.!' 
at these words there arose from bathsheba's lips a 
long, low cry of measureless despair and indignation, 
such a wail of anguish as had never before been heard 
within those old-inhabited walls. it was the ?????????? 
of her union with troy. 
"if she's  --  that, -- what -- am i ? ' she added, as a 
continuation of the same cry, and sobbing pitifully: 
and the rarity with her of such abandonment only made 
the condition more dire. 
" you are nothing to me  --  nothing,' said troy, 
heartlessly. 'a ceremony before a priest doesn't make 
a marriage. i am not morally yours.' 
a vehement impulse to flee from him, to run from 
this place, hide, and escape his words at any price, not 
stopping short of death itself, mastered bathsheba now. 
she waited not an instant, but turned to the door and 
ran out. 
<c xliv> 
<p 362> 
under a tree -- reaction 
bathsheba went along the dark road, neither know' 
ing nor caring about the direction or issue of her flight. 
the first time that she definitely noticed her position 
was when she reached a gate leading into a thicket over+ 
hung by some large oak and beech trees. on looking 
into the place, it occurred to her that she had seen it 
by daylight on some previous occasion, and that what 
appeared like an impassable thicket was in reality a 
brake of fern now withering fast. she could think of 
nothing better to do with her palpitating self than to go 
in here and hide; and entering, she lighted on a spot 
sheltered from the damp fog hy a reclining trunk, where 
she sank down upon a tangled couch of fronds and 
stems. she mechanically pulled some armfuls round 
her to keep off the breezes, and closed her eyes. 
whether she slept or not that night bathsheba was 
not clearly aware. but it was with a freshened exist+ 
ence and a cooler brain that, a long time afterwards, she 
became conscious of some interesting proceedings which 
were going on in the trees above her head and around. 
a coarse-throated chatter was the first sound. 
it was a sparrow just waking. 
next : ' chee-weeze-weeze-weeze .! ' from another 
retreat. 
it was a finch. 
third : ' tink-tink-tink-tink-a-chink ! ' from the hedge, 
it was a robin. 
' chuck-chuck-chuck !. ' overhead. 
a squirrel. 
then, from the road, 'with my ra-ta-ta, and my 
rum-tum-tum ! ' 
it was a ploughboy. presently he came opposite, 
and she believed from his voice that he was one of 
the boys on her own farm. he was followed by a 
shambling tramp of heavy feet, and 
<p 363> 
looking through 
the ferns bathsheba could just discern in the wan light 
of daybreak a team of her own horses. they stopped 
to drink at a pond on the other side of the way'. she 
watched them flouncing into the pool, drinking, tossing 
up their heads, drinking again, the water dribbling 
from their lips in silver threads. there was another 
flounce, and they came out of the pond, and turned 
back again towards the farm. 
she looked further around. day was just dawning, 
and beside its cool air and colours her heated actions 
and resolves of the night stood out in lurid contrast. 
she perceived that in her lap, and clinging to her 
hair, were red and yellow leaves which had come 
down from the tree and settled silently upon her 
during her partial sleep. bathsheba shook her dress to 
get rid of them, when multitudes of the same family lying 
round about her rose and fiuttered away in the breeze 
thus created, 'like ghosts from an enchanter fleeing.' 
there was an opening towards the east, and the 
glow from the as yet unrisen sun attracted her eyes 
thither. from her feet, and between the beautiful 
yellowing ferns with their feathery arms, the ground 
sloped downwards to a hollow, in which was a species 
of swamp, dotted with fungi. a morning mist hung 
over it now -- a fulsome yet magnificent silvery veil, 
full of light from the sun, yet semi-opaque -- the hedge 
behind it being in some measure hidden by its hazy 
luminousness. up the sides of this depression grew 
sheaves of the common rush, and here and there a 
peculiar species of flag, the blades of which glistened 
in the enaerging sun, like scythes. but the general 
aspect of the swamp was malignant. from its moist 
and poisonous coat seemed to be exhaled the essences 
of evil things in the earth, and in the waters under 
the earth. the fungi grew in all manner of positions 
from rotting leaves and tree stumps, some exhibiting 
to her listless gaze their clammy tops, others their 
oozing gills. some were marked with great splotches, 
red as arterial blood, others were saffron yellow, and 
others tall and attenuated, with stems like macaroni. 
some were leathery and of richest browns. the 
hollow seemed a nursery of pestilences small and 
great, in the immediate neighbourhood of comfort 
and health, and bathsheba arose with a tremor at the 
thought of having 
<p 364> 
passed the night on the brink of 
so dismal a place. 
'l'here were now other footsteps to be heard along 
the road. bathsheba's nerves were still unstrung : 
she crouchcd down out of sight again, and the pedes+ 
trian came into view. he was a schoolboy, with a 
bag slung over his shoulder containing his dinner, 
and a hook in his hand. he paused by the gate, 
and, without looking up, continued murmuring words 
in tones quite loud enough to reach her ears. 
'''o lord, o lord, o lord, o lord, o lord'': -- 
that i know out o' book. ''give us, give us, give us, 
give us, give us '' : -- that i know. ''grace that, grace that, 
grace that, grace that '' : -- that i know.' other words 
followed to the same effect. the boy was of the 
dunce class apparently; the book was a psalter, and 
this was his way of learning the collect. in the worst 
attacks of trouble there appears to be always a super+ 
ficial film of consciousness which is left disengaged 
and open to the notice of trifles, and bathsheba was 
faintly amused at the boy's method, till he too passed on. 
by this time stupor had given place to anxiety, and 
anxiety began to make room for hunger and thirst. 
a form now appeared upon the rise on the other side 
of the swamp, half-hidden by the mist, and came 
towards bathsheba. the woman -- for it was a woman 
 -- approached with her face askance, as if looking 
earnestly on all sides of her. when she got a little 
further round to the left, and drew nearer, bathsheba 
could see the newcomer's profile ngainst the sunny 
sky', and knew the wavy sweep from forehead to chin, 
with neither angle nor decisive line anywhere about 
it, to be the familiar contour of liddy smallbury. 
bathsheba's heart bounded with gratitude in the 
thought that she was not altogether deserted, and she 
jumped up. ' o, liddy .! ' she said, or attempted to say; 
but the words had only been framed hy her lips; there 
came no sound. she had lost her voice by exposure 
to the clogged atmosphere all these hours of night. 
'o, ma'am.! i am so glad i have found you,' said 
the girl, as soon as she saw bathsheba. 
' you can't come across,' bathsheba said in a whisper, 
wihich she 
<p 365> 
vainly endeavoured to make loud enough to 
reach liddy's ears. liddy, not knowing this, stepped 
down upon the swamp, saying, as she did so, 'it will 
bear me up, i think.' 
bathsheba never forgot that transient little picture 
of liddy crossing the swamp to her there in the 
morning light. iridescent bubbles of dank subter+ 
ranean breath rose from the sweating sod beside the 
waiting maid's feet as she trod, hissing as they burst 
and expanded away to join the vapoury firmament above. 
liddy did not sink, as bathsheba had anticipated. 
she landed safely on the other side, and looked up 
at the beautiful though pale and weary face of her 
young mistress. 
'poor thing ! ' said liddy, with tears in her eyes, 
do hearten yourself up a little, ma'am. however 
did --  -- ' 
'i can't speak above a whisper -- my voice is gone 
for the present,' said bathsheba, hurriedly. ' i suppose 
the damp air from that hollow has taken it away 
liddy, don't question me, mind. who sent you -- 
anybody ? ' 
' nobody. i thought, when i found you were not 
at home, that something cruel had happened. i fancy 
i heard his voice late last night; and so, knowing 
something was wrong --  -- ' 
'is he at home?' 
'no ; he left just before i came out.' 
'is fanny taken away ? ' 
' not yet. she will soon be -- at nine o'clock.' 
'we won't go home at present, then. suppose we 
walk about in this wood ?' 
liddy, without exactly understanding everything, or 
anything, in this episode, assented, and they walked 
together further among the trees. 
'but you had better come in, ma'am, and have 
something to eat. you will die of a chill! ' 
'i shall not come indoors yet -- perhaps never.' 
'shall i get you something to eat, and something 
else to put over your head besides that little shawl?' 
'if you will, liddy.' 
liddy vanished, and at the end of twenty minutes 
returned with a cloak, hat, some slices of bread and 
butter, a tea-cup, and some hot tea in a little china jug 
<p 366> 
"is fanny gone ? ' said bathsheba. 
' no,' said her companion, pouring out the tea. 
bathsheba wrapped herself up and ate and drank 
sparingly. her voice was then a little clearer, and 
trifling colour returned to her face. 'now we'll walk 
about again,' she said. 
they wandered about the wood for nearly two 
reaction 
hours, bathsheba replying in monosyllables to liddy's 
prattle, for her mind ran on one subject, and one only. 
she interrupted with -- 
'l wonder if fanny is gone by this time ? ' 
'i will go and see.' 
she came back with the information that the 
men were just taking away the corpse; that bathsheba 
had been inquired for; that she had replied to the 
effect that her mistress was unwell and could not be 
seen. 
'then they think i am in my bedroom ?' 
' yes.' liddy then ventured to add: ' you said 
when i first found you that you might never go home 
again -- you didn't mean it, ma'am ? ' 
'no; i've altered my mind. it is only women with 
no pride in them who run away from their husbands. 
there is one position worse than that of being found 
dead in your husband's house from his iliusage, and 
that is, to be found alive through having gone away to 
the house of somebody else. l've thought of it all this 
morning, and i've chosen my course. a runaway wife 
is an encumbrance to everybody, a burden to herself and 
a byword -- all of which make up a heap of misery 
greater than any that comes by staying at home -- 
though this may include the trifling items of insult, 
beating, and starvation. liddy, if ever you marry -- 
god forbid that you ever should ! -- you'll find yourself 
in a fearful situation ; but mind this, don't you flinch. 
stand your ground, and be cut to pieces. that's 
what i'm going to do.' 
' o, mistress, don't talk so .! ' said liddy,-taking her 
hand; 'but i knew you had too much sense to bide 
away. may i ask what dreadful thing it is that has 
happened between you and him ?' 
' you may ask; but i may not tell.' 
in about ten minutes they returned to the house by 
a cimuitous route, entering at the rear. bathsheba 
glided up the 
<p 367> 
back stairs to a disused attic, and her 
companion followed. 
'liddy,' she said, with a lighter heart, for youth an 
hope had begun to reassert themselves; ' you are to b 
my confidante for the present -- somebody must be -- and 
i choose you. well, i shall take up my abode here fo 
a while. will you get a fire lighted, put down a piece 
of carpet, and help me to make the place comfortable. 
afterwards, i want you and maryann to bring up that 
little stump bedstead in the small room, and the be 
belonging to it, and a table, and some other things. 
what shall i do to pass the heavy time away ?' 
'hemming handkerchiefs is a very good thing,' said 
liddy. 
'o no, no .! i hate needlework-i always did.' 
'knitting ? ' 
' and that, too.' 
'you might finish your sampler. only the carn 
tions and peacocks want filling in; and then it could 
be framed and glazed, and hung beside your aunt' 
ma'am.' 
' samplers are out of date -- horribly countrified. no 
liddy, i'll read. bring up some books -- not new ones. 
i haven't heart to read anything new.' 
'some of your uncle's old ones, ma'am ? ' 
' yes. some of those we stowed away in boxes.' , 
faint gleam of humour passed over her face as she said: 
'bring beaumont and fletcher's mai'd's tragedy,- an 
the mourning bride ,- and-iet me see -- niht thoghts, 
and the vanity of human wishes.' 
'and that story of the black man, who murdered his 
wife desdemona? it is a nice dismal one that would 
suit you excellent just now.' 
' now, liddy, you've been looking into my book 
without telling me; and i said you were not to ! how 
do you know it would suit me? it wouldn't suit me a 
all.' 
'but if the others do --  -- ' 
' no, they don't ; and i won't read dismal books. 
why should i read dismal books, indeed ? bring me 
love in a village, and maid of the mill, and doctor 
syntax, and some volumes of the spectator.' 
all that day bathsheba and liddy lived in the attic 
in a state of 
<p 368> 
barricade ; a precaution which proved to be 
needless as against troy, for he did not appear in the 
neighbourhood or trouble them at all. bathsheba sat 
at the window till sunset, sometimes attempting to read, 
at other times watching every movement outside without 
much purpose, and listening without much interest to 
every sound. 
the sun went down almost blood-red that night, and 
a livid cloud received its rays in the east. up against 
this dark background the west front of the church 
tower -- the only part of the edifice visible from the 
farm-house windows -- rose distinct and lustrous, the 
vane upon the summit bristling with rays. hereabouts, 
at six o'clock, the young men of the village gathered, 
as was their custom, for a game of prisoners' base. the 
spot had been consecrated to this ancient diversion from 
time immemorial, the old stocks conveniently forming 
a base facing the boundary of the churchyard, in front 
of which the ground was trodden hard and bare as a 
pavement by the players. she could see the brown 
and black heads of the young lads darting about right 
and left, their white shirt-sleeves gleaming in the sun; 
whilst occasionally a shout and a peal of hearty laughter 
varied the stillness of the evening air. they continued 
playing for a quarter of an hour or so, when the game 
concluded abruptly, and the players leapt over the wall 
and vanished round to the other side behind a yew-tree, 
which was also half behind a beech, now spreading in 
one mass of golden foliage, on which the branches 
traced black lines. 
'why did the base-players finish their game so 
suddenly?' bathsheba inquired, the next time that 
liddy entered the room. 
' i think 'twas because two men came just then from 
casterbridge and began putting up grand carved 
tombstone,' said liddy.  'the lads went to see whose 
it was.' 
' do you know ? ' bathsheba asked. 
' i don't,' said liddy. 
<c xlv> 
<p 369> 
troy's romanticism 
when troy's wife had left the house at the previous 
midnight his first act was to cover the dead from sight. 
this done he ascended the stairs, and throwing himself 
down upon the bed dressed as he was, he waited miser+ 
ably for the morning. 
fate had dealt grimly with him through the last four+ 
and-twenty hours. his day had been spent in a way 
which varied very materially from his intentions regard+ 
ing it. there is always an inertia to be overcome in 
striking out a new line of conduct -- not more in our+ 
selves, it seems, than in circumscribing events, which 
appear as if leagued together to allow no novelties in 
the way of amelioration. 
twenty pounds having been secured from bathsheba, 
he had managed to add to the sum every farthing he 
could muster on his own account, which had been seven 
pounds ten. with this money, twenty-seven pounds ten 
in all, he had hastily driven from the gate that morning 
to keep his appointment with fanny robin. 
on reaching casterbridge he left the horse and trap 
at an inn, and at five minutes before ten came back to 
the bridge at the lower end of the town, and sat himself 
upon the parapet. the clocks struck the hour, and no 
fanny appeared. in fact, at that moment she was being 
robed in her grave-clothes by two attendants at the 
union poorhouse -- the first and last tiring-women the 
gentle creature had ever been honoured with. the 
quarter went, the half hour. a rush of recollection 
came upon troy as he waited: this was the second 
time she had broken a serious engagement with him 
in anger he vowed it should be the last, and at eleven 
o'clock, when he had lingered and watched the stone 
of the bridge till he knew every lichen upon their face 
and heard the chink of the ripples underneath till they 
oppressed him, he jumped from his seat, went to the inn 
<p 370> 
for his gig, and in a bitter mood of indifference con+ 
cerning the past, and recklessness about the future, 
drove on to budmouth races. 
he reached the race-course at two o'clock, and re+ 
mained either there or in the town till nine, but 
fanny's image, as it had appeared to him in the sombre 
shadows of that saturday evening, returned to his mind, 
backed up by bathsheba's reproaches. he vowed he 
would not bet, and he kept his vow, for on leaving the 
town at nine o'clock in the evening he had diminish 
his cash only to the extent of a few shillings. 
he trotted slowly homeward, and it was now that 
was struck for the first time with a thought that fanny 
had been really prevented by illness from keeping her 
promise. 'this time she could have made no mistake 
he regretted that he had not remained in casterbridge 
and made inquiries. reaching home he quietly un+ 
harnessed the horse and came indoors, as we have seen, 
to the fearful shock that awaited him. 
as soon as it grew light enough to distinguish objects, 
troy arose from the coverlet of the bed, and in a mood 
of absolute indifference to bathsheba's whereabouts, a 
almost oblivious of her existence, he stalked downstairs 
and left the house by the back door. his walk was 
towards the churchyard, entering which he searched 
around till he found a newly dug unoccupied grave -- 
the grave dug the day before for fanny. the position 
of this having been marked, he hastened on to caster+ 
bridge, only pausing 
whereon he had last seen fanny alive. 
reaching the town, troy descended into a side 
street and entered a pair of gates surmounted by a board 
bearing the words, 'lester, stone and marble mason.' 
within were lying about stones of all sizes and designs, 
inscribed as being sacred to the memory of unnamed 
persons who had not yet died. 
troy was so unlike himself now in look, word, and 
deed, that the want of likeness was perceptible even to 
his own consciousness. his method of engaging himself 
in this business of purchasing a tomb was that of an 
absolutely unpractised man. he could not bring him+ 
self to consider, calculate, or 
<p 371> 
economize. he waywardly 
wished for something, and he set about obtaining it like 
a child in a nursery. 'i want a good tomb,' he said to 
the man who stood in a little office within the yard. 
'i want as good a one as you can give me for twenty+ 
seven pounds,' 
it was all the money he possessed. 
'that sum to include everything?' 
' everything. cutting the name, carriage to weather+ 
bury, and erection. and i want it now at once .' 
' we could not get anything special worked this 
week. 
'if you would like one of these in stock it could be 
got ready immediately.' 
'very well,' said troy, impatiently.  'let's see what 
you have.' 
'the best i have in stock is this one, 'said the stone+ 
cutter, going into a shed. ' here's a marble headstone 
beautifully crocketed, with medallions beneath of typical 
subjects ; here's the footstone after the same pattern, 
and here's the coping to enclose the- grave. the 
slabs are the best of their kind, and i can warrant them 
'well, i couid add the name, and put it up at 
visitor who wore not a shred of mourning. troy then 
settled the account and went away. in the afternoon 
almost done. he waited in the yard till the tomb was 
way to weatherbury, giving directions to the two men 
the grave of the person named in the inscription. 
bridge. he carried rather a heavy basket upon his 
occasionally at bridges and 
<p 372> 
gates, whereon he deposited 
returning in the darkness, the men and the waggon 
the work was done, and, on being assured that it was, 
troy entered weatherbury churchyard about ten 
had marked the vacant grave early in the morning. it 
extent from the view of passers along the road -- a spot 
and bushes of alder, but now it was cleared and made 
the ground elsewhere. 
here now stood the tomb as the men had stated, snow+ 
white and shapely in the gloom, consisting of head and 
foot-stone, and enclosing border of marble-work uniting 
them. in the midst was mould, suitable for plants. 
troy deposited his basket beside the tomb, and 
vanished for a few minutes. when he returned he 
carried a spade and a lantern, the light of which he 
directed for a few moments upon the marble, whilst he 
read the inscription. he hung his lantern on the lowest 
bough of the yew-tree, and took from his basket flower+ 
roots of several varieties. there were bundles of snow+ 
drop, hyacinth and crocus bulbs, violets and double 
daisies, which were to bloom in early spring, and of 
carnations, pinks, picotees, lilies of the valley, forget-me+ 
not, summer's-farewell, meadow-saffron and others, for 
the later seasons of the year. 
troy laid these out upon the grass, and with an im+ 
passive face set to work to plant them. the snowdrops 
were arranged in a line on the outside of the coping, 
the remainder within the enclosure of the grave. the 
crocuses and hyacinths were to grow in rows; some of 
the summer flowers he placed over her head and feet, 
the lilies and forget-me-nots over her heart. the 
remainder were dispersed in the spaces between these. 
troy, in his prostration at this time, had no percep+ 
tion that in the futility of these romantic doings, dictated 
by a remorseful reaction from previous indifference, there 
was any element 
<p 373> 
of absurdity. deriving his idiosyn+ 
crasies from both sides of the channel, he showed at 
such junctures as the present the inelasticity of the 
englishman, together with that blindness to the line 
where sentiment verges on mawkishness, characteristic 
of the french. 
lt was a cloudy, muggy, and very dark night, and 
the rays from troy's lantern spread into the two old 
yews with a strange illuminating power, flickering, as it 
seemed, up to the black ceiling of cloud above. he 
felt a large drop of rain upon the back of his hand, and 
presently one came and entered one of the holes of the 
lantern, whereupon the candle sputtered and went out+ 
troy was weary and it being now not far from midnight, 
and the rain threatening to increase, he resolved to leave 
the finishing touches of his labour until the day should 
break. he groped along the wall and over the graves 
in the dark till he found himself round at the north side. 
here he entered the porch, and, reclining upon the 
bench within, fell asleep. 
<c xlvi> 
<p 374> 
the gurgoyle : its doings 
the tower of weatherbury church was a square 
erection of fourteenth-century date, having two stone 
gurgoyles on each of the four faces of its parapet. of 
these eight carved protuberances only two at this time 
continued to serve the purpose of their erection -- that 
of spouting the water from the lead roof within. one 
mouth in each front had been closed hy bygone church+ 
wardens as superfluous, and two others were broken 
away and choked -- a matter not of much consequence 
to the welibeing of the tower, for the two mouths which 
still remained open and active were gaping enough to do 
all the work. 
it has been sometimes argued that there is no truer 
criterion of the vitality of any given art-period than the 
power of the master-spirits of that time in grotesque ; 
and certainly in the instance of gothic art there is no 
disputing the proposition. weatherbury tower was a 
somewhat early instance of the use of an ornamental 
parapet in parish as distinct from cathedral churches, 
and the gurgoyles, which are the necessary correlatives 
of a parapet, were exccptionally prominent -- of the 
boldest cut that the hand could shape, and of the most 
original design that a human brain could conceive. 
there was, so to speak, that symmetry in their distortion 
which is less the characteristic of british than of 
continental grotesques of the period. all the eight 
were different from each other. a beholder was con+ 
vinced that nothing on earth could be more hideous 
than those he saw on the north side until he went 
round to the south. of the two on this latter face, only 
that at the south-eastern corner concerns the story. it 
was too human to be called like a dragon, too impish 
to be like a man, too animal to be like a fiend, and not 
enough like a bird to be called a griffin. this horrible 
stone entity was fashioned as if covered with a 
<p 375> 
wrinkled 
hide; it had short, erect ears, eyes starting from their 
sockets, and its fingers and hands were seizing the 
corners of its mouth, which they thus seemed to pull 
open to give free passage to the water it vomited. the 
lower row of teeth was quite washed away, though the 
upper still remained. here and thus, jutting a couple 
of feet from the wall against which its feet rested as a 
support, the creature had for four hundred years 
laughed at the surrounding landscape, voicelessly in 
dry weather, and in wet with a gurgling and snorting 
sound. 
troy slept on in the porch, and the rain increased 
outside. presently the gurgoyle spat. in due time a 
small stream began to trickle through the seventy feet 
of aerial space between its mouth and the ground, which 
the water-drops smote like duckshot in their accelerated 
velocity. the stream thickened in substance, and in+ 
creased in power, gradually spouting further and yet 
further from the side of the tower. when the rain fell 
in a steady and ceaseless torrent the stream dashed 
downward in volumes. 
we follow its course to the ground at this point of 
time. the end of the liquid parabola has come forward 
from the wall, has advanced over the plinth mouldings, 
over a heap of stones, over the marble border, into the 
midst of fanny robin's grave. 
the force of the stream had, until very lately, been 
received upon some loose stones spread thereabout, 
which had acted as a shield to the soil under the onset. 
these during the summer had been cleared from the 
ground, and there was now nothing to resist the down+ 
fall but the bare earth. for several years the stream 
had not spouted so far from the tower as it was doing 
on this night, and such a contingency had been over+ 
looked. sometimes this obscure corner received no 
inhabitant for the space of two or three years, and 
then it was usually but a pauper, a poacher, or other 
sinner of undignified sins. 
the persistent torrent from the gurgoyle's jaws 
directed all its vengeance into the grave. the rich 
tawny mould was stirred into motion, and boiled like 
chocolate. the water accumulated and washed deeper 
down, and the roar of the pool thus formed spread into 
the night as the head and chief among other noises of 
<p 376> 
the kind created by the deluging rain. the flowers so 
carefully planted by fanny's repentant lover began to 
move and writhe in their bed. the winter-violets 
turned slowly upside down, and became a mere mat of 
mud. soon the snowdrop and other bulbs danced in 
the boiling mass like ingredients in a cauldron. plants 
of the tufted species were loosened, rose to the surface, 
and floated of. 
troy did not awake from his comfortless sleep till it 
was broad day. not having been in bed for two nights 
his shouldrrs felt stiff his feet tender, and his head 
heavy. he remembered his position, arose, shivered, 
took the spade, and again went out. 
the rain had quite ceased, and the sun was shining 
through the green, brown, and yellow leaves, now 
sparkling and varnished by the raindrops to the bright+ 
ness of similar effects in the landscapes of ruysdael and 
hobbema, and full of all those infinite beauties that 
arise from the union of water and colour with high 
lights. the air was rendered so transparent by the 
heavy fall of rain that the autumn hues of the middle 
distance were as rich as those near at hand, and the 
remote fields intercepted by the angle of the tower ap+ 
peared in the same plane as the tower itself. 
he entered the gravel path which would take him 
behind the tower. the path, instead of being stony as 
it had been the night before, was browned over with a 
thin coating of mud. at one place in the path he saw 
a tuft of stringy roots washed white and clean as a 
bundle of tendons. he picked it up -- surely it could 
not be one of the primroses he had planted? he saw 
a bulb, another, and another as he advanced. beyond 
doubt they were the crocuses. with a face of perplexed 
dismay troy turned the corner and then beheld the 
wreck the stream had made. 
the pool upon the grave had soaked away into the 
ground, and in its place was a hollow. the disturbed 
earth was washed over the grass and pathway in the 
guise of the brown mud he had already seen, and it 
spotted the marble tombstone with the same stains. 
nearly all the flowers were washed clean out of the 
ground, and they lay, roots upwards, on the spots whither 
they had been splashed by the stream. 
<p 377> 
troy's brow became heavily contracted. he set his 
teeth closely, and his compressed lips moved as those of 
one in great pain. this singular accident, by a strange 
confluence of emotions in him, was felt as the sharpest 
sting of all. troy's face was very expressive, and any 
observer who had seen him now would hardly have 
believed him to be a man who had laughed, and sung, 
and poured love-trifles into a woman's ear. to curse 
his miserable lot was at first his impulse, but even that 
lowest stage of rebellion needed an activity whose 
absence was necessarily antecedent to the existence of the 
morbid misery which wrung him. the sight, coming 
as it did, superimposed upon the other dark scenery of 
the previous days, formed a sort of climax to the whole 
panorama, and it was more than he could endure. 
sanguine by nature, troy had a power of eluding 
grief by simply adjourning it. he could put off the 
consideration of any particular spectre till the matter 
had become old and softened by time. the planting 
of flowers on fanny's grave had been perhaps but a 
species of elusion of the primary grief, and now it was 
as if his intention had been known and circumvented. 
almost for the first time in his life, troy, as he stood 
by this dismantled grave, wished himself another man. 
lt is seldom that a person with much animal spirit does 
not feel that the fact of his life being his own is the one 
qualification which singles it out as a more hopeful life 
than that of others who may actually resemble him in 
every particular. troy had felt, in his transient way, 
hundreds of times, that he could not envy other people 
their condition, because the possession of that condition 
would have necessitated a different personality, when he 
desired no other than his own. he had not minded 
the peculiarities of his birth, the vicissitudes of his life, 
the meteoriike uncertainty of all that related to him, 
because these appertained to the hero of his story, 
without whom there would have been no story at all for 
him; and it seemed to be only in the nature of things 
that matters would right themselves at some proper date 
and wind up well. this very morning the illusion 
completed its disappearance, and, as it were, all of a 
sudden, troy hated himself. the suddenness was 
probably more 
<p 378> 
apparent than real. a coral reef which 
just comes short of the ocean surface is no more to the 
horizon than if it had never been begun, and the mere 
finishing stroke is what often appears to create an event 
which has long been potentially an accomplished thing. 
he stood and mediated -- a miserable man. whither 
should he go ? " he that is accursed, let him be accursed 
still,' was the pitiless anathema written in this spoliated 
effort of his new-born solicitousness. a man who has 
spent his primal strength in journeying in one direction 
has not much spirit left for reversing his course. troy 
had, since yesterday, faintly reversed his ; but the merest 
opposition had disheartened him. to turn about would 
have been hard enough under the greatest providential 
encouragement; but to find that providence, far from 
helping him into a new course, or showing any wish 
that he might adopt one, actuallyjeered his first trembling 
and critical attempt in that kind, was more than nature 
could bear. 
he slowly withdrew from the grave. he did not 
attempt to fill up the hole, replace the flowers, or do 
anything at all. he simply threw up his cards and 
forswore his game for that time and always. going out 
of the churchyard silently and unobserved -- none of the 
villagers having yet risen -- he passed down some fields 
at the back, and emerged just as secretly upon the high 
road. shortly afterwards he had gone from the village. 
meanwhile, bathsheba remained a voluntary prisoner 
in the attic. the door was kept locked, except during 
the entries and exits of liddy, for whom a bed had 
been arranged in a small adjoining room. the light 
of troy's lantern in the churchyard was noticed about 
ten o'clock by the maid-servant, who casually glanced 
from the window in that direction whilst taking her 
supper, and she called bathsheba's attention to it. 
they looked curiously at the phenomenon for a time, 
until liddy was sent to bed. 
bathsheba did not sleep very heavily that night. 
when her attendant was unconscious and softly breath+ 
ing in the next room, the mistress of the house was 
still looking out of the window at the faint gleam 
spreading from among the trees -- 
<p 379> 
not in a steady shine, 
but blinking like a revolving coastiight, though this 
appearance failed to suggest to her that a person was 
passing and repassing in front of it. bathsheba sat 
here till it began to rain, and the light vanished, when 
she withdrew to lie restlessly in her bed and re-enact 
in a worn mind the lurid scene of yesternight. 
almost before the first faint sign of dawn appeared 
she arose again, and opened the window to obtain a full 
breathing of the new morning air, the panes being now 
wet with trembling tears left by the night rain, each 
one rounded with a pale lustre caught from primrose+ 
hued slashes through a cloud low down in the awaken+ 
ing sky. from the trees came the sound of steady 
dripping upon the drifted leaves under them, and from 
the direction of the church she could hear another noise 
 -- peculiar, and not intermittent like the rest, the purl 
of water falling into a pool. 
liddy knocked at eight o'clock, and bathsheba un+ 
locked the door. 
" what a heavy rain we've had in the night, ma'am!.' 
said liddy, when her inquiries about breakfast had been 
made. 
" yes ; very heavy.' 
"did you hear the strange noise from the church 
yard?' 
"i heard one strange noise. i've been thinking it 
must have been the water from the tower spouts.' 
"well, that's what the shepherd was saying, ma'am. 
he's now gone on to see. 
"oh!. gabriel has been here this morning!.' 
"only just looked in in passing -- quite in his old way, 
which i thought he had left off lately. but the tower 
spouts used to spatter on the stones, and we are puzzled, 
for this was like the boiling of a pot.' 
not being able to read, think, or work, bathsheba asked 
liddy to stay and breakfast with her. the tongue of the 
more childish womian still ran upon recent events. "are 
you going across to the church, ma'am?' she asked. 
"not that i know of,' said bathsheba. 
"i thought you might like to go and see where they 
have put fanny. the trees hide the place from your 
window.' 
<p 380> 
bathsheba had all sorts of dreads about meeting her 
husband. "has mr. troy been in to-night?' she said 
" no, ma'am ; i think he's gone to budmouth. 
budmouth! the sound of the word carried with 
it a much diminished perspective of him and his deeds; 
there were thirteen miles interval betwixt them now. 
she hated questioning liddy about her husband's 
movements, and indeed had hitherto sedulously avoided 
doing so; but now all the house knew that there had 
been some dreadful disagreement between them, and 
it was futile to attempt disguise. bathsheba had 
reached a stage at which people cease to have any 
appreciative regard for public opinion. 
"what makes you think he has gone there?' she said. 
"laban tall saw him on the budmouth road this 
morning before breakfast.' 
bathsheba was momentarily relieved of that wayward 
heaviness of the past twenty-four hours which had 
quenched the vitality of youth in her without sub+ 
stituting the philosophy of maturer years, and the 
resolved to go out and walk a little way. so when 
breakfast was over, she put on her bonnet, and took 
a direction towards the church. it was nine o'clock, 
and the men having returned to work again from their 
first meal, she was not likely to meet many of them in 
the road. knowing that fanny had been laid in the 
reprobates' quarter of the graveyard, called in the parish 
'behind church,' which was invisible from the road, it 
was impossible to resist the impulse to enter and look 
upon a spot which, from nameless feelings, she at the 
same time dreaded to see. she had been unable to 
overcome an impression that some connection existed 
between her rival and the light through the trees. 
bathsheba skirted the buttress, and beheld the hole 
and the tomb, its delicately veined surface splashed and 
stained just as troy had seen it and left it two hours 
earlier. on the other side of the scene stood gabriel. 
his eyes, too, were fixed on the tomb, and her arrival 
having been noiseless, she had not as yet attracted his 
attention. bathsheba did not at once perceive that the 
grand tomb and the disturbed grave were fanny's, and 
she looked on both sides and around for some humbler 
mound, 
<p 381> 
earthed up and clodded in the usual way. then 
her eye followed oak's, and she read the words with 
which the inscription opened : -- 
"erected by francis troy in beloved memory of 
fanny robin.' 
oak saw her, and his first act was to gaze inquiringly 
and learn how she received this knowledge of the 
authorship of the work, which to himself had caused 
considerable astonishment. but such discoveries did 
not much affect her now. emotional convulsions seemed 
to have become the commonplaces of her history, and 
she bade him good morning, and asked him to fill in 
the hole with the spade which was standing by. whilst 
oak was doing as she desired, bathsheba collected the 
flowers, and began planting them with that sympathetic 
manipulation of roots and leaves which is so conspicuous 
in a woman's gardening, and which flowers seem to 
understand and thrive upon. she requested oak to 
get the churchwardens to turn the leadwork at the 
mouth of the gurgoyle that hung gaping down upon 
them, that by this means the stream might be directed 
sideways, and a repetition of the accident prevented. 
finally, with the superfluous magnanimity of a woman 
whose narrower instincts have brought down bitterness 
upon her instead of love, she wiped the mud spots from 
the tomb as if she rather liked its words than otherwise, 
<c xlvii> 
<p 382> 
adventures by the shore 
troy wandered along towards the south. a composite 
feeling, made up of disgust with the, to him, humdrum 
tediousness of a farmer's life, gloomly images of her who 
lay in the churchyard, remorse, and a general averseness 
to his wife's society, impelled him to seek a home in any 
place on earth save weatherbury. the sad accessories 
of fanny's end confronted him as vivid pictures which 
threatened to be indelible, and made life in bathsheba's 
house intolerable. at three in the afternoon he found 
himself at the foot of a slope more than a mile in length, 
which ran to the ridge of a range of hills lying parallel 
with the shore, and forming a monotonous barrier between 
the basin of cultivated country inland and the wilder 
scenery of the coast. up the hill stretched a road 
nearly straight and perfectly white, the two sides 
approaching each other in a gradual taper till they 
met the sky at the top about two miles off. through+ 
out the length of this narrow and irksome inclined plane 
not a sign of life was visible on this garish afternoon 
troy toiled up the road with a languor and depression 
greater than any he had experienced for many a day 
and year before. the air was warm and muggy, and 
the top seemed to recede as he approached. 
at last he reached the summit, and a wide and 
novel prospect burst upon him with an effect almost like 
that of the pacific upon balboa's gaze. the broad 
steely sea, marked only by faint lines, which had a 
semblance of being etched thereon to a degree not deep 
enough to disturb its general evenness, stretched the 
whole width of his front and round to the right, where, 
near the town and port of budmouth, the sun bristled 
down upon it, and banished all colour, to substitute in 
its place a clear oily polish. nothing moved in sky, 
land, or sea, except a frill of milkwhite foam along the 
nearer angles of the 
<p 383> 
shore, shreds of which licked the 
contiguous stones like tongues. 
he descended and came to a small basin of sea 
enclosed by the cliffs. troy's nature freshened within 
him ; he thought he would rest and bathe here before 
going farther. he undressed and plunged in. inside 
the cove the water was uninteresting to a swimmer, 
being smooth as a pond, and to get a little of the ocean 
swell, troy presently swam between the two projecting 
spurs of rock which formed the pillars of hercules to 
this miniature mediterranean. unfortunately for troy 
a current unknown to him existed outside, which, un+ 
important to craft of any burden, was awkward for a 
swimmer who might be taken in it unawares. troy 
found himself carried to the left and then round in a 
swoop out to sea. 
he now recollected the place and its sinister 
character. many bathers had there prayed for a dry 
death from time to time, and, like gonzalo also, had 
been unanswered ; and troy began to deem it possible 
that he might be added to their number. not a boat 
of any kind was at present within sight, but far in the 
distance budmouth lay upon the sea, as it were quietly 
regarding his efforts, and beside the town the harbour 
showed its position by a dim meshwork of ropes and 
spars. after welinigh exhausting himself in attempts 
to get back to the mouth of the cove, in his weakness 
swimming several inches deeper than was his wont, 
keeping up his breathing entirely by his nostrils, turning 
upon his back a dozen times over, swimming <1en papillon>1 
and so on, troy resolved as a last resource to tread 
water at a slight incline, and so endeavour to reach the 
shore at any point, merely giving himself a gentle 
impetus inwards whilst carried on in the general direc+ 
tion of the tide. this, necessarily a slow process, he 
found to be not altogether so difficult, and though there 
was no choice of a landing-place -- the objects on shore 
passing by him in a sad and slow procession -- he per+ 
ceptibly approached the extremity of a spit of land yet 
further to the right, now well defined against the sunny 
portion of the horizon- while the swimmer s eye's were 
fixed upon the spit as his only means of salvation on 
this side of the 
<p 384> 
unknown, a moving object broke the 
outline of the extremity, and immediately a ship's boat 
appeared manned with several sailor lads, her bows 
towards the sea. 
all troy's vigour spasmodically revived to prolong 
the struggle yet a little further. swimming with his 
right arm, he held up his left to hail them, splashing 
upon the waves, and shouting with all his might. from 
the position of the setting sun his white form was 
distinctly visible upon the now deep-hued bosom of the 
sea to the east of the boat, and the men saw him at 
once. backing their oars and putting the boat about, 
they pulled towards him with a will, and in five or six 
minutes from the time of his first halloo, two of the 
sailors hauled him in over the stern. 
they formed part of a brig's crew, and had come 
ashore for sand. lending him what little clothing they 
could spare among them as a slight protection against 
late they made again towards the roadstead where their 
and now night drooped slowly upon the wide watery 
levels in front; and at no great distance from them, 
where the shoreiine curved round, and formed a long 
riband of shade upon the horizon, a series of points of 
yellow light began to start into existence, denoting the 
spot to be the site of budmouth, where the lamps were 
being lighted along the parade. the cluck of their 
oars was the only sound of any distinctness upon the 
sea, and as they laboured amid the thickening shades 
the lampiights grew larger, each appearing to send a 
flaming sword deep down into the waves before it, until 
there arose, among other dim shapes of the kind, the 
form of the vessel for which they were bound. 
<c xlviii> 
<p 385> 
doubts arise -- doubts linger 
bathsheba underwent the enlargement of her 
husband's absence from hours to days with a slight 
feeling of suprise, and a slight feeling of relief; yet 
neither sensation rose at any time far above the level 
commonly designated as indifference. she belonged to 
him : the certiinties of that position were so well defined, 
and the reasonable probabilies of its issue so bounded 
that she could not speculate on contingenciezs. taking 
no further interest in herself as a splendid woman, she 
acquired the indifferent feelings of an outsider in contem+ 
plating her probable fate as a singular wretch ; for bath+ 
sheba drew herself and her future in colours that no 
reality could exceed for darkness. her original vigorous 
pride of youth had sickened, and with it had declined 
all her anzieties about coming years, since anxiety 
recognizes a better and a worse alternative, and bath+ 
sheba had made up her mind that alternatives on any 
noteworthy scale had ceased for her. soon, or later -- 
and that not very late -- her husband would be home 
again. and then the days of their tenancy of the 
upper farm would be numbered. there had origin+ 
ally been shown by the agent to the estate some distrust 
of bathsheba's tenure as james everdene's successor, 
on the score of her sex, and her youth, and her beauty ; 
but the peculiar nature of her uncle's will, his own 
frequent testimony before his death to her cleverness 
in such a pursuit, and her vigorous marshalling of the 
numerous flocks and herds which came suddenly into 
her hands before negotiations were concluded, had won 
confidence in her powers, and no further objections had 
been raised. she had latterly been in great doubt as 
to what the legal effects of her marriage would be upon 
her position; but no notice had been taken as yet of 
her change of name, and only one point was clear -- that 
in the event of her own or her husband's inability to 
meet the agent at the 
<p 386> 
forthcoming january rent-day, 
very little consideration would be shown, and, for that 
matter, very little would be deserved. once out of the 
farm, the approach of poverty would be sure. 
hence bathsheba lived in a perception that her 
purposes were broken of. she was not a woman who 
could hope on without good materials for the process, 
differing thus from the less far-sighted and energetic, 
though more petted ones of the sex, with whom hope 
goes on as a sort of clockwork which the merest food 
and shelter are sufficient to wind up; and perceiving 
clearly that her mistake had been a fatal one, she 
accepted her position, and waited coldly for the end. 
the first saturday after troy's departure she went 
to casterbridge alone, a journey she had not before 
taken since her marriage. on this saturday bathsheba 
was passing slowly on foot through the crowd of rural 
business-men gathered as usual in front ot the market+ 
house, who were as usual gazed upon by the burghers 
with feelings that those healthy lives were dearly paid 
for by exclusion from possible aldermanship, when a 
man, who had apparently been following her, said some 
words to another on her left hand. bathsheba's ears 
were keen as those of any wild animal, and she dis+ 
tinctly heard what the speaker said, though her back 
was towards him 
"i am looking for mrs. troy. is that she there?' 
" yes ; that's the young lady, i believe,' said the 
the person addressed. 
"i have some awkward news to break to her. her 
husband is drowned.' 
as if endowed with the spirit of prophecy, bathsheba 
gasped out, "no, it is not true; it cannot be true!' 
then she said and heard no more. the ice of self+ 
command which had latterly gathered over her was 
broken, and the currents burst forth again, and over 
whelmed her. a darkness came into her eyes, and she 
fell. 
but not to the ground. a gloomy man, who had 
been observing her from under the portico of the old 
corn-exchange when she passed through the group 
without, stepped quickly to her side at the moment of 
her exclamation, and caught her in his arms as she sank 
down. 
<p 387> 
"what is it?' said boldwood, looking up at the 
bringer of the big news, as he supported her. 
"her husband was drowned this week while bathing 
in lulwind cove. a coastguardsman found his clothes, 
and brought them into budmouth yestersay.' 
thereupon a strange fire lighted up boldwood's eye, 
and his face flushed with the suppressed excitement of 
an unutterable thought. everybody's glance was now 
centred upon him and the unconsious bathsheba. he 
lifted her bodily off the ground, and smoothed down 
the folds of her dress as a child might have taken a 
storm-beaten bird and arranged its ruffled plumes, and 
bore her along the pavement to the king's arms inn. 
here he passed with her under the archway into a 
private room; and by the time he had deposited -- so 
lothly -- the precious burden upon a sofa, bathsheba had 
opened her eyes. remembering all that had occurred, 
she murmured, 'i want to go home .! ' 
boldwood left the room. he stood for a moment in 
the passage to recover his senses. the experience had 
been too much for his consciousness to keep up with, 
and now that he had grasped it it had gone again. for 
those few heavenly, golden moments she had been in his 
arms. what did it matter about her not knowing it? she 
had been close to his breast ; he had been close to hers. 
he started onward again, and sending a woman to 
her, went out to ascertain all the facts of the case. 
these appeared to be limited to what he had already 
heard. he then ordered her horse to be put into the 
gig, and when all was ready returned to inform her. 
he found that, though still pale and unwell, she had in 
the meantime sent for the budmouth man who brought 
the tidings, and learnt from him all there was to know. 
being hardly in a condition to drive home as she 
had driven to town, boldwood, with every delicacy of 
manner and feeling, offered to get her a driver, or to 
give her a seat in his phaeton, which was more com+ 
fortable than her own conveyance. these proposals 
bathsheba gently declined, and the farmer at once de+ 
parted. 
about half-an-hour later she invigorated herself by 
an effort, and took her seat and the reins as usuai-in 
external 
<p 388> 
appearance much as if nothing had happened. 
she went out of the town by a tortuous back street, and 
drove slowly along, unconscious of the road and the 
scene. the first shades of evening were showing them+ 
selves when bathsheba reached home, where, silently 
alighting and leaving the horse in the hands of the boy, 
she proceeded at once upstairs. liddy met her on the 
landing. the news had preceded bathsheba to weather+ 
bury by half-an-hour, and liddy looked inquiringly into 
her mistress's face. bathsheba had nothing to say. 
she entered her bedroom and sat by the window, and 
thought and thought till night enveloped her, and the 
extreme lines only of her shape were visible. somebody 
came to the door, knocked, and opened it. 
' well, what is it, liddy ? ' she said. 
'i was thinking there must be something got for you 
to wear,' said liddy, with hesitation. 
'what do you mean ?' 
' mourning.' 
' no, no, no,' said bathsheba, hurriedly. 
'but i suppose there must be something done for 
poor --  -- ' 
' not at present, i think. it is not necessary.' 
' why not, ma'am ? ' 
' because he's still alive.' 
' how do you know that ? ' said liddy, amazed. 
' i don't know it. but wouldn't it have heen different, 
or shouldn't i have heard more, or wouldn't they have 
found him, liddy ? -- or-i don't know how it is, but 
death would have been different from how this is. i am 
perfectly convinced that he is still alive .! ' 
bathsheba remained firm in this opinion till monday, 
when two circumstances conjoined to shake it. the 
first was a short paragraph in the local newspaper, which, 
beyond making by a methodizing pen formidable pre+ 
sumptive evidence of troy's death by drowning, con+ 
tained the important testimony of a young mr. barker, 
m.d., of budmouth, who spoke to being an eyewitness 
of the accident, in a letter to the editor. in this he 
stated that he was passing over the cliff on the remoter 
side of the 
<p 389> 
cove just as the sun was setting. at that 
time he saw a bather carried along in the current outside 
the mouth of the cove, and guessed in an instant that 
there was but a poor chance for him unless he should 
be possessed of unusual muscular powers. he drifted 
behind a projection of the coast, and mr. barker followed 
along the shore in the same direction. but by the time 
that he could reach an elevation sufficiently great to 
command a view of the sea beyond, dusk had set in, and 
nothing further was to be seen. 
the other circumstance was the arrival of his clothes, 
when it became necessary for her to examine and identify 
them -- though this had virtually been done long before 
by those who inspected the letters in his pockets. it 
was so evident to her in the midst of her agitation that 
troy had undressed in the full conviction of dressing 
again almost immediately, that the notion that anything 
but death could have prevented him was a perverse one 
to entertain. 
then bathsheba said to herself that others were 
assured in their opinion; strange that she should not 
be. a stmnge reflection occured to her, causing her 
face to flush. suppose that troy had followed fanny 
into another world. had he done this intentionally, yet 
contrived to make his death appear like an accident ? 
nevertheless, this thought of how the apparent might 
differ from the reai-made vivid by her bygone jealousy 
of fanny, and the remorse he had shown that night 
 -- did not blind her to the perception of a likelier 
difference, less tragic, but to herself far more disastrous. 
when alone late that evening beside a small fire, and 
much calmed down, bathsheba took troy's watch into 
her hand, which had been restored to her with the rest 
of the articles belonging to him. she opened the case 
as he had opened it before her a week ago. there was 
the little coil of pale hair which had been as the fuze to 
this great explosion. 
'he was hers and she was his; they should be gone 
together,' she said. 'i am nothing to either of them, 
and why should i keep her hair?' she took it in her 
hand, and held it over the fire. ' no-i'll not burn it 
-i'll keep it in memory of her, poor thing !. ' she added, 
snatching back her hand. 
<c xlix> 
<p 390> 
oak's advancemeny -- a great hope 
the later autumn and the winter drew on apace, 
and the leaves lay thick upon the turf of the glades 
and the mosses of the woods. bathsheba, having 
previously been living in a state of suspended feeling 
which was not suspense, now lived in a mood of 
quietude which was not precisely peacefulness. while 
she had known him to be alive she could have thought 
of his death with equanimity; but now that it might be 
she had lost him, she regretted that he was not hers 
still. she kept the farm going, raked in her profits 
without caring keenly about them, and expended 
money on ventures because she had done so in bygone 
days, which, though not long gone by, seemed infinitely 
removed from her present. she looked back upon that 
past over a great gulf, as if she were now a dead person, 
having the faculty of meditation still left in her, by 
means of which, like the mouldering gentlefolk of the 
poet's story, she could sit and ponder what a gift life 
used to be. 
however, one excellent result of her general apathy 
was the long-delayed installation of oak as bailiff; but 
he having virtually exercised that function for a long 
time already, the change, beyond the substantial in+ 
crease of wages it brought, was little more than a 
nominal one addressed to the outside world. 
boldwood lived secluded and inactive. much of 
his wheat and all his barley of that season had been 
spoilt by the rain. it sprouted, grew into intricate 
mats, and was ultimately thrown to the pigs in armfuls. 
the strange neglect which had produced this ruin 
and waste became the subject of whispered talk among 
all the people round; and it was elicited from one of 
boldwood's men that forgetfulness had nothing to do 
with it, for he had been reminded of the danger to 
his corn as many times and as persistently as inferiors 
dared to do. the sight of the 
<p 391> 
pigs turning in disgust 
from the rotten ears seemed to arouse boldwood, and 
he one evening sent for oak. whether it was sug+ 
gested by bathsheba's recent act of promotion or not, 
the farmer proposed at the interview that gabriel 
should undertake the superintendence of the lower 
farm as well as of bathsheba's, because of the necessity 
boldwood felt for such aid, and the impossibility of 
discovering a more trustworthy man. gabriel's malig+ 
nant star was assuredly setting fast. 
bathsheba, when she learnt of this proposai-for 
oak was obliged to consult her -- at first languidly 
objected. she considered that the two farms together 
were too extensive for the observation of one man. 
boldwood, who was apparently determined by personal 
rather than commercial reasons, suggested that oak 
should be furnished with a horse for his sole use, 
when the plan would present no difficulty, the two 
farms lying side by side. boldwood did not directly 
communicate with her during these negotiations, only 
speaking to oak, who was the go-between throughout. 
all was harmoniously arranged at last, and we now 
see oak mounted on a strong cob, and daily trotting 
the length breadth of about two thousand acres 
in a cheerful spirit of surveillance, as if the crops 
belonged to him -- the actual mistress of the one-half 
and the master of the other, sitting in their respective 
homes in gloomy and sad seclusion. 
out of this there arose, during the spring succeeding, 
a talk in the parish that gabriel oak was feathering his 
nest fast. 
' whatever d'ye think,' said susan tall, ' gable oak 
is coming it quite the dand. he now wears shining 
boots with hardly a hob in 'em, two or three times 
a-week, and a tall hat a-sundays, and 'a hardly knows 
the name of smockfrock. when i see people strut 
enough to he cut up into bantam cocks, i stand 
dormant with wonder, and says no more .! ' 
it was eventually known that gabriel, though paid 
a fixed wage by bathslieba independent of the fluctua+ 
tions of agricultural profits, had made an engagement 
with boldwood by which oak was to receive a share 
of the receipts -- a small share certainly, yet it was 
money of a higher quality than mere wages, and 
capable of expansion in a way that wages were not. 
<p 392> 
some were beginning to consider oak a 'near' man, 
for though his condition had thus far improved, he 
lived in no better style than hefore, occupying the 
same cottage, paring his own potatoes, mending his 
stockings, and sometimes even making his bed with 
his own hands. but as oak was not only provokingly 
indifferent to public opinion, but a man who clung 
persistently to old habits and usages, simply because 
they were old, there was room for doubt as to his 
motives. 
a great hope had latterly germinated in boldwood, 
whose unreasoning devotion to bathsheba could only 
be characterized as a fond madness which neither 
time nor circumstance, evil nor good report, could 
weaken or destroy. this fevered hope had grown up 
again like a grain of mustard-seed during the quiet 
which followed the hasty conjecture that troy was 
drowned. he nourished it fearfully, and almost 
shunned the contemplation of it in earnest, lest facts 
should reveal the wildness of the dream. bathsheba 
having at last been persuaded to wear mourning, her 
appearance as she entered the church in that guise 
was in itself a weekly addition to his faith that a 
time was coming -- very far off perhaps, yet surely 
nearing -- when his waiting on events should have 
its reward. how long he might have to wait he had 
not yet closely considered. what he would try to 
recognize was that the severe schooling she had been 
subjected to had made bathsheba much more con+ 
siderate than she had formerly been of the feelings of 
others, and he trusted that, should she be willing at 
any time in the future to marry any man at all, that 
man would be himself. there was a substratum of 
good feeling in her: her self-reproach for the injury 
she had thoughtlessly done him might be depended 
upon now to a much greater extent than before her 
infatuation and disappointment. it would be possible 
to approach her by the channel of her good nature, 
and to suggest a friendly businessiike compact between 
them for fulfilment at some future day, keeping the 
passionate side of his desire entirely out of her sight. 
such was boldwood's hope. 
to the eyes of the middle-aged, bathsheba was 
perhaps additionally charming just now. her exuber+ 
ance cf spirit was pruned down ; the original phantom 
of delight had shown 
<p 393> 
herself to be not too bright for 
human nature's daily food, and she had been able to 
enter this second poetical phase without losing much 
of the first in the process. 
bathsheba's return from a two months' visit to her 
old aunt at norcombe afforded the impassioned and 
yearning farmer a pretext for inquiring directly after 
her -- now possibly in the ninth month of her 
widowhood -- and endeavouring to get a notion of her 
middle of the haymaking, and boldwood contrived to 
'i am glad to see you out of doors, lydia,' he said 
she simpered, and wondered in her heart why he 
'i hope mrs. troy is quite well after her long 
the coldest-hearted neighbour could scarcely say less 
'she is quite well, sir. 
'yes, cheerful. 
'fearful, did you say?' 
'o no. i merely said she was cheerful.' 
'tells you all her affairs?' 
'no, sir. 
'some of them?' 
'yes, sir. 
'mrs troy puts much confidence in you, lydia; 
and very wisely, perhaps.' 
'she do, sir. i've been with her all through her 
troubles, and was with her at the time of mr.troy's 
going and all. and if she were to marry again i 
expect i should bide with her.' 
'she promises that you shali -- quite natural,' said 
the strategic lover, throbbing throughout him at the 
presumption which liddy's words appeared to warrant 
 -- that his darling had thought of re-marriage. 
'no -- -she doesn't promise it exactly. i merely 
judge on my own account. 
'yes       yes, i understand. when she alludes to the 
possibility of marrying again, you conclude --  -- ' 
<p 394> 
'she never do allude to it, sir,' said liddy, thinking 
how very stupid mr. boldwood was getting. 
'of course not,' he returned hastily, his hope falling 
again. ' you needn't take quite such long reaches with 
your rake, lydia -- short and quick ones are best. well, 
perhaps, as she is absolute mistress again now, it is wise 
of her to resolve never to give up her freedom.' 
' my mistress did certainly once say, though not 
seriously, that she supposed she might marry again at 
the end of seven years from last year, if she cared to 
risk mr. troy's coming back and claiming her.' 
' ah, six years from the present time. said that she 
might. she might marry at once in every reasonable 
person's opinion, whatever the lawyers may say to the 
contrary.' 
'have you been to ask them?' said liddy, innocently. 
' not i,' said boldwood, growing red. ' liddy, you 
needn't stay here a minute later than you wish, so mr, 
oak says. i am now going on a little farther. good' 
afternoon.' 
he went away vexed with himself, and ashamed of 
having for this one time in his life done anything which 
could be called underhand. poor boldwood had no 
more skill in finesse than a battering-ram, and he was 
uneasy with a sense of having made himself to appear 
stupid and, what was worse, mean. but he had, after 
all, lighted upon one fact by way of repayment. it was 
a singularly fresh and fascinating fact, and though not 
without its sadness it was pertinent and real. in little 
more than six years from this time bathsheba might 
certainly marry him. there was something definite in 
that hope, for admitting that there might have been no 
deep thought in her words to liddy about marriage, 
they showed at least her creed on the matter. 
this pleasant notion was now continually in his mind. 
six years were a long time, but how much shorter than 
never, the idea he had for so long been obliged to 
endure .! jacob had served twice seven years for 
rachel: what were six for such a woman as this ? he 
tried to like the notion of waiting for her better than 
that of winning her at once. boldwood felt his love 
to be so deep and strong and eternal, that it was pos+ 
sible she 
<p 395> 
had never yet known its full volume, and this 
patience in delay would afford him an opportunity of 
giving sweet proof on the point. he would annihilate 
the six years of his life as if they were minutes -- so little 
did he value his time on earth beside her love. he 
would let her see, all those six years of intangible ether+ 
eal courtship, how little care he had for anything but as 
it bore upon the consummation. 
meanwhile the early and the late summer brought 
round the week in which greenhill fair was held. 
this fair was frequently attended by the folk of weather+ 
bury. 
<c l> 
<p 396> 
the sheep fair -- troy touches his wife's hand 
greenhill was the nijni novgorod of south 
wessex; and the busiest, merriest, noisiest day of the 
whole statute number was the day of the sheep fair. 
this yearly gathering was upon the summit of a hill 
which retained in good preservation the remains of an 
ancient earthwork, consisting of a huge rampart and 
entrenchnaent of an oval form encircling the top of 
the hill, though somewhat broken down here and there. 
to each of the two chief openings on opposite sides a 
winding road ascended, and the level green space of 
ten or fifteen acres enclosed by the bank was the 
site of the fair. a few permanent erections dotted the 
spot, but the majority of visitors patronized canvas alone 
for resting and feeding under during the time of their 
sojourn here. 
shepherds who attended with their flocks from long 
distances started from home two or three days, or even 
a week, before the fair, driving their charges a few miles 
each day -- not more than ten or twelve -- and resting 
them at night in hired fields by the wayside at pre+ 
viously chosen points, where they fed, having fasted since 
morning. the shepherd of each flock marched behind, 
a bundle containing his kit for the week strapped upon 
his shoulders, and in his hand his crook, which he used 
as the staff of his pilgrimage. several of the sheep 
would get worn and lame, and occasionally a lambing 
occurred on the road. to meet these contingencies, 
there was frequently provided, to accompany the flocks 
from the remoter points, a pony and waggon into which 
the weakly ones were taken for the remainder of the 
journey. 
the weatherbury farms, however, were no such 
long distance from the hill, and those arrangements 
were not necessary in their case. but the large united 
flocks of bathsheba and farmer boldwood formed a 
valuable and imposing multitude which 
<p 397> 
demanded much 
attention, and on this account gabriel, in addition to 
boldwood's shepherd and cain ball, accompanied them 
along the way, through the decayed old town of kings' 
bere, and upward to the plateau, -- old george the dog 
of course behind them. 
when the autumn sun slanted over greenhill this 
morning and lighted the dewy flat upon its crest, nebu+ 
lous clouds of dust were to be seen floating between 
the pairs of hedges which streaked the wide prospect 
around in all directions. these gradually converged 
upon the base of the hill, and the flocks became 
individually visible, climbing the serpentine ways which 
led to the top. thus, in a slow procession, they entered 
the opening to which the roads tended, multitude after 
multitude, horned and hornless -- blue flocks and red 
flocks, buff flocks and brown flocks, even green and 
salmon-tinted flocks, according to the fancy of the 
colourist and custom of the farm. men were shouting, 
dogs were barking, with greatest animation, but the 
thronging travellers in so long a journey had grown 
nearly indifferent to such terrors, though they still 
bleated piteously at the unwontedness of their experi+ 
ences, a tall shepherd rising here and there in the midst 
of them, like a gigantic idol amid a crowd of prostrate 
devotees. 
the great mass of sheep in the fair consisted of 
south downs and the old wessex horned breeds, to 
the latter class bathsheba's and farmer boldwood's 
mainly belonged. these filed in about nine o'clock, 
their vermiculated horns lopping gracefully on each side 
of their cheeks in geometrically perfect spirals, a small 
pink and white ear nestling under each horn. before 
and behind came other varieties, perfect leopards as to 
the full rich substance of their coats, and only lacking the 
spots. there were also a few of the oxfordshire breeed, 
whose wool was beginning to curl like a child's flaxen 
hair, though surpassed in this respect by the effeminate 
leicesters, which were in turn less curly than the cots+ 
wolds. but the most picturesque by far was a small 
flock of exmoors, which chanced to be there this year. 
their pied faces and legs, dark and heavy horns, tresses 
of wool hanging round their swarthy 
<p 398> 
foreheads, quite 
relieved the monotony of the flocks in that quarter. 
all these bleating, panting, and weary thousands had 
entered and were penned before the morning had far 
advanced, the dog belonging to each flock being tied to 
the corner of the pen containing it. alleys for pedes+ 
trians intersected the pens, which soon became crowded 
with buyers and sellers from far and near. 
in another part of the hill an altogether different 
scene began to force itself upon the eye towards mid+ 
day. a circular tent, of exceptional newness and size, 
was in course of erection here. as the day drew on, 
the flocks began to change hands, lightening the shep+ 
herd's responsibilities ; and they turned their attention 
to this tent and inquired of a man at work there, whose 
soul seemed concentrated on tying a bothering knot in 
no time, what was going on. 
' the royal hippodrome performance of turpin's 
ride to york and the death of black bess,' replied the 
man promptly, without turning his eyes or leaving off 
tying. 
as soon as the tent was completed the band struck 
up highly stimulating harmonies, and the announce+ 
ment was publicly made, black bess standing in a con+ 
spicuous position on the outside, as a living proof, if 
proof were wanted, of the truth of the oracular utterances 
from the stage over which the people were to enter. 
these were so convinced by such genuine appeals to 
heart and understanding both that they soon began to 
crowd in abundantly, among the foremost being visible 
jan coggan and joseph poorgrass, who were holiday 
keeping here to-day, 
''that's the great ruffen pushing me .! ' screamed a 
woman in front of jan over her shoulder at him when 
the rush was at its fiercest. 
'how can i help pushing ye when the folk behind 
push me ?' said coggan, in a deprecating tone, turning 
without turning his body, which was jammed as in a vice. 
tjere was a silence ; then the drums and trumpets 
again sent forth their echoing notes. the crowd was 
again ectasied, 
<p 399> 
and gave another lurch in which coggan 
and poorgrass were again thrust by those behind upon 
the women in front. 
'o that helpless feymels should be at the mercy of 
she swayed like a reed shaken by the wind. 
now,' said coggan, appealing in an earnest voice 
to the public at large as it stood clustered about his 
shoulder-blades,'ded ye ever hear such onreasonable 
woman as that ? upon my carcase, neighbours, if i 
could onlyu get out of this cheesewring, the damn women 
might eat the show for me.! ' 
'don't ye lose yer temper, jan!' implored joseph 
poorgrass, in a whisper. ' they might get their men to 
murder us, for i think by the shine of their eyes that 
they be a sinful form of womankind.' 
jan held his tongue, as if he had no objection to be 
pacified to please a friend, and they gradually reached 
the foot of the ladder, poorgrass being flattened like a 
jumping-jack, and the sixpence, for admission, which he 
had got ready half-an-hour earlier, having become so 
reeking hot in the tight squeeze of his excited hand that 
the woman in spangles, brazen rings set with glass 
diamonds, and with chalked face and shoulders, who 
took the money of him, hastily dropped it again from 
a fear that some trick had been played to burn her 
fingers. so they all entered, and the cloth of the 
tent, to the eyes of an observer on the outside, became 
bulged into innumerable pimples such as we observe on 
a sack of potatoes, caused by the various human heads, 
backs, and elbows at high pressure within. 
at the rear of the large tent there were two small 
dressing-tents. one of these, alloted to the male per+ 
formers, was partitioned into halves by a cloth ; and in 
one of the divisions there was sitting on the grass, puli 
ing on a pair of jack-boots, a young man whom we 
instantly recognise as sergeant troy. 
troy's appearance in this position may be briefly 
accounted for. the brig aboard which he was taken in 
budmouth roads was about to start on a voyage, though 
somewhat short of hands. troy read the articles and 
joined, but before they sailed a boat was despatched 
across the bay to lulwind cove; as he 
<p 400> 
had half expected, 
his clothes were gone. he ultimately worked his passage 
to the united states, where he made a precarious living 
in various towns as professor of gymnastics, sword 
exercise, fencing, and pugilism. a few months were 
sufficient to give him a distaste for this kind of life. 
there was a certain animal form of refinement in his 
nature; and however pleasant a strange condition might 
be whilst privations were easily warded off, it was dis+ 
advantageously coarse when money was short. there 
was ever present, too, the idea that he could claim a 
home and its comforts did he but chose to return to 
england and weatherbury farm. whether bathsheba 
thought him dead was a frequent subject of curious 
conjecture. to england he did return at last ; but the 
but the fact of drawing nearer to weatherbury abstracted its 
fascinations, and his intention to enter his old groove at 
the place became modified. it was with gloom he con+ 
sidered on landing at liverpool that if he were to go home 
his reception would be of a kind very unpleasant to con+ 
template ; for what troy had in the way of emotion was 
an occasional fitful sentiment which sometimes caused 
him as much inconvenience as emotion of a strong and 
healthy kind. bathsheba was not a women to be made 
a fool of, or a woman to suffer in silence; and how 
could he endure existence with a spirited wife to whom 
at first entering he would be beholden for food and 
lodging ? moreover, it was not at all unlikely that his 
wife would fail at her farming, if she had not already 
done so; and he would then become liable for her 
maintenance : and what a life such a future of poverty 
with her would be, the spectre of fanny constantly be+ 
tween them, harrowing his temper and embittering her 
words! thus, for reasons touching on distaste, regret, 
and shame commingled, he put off his return from day 
to day, and would have decided to put it off altogether 
if he could have found anywhere else the ready-made 
establishment which existed for him there. 
at this time -- the july preceding the september in 
which we find at greenhill fair -- he fell in with a 
travelling circus which was performing in the outskirts of 
a northern town. troy introduced himself to the 
manager by taming a restive horse of the troupe, hitting 
a suspended apple with pistol-+ 
<p 401> 
bullet fired from the 
animal's back when in full gallop, and other feats. for 
his merits in these -- all more or less based upon his ex+ 
periences as a dragoon-guardsman -- troy was taken into 
the company, and the play of turpin was prepared with 
a view to his personation of the chief character. troy 
was not greatly elated by the appreciative spirit in which 
he was undoubtedly treated, but he thought the engage+ 
ment might afford him a few weeks for consideration. 
it was thus carelessly, and without having formed any 
definite plan for the future, that troy found himself 
at greenhill fair with the rest of the company on this 
day. 
and now the mild autumn sun got lower, and in 
front of the pavilion the following incident had taken 
place. bathsheba -- who was driven to the fair that day 
by her odd man poorgrass -- had, like every one else, 
read or heard the announcement that mr. francis, the 
great cosmopolitan equestrian and roughrider, would 
enact the part of turpin, and she was not yet too old 
and careworn to be without a little curiosity to see him. 
this particular show was by far the largest and grandest 
in the fair, a horde of little shows grouping themselves 
under its shade like chickens around a hen. the crowd 
had passed in, and boldwood, who had been watching 
all the day for an opportunity of speaking to her, seeing 
her comparatively isolated, came up to her side. 
"i hope the sheep have done well to-day, mrs. troy?' 
he said, nervously. 
"o yes, thank you,' said bathsheba, colour springing 
up in the centre of her cheeks. "i was fortunate 
enough to sell them all just as we got upon the hill, so 
we hadn't to pen at all.' 
"and now you are entirely at leisure ?' 
"yes, except that i have to see one more dealer in 
two hours' time : otherwise i should be going home. 
was looking at this large tent and the announcement. 
have you ever seen the play of "turpin's ride to 
york?" turpin was a real man, was he not ?' 
"o yes, perfectly true -- all of it. indeed, i think 
i've heard jan coggan say that a relation of his knew 
tom king, turpin's friend, quite well.' 
<p 402> 
"coggan is rather given to strange stories connected 
with his relations, we must remember. i hope they 
can all be believed.' 
"yes, yes; we know coggan. but turpin is true 
enough. you have never seen it played, i suppose?' 
"never. i was not allowed to go into these places 
when i was young. hark.! what's that prancing? 
how they shout!' 
"black bess just started off, i suppose. am i right 
in supposing you would like to see the performance, 
mrs. troy ? please excuse my mistake, if it is one; 
but if you would like to, i'll get a seat for you with 
pleasure.' perceiving that she hesitated, he added, 'i 
myself shall not stay to see it: i've seen it before.' 
now bathsheba did care a little to see the show, and 
had only withheld her feet from the ladder because she 
feared to go in alone. she had been hoping that oak 
might appear, whose assistance in such cases was always 
accepted as an inalienable right, but oak was nowhere 
to be seen; and hence it was that she said, "then if 
you will just look in first, to see if there's room, i think 
i will go in for a minute or two.' 
and so a short time after this bathsheba appeared 
in the tent with boldwood at her elbow, who, taking 
her to a " reserved ' seat, again withdrew. 
this feature consisted of one raised bench in very 
conspicuous part of the circle, covered with red cloth, 
and floored with a piece of carpet, and bathsheba 
immediately found, to her confusion, that she was the 
single reserved individual in the tent, the rest of the 
crowded spectators, one and all, standing on their legs 
on the borders of the arena, where they got twice as 
good a view of the performance for half the money. 
hence as many eyes were turned upon her, enthroned 
alone in this place of honour, against a scarlet back+ 
ground, as upon the ponies and clown who were 
engaged in preliminary exploits in the centre, turpin 
not having yet appeared. once there, bathsheba was 
forced to make the best of it and remain: she sat 
down, spreading her skirts with some dignity over the 
unoccupied space on each side of her, and giving a 
new and feminine aspect to the pavilion. in a few 
minutes she noticed the fat red nape of coggan's neck 
among those standing just 
<p 403> 
below her, and joseph poor+ 
grass's saintly profile a little further on. 
the interior was shadowy with a peculiar shade. 
the strange luminous semi-opacities of fine autumn 
afternoons and eves intensified into rembrandt effects 
the few yellow sunbeams which came through holes 
and divisions in the canvas, and spirted like jets of 
gold-dust across the dusky blue atmosphere of haze 
pervading the tent, until they alighted on inner surfaces 
of cloth opposite, and shone like little lamps suspended 
there. 
troy, on peeping from his dressing-tent through a 
slit for a reconnoitre before entering, saw his unconscious 
wife on high before him as described, sitting as queen 
of the tournament. he started back in utter confusion, 
for although his disguise efectually concealed his person+ 
ality, he instantly felt that she would be sure to recognize 
his voice. he had several times during the day thought 
of the possibility of some weatherbury person or other 
appearing and recognizing him; but he had taken the 
risk carelessly. if they see me, let them, he had said. 
but here was bathsheba in her own person; and the 
reality of the scene was so much intenser than any of 
his prefigurings that he felt he had not half enough 
considered the point. 
she looked so charming and fair that his cool mood 
about weatherbury people was changed. he had not 
expected her to exercise this power over him in the 
twinkling of an eye. should he go on, and care nothing ? 
he could not bring himself to do that. beyond a politic 
wish to remain unknown, there suddenly arose in him 
now a sense of shame at the possibility that his 
attractive young wife, who already despised him, should 
despise him more by discovering him in so mean a 
condition after so long a time. he actually blushed 
at the thought, and was vexed beyond measure that 
his sentiments of dislike towards weatherbury should 
have led him to dally about the country in this way. 
but troy was never more clever than when absolutely 
at his wit's end. he hastily thrust aside the curtain 
dividing his own little dressing space from that of the 
manager and proprietor, who now appeared as the 
individual called tom king as far 
<p 404> 
down as his waist, and 
as the aforesaid respectable manager thence to his toes. 
"here's the devil to pay!' said troy. 
"how's that ?' 
"why, there's a blackguard creditor in the tent i don't 
want to see, who'll discover me and nab me as sure as 
satan if i open my mouth. what's to be done?' 
you must appear now, i think.' 
"i can't.' 
but the play must proceed.' 
"do you give out that turpin has got a bad cold, 
and can't speak his part, but that he'll perform it just 
the same without speaking.' 
the proprietor shook his head. 
"anyhow, play or no play, i won't open my mouth, 
said troy, firmly. 
"very well, then let me see. i tell you how we'll 
manage,' said the other, who perhaps felt it would be 
extremely awkward to offend his leading man just at 
this time. "i won't tell 'em anything about your 
keeping silence; go on with the piece and say nothing, 
doing what you can by a judicious wink now and then, 
and a few indomitable nods in the heroic places, you 
know. they'll never find out that the speeches are 
omitted.' 
this seemed feasible enough, for turpin's speeches 
were not many or long, the fascination of the piece 
lying entirely in the action ; and accordingly the play 
began, and at the appointed time black bess leapt 
into the grassy circle amid the plaudits of the spectators. 
at the turnpike scene, where bess and turpin are hotly 
pursued at midnight by the officers, and half-awake 
gatekeeper in his tasselled nightcap denies that any 
horseman has passed, coggan uttered a broad-chested 
"well done!' which could be heard all over the fair 
above the bleating, and poorgrass smiled delightedly 
with a nice sense of dramatic contrast between our 
hero, who coolly leaps the gate, and halting justice in 
the form of his enemies, who must needs pull up 
cumbersomely and wait to be let through. at the 
death of tom king, he could not refrain from seizing 
coggan by the hand, and whispering, with tears in his 
eyes, "of 
<p 405> 
course he's not really shot, jan  --  only 
seemingly!' and when the last sad scene came on, 
and the body of the gallant and faithful bess had to 
be carried out on a shutter by twelve volunteers from 
among the spectators, nothing could restrain poorgrass 
from lending a hand, exclaiming, as he asked jan to 
join him, "twill be something to tell of at warren's in 
future years, jan, and hand down to our children.' for 
many a year in weatherbury, joseph told, with the air 
of a man who had had experiences in his time, that he 
touched with his own hand the hoof of bess as she lay 
upon the board upon his shoulder. if, as some thinkers 
hold, immortality consists in being enshrined in others' 
memories, then did black bess become immortal that 
day if she never had done so before. 
meanwhile troy had added a few touches to his 
ordinary make-up for the character, the more effectually 
to disguise himself, and though he had felt faint qualms 
on first entering, the metamorphosis effected by judici+ 
ously "lining' his face with a wire rendered him safe from 
the eyes of bathsheba and her men. nevertheless, he 
was relieved when it was got through. 
there a second performance in the evening, and 
the tent was lighted up. troy had taken his part very 
quietly this time, venturing to indroduce a few speeches 
on occasion ; and was just concluding it when, whilst 
standing at the edge of the circle contiguous to the first 
row of spectators, he observed within a yard of him the 
eye of a man darted keenly into his side features. troy 
hastily shifted his position, after having recognized in 
sworn enemy, who still hung about the outskirts of 
at first troy resolved to take no notice and abide 
by circumstances. that he had been recongnized by 
this man was highly probable; yet there was room for 
a doubt. then the great objection he had felt to 
allowing news of his proximity to precede him to 
weatherbury in the event of his return, based on a 
feeling that knowledge of his present occupation would 
discredit him still further in his wife's eyes, returned 
in full force. moreover, should he resolve not to 
return at all, a tale of his being alive and being in 
the neighbourhood would be 
<p 406> 
awkward ; and he was 
anxious to acquire a knowledge of his wife's temporal 
affairs before deciding which to do. 
in this dilemma troy at once went out to recon+ 
noitre. it occurred to him that to find pennyways, and 
make a friend of him if possible, would be a very wise 
act. he had put on a thick beard borrowed from the 
establishment, and this he wandered about the fair+ 
field. it was now almost dark, and respectable people 
were getting their carts and gigs ready to go home 
the largest refreshment booth in the fair was provided 
by an innkeeper from a neighbouring town. this was 
considered an unexceptionable place for obtaining the 
necessary food and rest: host trencher (as he was 
jauntily called by the local newspaper) being a sub+ 
stantial man of high repute for catering through all the 
county round. the tent was divided into first and 
second-class compartments, and at the end of the first+ 
class division was a yet further enclosure for the most 
exclusive, fenced of from the body of the tent by a 
luncheon-bar, behind which the host himself stood 
bustling about in white apron and shirt-sleeves, and look+ 
ing as if he had never lived anywhere but under canvas 
all his life. in these penetralia were chairs and a table, 
which, on candles being lighted, made quite a cozy and 
luxurious show, with an urn, plated tea and coffee pots, 
china teacups, and plum cakes. 
troy stood at the entrance to the booth, where a 
gipsy-woman was frying pancakes over a little fire of 
sticks and selling them at a penny a-piece, and looked 
over the heads of the people within. he could see 
nothing of pennyways, but he soon discerned bathsheba 
through an opening into the reserved space at the 
further end. troy thereupon retreated, went round the 
tent into the darkness, and listened. he could hear 
bathsheba's voice immediately inside the canvas ; she 
was conversing with a man. a warmth overspread his 
face: surely she was not so unprincipled as to flirt in 
a fair! he wondered if, then, she reckoned upon his 
death as an absolute certainty. to get at the root of 
the matter, troy took a penknife from his pocket and 
softly made two little cuts crosswise in the cloth, which, 
by folding back the corners left a hole the size of a 
<p 407> 
wafer. close to this he placed his face, withdrawing 
it again in a movement of surprise; for his eye had 
been within twelve inches of the top of bathsheba's 
head. lt was too near to be convenient. he made 
another hole a little to one side and lower down, in a 
shaded place beside her chair, from which it was easy 
and safe to survey her by looking horizontally'. 
troy took in the scene completely now. she was 
leaning back, sipping a cup of tea that she held in her 
hand, and the owner of the male voice was boldwood, 
who had apparently just brought the cup to her, 
bathsheba, being in a negligent mood, leant so idly 
against the canvas that it was pressed to the shape of 
her shoulder, and she was, in fact, as good as in 'rioy's 
arms; and he was obliged to keep his breast carefully 
backward that she might not feel its warmth through the 
cloth as he gazed in. 
troy found unexpected chords of feeling to be stirred 
again within him as they had been stirred earlier in the 
day. she was handsome as ever, and she was his. it 
was some minutes before he could counteract his sudden 
wish to go in, and claim her. then he thought how 
the proud girl who had always looked down upon him 
even whilst it was to love him, would hate him on dis+ 
covering him to be a strolling player. were he to make 
himself known, that chapter of his life must at all risks 
be kept for ever from her and from the weatherbury 
people, or his name would be a byword throughout the 
parish. he would be nicknamed 'turpin' as long as 
he lived. assuredly before he could claim her these few 
past months of his existence must be entirely blotted out. 
"shall i get you another cup before you start, 
ma'am?' said farmer boldwood. 
i thank you," said bathsheba. " but i must be going 
at once. it was great neglect in that man to keep me 
waiting here till so late. i should have gone two hours 
ago, if it had not been for him. i had no idea of 
coming in here; but there's nothing so refreshing as a 
cup of tea, though i should never have got one if you 
hadn't helped me.' 
troy scrutinized her cheek as lit by the candles, 
and watched each varying shade thereon, and the 
white shell-like sinuosities 
<p 408> 
of her little ear. she took 
out her purse and was insisting to boldwood on paying 
for her tea for herself, when at this moment pennyways 
entered the tent. troy trembled : here was his scheme 
for respectability endangered at once. he was about 
to leave his hole of espial, attempt to follow pennyways, 
and find out if the ex-bailiff had recognized him, when 
he was arrested by the conversation, and found he was 
too late. 
"excuse me, ma'am,' said pennyways ; "i've some 
private information for your ear alone.' 
"i cannot hear it now,' she said, coldly. that 
bathsheba could not endure this man was evident; in 
fact, he was continually coming to her with some tale 
or other, by which he might creep into favour at the 
expense of persons maligned. 
"i'll write it down,' said pennyways, confidently. he 
stooped over the table, pulled a leaf from a warped 
pocket-book, and wrote upon the paper, in a round 
hand -- 
" <1your husband is here. i've seen him. who's the fool 
now?' 
this he folded small, and handed towards her. 
bathsheba would not read it ; she would not even put 
out her hand to take it. pennyways, then, with a laugh 
of derision, tossed it into her lap, and, turning away, 
left her. 
from the words and action of pennyways, troy, 
though he had not been able to see what the ex-bailiff 
wrote, had not a moment's doubt that the note referred 
to him. nothing that he could think of could be done 
to check the exposure. " curse my luck.!' he whispered, 
and added imprecations which rustled in the gloom like 
a pestilent wind. meanwhile boldwood said, taking up 
the note from her lap -- 
"don't you wish to read it, mrs. troy? if not, 
i'll destroy it." 
" oh, well,' said bathsheba, carelessly, "perhaps it is 
unjust not to read it; but i can guess what it is about. 
he wants me to recommend him, or it is to tell me of 
some little scandal or another connected with my work+ 
people. he's always doing that.' 
bathsheba held the note in her right hand. bold+ 
wood handed towards her a plate of cut bread-and+ 
butter; when, in order to take a slice, she put the note 
into her left hand, where she was still holding the purse, 
and then allowed her hand to drop 
<p 409> 
beside her close to 
the canvas. the moment had come for saving his game, 
and troy impulsively felt that he would play the card, 
for yet another time he looked at the fair hand, and 
saw the pink finger-tips, and the blue veins of the 
wrrist, encircled by a bracelet of coral chippings which 
she wore: how familiar it all was to him.! then, with 
the lightning action in which he was such an adept, he 
noiselessly slipped his hand under the bottom of the 
tent-cloth, which was far from being pinned tightly down, 
lifted it a little way, keeping his eye to the hole, 
snatched the note from her fingers, dropped the canvas, 
and ran away in the gloom towards the bank and ditch, 
smiling at the scream of astonishment which burst from 
her. troy then slid down on the outside of the rampart, 
hastened round in the bottom of the entrenchment to 
a distance of a hundred yards, ascended again, and 
crossed boldly in a slow walk towards the front entrance 
of the tent. his object was now to get to pennyways, 
and prevent a repetition of the announcement until 
such time as he should choose. 
troy reached the tent door, and standing among the 
groups there gathered, looked anxiously for pennyways, 
evidently not wishing to make himself prominent by 
inquiring for him. one or two men were speaking of 
a daring attempt that had just been made to rob a 
young lady by lifting the canvas of the tent beside her. 
it was supposed that the rogue had imagined a slip of 
paper which she held in her hand to he a bank note, 
for he had seized it, and made off with it, leaving her 
purse behind. his chagrin and disappointment at dis+ 
covering its worthlessness would be a good joke, it was 
said. however, the occurrence seemed to have become 
known to few, for it had not interrupted a fiddler, who 
had lately begun playing by the door of the tent, nor 
the four bowed old men with grim countenances and 
walking-sticks in hand, who were dancing "major 
malley's reel' to the tune. behind these stood 
pennyways. troy glided up to him, beckoned, and 
whispered a few words ; and with a mutual glance of 
concurrence the two men went into the night together. 
<c li> 
<p 410> 
bathsheba talks with her outrider 
the arrangement for getting back again to weather+ 
bury had been that oak should take the place of poor+ 
grass in bathsheba's conveyance and drive her home, 
it being discovered late in the afternoon that joseph 
was suffering from his old complaint, a multiplying eye, 
and was, therefore, hardly trustworthy as coachman and 
protector to a woman. but oak had found himself so 
occupied, and was full of so many cares relative to 
those portions of boldwood's flocks that were not 
disposed of, that bathsheba, without telling oak or 
anybody, resolved to drive home herself, as she had 
many times done from casterbridge market, and trust 
to her good angel for performing the journey un+ 
molested. but having fallen in with farmer boldwood 
accidentally (on her part at least) at the refreshment+ 
tent, she found it impossible to refuse his offer to ride 
on horseback beside her as escort. it had grown 
twilight before she was aware, but boldwood assured 
her that there was no cause for uneasiness, as the 
moon would be up in half-an-hour. 
immediately after the incident in the tent, she had 
risen to go -- now absolutely alarmed and really grateful 
for her old lover's protection -- though regretting gabriel's 
absence, whose company she would have much preferred, 
as being more proper as well as more pleasant, since he 
was her own managing-man and servant. this, how+ 
ever, could not be helped; she would not, on any 
consideration, treat boldwood harshly, having once 
already iliused him, and the moon having risen, and 
the gig being ready, she drove across the hilitop in 
the wending way's which led downwards -- to oblivious 
obscurity, as it seemed, for the moon and the hill it 
flooded with light were in appearance on a level, the 
rest of the world lying as a vast shady concave between 
them. boldwood mounted his horse, and 
<p 411> 
followed in 
close attendance behind. thus they descended into 
the lowlands, and the sounds of those left on the 
hill came like voices from the sky, and the lights were 
as those of a camp in heaven. they soon passed the 
merry stragglers in the immediate vicinity of the hill, 
traversed kingsbere, and got upon the high road. 
the keen instincts of bathsheba had perceived that 
the farmer's staunch devotion to herself was still un+ 
diminished, and she sympathized deeply. the sight 
had quite depressed her this evening; had reminded 
her of her folly; she wished anew, as she had wished 
many months ago, for some means of making repara+ 
tion for her fault. hence her pity for the man who 
so persistently loved on to his own injury and per+ 
manent gloom had betrayed bathsheba into an injudi+ 
cious considerateness of manner, which appeared 
almost like tenderness, and gave new vigour to the 
exquisite dream of a jacob's seven years service in 
poor boldwood's mind. 
he soon found an excuse for advancing from his 
position in the rear, and rode close by her side. they 
had gone two or three miles in the moonlight, speaking 
desultorily across the wheel of her gig concerning the 
fair, farming, oak's usefulness to them both, and other 
indifferent subjects, when boldwood said suddenly 
and simply -- 
"mrs. troy, you will marry again some day?' 
this point-blank query unmistakably confused her, 
it was not till a minute or more had elapsed that 
she said, "i have not seriously thought of any such 
subject.' 
"i quite understand that. yet your late husband 
has been dead nearly one year, and -- ' 
" you forget that his death was never absolutely 
proved, and may not have taken place; so that i may 
not be really a widow,' she said, catching at the straw of 
escape that the fact afforded 
"not absolutely proved, perhaps, but it was proved 
circumstantially. a man saw him drowning, too. no 
reasonable person has any doubt of his death; nor 
have you, ma'am, i should imagine. 
"o yes i have, or i should have acted differently,' 
she said, gently. "from the first, i have had a strange 
uaccountable 
<p 412> 
feeling that he could not have perished, 
but i have been able to explain that in several ways 
since. even were i half persuaded that i shall see 
him no more, i am far from thinking of marriage with 
another. i should be very contemptible to indulge in 
such a thought.' 
they were silent now awhile, and having struck into 
an unfrequented track across a common, the creaks of 
boldwood's saddle and gig springs were all the 
sounds to be heard. boldwood ended the pause. 
"do you remember when i carried you fainting in 
my arms into the king's arms, in casterbridge? every 
dog has his day: that was mine.' 
"i know-i know it all,' she said, hurriedly. 
"i, for one, shall never cease regretting that events 
so fell out as to deny you to me.' 
"i, too, am very sorry,' she said, and then checked 
herself. "i mean, you know, i am sorry you thought 
i -- ' 
"i have always this dreary pleasure in thinking over 
those past times with you -- that i was something to 
you before <1he>1 was anything, and that you belonged 
<1almost>1 to me. but, of course, that's nothing. you 
never liked me.' 
" i did ; and respected you, too.' 
"do you now?' 
"yes.' 
"which?' 
"how do you mean which?' 
"do you like me, or do you respect me?' 
"i don't know -- at least, i cannot tell you. it is 
difficult for a woman to define her feelings in language 
which is chiefly made by men to express theirs. my 
treatment of you was thoughtless, inexcusable, wicked.! 
i shall eternally regret it. if there had been anything 
i could have done to make amends i would most 
gladly have done it -- there was nothing on earth i so 
longed to do as to repair the error. but that was not 
possible.' 
"don't blame yourself -- you were not so far in the 
wrong as you suppose. bathsheba, suppose you had 
real complete proof 
<p 413> 
that you are what, in fact, you are 
 -- a widow -- would you repair the old wrong to me by 
marrying me?' 
"i cannot say. i shouldn't yet, at any rate.' 
"but you might at some future time of your life?' 
"o yes, i might at some time.' 
"well, then, do you know that without further proof 
of any kind you may marry again in about six years 
from the present -- subject to nobody's objection or 
blame?' 
"o yes,' she said, quickly. " i know all that. but 
don't talk of it -- seven or six years -- where may we all 
be by that time?' 
"they will soon glide by, and it will seem an 
astonishingly short time to look back upon when they 
are past -- much less than to look forward to now.' 
"yes, yes; i have found that in my own experience.' 
" now listen once more,' boldwood pleaded. "if i 
wait that time, will you marry me? you own that you 
owe me amends-iet that be your way of making them.' 
"but, mr. boldwood -- six years -- ' 
"do you want to be the wife of any other man?' 
"no indeed! i mean, that i don't like to talk 
about this matter now. perhaps it is not proper, and 
i ought not to allow it. let us drop it. my husband 
may be living, as i said.' 
"of course, i'll drop the subject if you wish. but 
propriety has nothing to do with reasons. i am a 
middle-aged man, willing to protect you for the 
remainder of our lives. on your side, at least, there 
is no passion or blamable haste -- on mine, perhaps, 
there is. but i can't help seeing that if you choose 
from a feeling of pity, and, as you say, a wish to make 
amends, to make a bargain with me for a far-ahead 
time -- an agreement which will set all things right 
and make me happy, late though it may be -- there is 
no fault to be found with you as a woman. had'nt 
i the first place beside you? haven't you been 
almost mine once already? surely you can say to 
me as much as this, you will have me back again 
should circumstances permit ? now, pray speak ! o 
bathsheba, promise -- it is only a little promise -- that 
if you marry again, you will marry me.!' 
his tone was so excited that she almost feared him 
at this 
<p 414> 
moment, even whilst she sympathized. it was 
a simple physical fear -- the weak of the strong; there 
no emotional aversion or inner repugnance. she 
said, with some distress in her voice, for she remembered 
vividly his outburst on the yalbury road, and shrank 
from a repetition of his anger: -- 
"i will never marry another man whilst you wish me 
to be your wife, whatever comes -- but to say more -- you 
have taken me so by surprise -- -' 
"but let it stand in these simple words -- that in six 
years' time you will be my wife ? unexpected accidents 
we'll not mention, because those, of course, must be 
given way to. now, this time i know you will keep 
your word.' 
"that's why i hesitate to give it.' 
"but do give it ! remember the past, and be kind.' 
she breathed; and then said mournfully : "o what 
shall i do ? i don't love you, and i much fear that i 
never shall love you as much as a woman ought to love 
a husband. if you, sir, know that, and i can yet give 
you happiness by a mere promise to marry at the end of 
six years, if my husband should not come back, it is a 
great honour to me. and if you value such an act of 
friendship from a woman who doesn't esteem her+ 
self as she did, and has little love left, why it 
wili -- ' 
"promise!.' 
" -- consider, if i cannot promise soon.' 
"but soon is perhaps never?' 
"o no, it is not.! i mean soon. christmas, we'll 
say.' 
"christmas.!' he said nothing further till he 
added : "well, i'll say no more to you about it till that 
time.' 
bathsheba was in a very peculiar state of mind, 
which showed how entirely the soul is the slave of the 
body, the ethereal spirit dependent for its quality upon 
the tangible flesh and blood. it is hardly too much to 
say that she felt coerced by a force stronger than her 
own will, not only into the act of promising upon this 
singularly remote and vague matter, but into the emo+ 
tion of fancying that she ought to promise. when the 
weeks intervening between the night of this conversa+ 
<p 415> 
tion and christmas day began perceptibly to diminish, 
her anxiety and perplexity increased. 
one day she was led by an accident into an oddly 
confidential dialogue with gabriel about her difficulty 
it afforded her a little relief -- of a dull and cheerless 
kind. they were auditing accounts, and something 
occurred in the course of their labours which led oak 
to say, speaking of boldwood, " he'll never forget you, 
ma'am, never.' 
then out came her trouble before she was aware ; 
and she told him how she had again got into the toils; 
what boldwood had asked her, and how he was ex+ 
pecting her assent. "the most mournful reason of all 
for my agreeing to it,' she said sadly, 'and the true 
reason why i think to do so for good or for evil, is this 
 -- it is a thing i have not breathed to a living soul as 
yet-i believe that if i don't give my word, he'll go out 
of his mind.' 
"really, do ye?' said gabriel, gravely. 
'i believe this,' she continued, with reckless frank+ 
ness; "and heaven knows i say it in a spirit the very 
reverse of vain, for i am grieved and troubled to my 
soul about it-i believe i hold that man's future in my 
hand. his career depends entirely upon my treatment 
of him. o gabriel, i tremble at my responsibility, for 
it is terrible.!' 
"well, i think this much, ma'am, as i told you years 
ago,' said oak, 'that his life is a total blank whenever 
he isn't hoping for 'ee; but i can't suppose-i hope 
that nothing so dreadful hangs on to it as you fancy. 
his natural manner has always been dark and strange, 
you know. but since the case is so sad and oddiike, 
why don't ye give the conditional promise? i think i 
would.' 
"but is it right? some rash acts of my past life 
have taught me that a watched woman must have very 
much circumspection to retain only a very little credit, 
and i do want and long to be discreet in this! and 
six years -- why we may all be in our graves by that 
bathsheba talks with oak 
time, even if mr. troy does not come back again, which 
he may not impossibly do.! such thoughts give a sort 
of absurdity to the scheme. now, isn't it preposterous, 
<p 416> 
gabriel? however he came to dream of it, i cannot think. 
but is it wrong? you know -- you are older than i.' 
"eight years older, ma'am.' 
"yes, eight years -- and is it wrong?' 
"perhaps it would be an uncommon agreement for a 
man and woman to make : i don't see anything really 
wrong about it,' said oak, slowly. "in fact the very 
thing that makes it doubtful if you ought to marry en 
under any condition, that is, your not caring about him 
 -- for i may suppose --  -- ' 
"yes, you may suppose that love is wanting,' she 
said shortly. "love is an utterly bygone, sorry, worn+ 
out, miserable thing with me -- for him or any one else.' 
"well, your want of love seems to me the one thing 
that takes away harm from such an agreement with him. 
if wild heat had to do wi' it, making ye long to over+ 
come the awkwardness about your husband's vanishing, 
it mid be wrong ; but a cold-hearted agreement to oblige 
a man seems different, somehow. the real sin, ma'am 
in my mind, lies in thinking of ever wedding wi' a man 
you don't love honest and true.' 
"that i'm willing to pay the penalty of,' said bath+ 
sheba, firmly. " you know, gabriel, this is what i can+ 
not get off my conscience -- that i once seriously injured 
him in sheer idleness. if i had never played a trick 
upon him, he would never have wanted to marry me. 
o if i could only pay some heavy damages in money 
to him for the harm i did, and so get the sin off my 
soul that way!... well, there's the debt, which can 
only be discharged in one way, and i believe i am 
bound to do it if it honestly lies in my power, without 
any consideration of my own future at all. when a 
rake gambles away his expectations, the fact that it is 
an inconvenient debt doesn't make him the less liable. 
i've been a rake, and the single point i ask you is, con+ 
sidering that my own scruples, and the fact that in the 
eye of the law my husband is only missing, will keep 
any man from marrying me until seven years have 
passed -- am i free to entertain such an idea, even 
though 'tis a sort of penance -- for it will be that? i 
hate the act of marriage under such circumstances, and 
the class of women i should seem to belong to by doing 
it!' 
<p 417> 
"it seems to me that all depends upon whe'r you 
think, as everybody else do, that your husband is 
dead.' 
"i shall get to, i suppose, because i cannot help 
feeling what would have brought him back long before 
this time if he had lived.' 
"well, then, in religious sense you will be as free 
to <1think>1 o' marrying again as any real widow of one 
year's standing. but why don't ye ask mr. thirdly's 
advice on how to treat mr. boldwood?' 
"no. when i want a broad-minded opinion for 
general enlightenment, distinct from special advice, i 
never go to a man who deals in the subject pro+ 
fessionally. so i like the parson's opinion on law, the 
lawyer's on doctoring, the doctor's on business, and my 
business-man's -- that is, yours -- on morals.' 
'and on love --  -- ' 
"my own.' 
"i'm afraid there's a hitch in that argument,' said 
oak, with a grave smile. 
she did not reply at once, and then saying, 'good 
evening mr. oak,' went away. 
she had spoken frankly, and neither asked nor ex+ 
pected any reply from gabriel more satisfactory than 
that she had obtained. yet in the centremost parts of 
her complicated heart there existed at this minute a 
little pang of disappointment, for a reason she would 
not allow herself to recognize. oak had not once 
wished her free that he might marry her himself -- had 
not once said, "i could wait for you as well as he.' 
that was the insect sting. not that she would have 
listened to any such hypothesis. o no -- for wasn't 
she saying all the time that such thoughts of the future 
were improper, and wasn't gabriel far too poor a man 
to speak sentiment to her? yet he might have just 
hinted about that old love of his, and asked, in a playful 
off-hand way, if he might speak of it. it would have 
seemed pretty and sweet, if no more; and then she 
would have shown how kind and inoffensive a woman's 
"no' can sometimes be. but to give such cool advice 
 -- the very advice she had asked for -- it ruffled our 
heroine all the afternoon. 
<c lii> 
<p 418> 
converging courses 
        i 
christmas-eve came, and a party that boldwood 
was to give in the evening was the great subject of talk 
in weatherbury. it was not that the rarity of christmas 
parties in the parish made this one a wonder, but that 
boldwood should be the giver. the announcement 
had had an abnormal and incongruous sound, as if one 
should hear of croquet-playing in a cathedral aisle, or 
that some much-respected judge was going upon the 
stage. that the party was intended to be a truly jovial 
one there was no room for doubt. a large bough of 
mistletoe had been brought from the woods that day, and 
suspended in the hall of the bachelor's home. holly 
and ivy had followed in armfuls. from six that morning 
till past noon the huge wood fire in the kitchen roared 
and sparkled at its highest, the kettle, the saucepan, and 
the threeiegged pot appearing in the midst of the flames 
like shadrach, meshach, and abednego ; moreover, 
roasting and basting operations were continually 
carried on in front of the genial blaze. 
as it grew later the fire was made up in the large 
long hall into which the staircase descended, and all 
encumbrances were cleared out for dancing. the log 
which was to form the back-brand of the evening fire 
was the uncleft trunk of a tree, so unwieldy that it could 
be neither brought nor rolled to its place ; and accord+ 
ingly two men were to be observed dragging and heaving 
it in by chains and levers as the hour of assembly drew 
near. 
in spite of all this, the spirit of revelry was wanting 
in the atmosphere of the house. such a thing had 
never been attempted before by its owner, and it was 
now done as by a wrench. intended gaieties would 
insist upon appearing like solemn grandeurs, the organ+ 
ization of the whole effort was 
<p 419> 
carried out coldly,by 
hirelings, and a shadow seemed to move about the 
rooms, saying that the proceedings were unnatural to 
the place and the lone man who lived therein, and hence 
not good. 
bathsheba was at this time in her room, dressing for 
the event. she had called for candles, and liddy 
entered and placed one on each side of her mistress's 
glass. 
"don't go away, liddy,' said bathsheba, almost 
timidly.' i am foolishly agitated-i cannot tell why. 
i wish i had not been obliged to go to this dance; but 
there's no escaping now. i have not spoken to mr. 
boldwood since the autumn, when i promised to see 
him at christmas on business, but i had no idea there 
was to be anything of this kind.' 
"but i would go now,' said liddy, who was going 
with her; for boldwood had been indiscriminate in his 
invitations. 
"yes, i shall make my appearance, of course,' said 
bathsheba. ' but i am <1the cause>1 of the party, and that 
upsets me! -- don't tell, liddy.' 
"o no, ma'am, you the cause of it, ma'am ?' 
"yes. i am the reason of the party-i. if it had 
not been for me, there would never have been one. i 
can't explain any more -- there's no more to be explained. 
i wish i had never seen weatherbury.' 
"that's wicked of you -- to wish to be worse off than 
you are.' 
"no, liddy. i have never been free from trouble 
since i have lived here, and this party is likely to bring 
me more. now, fetch my black silk dress, and see how 
it sits upon me.' 
"but you will leave off that, surely, ma'am? you 
have been a widowiady fourteen months, and ought to 
brighten up a little on such a night as this.' 
"is it necessary? no; i will appear as usual, for if 
i were to wear any light dress people would say things 
about me, and i should seem to he rejoicing when i am 
solemn all the time. the party doesn't suit me a bit; 
but never mind, stay and help to finish me off.' 
                     iii 
<p 420> 
boldwood was dressing also at this hour. a tailor 
from casterbridge was with him, assisting him in the 
operation of trying on a new coat that had just beem 
brought home. 
never had boldwood been so fastidious, unreasonable 
about the fit, and generally difficult to please. the 
tailor walked round and round him, tugged at the waist, 
pulled the sleeve, pressed out the collar, and for the 
first time in his experience boldwood was not bored+ 
times had been when the farmer had exclaimed against 
all such niceties as childish, but now no philosophic or 
hasty rebuke whatever was provoked by this man for 
attaching as much importance to a crease in the coat 
as to an earthquake in south america. boldwood at 
last expressed himself nearly satisfied, and paid the bill, 
the tailor passing out of the door just as oak came in 
to report progress for the day. 
"oh, oak,' said boldwood. "i shall of course see 
you here to-night. make yourself merry. i am deter+ 
mined that neither expense nor trouble shall be spared.' 
"i'll try to be here, sir, though perhaps it may not 
be very early,' said gabriel, quietly. "i am glad indeed 
to see such a change in 'ee from what it used to be.' 
" yes-i must own it-i am bright to-night : cheerful 
and more than cheerfui-so much so that i am almost 
sad again with the sense that all of it is passing away. 
and sometimes, when i am excessively hopeful and 
blithe, a trouble is looming in the distance : so that i 
often get to look upon gloom in me with content, and 
to fear a happy mood. still this may be absurd-i feel 
that it is absurd. perhaps my day is dawning at last.' 
"i hope it 'ill be a long and a fair one.' 
"thank you -- thank you. yet perhaps my cheerfui 
mess rests on a slender hope. and yet i trust my hope. 
it is faith, not hope. i think this time i reckon with 
my host. -- oak, my hands are a little shaky, or some+ 
thing; i can't tie this neckerchief properly. perhaps 
you will tie it for me. the fact is, i have not been well 
lately, you know.' 
"i am sorry to hear that, sir.' 
<p 421> 
"oh, it's nothing. i want it done as well as you can, 
please. is there any late knot in fashion, oak?' 
"i don't know, sir,' said oak. his tone had sunk to 
sadness. 
boldwood approached gabriel, and as oak tied the 
neckerchief the farmer went on feverishly -- 
"does a woman keep her promise, gabriel?' 
"if it is not inconvenient to her she may.' 
" -- or rather an implied promise.' 
"i won't answer for her implying,' said oak, with 
faint bitterness. "that's a word as full o' holes as a 
sieve with them.' 
"oak, don't talk like that. you have got quite 
cynical lately -- how is it? we seem to have shifted our 
positions: i have become the young and hopeful man, 
and you the old and unbelieving one. however, does 
a woman keep a promise, not to marry, but to enter on 
an engagement to marry at some time? now you 
know women better than i-tell me.' 
"i am afeard you honour my understanding too much. 
however, she may keep such a promise, if it is made 
with an honest meaning to repair a wrong.' 
"it has not gone far yet, but i think it will soon -- 
yes, i know it will,' he said, in an impulsive whisper. 
"i have pressed her upon the subject, and she inclines 
to be kind to me, and to think of me as a husband at 
a long future time, and that's enough for me. how 
can i expect more? she has a notion that a woman 
should not marry within seven years of her husband's 
disappearance -- that her own self shouldn't, i mean -- 
because his body was not found. it may be merely 
this legal reason which influences her, or it may be a 
religious one, but she is reluctant to talk on the point+ 
yet she has promised -- implied -- that she will ratify an 
engagement to-night.' 
"seven years,' murmured oak. 
"no, no -- it's no such thing!' he said, with im+ 
patience. five years, nine months, and a few days. 
fifteen months nearly have passed since he vanished, 
and is there anything so wonderful in an engagement of 
little more than five years?' 
"it seems long in a forward view. don't build too 
much upon such promises, sir. remember, you have 
once be'n deceived. her meaning may be good; but 
there -- she's young yet.' 
<p 422> 
"deceived? never! ' said boldwood, vehemently. 
"she never promised me at that first time, and hence 
she did not break her promise! if she promises me, 
she'll marry me, bathsheba is a woman to her word.' 
                     iv 
troy was sitting in a corner of the white hart 
tavern at casterbridge, smoking and drinking a steaming 
mixture from a glass. a knock was given at the door, 
and pennyways entered. 
"well, have you seen him?' troy inquired, pointing 
to a chair. 
"boldwood?' 
"no -- lawyer long.' 
"he wadn' at home. i went there first, too.' 
"that's a nuisance.' 
"'tis rather, i suppose.' 
"yet i don't see that, because a man appears to be 
drowned and was not, he should be liable for anything. 
i shan't ask any lawyer -- not i.' 
"but that's not it, exactly. if a man changes his 
name and so forth, and takes steps to deceive the world 
and his own wife, he's a cheat, and that in the eye of 
the law is ayless a rogue, and that is ayless a lammocken 
vagabond; and that's a punishable situation.' 
"ha-ha! well done, pennyways.' troy had laughed, 
but it was with some anxiety that he said, "now, what 
i want to know is this, do you think there's really 
anything going on between her and boldwood? upon 
my soul, i should never have believed it! how she. 
must detest me! have you found out whether she 
has encouraged him?' 
"i haen't been able to learn. there's a deal of 
feeling on his side seemingly, but i don't answer for 
her. i didn't know a word about any such thing till 
yesterday, and all i heard then was that she was gwine 
to the party at his house to-night. this is the first 
time she has ever gone there, they say. and they say 
that she've not so much as spoke to him since they were 
at greenhill fair: but what can folk believe o't ? how+ 
ever, she's not fond of him -- quite offish and quite care 
less, i know.' 
<p 423> 
"i'm not so sure of that.... she's a handsome 
woman, pennyways, is she not? own that you never 
saw a finer or more splendid creature in your life. 
upon my honour, when i set eyes upon her that day 
i wondered what i could have been made of to be able 
to leave her by herself so long. and then i was 
hampered with that bothering show, which i'm free of 
at last, thank the stars.' he smoked on awhile, and 
then added, "how did she look when you passed by 
yesterday?' 
"oh, she took no great heed of me, ye may well 
fancy; but she looked well enough, far's i know. just 
flashed her haughty eyes upon my poor scram body, and 
then let them go past me to what was yond, much as if 
i'd been no more than a leafless tree. she had just got 
off her mare to look at the last wring-down of cider for 
the year; she had been riding, and so her colours were 
up and her breath rather quick, so that her bosom 
plimmed and feli-plimmed and feli-every time plain 
to my eye. ay, and there were the fellers round her 
wringing down the cheese and bustling about and 
saying, ware o' the pommy, ma'am : 'twill spoil yer 
gown. "never mind me," says she. then gabe 
brought her some of the new cider, and she must 
needs go drinking it through a strawmote, and not in 
a nateral way at all. "liddy," says she, "bring indoors 
a few gallons, and i'll make some cider-wine." sergeant, 
i was no more to her than a morsel of scroffin the fuei 
house!' 
"i must go and find her out at once -- o yes, i see 
that-i must go. oak is head man still, isn't he?' 
"yes, 'a b'lieve. and at little weatherbury farm 
too. he manages everything.' 
"twill puzzle him to manage her, or any other man 
of his compass!' 
"i don't know about that. she can't do without 
him, and knowing it well he's pretty independent. 
and she've a few soft corners to her mind, though 
i've never been able to get into one, the devil's in't!' 
"ah baily she's a notch above you, and you must 
own it: a higher class of animai-a finer tissue. how+ 
ever, stick to me, and neither this haughty goddess, 
dashing piece of womanhood, juno-wife of mine (juno 
was a goddess, you know), nor 
<p 424> 
anybody else shall hurt 
you. but all this wants looking into, i perceive. 
what with one thing and another, i see that my work 
is well cut out for me.' 
                    v 
"how do i look to-night, liddy?' said bathsheba, 
giving a final adjustment to her dress before leaving the 
glass. 
"i never saw you look so well before. yes-i'll tell 
you when you looked like it -- that night, a year and a 
half ago, when you came in so wildiike, and scolded us 
for making remarks about you and mr. troy.' 
"everybody will think that i am setting myself to 
captivate mr. boldwood, i suppose,' she murmured. 
"at least they'll say so. can't my hair be brushed 
down a little flatter? i dread going -- yet i dread the 
risk of wounding him by staying away.' 
"anyhow, ma'am, you can't well be dressed plainer 
than you are, unless you go in sackcloth at once. 'tis 
your excitement is what makes you look so noticeable 
to-night.' 
"i don't know what's the matter, i feel wretched at 
one time, and buoyant at another. i wish i could have 
continued quite alone as i have been for the last year 
or so, with no hopes and no fears, and no pleasure and 
no grief. 
"now just suppose mr. boldwood should ask you 
 -- only just suppose it -- to run away with him, what 
would you do, ma'am?' 
"liddy -- none of that,' said bathsheba, gravely. 
"mind, i won't hear joking on any such matter. do 
you hear?' 
"i beg pardon, ma'am. but knowing what rum 
things we women be, i just said -- however, i won't 
speak of it again.' 
"no marrying for me yet for many a year; if ever, 
'twill be for reasons very, very different from those you 
think, or others will believe! now get my cloak, for it 
is time to go.' 
                        vi 
"oak, said boldwood, "before you go i want to 
mention what has been passing in my mind lately -- 
that little arrangement we made about your share in the 
farm i mean. that share is small, too small, consider+ 
ing how little i attend to business now, and how much 
time and thought you give to it. well, 
<p 425> 
since the world 
is brightening for me, i want to show my sense of it 
by increasing yopur proportion in the partnership. i'll 
make a memorandum of the arrangement which struck 
me as likely to be convenient, for i haven't time to talk 
about it now; and then we'll discuss it at our leisure. 
my intention is ultimately to retire from the manage+ 
ment altogether, and until you can take all the expendi+ 
ture upon your shoulders, i'll be a sleeping partner in 
the stock. then, if i marry her -- and i hope-i feel i 
shall, why --  -- ' 
"pray don't speak of it, sir,' said oak, hastily. "we 
don't know what may happen. so many upsets may 
befall 'ee. there's many a slip, as they say -- and i 
would advise you-i know you'll pardon me this once -- 
not to be <1too sure>1.' 
"i know, i know. but the feeling i have about in+ 
creasing your share is on account of what i know of you 
oak, i have learnt a little about your secret: your 
interest in her is more than that of bailiff for an em+ 
ployer. but you have behaved like a man, and i, as a 
sort of successful rivai-successful partly through your 
goodness of heart -- should like definitely to show my 
sense of your friendship under what must have been a 
great pain to you.' 
"o that's not necessary, thank 'ee,' said oak, 
hurriedly. "i must get used to such as that; other 
men have, and so shall i.' 
oak then left him. he was uneasy on boldwood's 
account, for he saw anew that this constant passion 
of the farmer made him not the man he once had 
been. 
as boldwood continued awhile in his room alone -- 
ready and dressed to receive his company -- the mood of 
anxiety about his appearance seemed to pass away, and 
to be succeeded by a deep solemnity. he looked out 
of the window, and regarded the dim outline of the trees 
upon the sky, and the twilight deepening to darkness. 
then he went to a locked closet, and took from 
a locked drawer therein a small circular case the size of 
a pilibox, and was about to put it into his pocket. but 
he lingered to open the cover and take a momentary 
glance inside. it contained a woman's finger-ring, set 
all the way round with small 
<p 426> 
diamonds, and from its 
appearance had evidently been recently purchased. 
boldwood's eyes dwelt upon its many sparkles a long 
time, though that its material aspect concerned him 
little was plain from his manner and mien, which were 
those of a mind following out the presumed thread of 
that jewel's future history. 
the noise of wheels at the front of the house became 
audible. boldwood closed the box, stowed it away 
carefully in his pocket, and went out upon the landing. 
the old man who was his indoor factotum came at the 
same moment to the foot of the stairs. 
"they be coming, sir-iots of 'em -- a-foot and a+ 
driving!' 
"i was coming down this moment. those wheels i 
heard -- is it mrs. troy?' 
"no, sir -- 'tis not she yet.' 
a reserved and sombre expression had returned to 
boldwood's face again, but it poorly cloaked his feei 
ings when he pronounced bathsheba's name; and his 
feverish anxiety continued to show its existence by a 
galloping motion of his fingers upon the side of his thigh 
as he went down the stairs. 
                   vii 
"how does this cover me?' said troy to pennyways, 
"nobody would recognize me now, i'm sure.' 
he was buttoning on a heavy grey overcoat of 
noachian cut, with cape and high collar, the latter being 
erect and rigid, like a girdling wall, and nearly reaching 
to the verge of travelling cap which was pulled down 
over his ears. 
pennyways snuffed the candle, and then looked up 
and deliberately inspected troy 
"you've made up your mind to go then?' he 
said. 
"made up my mind? yes; of course i have.' 
"why not write to her? 'tis a very queer corner 
that you have got into, sergeant. you see all these things 
will come to light if you go back, and they won't sound 
well at all. faith, if i was you i'd even bide as you be 
 -- a single man of the name of francis. a good wife is 
good, but the best wife is not so good 
<p 427> 
as no wife at all. 
now that's my outspoke mind, and i've been called a 
long-headed feller here and there.' 
"all nonsense!' said troy, angrily. "there she is 
with plenty of money, and a house and farm, and 
horses, and comfort, and here am i living from hand to 
mouth -- a needy adventurer. besides, it is no use 
talking now; it is too late, and i am glad of it ; i've been 
seen and recognized here this very afternoon. i should 
have gone back to her the day after the fair, if it hadn't 
been for you talking about the law, and rubbish about 
getting a separation; and i don't put it off any longer. 
what the deuce put it into my head to run away at all, 
i can't think! humbugging sentiment -- that's what it 
was. but what man on earth was to know that his wife 
would be in such a hurry to get rid of his name!' 
"i should have known it. she's bad enough for 
anything.' 
"pennyways, mind who you are talking to.' 
"well, sergeant, all i say is this, that if i were you i'd 
go abroad again where i came from -- 'tisn't too late to do 
it now. i wouldn't stir up the business and get a bad 
name for the sake of living with her -- for all that about 
your play-acting is sure to come out, you know, although 
you think otherwise. my eyes and limbs, there'll be a 
racket if you go back just now -- in the middle of bold+ 
wood's christmasing!' 
"h'm, yes. i expect i shall not be a very welcome 
guest if he has her there,' said the sergeant, with a slight 
laugh. "a sort of alonzo the brave; and when i go in 
the guests will sit in silence and fear, and all laughter 
and pleasure will be hushed, and the lights in the 
chamber burn blue, and the worms -- ugh, horrible! -- 
ring for some more brandy, pennyways, i felt an 
awful shudder just then! well, what is there besides? 
a stick-i must have a walking-stick.' 
pennyways now felt himself to be in something of a 
difficulty, for should bathsheba and troy become recon+ 
ciled it would be necessary to regain her good opinion 
if he would secure the patronage of her husband. i 
sometimes think she likes you yet, and is a good woman 
at bottom,' he said, as a saving sentence. "but there's 
no telling to a certainty from a body's outside. well, 
<p 428> 
you'll do as you like about going, of course, sergeant, 
and as for me, i'll do as you tell me.' 
"now, let me see what the time is,' said troy, after 
emptying his glass in one draught as he stood. 'half+ 
past six o'clock. i shall not hurry along the road, and 
shall be there then before nine.' 
concurritur 
<c liii> 
<p 429> 
concurritur -- horae momento 
outside the front of boldwood's house a group of 
men stood in the dark, with their faces towards the door, 
which occasionally opened and closed for the passage of 
some guest or servant, when a golden rod of light would 
stripe the ground for the moment and vanish again, 
leaving nothing outside but the glowworm shine of the 
pale lamp amid the evergreens over the door. 
"he was seen in casterbridge this afternoon -- so the 
boy said,' one of them remarked in a whisper. "and l 
for one believe it. his body was never found, you know.' 
"'tis a strange story,' said the next. "you may 
depend upon't that she knows nothing about it.' 
"not a word.' 
"perhaps he don't mean that she shall,' said another 
man. 
"if he's alive and here in the neighbourhood, he 
means mischief,' said the first. "poor young thing: 
i do pity her, if 'tis true. he'll drag her to the dogs.' 
"o no; he'll settle down quiet enough,' said one 
disposed to take a more hopeful view of the case. 
"what a fool she must have been ever to have had 
anything to do with the man! she is so self-willed and 
independent too, that one is more minded to say it 
serves her right than pity her.' 
"no, no. i don't hold with 'ee there. she was no 
otherwise than a girl mind, and how couid she tell what 
the man was made of? if 'tis really true, 'tis too hard 
a punishment, and more than she ought to hae. -- hullo, 
who's that?' this was to some footsteps that were 
heard approaching. 
"william smallbury,' said a dim figure in the shades, 
coming up and joining them. 'dark as a hedge, to+ 
night, isn't it? i all but missed the plank over the river 
ath'art there in the bottom -- 
<p 430> 
never did such a thing 
before in my life. be ye any of boldwood's workfolk?' 
he peered into their faces. 
"yes -- all o' us. we met here a few minutes ago.' 
"oh, i hear now -- that's sam samway : thought i 
knowed the voice, too. going in?' 
"presently. but i say, william,' samway whispered, 
"have ye heard this strange tale?' 
"what -- that about sergeant troy being seen, d'ye 
mean, souls?' said smallbury, also lowering his voice. 
"ay: in casterbridge.' 
"yes, i have. laban tall named a hint of it to me 
but now -- but i don't think it. hark, here laban 
comes himself, 'a b'lieve.' a footstep drew near. 
"laban?' 
"yes, 'tis i,' said tall. 
"have ye heard any more about that?' 
"no,' said tall, joining the group. "and i'm in+ 
clined to think we'd better keep quiet. if so be 'tis not 
true, 'twill flurry her, and do her much harm to repeat 
it; and if so be 'tis true, 'twill do no good to forestall 
her time o' trouble. god send that it mid be a lie, for 
though henery fray and some of 'em do speak against 
her, she's never been anything but fair to me. she's 
hot and hasty, but she's a brave girl who'll never tell a 
lie however much the truth may harm her, and i've no 
cause to wish her evil.' 
"she never do tell women's little lies, that's true ; and 
'tis a thing that can be said of very few. ay, all the 
harm she thinks she says to yer face: there's nothing 
underhand wi' her.' 
they stood silent then, every man busied with his 
own thoughts, during which interval sounds of merri+ 
ment could be heard within. then the front door again 
opened, the rays streamed out, the weliknown form of 
boldwood was seen in the rectangular area of light, the 
door closed, and boldwood walked slowly down the path. 
"'tis master,' one of the men whispered, as he neared 
them. "we'd better stand quiet -- he'll go in again 
directly. he would think it unseemly o' us to be 
loitering here. 
boldwood came on, and passed by the men without 
<p 431> 
seeing them, they being under the bushes on the grass. 
he paused, leant over the gate, and breathed a long 
breath. they heard low words come from him. 
"i hope to god she'll come, or this night will be 
nothing but misery to me! o my darling, my darling, 
why do you keep me in suspense like this?' 
he said this to himself, and they all distinctly heard 
it. boldwood remained silent after that, and the noise 
from indoors was again just audible, until, a few minutes 
later, light wheels could be distinguished coming down 
the hill. they drew nearer, and ceased at the gate. 
boldwood hastened back to the door, and opened it; 
and the light shone upon bathsheba coming up the 
path. 
boldwood compressed his emotion to mere welcome: 
the men marked her light laugh and apology as she met 
him: he took her into the house; and the door closed 
again. 
"gracious heaven, i didn't know it was like that with 
him!' said one of the men. "i thought that fancy of 
his was over long ago. 
"you don't know much of master, if you thought 
that,' said samway. 
"i wouldn't he should know we heard what 'a said 
for the world,' remarked a third. 
"i wish we had told of the report at once,' the first 
uneasily continued. "more harm may come of this than 
we know of. poor mr. boldwood, it will, be hard upon 
en. i wish troy was in  --  --  well, god forgive me 
for such a wish! a scoundrel to play a poor wife such 
tricks. nothing has prospered in weatherbury since he 
came here. and now i've no heart to go in. let's 
look into warren's for a few minutes first, shall us, 
neighbours?' 
samway, tall, and smallbury agreed to go to warren's, 
and went out at the gate, the remaining ones entering 
the house. the three soon drew near the malt-house, 
approaching it from the adjoining orchard, and not by 
way of the street. the pane of glass was illuminated 
as usual. smallbury was a little in advance of the rest 
when, pausing, he turned suddenly to his companions 
and said, "hist! see there.' 
<p 432> 
the light from the pane was now perceived to be 
shining not upon the ivied wall as usual, but upon some 
object close to the glass. it was a human face. 
"let's come closer,' whispered samway; and they 
approached on tiptoe. there was no disbelieving the 
report any longer. troy's face was almost close to the 
pane, and he was looking in. not only was he looking in, 
but he appeared to have been arrested by a conversation 
which was in progress in the malt-house, the voices of 
the interlocutors being those of oak and the maltster. 
"the spree is all in her honour, isn't it -- hey?' said 
the old man. "although he made believe 'tis only 
keeping up o' christmas?' 
"i cannot say,' replied oak. 
"o 'tis true enough, faith. i cannot understand 
farmer boldwood being such a fool at his time of life 
as to ho and hanker after thik woman in the way 'a do, 
and she not care a bit about en.' 
the men, after recognizing troy's features, withdrew 
across the orchard as quietly as they had come. the 
air was big with bathsheba's fortunes to-night : every 
word everywhere concerned her. when they were quite 
out of earshot all by one instinct paused. 
"it gave me quite a turn -- his face,' said tall, 
breathing. 
"and so it did me,' said samway. "what's to be 
done?' 
"i don't see that 'tis any busincss of ours,' smallbury 
murmured dubiously. 
"but it is! 'tis a thing which is everybody's business, 
said samway. "we know very well that master's on a 
wrong tack, and that she's quite in the dark, and we 
should let 'em know at once. laban, you know her 
best -- you'd better go and ask to speak to her.' 
"i bain't fit for any such thing,' said laban, nervously. 
"i should think william ought to do it if anybody. he's 
oldest.' 
"i shall have nothing to do with it,' said smallbury. 
"'tis a ticklish business altogether. why, he'll go on 
to her himself in a few minutes, ye'll see.' 
"we don't know that he will. come, laban.' 
<p 433> 
"very well, if i must i must, i suppose,' tall reluct+ 
antly answered. "what must i say?' 
"just ask to see master.' 
"o no; i shan't speak to mr. boldwood. if i tell 
anybody, 'twill be mistress.' 
"very well,' said samway. 
laban then went to the door. when he opened it 
the hum of bustle rolled out as a wave upon a still 
strand -- the assemblage being immediately inside the 
hali-and was deadened to a murmur as he closed it 
again. each man waited intently, and looked around at 
the dark tree tops gently rocking against the sky and 
occasionally shivering in a slight wind, as if he took 
interest in the scene, which neither did. one of them 
began walking up and down, and then came to where 
he started from and stopped again, with a sense that 
walking was thing not worth doing now. 
"i should think laban must have seen mistress by 
this time,' said smallbury, breaking the silence. "per+ 
haps she won't come and speak to him.' 
the door opened. tall appeared, and joined them 
"well?' said both. 
"i didn't like to ask for her after all,' laban faltered 
out. "they were all in such a stir, trying to put a little 
spirit into the party. somehow the fun seems to hang 
fire, though everything's there that a heart can desire, 
and i couldn't for my soul interfere and throw damp 
upon it -- if 'twas to save my life, i couldn't!' 
"i suppose we had better all go in together,' said 
samway, gloomily. "perhaps i may have a chance of 
saying a word to master.' 
so the men entered the hall, which was the room 
sellected and arranged for the gathering because of its 
size. the younger men and maids were at last just 
beginning to dance. bathshesba had been perplexed 
how to act, for she was not much more than a slim 
young maid herself, and the weight of stateliness sat 
heavy upon her. sometimes she thought she ought 
not to have come under any circumstances; then she 
considered what cold unkindness that would have been, 
and finally resolved 
<p 434> 
upon the middle course of staying 
for about an hour only, and gliding off unobserved, 
having from the first made up her mind that she could 
on no account dance, sing, or take any active part in 
the proceedings. 
her allotted hour having been passed in chatting 
and looking on, bathsheba told liddy not to hurry her+ 
self, and went to the small parlour to prepare for 
departure, which, like the hall, was decorated with holly 
and ivy, and well lighted up. 
nobody was in the room, but she had hardly 
horae momento 
been there a moment when the master of the house 
entered. 
"mrs. troy -- you are not going?' he said. "we've 
hardly begun!' 
"if you'll excuse me, i should like to go now.' her 
manner was restive, for she remembered her promise, 
and imagined what he was about to say. "but as it is 
not late,' she added, "i can walk home, and leave my 
man and liddy to come when they choose.' 
"i've been trying to get an opportunity of speaking 
to you,' said boldwood. "you know perhaps what i 
long to say?' 
bathsheba silently looked on the floor. 
"you do give it?' he said, eagerly. 
"what?' she whispered. 
"now, that's evasion! why, the promise. i don't 
want to intrude upon you at all, or to let it become 
known to anybody. but do give your word! a 
mere business compact, you know, between two people 
who are beyond the influence of passicn.' boldwood 
knew how false this picture was as regarded himself; 
but he had proved that it was the only tone in which 
she would allow him to approach her. "a promise to 
marry me at the end of five years and three-quarters. 
you owe it to me!' 
"i feel that i do,' said bathsheba ; "that is, if you 
demand it. but i am a changed woman -- an unhappy 
woman -- and not -- not --  -- " 
" you are still a very beautiful woman, said boldwood. 
honesty and pure conviction suggested the remark, 
unaccompanied by any perception that it might have 
been adopted by blunt flattery to soothe and win her. 
however, it had not much effect now, for for she said, 
in a 
<p 435> 
passionless murmur which was in itself a proof of 
her words: "i have no feeling in the matter at all. 
and i don't at all know what is right to do in my 
diddicult position, and i have nobody to advise me. but 
i give my promise, if i must. i give it as the rendering of 
a debt, conditionally, of course, on my being a widow.' 
"you'll marry me between five and six years hence ? ' 
"don't press me too hard. i'll marry nobody 
else.' 
" but surely you will name the time, or there's nothing 
in the promise at all?' 
"o, i don't know, pray let me go!' she said, her 
bosom beginning to rise. "i am afraid what to do.! 
want to be just to you, and to be that seems to be wrong+ 
ing myself, and perhaps it is breaking the commandments. 
there is considerable doubt of his death, and then it 
is dreadful; let me ask a solicitor, mr. boldwood, if i 
ought or no!' 
"say the words, dear one, and the subject shall be 
dismissed ; a blissrul loving intimacy of six years, and 
then marriage -- o bathsheba, say them!' he begged in 
a husky voice, unable to sustain the forms of mere 
friendship any longer. "promise yourself to me; i 
deserve it, indeed i do, for i have loved you more than 
anybody in the world! and if i said hasty words and 
showed uncalled-for heat of manner towards you, believe 
me, dear, i did not mean to distress you ; i was in 
agony, bathsheba, and i did not know what i said. 
you wouldn't let a dog suffer what i have suffered, 
could you but know it! sometimes i shrink from your 
knowing what i have felt for you, and sometimes i am 
distressed that all of it you never will know. be 
gracious, and give up a little to me, when i would give 
up mylife for you!' 
the trimmings of her dress, as they quivered against 
the light, showed how agitated she was, and at last she 
burst out crying. 'and you'll not -- press me -- about 
anything more -- if i say in five or six years?' she 
sobbed, when she had power to frame the words. 
"yes, then i'll leave it to time.' 
"very well. if he does not return, i'll marry you 
in six years from this day, if we both live,' she said 
solemnly. 
<p 436> 
"and you'll take this as a token from me.' 
boldwood had come close to her side, and now he 
clasped one of her hands in both his own, and lifted it 
to his breast. 
"what is it? oh i cannot wear a ring!' she ex+ 
claimed, on seeing what he held; "besides, i wouldn't 
have a soul know that it's an engagement! perhaps it 
is improper? besides, we are not engaged in the usual 
sense, are we ? don't insist, mr. boldwood -- don't!' 
in her trouble at not being able to get her hand away 
from him at once, she stamped passionately on the floor 
with one foot, and tears crowded to her eyes again. 
"it means simply a pledge -- no sentiment -- the seal 
of a practical compact,' he said more quictly, but still 
retaining her hand in his firm grasp. "come, now!' 
and boldwood slipped the ring on her finger. 
"i cannot wear it,' she said, weeping as if her heart 
would break. " you frighten me, almost. so wild a 
scheme! please let me go home!' 
" only to-night : wear it just to-night, to please me!.' 
bathsheba sat down in a chair, and buried her face 
in her handkerchief, though boldwood kept her hand 
yet. at length she said, in a sort of hopeless whisper -- 
"very well, then, i will to-night, if you wish it so 
earnestly. now loosen my hand; i will, indeed i will 
wear it to-night.' 
"and it shall be the beginning of a pleasant secret 
courtship of six years, with a wedding at the end?' 
"it must be, i suppose, since you will have it so!' 
she said, fairly beaten into non-resistance. 
boldwood pressed her hand, and allowed it to drop 
in her lap. "i am happy now,' he said. "god bless 
you!' 
he left the room, and when he thought she might 
be sufficiently composed sent one of the maids to her 
bathsheba cloaked the effects of the late scene as she 
best could, followed the girl, and in a few moments 
came downstairs with her hat and cloak on, ready to go. 
to get to the door it was necessary to pass through the 
hall, and before doing so she paused on the bottom of 
the staircase which descended into one corner, to take 
a last look at the gathering. 
there was no music or dancing in progress just now. 
at the 
<p 437> 
lower end, which had been arranged for the work+ 
folk specially, a group conversed in whispers, and with 
clouded looks. boldwood was standing by the fireplace, 
and he, too, though so absorbed in visions arising from 
her promise that he scarcely saw anything, seemed at 
that moment to have observed their peculiar manner, 
and their looks askance. 
"what is it you are in doubt about, men?' he said. 
one of them turned and replied uneasily: 'it was 
something laban heard of, that's all, sir.' 
"news? anybody married or engaged, born or 
dead?' inquired the farmer, gaily. "tell it to us, tall. 
one would think from your looks and mysterious ways 
that it was something very dreadful indeed.' 
"o no, sir, nobody is dead,' said tall. 
"i wish somebody was,' said samway, in a whisper. 
"what do you say, samway?' asked boldwood, some+ 
what sharply. "if you have anything to say, speak out; 
if not, get up another dance.' 
"mrs. troy has come downstairs,' said samway to 
tall. "if you want to tell her, you had better do it now.' 
"do you know what they mean?' the farmer asked 
bathsheba, across the room. 
"i don't in the least," said bathsheba. 
there was a smart rapping at the door. one of 
the men opened it instantly, and went outside. 
"mrs. troy is wanted,' he said, on returning. 
"quite ready,' said bathsheba. "though i didn't 
tell them to send.' 
"it is a stranger, ma'am,' said the man by the door. 
"a stranger?' she said. 
"ask him to come in,' said boldwood. 
the message was given, and troy, wrapped up to 
his eyes as we have seen him, stood in the doorway. 
there was an unearthly silence, all looking towards 
the newcomer. those who had just learnt that he 
was in the neighbourhood recognized him instantly; 
those who did not were perplexed. nobody noted 
bathsheba. she was leaning on the stairs. her brow 
had heavily contracted; her whole face was 
<p 438> 
pallid, her 
lips apart, her eyes rigidly staring at their visitor. 
boldwood was among those who did not notice that 
he was troy. "come in, come in!' he repeated, 
cheerfully, "and drain a christmas beaker with us, 
stranger!' 
troy next advanced into the middle of the room, 
took off his cap, turned down his coat-collar, and looked 
boldwood in the face. even then boldwood did not 
recognize that the impersonator of heaven's persistent 
irony towards him, who had once before broken in 
upon his bliss, scourged him, and snatched his delight 
away, had come to do these things a second time. 
troy began to laugh a mechanical laugh: boldwood 
recognized him now. 
troy turned to bathsheba. the poor girl's wretched+ 
ness at this time was beyond all fancy or narration. 
she had sunk down on the lowest stair; and there 
she sat, her mouth blue and dry, and her dark eyes 
fixed vacantly upon him, as if she wondered whether it 
were not all a terrible illusion. 
then troy spoke. "bathsheba, i come here for 
you!' 
she made no reply. 
" come home with me: come! 
bathsheba moved her feet a little, but did not rise. 
troy went across to her. 
"come, madam, do you hear what i say?' he said, 
peremptorily. 
a strange voice came from the fireplace -- a voice 
sounding far off and confined, as if from a dungeon. 
hardly a soul in the assembly recognized the thin tones 
to be those of boldwood. sudden dispaire had trans+ 
formed him. 
"bathsheba, go with your husband!' 
nevertheless, she did not move. the truth was 
that bathsheba was beyond the pale of activity -- and 
yet not in a swoon. she was in a state of mental <1gutta>1 
<1serena>1; her mind was for the minute totally deprived of 
light at the same time no obscuration was apparent 
from without. 
troy stretched out his hand to pull her her towards him, 
when she quickly shrank back. this visible dread of 
him seemed to irritate troy, and he seized her arm and 
pulled it sharply. 
<p 439> 
whether his grasp pinched her, or 
whether his mere touch was the ccause, was never known, 
but at the moment of his seizure she writhed, and gave 
a quick, low scream. 
the scream had been heard but a few seconds when 
it was followed by sudden deafening report that 
echoed through the room and stupefied them all. the 
oak partition shook with the concussion, and the place 
was filled with grey smoke. 
in bewilderment they turned their eyes to boldwood. 
at his back, as stood before the fireplace, was a gun+ 
rack, as is usual in farmhouses, constructed to hold two 
guns. when bathsheba had cried out in her husband's 
grasp, boldwood's face of gnashing despair had changed. 
the veins had swollen, and a frenzied look had gleamed 
in his eye. he had turned quickly, taken one of the 
guns, cocked it, and at once discharged it at troy. 
troy fell. the distance apart of the two men was 
so small that the charge of shot did not spread in the 
least, but passed like a bullet into his body. he uttered 
a long guttural sigh -- there was a contraction -- an exten+ 
sion -- then his muscles relaxed, and he lay still. 
boldwood was seen through the smoke to be now 
again engaged with the gun. it was double-barrelled, 
and he had, meanwhile, in some way fastened his hand+ 
kerchief to the trigger, and with his foot on the other 
end was in the act of turning the second barrel upon 
himself. samway his man was the first to see this, and 
in the midst of the general horror darted up to him. 
boldwood had already twitched the handkerchief, and 
the gun exploded a second time, sending its contents, 
by a timely blow from samway, into the beam which 
crossed the ceiling. 
"well, it makes no difference!' boldwood gasped. 
"there is another way for me to die.' 
then he broke from samway, crossed the room to 
bathsheba, and kissed her hand. he put on his hat, 
opened the door, and went into the darkness, nobody 
thinking of preventing him. 
<c liv> 
<p 440> 
after the shock 
boldwood passed into the high road and turned 
in the direction of casterbridge. here he walked at 
an even, steady pace over yalbury hill, along the dead 
level beyond, mounted mellstock hill, and between 
eleven and twelve o'clock crossed the moor into the town. 
the streets were nearly deserted now, and the waving 
lamp-flames only lighted up rows of grey shop-shutters, 
and strips of white paving upon which his step echoed 
as his passed along. he turned to the right, and halted 
before an archway of heavy stonework, which was closed 
by an iron studded pair of doors. this was the entrance 
to the gaol, and over it a lamp was fixed, the light en+ 
abling the wretched traveller to find a belipull. 
the small wicket at last opened, and a porter 
appeared. boldwood stepped forward, and said some+ 
thing in a low tone, when, after a delay, another man 
came. boldwood entered, and the door was closed 
behind him, and he walked the world no more. 
long before this time weatherbury had been 
thoroughly aroused, and the wild deed which had ter+ 
minated boldwood's merrymaking became known to 
all. of those out of the house oak was one of the 
first to hear of the catastophe, and when he entered 
the room, which was about five minutes after boldwood's 
exit, the scene was terrible. all the female guests were 
huddled aghast against the walls like sheep in a storm, 
and the men were bewildered as to what to do. as for 
bathsheba, she had changed. she was sitting on the 
floor beside the body of troy, his head pillowed in her 
lap, where she had herself lifted it. with one hand she 
held her handkerchief to his breast and covered the 
wound, though scarcely a single drop of blood had 
flowed, and with the other she tightly clasped one of 
his. the household convulsion had made her herself 
again. the 
<p 441> 
temporary coma had ceased, and activity 
had come with the necessity for it. deeds of endur+ 
ance, which seem ordinary in philosophy, are rare in 
conduct, and bathsheba was astonishing all around her 
now, for her philosophy was her conduct, and she 
seldom thought practicable what she did not practise. 
she was of the stuff of which great men's mothers 
are made. she was indispensable to high generation, 
hated at tea parties, feared in shops, and loved at crises. 
troy recumbent in his wife's lap formed now the sole 
spectacle in the middle of the spacious room. 
"gabriel,' she said, automatically, when he entered, 
turning up a face of which only the weliknown lines 
remained to tell him it was hers, all else in the picture 
having faded quite. "ride to casterbridge instantly 
for a surgeon. it is, i believe, useless, but go. mr. 
boldwood has shot my husband.' 
her statement of the fact in such quiet and simple 
words came with more force than a tragic declamation, 
and had somewhat the effect of setting the distorted 
images in each mind present into proper focus. oak, 
almost before he had comprehended anything beyond 
the briefest abstract of the event, hurried out of the 
room, saddled a horse and rode away. not till he had 
ridden more than a mile did it occur to him that he 
would have done better by sending some other man 
on this errand, remaining himself in the house. what 
had become of boldwood? he should have been 
looked after. was he mad -- had there been a quarrel? 
then how had troy got there? where had he come 
from? how did this remarkable reappearance effect 
itself when he was supposed by many to be at the 
bottom of the sea? oak had in some slight measure 
been prepared for the presence of troy by hearing a 
rumour of his return just before entering boldwood's 
house ; but before he had weighed that information, this 
fatal event had been superimposed. however, it was too 
late now to think of sending another messenger, and 
he rode on, in the excitement of these self-inquiries 
not discerning, when about three miles from caster+ 
bridge, a square-figured pedestrian passing along 
under the dark hedge in the same direction as his 
own. 
the miles necessary to be traversed, and other 
hindrances 
<p 442> 
incidental to the lateness of the hour and 
the darkness of the night, delayed the arrival of mr, 
aldritch, the surgeon ; and more than three hours 
passed between the time at which the shot was fired 
and that of his entering the house. oak was addition+ 
ally detained in casterbridge through having to give 
notice to the authorities of what had happened; and 
he then found that boldwood had also entered the 
town, and delivercd himself up. 
in the meantime the surgeon, having hastened into 
the hall at boldwood's, found it in darkness and quite 
deserted. he went on to the back of the house, 
where he discovered in the kitchen an old man, of 
whom he made inquiries. 
"she's had him took away to her own house, sir,' 
said his informant. 
"who has?' said the doctor. 
"mrs. troy. 'a was quite dead, sir.' 
this was astonishing information. "she had no 
right to do that,' said the doctor. "there will have 
to be an inquest, and she should have waited to know 
what to do.' 
"yes, sir; it was hinted to her that she had better 
wait till the law was known. but she said law was 
nothing to her, and she wouldn't let her dear husband's 
corpse bide neglected for folks to stare at for all the 
crowners in england.' 
mr. aldritch drove at once back again up the 
hill to bathsheba's. the first person he met was 
poor liddy, who seemed literally to have dwindled 
smaller in these few latter hours. "what has been 
done?' he said. 
"i don't know, sir,' said liddy, with suspended 
breath. "my mistress has done it all.' 
"where is she?' 
" upstairs with him, sir. when he was brought 
home and taken upstairs, she said she wanted no 
further help from the men. and then she called me, 
and made me fill the bath, and after that told me i 
had better go and lie down because i looked so ill. 
then she locked herself into the room alone with him, 
and would not let a nurse come in, or anybody at all. 
but i thought l'd wait in the next room in case she 
should want me. i heard her moving about inside 
for more than an  
<p 443> 
hour, but she only came out once, 
and that was for more candles, because hers had burnt 
down into the socket. she said we were to let her 
know when you or mr. thirdly came, sir.' 
oak entered with the parson at this moment, and 
they all went upstairs together, preceded by liddy 
smallbury. everything was silent as the grave when 
they paused on the landing. liddy knocked, and 
bathsheba's dress was heard rustling across the room: 
the key turned in the lock, and she opened the door. 
her looks were calm and nearly rigid, like a slightly 
animated bust of melpomene. 
"oh, mr. aldritch, you have come at last,' she 
murmured from her lips merely, and threw back the 
door. "ah, and mr. thirdly. well, all is done, and 
anybody in the world may see him now.' she then 
passed by him, crossed the landing, and entered 
another room. 
looking into the chamber of death she had vacated 
they saw by the light of the candles which were on the 
drawers a tall straight shape lying at the further end 
of the bedroom, wrapped in white. everything around 
was quite orderly. the doctor went in, and after a 
few minutes returned to the landing again, where 
oak and the parson still waited. 
"it is all done, indeed, as she says,' remarked mr. 
aldritch, in a subdued voice. "the body has been 
undressed and properly laid out in grave clothes. 
gracious heaven -- this mere girl! she must have the 
nerve of a stoic!' 
"the heart of a wife merely,' floated in a whisper 
about the ears of the three, and turning they saw 
bathsheba in the midst of them. then, as if at that 
instant to prove that her fortitude had been more of 
will than of spontaneity, she silently sank down between 
them and was a shapeless heap of drapery on the floor. 
the simple consciousness that superhuman strain was 
no longer required had at once put a period to her 
power to continue it. 
they took her away into a further room, and the 
medical attendance which had been useless in troy's 
case was invaluable in bathsheba's, who fell into a 
series of fainting-fits that had a serious aspect for a 
time. the sufferer was got to bed,  
<p 444> 
and oak, finding 
from the bulletins that nothing really dreadful was to 
be apprehended on her score, left the house. liddy 
kept watch in bathsheba's chamber, where she heard 
her mistress, moaning in whispers through the dull 
slow hours of that wretched night: "o it is my fault 
 -- how can i live! o heaven, how can i live!' 
<c lv> 
<p 445> 
the march following -- "bathsheba boldwood' 
we pass rapidly on into the month of march, to a 
breezy day without sunshine, frost, or dew. on yai 
bury hill, about midway between weatherbury and 
casterbridge, where the turnpike road passes over 
the crest, a numerous concourse of people had 
gathered, the eyes of the greater number being fre+ 
quently stretched afar in a northerly direction. the 
groups consisted of a throng of idlers, a party of 
javelin-men, and two trumpeters, and in the midst 
were carriages, one of which contained the high 
sheriff. with the idlers, many of whom had mounted 
to the top of a cutting formed for the road, were several 
weatherbury men and boys -- among others poorgrass, 
coggan, and cain ball. 
at the end of half-an-hour a faint dust was seen in 
the expected quarter, and shortly after a travelling+ 
carriage, bringing one of the two judges on the western 
circuit, came up the hill and halted on the top. the 
judge changed carriages whilst a flourish was blown 
by the big-cheeked trumpeters, and a procession being 
formed of the vehicles and javelin-men, they all pro+ 
ceeded towards the town, excepting the weatherbury 
men, who as soon as they had seen the judge move 
off returned home again to their work. 
" joseph, i zeed you squeezing close to the carriage," 
said coggan, as they walked. "did ye notice my lord 
judge's face ?' 
"i did,' said poorgrass. "i looked hard at en, as 
if i would read his very soul; and there was mercy 
in his eyes -- or to speak with the exact truth required 
of us at this solemn time, in the eye that was towards 
me.' 
"well, i hope for the best,' said coggan, though 
bad that must be. however, i shan't go to the trial, 
and i'd advise the rest of ye that bain't wanted to bide 
away. 'twill disturb his  
<p 446> 
mind more than anything to 
see us there staring at him as if he were a show.' 
" the very thing i said this morning,' observed joseph, 
"justice is come to weigh him in the balances," i said 
in my reflectious way, "and if he's found wanting, so 
be it unto him," and a bystander said "hear, hear, 
a man who can talk like that ought to be heard.' 
but i don't like dwelling upon it, for my few words 
are my few words, and not much; though the speech 
of some men is rumoured abroad as though by nature 
formed for such.' 
"so 'tis, joseph. and now, neighbours, as i said, 
every man bide at home.' 
the resolution was adhered to ; and all waited 
anxiously for the news next day. their suspense 
was diverted, however, by a discovery which was made 
in the afternoon, throwing more light on boldwood's 
conduct and condition than any details which had 
preceded it. 
that he had been from the time of greenhill fair 
until the fatal christmas eve in excited and unusual 
moods was known to those who had been intimate 
with him; but nobody imagined that there had shown 
in him unequivocal symptoms of the mental derange+ 
ment which bathsheha and oak, alone of all others 
and at different times, had momentarily suspected. 
in a locked closet was now discovered an extraordinary 
collection of articles. there were several sets of ladies' 
dresses in the piece, of sundry expensive materials; 
silks and satins, poplins and velvets, all of colours 
which from bathsheba's style of dress might have been 
judged to be her favourites. there were two muffs, 
sable and ermine. above all there was a case of 
jewellery, containing four heavy gold bracelets and 
several lockets and rings, all of fine quality and manu+ 
facture. these things had been bought in bath and 
other towns from time to time, and brought home by 
stealth. they were all carefully packed in paper, and 
each package was labelled " bathsheba boldwood,' a 
date being subjoined six years in advance in every 
instance. 
these somewhat pathetic evidences of a mind crazed 
with care and love were the subject of discourse in 
<p 447> 
warren's malt-house when oak entered from caster+ 
bridge with tidings of the kiln glow shone upon 
it, told the tale sufficiently well. boldwood, as every 
one supposed he would do, had pleaded guilty, and 
had been sentenced to death. 
the conviction that boldwood had not been morally 
responsible for his later acts now becam general. facts 
elicited previous to the trial had pointed strongly in the 
same direction, but they had not been of sufficient weight 
to lead to an order for an examination into the state 
of boldwood's mind. it was astonishing, now that a 
presumption of insanity was raised, how many collateral 
circumstances were remembered to which a condition 
of mental disease seemed to afford the only explanation 
 -- among others, the unprecedented neglect of his corn 
stacks in the previous summer. 
a petition was addressed to the home secretary, 
advancing the circumstances which appeared to justify 
a request for a reconsideration of the sentence. it was 
not "numerously signed ' by the inhabitants of caster+ 
bridge, as is usual in such cases, for boldwood had 
never made many friends over the counter. the shops 
thought it very natural that a man who, by importing 
direct from the producer, had daringly set aside the 
first great principle of provincial existence, namely 
that god made country villages to supply customers 
to county towns, should have confused ideas about 
the decalogue. the prompters were a few merciful 
men who had perhaps too feelingly considered the 
facts latterly unearthed, and the result was that evidence 
was taken which it was hoped might remove the crime 
in a moral point of view, out of the category of wilful 
murder, and lead it to be regarded as a sheer outcome 
of madness. 
the upshot of the petition was waited for in weather+ 
bury with solicitous interest. the execution had been 
fixed for eight o'clock on a saturday morning about a 
fortnight after the sentence was passed, and up to 
friday afternoon no answer had been recieved. at 
that time gabriel came from casterbridge gaol, whither 
he had been to wish boldwood good-bye, and turned 
down a by-street to avoid the town. when past the last 
<p 448> 
house he heard a hammering, and lifting his bowed 
head he looked back for a moment. over the chimneys 
he could see the upper part of the gaol entrance, rich 
and glowing in the afternoon sun, and some moving 
figures were there. they were carpenters lifting a post 
into a vertical position within the parapet. he with+ 
drew his eyes quickly, and hastened on. 
it was dark when he reached home, and half the 
village was out to meet him. 
"no tidings,' gabriel said, wearily. "and i'm afraid 
there's no hope. i've been with him more than two 
hours.' 
"do ye think he <1really>1 was out of his mind when he 
did it?' said smallbury. 
" i can't honestly say that i do,' oak replied. " how+ 
ever, that we can talk of another time. has there been 
any change in mistress this afternoon?' 
"none at all.' 
"is she downstairs?' 
"no. and getting on so nicely as she was too. 
she's but very little better now again than she was at 
christmas. she keeps on asking if you be come, and 
if there's news, till one's wearied out wi' answering her. 
shall i go and say you've come?' 
"no,' said oak. "there's a chance yet; but i 
couldn't stay in town any longer -- after seeing him too, 
so laban -- laban is here, isn't he ? ' 
" yes,' said tall. 
"what i've arranged is, that you shall ride to town 
the last thing to-night ; leave here about nine, and wait 
a while there, getting home about twelve. if nothing 
has been received by eleven to-night, they say there's 
no chance at all.' 
"i do so hope his life will be spared,' said liddy. 
"if it is not, she'll go out of her mind too. poor thing; 
her sufferings have been dreadful; she deserves any+ 
body's pity.' 
"is she altered much ? ' said coggan. 
"if you haven't seen poor mistress since christmas, 
you wouldn't know her,' said liddy. " her eyes are so 
miserable that she's not the same woman. only two 
years ago she was a romping girl, and now she's this!' 
laban departed as directed, and at eleven o'clock 
that night  
<p 449> 
several of the villagers strolled along the 
road to casterbridge and awaited his arrivai-among 
them oak, and nearly all the rest of bathsheba's men. 
gabriel's anxiety was great that boldwood might be 
saved, even though in his conscience he felt that he 
ought to die; for there had been qualities in the farmer 
which oak loved. at last, when they all were weary 
the tramp of a horse was heard in the distance -- 
first dead, as if on turf it trode, 
then, clattering  on the village road 
in other pace than forth he yode. 
'we shall soon know now, one way or other,' said 
coggan, and they all stepped down from the bank on 
which they had been standing into the road, and the 
rider pranced into the midst of them. 
"is that you, laban ? ' said gabriel. 
"yes -- 'tis come. he's not to die. 'tis confine+ 
ment during her majesty's pleasure.' 
"hurrah!' said coggan, with a swelling heart. "god's 
above the devil yet!' 
<c lvi> 
<p 450> 
beauty in loneliness -- after all 
bathsheba revived with the spring. the utter 
prostration that had followed the low fever from which 
she had sufered diminished perceptibly when all un+ 
certainty upon every subject had come to an end. 
but she remained alone now for the greater part of 
her time, and stayed in the house, or at furthest went 
into the garden. she shunned every one, even liddy, 
and could be brought to make no confidences, and to 
ask for no sympathy. 
as the summer drew on she passed more of her time 
in the open air, and began to examine into farming 
matters from sheer necessity, though she never rode 
out or personally superintended as at former times. 
one friday evening in august she walked a little way 
along the road and entered the village for the first time 
since the sombre event of the preceding christmas. 
none of the old colour had as yet come to her cheek, 
and its absolute paleness was heightened by the jet black 
of her gown, till it appeared preternatural. when she 
reached a little shop at the other end of the place, 
which stood nearly opposite to the churchyard, bath+ 
sheba heard singing inside the church, and she knew 
that the singers were practising. she crossed the road, 
opened the gate, and entered the graveyard, the high 
sills of the church windows effectually screening her 
from the eyes of those gathered within. her stealthy 
walk was to the nook wherein troy had worked at 
planting flowers upon fanny robin's grave, and she 
came to the marble tombstone. 
a motion of satisfaction enlivened her face as she 
read the complete inscription. first came the words of 
troy himself: -- 
<p 451> 
erected by francis troy 
in beloveo memory of 
fanny robin, 
who died october 9, 18 -- , 
aged 20 years. 
unerneath this was now inscribed in new letters: -- 
in the same grave lie 
the remains of the aforesaid 
francis troy, 
who died december 24th, 18 -- , 
whilst she stood and read and meditated the tones of 
the organ began again in the church, and she went 
with the same light step round to the porch and listened. 
the door was closed, and the coir was learning a new 
hymn. bathsheba was stirred by emotions which 
latterly she had assumed to be altogether dead within 
her. the little attenuated voices of the children 
brought to her ear in destinct utterance the words they 
sang without thought or comprehension -- 
lead, kindly light, amid the encircling gloom, 
lead thou me on. 
bathsheba's feeling was always to some extent de+ 
pendent upon her whim, as is the case with many other 
women. something big came into her throat and an 
uprising to her eyes -- and she thought that she would 
allow the imminent tears to flow if they wished. they 
did flow and plenteously, and one fell upon the stone 
bench beside her. once that she had begun to cry for 
she hardly knew what, she could not leave off for crowd+ 
ing thoughts she knew too well. she would have given 
anything in the world to be, as those children were, un+ 
concerned at the meaning of their words, because too 
innocent to feel the necessity for any such expression. 
all the impassioned scenes of her brief expenence 
seemed to revive with added emotion at that moment, 
and those scenes which had been without emotion 
<p 452> 
during enactment had emotion then. yet grief came 
to her rather as a luxury than as the scourge of former 
times. 
owing to bathsheba's face being buried in her hands 
she did not notice a form which came quietly into the 
porch, and on seeing her, first moved as if to retreat, 
then paused and regarded her. bathsheba did not raise 
her head for some time, and when she looked round 
her face was wet, and her eyes drowned and dim. "mr. 
oak,' exclaimed she, disconcerted, " how long have you 
been here ?' 
"a few minutes, ma'am,' said oak, respectfully. 
"are you going in?' said bathsheba; and there came 
from within the church as from a prompter -- 
l loved the garish day, and, spite of fears, 
pride ruled my will: remember not past years. 
"i was,' said gabriel. " i am one of the bass singers, 
you know. i have sung bass for several months. 
"indeed: i wasn't aware of that. i'll leave you, then.' 
which i have loved long since, and lost awhile, 
sang the children. 
"don't let me drive you away, mistress. i think i 
won't go in to-night.' 
"o no -- you don't drive me away. 
then they stood in a state of some embarrassment 
bathsheba trying to wipe her dreadfully drenched and 
inflamed face without his noticing her. at length oak 
said, i've not seen you-i mean spoken to you -- since 
ever so long, have i?' but he feared to bring distress+ 
ing memories back, and interrupted himself with: "were 
you going into church ?' 
"no,' she said. i came to see the tombstone 
privately -- to see if they had cut the inscription as i 
wished mr. oak, you needn't mind speaking to me, if 
you wish to, on the matter which is in both our minds 
at this moment.' 
"and have they done it as you wished ?' said oak. 
"yes. come and see it, if you have not already.' 
so together they went and read the tomb. "eight 
months  
<p 453> 
ago!' gabriel murmured when he saw the date. 
'it seems like yesterday to me.' 
and to me as if it were years ago-iong years, and 
i had been dead between. and now i am going home, 
mr. oak.' 
oak walked after her. 'i wanted to name a small 
matter to you as soon as i could,' he said, with hesitation. 
"merrly about business, and i think i may just mention it 
now, if you'll allow me.' 
" o yes, certainly.' 
it is that i may soon have to give up the manage+ 
ment of your farm, mrs. troy. the fact is, i am think+ 
ing of leaving england -- not yet, you know -- next 
spring. ' 
"leaving england!' she said, in surprise and 
genuine disappointment.' why, gabriel, what are you 
going to do that for?' 
"well, i've thought it best,' oak stammered out. 
"california is the spot i've had in my mind to try.' 
"but it is understood everywhere that you are going 
to take poor mr. boldwood's farm on your own account.' 
"i've had the refusal o' it 'tis true; but nothing is 
settled yet, and i have reasons for gieing up. i shall 
finish out my year there as manager for the trustees, 
but no more.' 
"and what shall i do without you? oh, gabriel, i 
don't think you ought to go away. you've been with 
me so long -- through bright times and dark times -- such 
old friends that as we are -- that it seems unkind almost. i 
had fancied that if you leased the other farm as master, 
you might still give a helping look across at mine. and 
now going away!' 
"i would have willingly.' 
" yet now that i am more helpless than ever you go 
away!' 
"yes, that's the ill fortune o' it,' said gabriel, in a 
distressed tone. "and it is because of that very help+ 
lessness that i feel bound to go. good afternoon, 
ma'am ' he concluded, in evident anxiety to get 
away, and at once went out of the churchyard by a 
path she could follow on no pretence whatever. 
bathsheba went home, her mind occupied with a 
new trouble, which being rather harassing than deadly 
was calculated to do good by diverting her from the 
chronic gloom of  
<p 454> 
her life. she was set thinking a great 
deal about oak and of his wich to shun her; and there 
occurred to bathsheba several incidents of latter in+ 
tercourse with him, which, trivial when singly viewed 
amounted together to a perceptible disinclination for 
her society. it broke upon her at length as a great 
pain that her last old disciple was about to forsake her 
and flee. he who had believed in her and argued on 
her side when all the rest of the world was against her, 
had at last like the others become weary and neglectful 
of the old cause, and was leaving her to fight her battles 
alone. 
three weeks went on, and more evidence of his 
want of interest in her was forthcoming. she noticed 
that instead of entering the small parlour or office 
where the farm accounts were kept, and waiting, or 
leaving a memorandum as he had hitherto done during 
her seclusion, oak never came at all when she was likely 
to be there, only entering at unseasonable hours when 
her presence in that part of the house was least to be 
expected. whenever he wanted directions he sent a 
message, or note with neither heading nor signature, to 
which she was obliged to reply in the same off-hand 
style. poor bathsheba began to suffer now from the 
most torturing sting of ali-a sensation that she was 
despised. 
the autumn wore away gloomily enough amid these 
melancholy conjectures, and christmas-day came, com+ 
pleting a year of her legal widowhood, and two years 
and a quarter of her life alone. on examining her 
heart it appeared beyond measure strange that the sub+ 
ject of which the season might have been supposed 
suggestive -- the event in the hall at boldwood's -- was 
not agitating her at all; but instead, an agonizing con+ 
viction that everybody abjured her -- for what she could 
not teli-and that oak was the ringleader of the 
recusants. coming out of church that day she looked 
round in hope that oak, whose bass voice she had 
heard rolling out from the gallery overhead in a most 
unconcerned manner, might chance to linger in her path 
in the old way. there he was, as usual, coming down 
the path behind her. but on seeing bathsheba turn, he 
looked aside, and as soon as he got beyond the gate, 
<p 455> 
and there was the barest excuse for a divergence, he 
made one, and vanished. 
the next morning brought the culminating stroke; 
she had been expecting it long. it was a formal notice 
by letter from him that he should not renew his engage+ 
ment with her for the following lady-day. 
bathsheba actually sat and cried over this letter most 
bitterly. she was aggrieved and wounded that the 
possession of hopeless love from gabriel, which she had 
after all 
grown to regard as her inalienable right for life, should 
have been withdrawn just at his own pleasure in this 
way. she was bewildered too by the prospect of having 
to rely on her own resources again: it seemed to herself 
that she never could again acquire energy sufficient to 
go to market, barter, and sell. since troy's death oak 
had attended all sales and fairs for her, transacting her 
business at the same time with his own. what should 
she do now? her life was becoming a desolation. 
so desolate was bathsheba this evening, that in an 
absolute hunger for pity and sympathy, and miserable in 
that she appeared to have outlived the only true friend+ 
ship she had ever owned, she put on her bonnet and 
cloak and went down to oak's house just after sunset, 
guided on her way by the pale primrose rays of a 
crescent moon a few days old. 
a lively firelight shone from the window, but nobody 
was visible in the room. she tapped nervously, and 
then thought it doubtful if it were right for a single 
woman to call upon a bachelor who lived alone, although 
he was her manager, and she might be supposed to call 
on business without any real impropriety. gabriel 
opened the door, and the moon shone upon his fore+ 
haad. 
"mr. oak,' said bathsheba, faintly. 
"yes; i am mr. oak,' said gabriel. "who have i 
the honour -- o how stupid of me, not to know you, 
mistress!' 
"i shall not be your mistress much longer, shall i 
gabriel?' she said, in pathetic tones. 
"well, no. i suppose -- but come in, ma'am. oh -- 
and i'll get a light,' oak replied, with some awkwardness. 
<p 456> 
"no; not on my account.' 
"it is so seldom that i get a lady visitor that i'm 
afraid i haven't proper accommodation. will you sit 
down, please ? here's a chair, and there's one, too. 
i am sorry that my chairs all have wood scats, and are 
rather hard, but i-was thinging of getting some new 
ones.' oak placed two or three for her. 
"they are quite easy enough for me.' 
so down she sat, and down sat he, the fire dancing 
in their faces, and upon the old furniture 
all a-sheenen 
wi' long years o' handlen, 
that formed oak's array of household possessions, which 
sent back a dancing reflection in reply. it was very 
odd to these two persons, who knew each other passing 
well, that the mere circumstance of their meeting in a 
new place and in a new way should make them so 
awkward and constrained. in the fields, or at her house, 
there had never been any embarrassment; but now that 
oak had become the entertainer their lives seemed to be 
moved back again to the days when they were strangers. 
"you'll think it strange that i have come, but -- -' 
"o no; not at all.' 
"but i thought -- gabriel, i have been uneasy in the 
belief that i have offended you, and that you are going 
away on that account. it grieved me very much and 
i couldn't help coming.' 
"offended me! as if you could do that, bathsheba!' 
"haven't i?' she asked, gladly. " but, what are you 
going away for else?' 
"i am not going to emigrate, you know; i wasn't 
aware that you would wish me not to when i told 'ee or i 
shouldn't ha' thought of doing it,' he said, simply. "i 
have arranged for little weatherbury farm and shall 
have it in my own hands at lady-day. you know i've 
had a share in it for some time. still, that wouldn't 
prevent my attending to your business as before, hadn't 
it been that things have been said about us.' 
<p 457> 
"what?' said bathsheba, in surprise. "things said 
about you and me! what are they?' 
"i cannot tell you.' 
"it would be wiser if you were to, i think. you have 
played the part of mentor to me many times, and i don't 
see why you should fear to do it now.' 
"it is nothing that you have done, this time. the 
top and tail o't is this -- that i am sniffing about here, 
and waiting for poor boldwood's farm, with a thought 
of getting you some day.' 
"getting me! what does that mean?' 
"marrying o' 'ee, in plain british. you asked me to 
tell, so you mustn't blame me.' 
bathsheba did not look quite so alarmed as if a 
cannon had been discharged by her ear, which was what 
oak had expected. "marrying me! i didn't know it 
was that you meant,' she said, quietly. "such a thing 
as that is too absurd -- too soon -- to think of, by far!' 
"yes; of course, it is too absurd. i don't desire any 
such thing; i should think that was plain enough by 
this time. surely, surely you be the last person in the 
world i think of marrying. it is too absurd, as you say 
""too -- s-s-soon" were the words i used.' 
"i must beg your pardon for correcting you, but you 
said, ""too absurd,"' and so do i.' 
"i beg your pardon too! she returned, with tears 
in her eyes. """too soon"' was what i said. but it 
doesn't matter a bit -- not at ali-but i only meant, 
""too soon"' indeed, i didn't, mr. oak, and you must 
believe me!' 
gabriel looked her long in the face, but the firelight 
being faint there was not much to be seen. " bathsheba,' 
he said, tenderly and in surprise, and coming closer: 
"if i only knew one thing -- whether you would allow me 
to love you and win you, and marry you after ali-if i 
only knew that!' 
"but you never will know,' she murmured. 
"why?' 
"because you never ask. 
"oh -- oh!' said gabriel, with a low laugh of joyous+ 
ness. "my own dear -- -' 
<p 458> 
"you ought not to have sent me that harsh letter 
this morning,' she interrupted. "it shows you didn't 
care a bit about me, and were ready to desert me like 
all the rest of them! it was very cruel of you, consider+ 
ing i was the first sweetheart that you ever had, and 
you were the first i ever had; and i shall not forget it!' 
"now, bathsheba, was ever anybody so provoking 
he said, laughing. " you know it was purely that i, as 
an unmarried man, carrying on a business for you as a 
very taking young woman, had a proper hard part to 
play -- more particular that people knew i had a sort 
of feeling for'ee; and i fancied, from the way we were 
mentioned together, that it might injure your good name. 
nobody knows the heat and fret i have been caused 
by it.' 
"and was that all?' 
"all.' 
"oh, how glad i am i came!' she exclaimed, thank+ 
fully, as she rose from her seat. "i have thought so 
much more of you since i fancied you did not want 
even to see me again. but i must be going now, or i 
shall be missed. why gabriel,' she said, with a slight 
laugh, as they went to the door, "it seems exactly as if 
i had come courting you -- how dreadful!' 
"and quite right too,' said oak. "i've danced at 
your skittish heels, my beautiful bathsheba, for many a 
long mile, and many a long day; and it is hard to be+ 
grudge me this one visit.' 
he accompanied her up the hill, explaining to her 
the details of his forthcoming tenure of the other farm. 
they spoke very little of their mutual  feeling; pretty 
phrases and warm expressions being probably un+ 
necessary between such tried friends. theirs was that 
substantial affection which arises (if any arises at all) 
when the two who are thrown together begin first by 
knowing the rougher sides of each other's character, 
and not the best till further on, the romance growing 
up in the interstices of a mass of hard prosaic reality. 
this good-fellowship -- <1camaraderie>1 --  usually occurring 
through similarity of pursuits, is unfortunately seldom 
superadded to love between the sexes, because men and 
women associate, not in their lahours, but in their 
pleasures merely. where, however, happy circumstance 
<p 459> 
permits its development, the compounded feeling proves 
itself to be the only love which is strong as death -- that 
love which many waters cannot quench, nor the floods 
drown, beside which the passion usually called by the 
name is evanescent as steam. 
<c lvii> 
<p 460> 
a foggy night and morning -- conclusion 
"the most private, secret, plaines wedding that it is 
possible to have.' 
those had been bathsheba's words to oak one 
evening, some time after the event of the preceding 
chapter, and he meditated a full hour by the clock upon 
how to carry out her wishes to the letter. 
"a licence -- o yes, it must be a licence,' he said 
to himself at last. "very well, then; first, a license.' 
on a dark night, a few days later, oak came with 
mysterious steps from the surrogate's door, in caster+ 
bridge. on the way home he heard a heavy tread in 
front of him, and, overtaking the man, found him to be 
coggan. they walked together into the village until 
they came to a little lane behind the church, leading 
down to the cottage of laban tall, who had lately been 
installed as clerk of the parish, and was yet in mortal 
terror at church on sundays when he heard his lone 
voice among certain hard words of the psalms, whither 
no man ventured to follow him. 
"well, good-night, coggan,' said oak, "i'm going 
down this way.' 
"oh!' said coggan, surprised; "what's going on to+ 
night then, make so bold mr. oak?' 
it seemed rather ungenerous not to tell coggan, 
under the circumstances, for coggan had been true as 
steel all through the time of gabriel's unhappiness about 
bathsheba, and gabriel said, " you can keep a secret, 
coggan?' 
"you've proved me, and you know.' 
"yes, i have, and i do know. well, then, mistress 
and i mean to get married to-morrow morning.' 
"heaven's high tower! and yet i've thought of 
such a thing  
<p 461> 
from time to time; true, i have. but 
keeping it so close! well, there, 'tis no consarn of 
amine, and i wish 'ee joy o' her.' 
"thank you, coggan. but i assure 'ee that this 
great hush is not what i wished for at all, or what 
either of us would have wished if it hadn't been for 
certain things that would make a gay wedding seem 
hardly the thing. bathsheba has a great wish that all 
the parish shall not be in church, looking at her -- she's 
shyiike and nervous about it, in fact -- so i be doing 
this to humour her.' 
"ay, i see: quite right, too, i suppose i must say. 
and you be now going down to the clerk.' 
"yes; you may as well come with me.' 
"i am afeard your labour in keeping it close will be 
throwed away,' said coggan, as they walked along. 
"labe tall's old woman will horn it all over parish in 
half-an-hour. ' 
"so she will, upon my life; i never thought of 
that,' said oak, pausing. "yet i must tell him to+ 
night, i suppose, for he's working so far off, and leaves 
early.' 
"i'll tell 'ee how we could tackle her,' said coggan. 
"i'll knock and ask to speak to laban outside the door, 
you standing in the background. then he'll come out, 
and you can tell yer tale. she'll never guess what i 
want en for; and i'll make up a few words about the 
farm-work, as a blind.' 
this scheme was considered feasible; and coggan 
advanced boldly, and rapped at mrs. tall's door. mrs. 
tall herself opened it. 
"i wanted to have a word with laban.' 
"he's not at home, and won't be this side of eleven 
o'clock. he've been forced to go over to yalbury since 
shutting out work. i shall do quite as well.' 
"i hardly think you will. stop a moment;' and 
coggan stepped round the corner of the porch to consult 
oak. 
"who's t'other man, then?' said mrs. tall. 
"only a friend,' said coggan. 
"say he's wanted to meet mistress near church-hatch 
to-morrow morning at ten,' said oak, in a whisper. 
"that he must come without fail, and wear his best 
clothes.' 
<p 462> 
"the clothes will floor us as safe as houses!' said 
coggan. 
"it can't be helped said oak. "tell her.' 
so coggan delivered the message. "mind, het or 
wet, blow or snow, he must come, added jan. "'tis 
very particular, indeed. the fact is, 'tis to witness her 
sign some law-work about taking shares wi' another 
farmer for a long span o' years. there, that's what 'tis, 
and now i've told 'ee, mother tall, in a way i shouldn't 
ha' done if i hadn't loved 'ee so hopeless well.' 
coggan retired before she could ask any further; 
and next they called at the vicar's in a manner which 
excited no curiosity at all. then gabriel went home, 
and prepared for the morrow. 
"liddy,' said bathsheba, on going to bed that night, 
"i want you to call me at seven o'clock to-morrow, in 
case i shouldn't wake.' 
"but you always do wake afore then, ma'am.' 
"yes, but i have something important to do, which 
i'll tell you of when the time comes, and it's best to 
make sure.' 
conclusion 
bathsheba, however, awoke voluntarily at four, nor 
could she by any contrivance get to sleep again. about 
six, being quite positive that her watch had stopped 
during the night, she could wait no longer. she went 
and tapped at liddy's door, and after some labour awoke 
her. 
"but i thought it was i who had to call you?' said 
the bewildered liddy. "and it isn't six yet.' 
"indeed it is; how can you tell such a story, liddy? 
i know it must be ever so much past seven. come to 
my room as soon as you can; i want you to give my 
hair a good brushing.' 
when liddy came to bathsheba's room her mistress 
was already waiting. liddy could not understand 
this extraordinary promptness. " whatever <1is>1 going on, 
ma'am?' she said. 
"well, i'll tell you,' said bathsheba, with a mischiev+ 
ous smile in her bright eyes. "farmer oak is coming 
here to dine with me to-day!' 
"farmer oak -- and nobody else ? -- you two alone?' 
"yes.' 
<p 463> 
"but is it safe, ma'am, after what's been said?' asked 
her companion, dubiously. "a woman's good name is 
such a perishable article that --  -- ' 
bathsheba laughed with a flushed cheek, and 
whispered in liddy's ear, although there was nobody 
present. then liddy stared and exclaimcd, " souls 
alive, what news! it makes my heart go quite 
bumpity-bump" 
"it makes mine rather furious, too,' said bathsheba. 
"however, there's no getting out of it now!' 
it was a damp disagreeable morning. nevertheless, 
at twenty minutes to ten o'clock, oak came out of his 
house, and 
went up the hill side 
with that sort of stride 
a man puts out when walking in search of a bride, 
and knocked bathsheba's door. ten minutes later 
a large and a smaller umbrella might have been seen 
moving from the same door, and through the mist along 
the road to the church. the distance was not more 
than a quarter of a mile, and these two sensible persons 
deemed it unnecessary to drive. an observer must have 
been very close indeed to discover that the forms under 
the umbrellas were those of oak and bathsheba, arm-in+ 
arm for the first time in their lives, oak in a greatcoat 
extending to his knees, and bathsheba in a cloak that 
reached her clogs. yet, though so plainly dressed 
there was a certain rejuvenated appearance about her : -- 
  as though a rose should shut and be a bud again. 
repose had again incarnadined her cheeks; and having, 
at gabriel's request, arranged her hair this morning as 
she had worn it years ago on norcombe hill, she seemed 
in his eyes remarkably like a girl of that fascinating 
dream, which, considering that she was now only three 
or four-and-twenty, was perhaps not very wonderful. in 
the church were tall, liddy, and the parson, and in a 
remarkably short space of time the deed was done. 
the two sat down very quietly to tea in bathsheba's 
parlour in the evening of the same day, for it had been 
arranged that  
<p 464> 
farmer oak should go there to live, since 
he had as yet neither money, house, nor furniture worthy 
of the name, though he was on a sure way towards them, 
whilst bathsheba was, comparatively, in a plethora of all 
three. 
just as bathsheba was pouring out a cup of tea, 
their ears were greeted by the firing of a cannon, 
followed by what seemed like a tremendous blowing of 
trumpets, in the front of the house. 
"there!' said oak, laughing, "i knew those fellows 
were up to something, by the look on their face; ' 
oak took up the light and went into the porch, 
followed by bathsheba with a shawl over her head. the 
rays fell upon a group of male figures gathered upon the 
gravel in front, who, when they saw the newly-married 
couple in the porch, set up a loud "hurrah!' and at 
the same moment bang again went the cannon in the 
background, followed by a hideous clang of music from 
a drum, tambourine, clarionet, serpent, hautboy, tenor+ 
viol, and double-bass -- the only remaining relics of the 
true and original weatherbury band -- venerable worm+ 
eaten instruments, which had celebrated in their own 
persons the victories of marlhorough, under the fingers 
of the forefathers of those who played them now. the 
performers came forward, and marched up to the 
front. 
"those bright boys, mark clark and jan, are at the 
bottom of all this,' said oak. " come in, souls, and 
have something to eat and drink wi' me and my wife.' 
"not to-night,' said mr. clark, with evident self+ 
denial. "thank ye all the same; but we'll call at a 
more seemly time. however, we couldn't think of 
letting the day pass without a note of admiration of 
some sort. if ye could send a drop of som'at down to 
warren's, why so it is. here's long life and happiness 
to neighbour oak and his comely bride!' 
"thank ye; thank ye all,' said gabriel. "a bit and 
a drop shall be sent to warren's for ye at once. i had 
a thought that we might very likely get a salute of some 
sort from our old friends, and i was saying so to my 
wife but now.' 
"faith,' said coggan, in a critical tone, turning to his 
companions, "the man hev learnt to say ""my wife"' 
in a wonderful  
<p 465> 
naterel way, considering how very youth+ 
ful he is in wedlock as yet -- hey, neighbours all?' 
"i never heerd a skilful old married feller of twenty 
years' standing pipe ""my wife"' in a more used note 
than 'a did,' said jacob smallbury. "it might have been 
a little more true to nater if't had been spoke a little 
chillier, but that wasn't to be expected just now. 
"that improvement will come wi' time,' said jan, 
twirling his eye. 
then oak laughed, and bathsheba smiled (for she 
never laughed readily now), and their friends turned to 
go. 
"yes; i suppose that's the size o't,' said joseph 
poorgrass with a cheerful sigh as they moved away; 
"and i wish him joy o' her; though i were once or 
twice upon saying to-day with holy hosea, in my 
scripture manner, which is my second nature. ""ephraim 
is joined to idols: let him alone."' but since 'tis as 'tis 
why, it might have been worse, and i feel my thanks 
accordingly.' 
the end 
.eq 
delim $$ 
.en 
.ch "1  why speech output?" 
.ds rt "why speech output? 
.ds cx "principles of computer speech 
.pp 
speech is our everyday, informal, communication medium.  but although we use 
it a lot, we probably don't assimilate as much information through our 
ears as we do through our eyes, by reading or looking at pictures and diagrams. 
you go to a technical lecture to get the feel of a subject \(em the overall 
arrangement of ideas and the motivation behind them \(em and fill in the details, 
if you still want to know them, from a book.  you probably find out more about 
the news from ten minutes with a newspaper than from a ten-minute news broadcast. 
so it should be emphasized from the start that speech output from computers is 
not a panacea.  it doesn't solve the problems of communicating with computers; 
it simply enriches the possibilities for communication. 
.pp 
what, then, are the advantages of speech output?  one good reason for listening 
to a radio news broadcast instead of spending the time with a newspaper 
is that you can listen while shaving, doing the housework, or driving the car. 
speech leaves hands and eyes free for other tasks. 
moreover, it is omnidirectional, and does not require a free line of sight. 
related to this is the 
use of speech as a secondary medium for status reports and warning messages. 
occasional interruptions by voice do not interfere with other activities, 
unless they demand unusual concentration, and people can assimilate spoken messages 
and queue them for later action quite easily and naturally. 
.pp 
the second key feature of speech communication stems from the telephone. 
it is the universality of the telephone receiver itself that is important 
here, rather than the existence of a world-wide distribution network; 
for with special equipment (a modem and a vdu) one does not need speech to take advantage of 
the telephone network for information transfer. 
but speech needs no tools other than the telephone, and this gives 
it a substantial advantage.  you can go into a phone booth anywhere in the world, 
carrying no special equipment, and have access to your computer within seconds. 
the problem of data input is still there:  perhaps your computer 
system has a limited word recognizer, or you use the touchtone telephone 
keypad (or a portable calculator-sized tone generator).  easy remote access 
without special equipment is a great, and unique, asset to speech communication. 
.pp 
the third big advantage of speech output is that it is potentially very cheap. 
being all-electronic, except for the loudspeaker, speech systems are well 
suited to high-volume, low-cost, lsi manufacture.  other computer output 
devices are at present tied either to mechanical moving parts or to the crt. 
this was realized quickly by the computer hobbies market, where speech output 
peripherals have been selling like hot cakes since the mid 1970's. 
.pp 
a further point in favour of speech is that it is natural-seeming and 
somehow cuddly when compared with printers or vdu's.  it would have been much 
more difficult to make this point before the advent of talking toys like 
texas instruments' "speak 'n spell" in 1978, but now it is an accepted fact that friendly 
computer-based gadgets can speak \(em there are talking pocket-watches 
that really do "tell" the time, talking microwave ovens, talking pinball machines, and, 
of course, talking calculators. 
it is, however, difficult to assess whether the appeal stems from 
mechanical speech's novelty \(em it 
is still a gimmick \(em and also to what extent it is tied up with 
economic factors. 
after all, most of the population don't use high-quality vdu's, and their major 
experience of real-time interactive computing is through the very limited displays 
and keypads provided on video games and teletext systems. 
.pp 
articles on speech communication with computers often list many more advantages of voice output 
(see hill 1971, turn 1974, lea 1980). 
.[ 
hill 1971 man-machine interaction using speech 
.] 
.[ 
lea 1980 
.] 
.[ 
turn 1974 speech as a man-computer communication channel 
.] 
for example, speech 
.lb 
.np 
can be used in the dark 
.np 
can be varied from a (confidential) whisper to a (loud) shout 
.np 
requires very little energy 
.np 
is not appreciably affected by weightlessness or vibration. 
.le 
however, these either derive from the three advantages we have discussed above, 
or relate 
mainly to exotic applications in space modules and divers' helmets. 
.pp 
useful as it is at present, speech output would be even more attractive if it could 
be coupled with speech input.  in many ways, speech input is its "big brother". 
many of the benefits of speech output are even more striking for speech input. 
although people can assimilate information faster through the eyes than the 
ears, the majority of us can generate information faster with the mouth than 
with the hands.  rapid typing is a relatively uncommon skill, and even high 
typing rates are much slower than speaking rates (although whether we can 
originate ideas quickly enough to keep up with fast speech is another matter!)  to 
take full advantage of the telephone for interaction with machines, machine 
recognition of speech is obviously necessary.  a microwave oven, calculator, 
pinball machine, or alarm clock that responds to spoken commands is certainly 
more attractive than one that just generates spoken status messages.  a book 
that told you how to recognize speech by machine would undoubtedly be more 
useful than one like this that just discusses how to synthesize it!  but the 
technology of speech recognition is nowhere near as advanced as that of 
synthesis \(em it's a much more difficult problem.  however, because speech input 
is obviously complementary to speech output, and even very limited input 
capabilities will greatly enhance many speech output systems, it is worth 
summarizing the present state of the art of speech recognition. 
.pp 
commercial speech recognizers do exist.  almost invariably, they accept 
words spoken in isolation, with gaps of silence between them, rather than 
connected utterances. 
it is not difficult to discriminate with high accuracy up to a hundred 
different words spoken by the same speaker, especially if the vocabulary 
is carefully selected to avoid words which sound similar.  if several 
different speakers are to be comprehended, performance can be greatly improved 
if the machine is given an opportunity to calibrate their voices in a training 
session, and is informed at recognition time which one is to speak. 
with a large population of unknown speakers, accurate recognition is difficult 
for vocabularies of more than a few carefully-chosen words. 
.pp 
a half-way house between isolated word discrimination and recognition of connected 
speech is the problem of spotting known words in continuous speech.  this 
allows much more natural input, if the dialogue is structured as keywords 
which may be 
interspersed by unimportant "noise words".  to speak in truly isolated 
words requires a great deal of self-discipline and concentration \(em it is 
surprising how much of ordinary speech is accounted for by vague sounds 
like um's and aah's, and false starts.  word spotting disregards these and so 
permits a more relaxed style of speech.  some progress has been made on it in 
research laboratories, but the vocabularies that can be accomodated are still 
very small. 
.pp 
the difficulty of recognizing connected speech depends crucially on what is 
known in advance about the dialogue:  its pragmatic, semantic, and syntactic 
constraints.  highly structured dialogues constrain very heavily the choice of 
the next word.  recognizers which can deal with vocabularies of over 1000 words 
have been built in research laboratories, but the structure of the input has 
been such that the average "branching factor" \(em the size of the set out of 
which the next word must be selected \(em is only around 10 (lea, 1980). 
.[ 
lea 1980 
.] 
whether such 
highly constrained languages would be acceptable in many practical applications 
is a moot point.  one commercial recognizer, developed in 1978, can cope with 
up to five words spoken continuously from a basic 120-word vocabulary. 
.pp 
there has been much debate about whether it will ever be possible for a speech 
recognizer to step outside rigid constraints imposed on the utterances it can 
understand, and act, say, as an automatic dictation machine.  certainly the most 
advanced recognizers to date depend very strongly on a tight context being 
available.  informed opinion seems to accept that in ten years' time, 
voice data entry in the office will be an important and economically feasible 
prospect, but that it would be rash to predict the appearance of unconstrained 
automatic dictation by then. 
.pp 
let's return now to speech output and take a look at some systems which use it, 
to illustrate the advantages and disadvantages of speech in practical 
applications. 
.sh "1.1  talking calculator" 
.pp 
figure 1.1 shows a calculator that speaks. 
.fc "figure 1.1" 
whenever a key is pressed, 
the device confirms the action by saying the key's name. 
the result of any computation is also spoken aloud. 
for most people, the addition of speech output to a calculator is simply a 
gimmick. 
(note incidentally that speech 
.ul 
input 
is a different matter altogether.  the ability to dictate lists of numbers and 
commands to a calculator, without lifting one's eyes from the page, would have 
very great advantages over keypad input.)  used-car 
salesmen find that speech output sometimes helps to clinch a deal:  they key in 
the basic car price and their bargain-basement deductions, and the customer is so 
bemused by the resulting price being spoken aloud to him by a machine that he 
signs the cheque without thinking!  more seriously, there may be some small 
advantage to be gained when keying a list of figures by touch from having their 
values read back for confirmation.  for blind people, however, such devices 
are a boon \(em and there are many other applications, like talking elevators 
and talking clocks, which benefit from even very restricted voice output. 
much more sophisticated is a typewriter with audio feedback, designed by 
ibm for the blind.  although blind typists can remember where the keys on a 
typewriter are without difficulty, they rely on sighted proof-readers to help 
check 
their work.  this device could make them more useful as office typists and 
secretaries.  as well as verbalizing the material (including punctuation) 
that has been typed, either by attempting to pronounce the words or by spelling 
them out as individual letters, it prompts the user through the more complex action sequences 
that are possible on the typewriter. 
.pp 
the vocabulary of the talking calculator comprises the 24 words of table 1.1. 
.rf 
.nr x1 2.0i+\w'percent'u 
.nr x1 (\n(.l-\n(x1)/2 
.in \n(x1u 
.ta 2.0i 
zero	percent 
one	low 
two	over 
three	root 
four	em (m) 
five	times 
six	point 
seven	overflow 
eight	minus 
nine	plus 
times-minus	clear 
equals	swap 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 1.1  vocabulary of a talking calculator" 
this represents a total of about 13 seconds of speech.  it is stored 
electronically in read-only memory (rom), and figure 1.2 shows the circuitry 
of the speech module inside the calculator. 
.fc "figure 1.2" 
there are three large integrated circuits. 
two of them are roms, and the other is a special synthesis chip which decodes the 
highly compressed stored data into an audio waveform. 
although the mechanisms used for storing speech by commercial devices are 
not widely advertised by the manufacturers, the talking calculator almost 
certainly uses linear predictive coding \(em a technique that we will examine 
in chapter 6. 
the speech quality is very poor because of the highly compressed storage, and 
words are spoken in a grating monotone. 
however, because of the very small vocabulary, the quality is certainly good 
enough for reliable identification. 
.sh "1.2  computer-generated wiring instructions" 
.pp 
i mentioned earlier that one big advantage of speech over visual output is that 
it leaves the eyes free for other tasks. 
when wiring telephone equipment during manufacture, the operator needs to use 
his hands as well as eyes to keep his place in the task. 
for some time tape-recorded instructions have been used for this in certain 
manufacturing plants.  for example, the instruction 
.lb 
.ni 
red 2.5    11a terminal strip    7a tube socket 
.le 
directs the operator to cut 2.5" of red wire, attach one end to a specified point 
on the terminal strip, and attach the other to a pin of the tube socket.  the 
tape recorder is fitted with a pedal switch to allow a sequence of such instructions 
to be executed by the operator at his own pace. 
.pp 
the usual way of recording the instruction tape is to have a human reader 
dictate them from a printed list. 
the tape is then checked against the list by another listener to ensure that 
the instructions are correct.  since wiring lists are usually stored and 
maintained in machine-readable form, it is natural to consider whether speech 
synthesis techniques could be used to generate the acoustic tape directly by 
a computer (flanagan 
.ul 
et al, 
1972). 
.[ 
flanagan rabiner schafer denman 1972 
.] 
.pp 
table 1.2 shows the vocabulary needed for this application. 
.rf 
.nr x1 2.0i+2.0i+\w'tube socket'u 
.nr x1 (\n(.l-\n(x1)/2 
.in \n(x1u 
.ta 2.0i +2.0i 
a	green	seventeen 
black	left	six 
bottom	lower	sixteen 
break	make	strip 
c	nine	ten 
capacitor	nineteen	terminal 
eight	one	thirteen 
eighteen	p	thirty 
eleven	point	three 
fifteen	r	top 
fifty	red	tube socket 
five	repeat coil	twelve 
forty	resistor	twenty 
four	right	two 
fourteen	seven	upper 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 1.2  vocabulary needed for computer-generated wiring instructions" 
it is rather larger 
than that of the talking calculator \(em about 25 seconds of speech \(em but well 
within the limits of single-chip storage in rom, compressed by the linear 
predictive technique.  however, at the time that the scheme was investigated 
(1970\-71) the method of linear predictive coding had not been fully developed, 
and the technology for low-cost microcircuit implementation was not available. 
but this is not important for this particular application, for there is 
no need to perform the synthesis on a miniature low-cost computer system, 
nor need it 
be accomplished in real time.  in fact a technique of concatenating 
spectrally-encoded words was used (described in chapter 7), and it was 
implemented on a minicomputer.  operating much slower than real-time, the system 
calculated the speech waveform and wrote it to disk storage.  a subsequent phase 
read the pre-computed messages and recorded them on a computer-controlled analogue 
tape recorder. 
.pp 
informal evaluation showed the scheme to be quite successful.  indeed, the 
synthetic speech, whose quality was not high, was actually preferred to 
natural speech in the noisy environment of the production line, for each 
instruction was spoken in the same format, with the same programmed pause 
between the items. 
a list of 58 instructions of the form shown above was recorded and used 
to wire several pieces of apparatus without errors. 
.sh "1.3  telephone enquiry service" 
.pp 
the computer-generated wiring scheme illustrates how speech can be used to give 
instructions without diverting visual attention from the task at hand. 
the next system we examine shows how speech output can make the telephone 
receiver into a remote computer terminal for a variety of purposes 
(witten and madams, 1977). 
.[ 
witten madams 1977 telephone enquiry service 
.] 
the caller employs the touch-tone keypad shown in figure 1.3 for input, and the 
computer generates 
a synthetic voice response. 
.fc "figure 1.3" 
table 1.3 shows the process of making 
contact with the system. 
.rf 
.fi 
.nh 
.na 
.in 0.3i 
.nr x0 \w'computer:  ' 
.nr x1 \w'caller:  ' 
.in+\n(x0u 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  dials the service. 
.ti-\n(x0u 
computer:  answers telephone. 
"hello, telephone enquiry service.  please 
enter your user number". 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters user number. 
.ti-\n(x0u 
computer:  "please enter your password". 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters password. 
.ti-\n(x0u 
computer:  checks validity of password. 
if invalid, the user is asked to re-enter 
his user number. 
otherwise, 
"which service do you require?" 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters service number. 
.in 0 
.nf 
.fg "table 1.3  making contact with the telephone enquiry system" 
.pp 
advantage is taken of the disparate speeds of input (keyboard) and 
output (speech) to hasten the dialogue by imposing a question-answer structure 
on it, with the computer taking the initiative.  the machine can 
afford to be slightly verbose if by so doing it makes the caller's 
response easier, and therefore more rapid.  moreover, operators who 
are experienced enough with the system to anticipate questions can 
easily forestall them just by typing ahead, for the computer is programmed 
to examine its input buffer before issuing prompts and to suppress them if 
input has already been provided. 
.pp 
an important aim of the system is to allow application programmers with no 
special knowledge of speech to write independent services for it. 
table 1.4 shows an example of the use of one such application program, 
.rf 
.fi 
.nh 
.na 
.in 0.3i 
.nr x0 \w'computer:  ' 
.nr x1 \w'caller:  ' 
.in+\n(x0u 
.ti-\n(x0u 
computer:  "stores information service.  please enter 
component name". 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters "sn7406#". 
.ti-\n(x0u 
computer:  "the component name is sn7406.  is this correct?" 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters "*1#" (system convention for "yes"). 
.ti-\n(x0u 
computer:  "this component is in stores". 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters "*7#" (command for "price"). 
.ti-\n(x0u 
computer:  "the component price is 35 pence". 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters "*8#" (command for "minimum number"). 
.ti-\n(x0u 
computer:  "the minimum number of this component kept 
in stores is 10". 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters "sn7417#". 
.ti-\n(x0u 
computer:  "the component name is sn7417.  is this correct?" 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters "*1#". 
.ti-\n(x0u 
computer:  "this component is not in stores". 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters "*9#" (command for "delivery time"). 
.ti-\n(x0u 
computer:  "the expected delivery time is 14 days". 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  enters "*0#". 
.ti-\n(x0u 
computer:  "which service do you require?" 
.in 0 
.nf 
.fg "table 1.4  the stores information service" 
the 
stores information service, which permits enquiries to be made of a database 
holding information on electronic components kept in stock. 
this subsystem is driven by 
.ul 
alphanumeric 
data entered on the touch-tone keypad.  two or three letters are associated 
with each digit, in a manner which is fairly standard in touch-tone telephone 
applications.  these are printed on a card overlay 
that fits the keypad (see figure 1.3).  although true alphanumeric data entry 
would require a multiple key press for each character, 
the ambiguity inherent in 
a single-key-per-character convention can usually be resolved by the computer, 
if it has a list of permissible entries.  for example, the component names 
sn7406 and ztx300 are read by the machine as "767406" and "189300", respectively. 
confusion rarely occurs if the machine is expecting a valid component code. 
the same holds true of people's names, and file names \(em although with these 
one must take care not to identify a series of files by similar names, like 
tx38a, tx38b, tx38c.  it is easy for the machine to detect the rare cases 
where ambiguity occurs, and respond by requesting further information:  "the 
component name is sn7406.  is this correct?"  (in fact, the stores information 
service illustrated in table 1.4 is defective in that it 
.ul 
always 
requests confirmation of an entry, even when no ambiguity exists.)  the 
use of a telephone keypad for data entry will be taken up again in chapter 10. 
.pp 
a distinction is drawn throughout the system between data entries and 
commands, the latter being prefixed by a "*".  in this example, the 
programmer chose to define a command for each possible question about a 
component, so that a new component name can be entered at any time 
without ambiguity.  the price paid for the resulting brevity of dialogue 
is the burden of memorizing the meaning of the commands.  this is an 
inherent disadvantage of a one-dimensional auditory display over the 
more conventional graphical output:   presenting menus by speech is tedious and 
long-winded.  in practice, however, for a simple task such as the 
stores information service it is quite convenient for the caller to 
search for the appropriate command by trying out all possibilities \(em there 
are only a few. 
.pp 
the problem of memorizing commands is alleviated by establishing some 
system-wide conventions.  each input is terminated by a "#", and 
the meaning of standard commands is given in table 1.5. 
.rf 
.fi 
.nh 
.na 
.in 0.3i 
.nr x0 \w'# alone  ' 
.nr x1 \w'\(em  ' 
.ta \n(x0u +\n(x1u 
.nr x2 \n(x0+\n(x1 
.in+\n(x2u 
.ti-\n(x2u 
*#	\(em	erase this input line, regardless of what has 
been typed before the "*". 
.ti-\n(x2u 
*0#	\(em	stop.  used to exit from any service. 
.ti-\n(x2u 
*1#	\(em	yes. 
.ti-\n(x2u 
*2#	\(em	no. 
.ti-\n(x2u 
*3#	\(em	repeat question or summarize state of current 
transaction. 
.ti-\n(x2u 
# alone	\(em	short form of repeat.  repeats or summarizes 
in an abbreviated fashion. 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.nf 
.fg "table 1.5  system-wide conventions for the service" 
.pp 
a summary of services available on the system is given in 
table 1.6. 
.rf 
.fi 
.na 
.in 0.3i 
.nr x0 \w'000  ' 
.nr x1 \w'\(em  ' 
.nr x2 \n(x0+\n(x1 
.in+\n(x2u 
.ta \n(x0u +\n(x1u 
.ti-\n(x2u 
\0\01	\(em	tells the time 
.ti-\n(x2u 
\0\02	\(em	biffo (a game of nim) 
.ti-\n(x2u 
\0\03	\(em	moo (a game similar to that marketed under the name "mastermind") 
.ti-\n(x2u 
\0\04	\(em	error demonstration 
.ti-\n(x2u 
\0\05	\(em	speak a file in phonetic format 
.ti-\n(x2u 
\0\06	\(em	listening test 
.ti-\n(x2u 
\0\07	\(em	music (allows you to enter a tune and play it) 
.ti-\n(x2u 
\0\08	\(em	gives the date 
.sp 
.ti-\n(x2u 
100	\(em	squash ladder 
.ti-\n(x2u 
101	\(em	stores information service 
.ti-\n(x2u 
102	\(em	computes means and standard deviations 
.ti-\n(x2u 
103	\(em	telephone directory 
.sp 
.ti-\n(x2u 
411	\(em	user information 
.ti-\n(x2u 
412	\(em	change password 
.ti-\n(x2u 
413	\(em	gripe (permits feedback on services from caller) 
.sp 
.ti-\n(x2u 
600	\(em	first year laboratory marks entering service 
.sp 
.ti-\n(x2u 
910	\(em	repeat utterance (allows testing of system) 
.ti-\n(x2u 
911	\(em	speak utterance (allows testing of system) 
.ti-\n(x2u 
912	\(em	enable/disable user 100 (a no-password guest user number) 
.ti-\n(x2u 
913	\(em	mount a magnetic tape on the computer 
.ti-\n(x2u 
914	\(em	set/reset demonstration mode (prohibits access by low-priority users) 
.ti-\n(x2u 
915	\(em	inhibit games 
.ti-\n(x2u 
916	\(em	inhibit the moo game 
.ti-\n(x2u 
917	\(em	disable password checking when users log in 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.nf 
.fg "table 1.6  summary of services on a telephone enquiry system" 
they range from simple games and demonstrations, through serious database 
services, to system maintenance facilities. 
a priority structure is imposed upon them, with higher 
service numbers being available only to higher priority users. 
services in the lowest range (1\-99) can be obtained by all, while 
those in the highest range (900\-999) are maintenance services, 
available only to the system designers.  access to the lower-numbered 
"games" services can be inhibited by a priority user \(em this was 
found necessary to prevent over-use of the system!  another advantage 
of telephone access to an information retrieval system is that some 
day-to-day maintenance can be done remotely, from the office telephone. 
.pp 
this telephone enquiry service, which was built in 1974, demonstrated that 
speech synthesis had moved from a specialist phonetic discipline into the 
province of engineering practicability.  the speech was generated "by rule" 
from a phonetic input (the method is covered in chapters 7 and 8), which 
has very low data storage requirements of around 75\ bit/s of speech. 
thus an enormous vocabulary and range of services could be accomodated on a 
small computer system. 
despite the fairly low quality of the speech, the response from callers was 
most encouraging.  admittedly the user population was a self-selected body of 
university staff, which one might suppose to have high tolerance to new ideas, 
and a system designed for the general public would require more effort to be 
spent on developing speech of greater intelligibility.  although it was 
observed that some callers failed to understand parts of the responses, even 
after repetition, communication was largely unhindered in most cases; users 
being driven by a high motivation to help the system help them. 
.pp 
the use of speech output in conjunction with a simple input device requires 
careful thought for interaction to be successful and comfortable.  it is 
necessary that the computer direct the conversation as much as possible, 
without seeming to be taking charge.  provision for eliminating prompts 
which are unwanted by sophisticated users is essential to avoid frustration. 
we will return to the topic of programming techniques for speech interaction 
in chapter 10. 
.pp 
making a computer system available over the telephone results in a sudden 
vast increase in the user population.  although people's reaction to a new 
computer terminal in every office was overwhelmingly favourable, careful 
resource allocation was essential to prevent the service being hogged by a 
persistent few.  as with all multi-access computer systems, it is particularly 
important that error recovery is effected automatically and gracefully. 
.sh "1.4  speech output in the telephone exchange" 
.pp 
the telephone enquiry service was an experimental vehicle for research on speech 
interaction, and was developed in 1974. 
since then, speech has begun to be used in real commercial applications. 
one example is system\ x, the british post office's computer-controlled 
telephone exchange.  this incorporates many features 
not found in conventional telephone exchanges. 
for example, if a number is found to be busy, the call can be attempted 
again by a "repeat last call" command, without having to re-dial the full number. 
alternatively, the last number can be stored for future re-dialling, freeing 
the phone for other calls. 
"short code 
dialling" allows a customer to associate short codes with commonly-dialled 
numbers. 
alarm calls can be booked at specified times, and are made automatically 
without human intervention. 
incoming calls can be barred, as can outgoing ones.  a diversion service 
allows all incoming calls to be diverted to another telephone, either 
immediately, or if a call to the original number remains unanswered for 
a specified period of time, or if the original number is busy. 
three-party calls can be set up automatically, without involving the 
operator. 
.pp 
making use of these facilities presents the caller with something of a problem. 
with conventional telephone exchanges, feedback is provided on what is happening 
to a call by the use of four tones \(em the dial tone, the busy tone, 
the ringing tone, and the number unavailable tone. 
for the more sophisticated interaction which is expected on the advanced 
exchange, a much greater variety of status signals is required. 
the obvious solution is to use 
computer-generated spoken 
messages to inform the caller when these services are invoked, and to guide him 
through the sequences of actions needed to set up facilities like call 
re-direction.  for example, the messages used by the exchange when a user 
accesses the alarm call 
service are 
.lb 
.ni 
alarm call service. 
dial the time of your alarm call followed by square\u\(dg\d. 
.fn 1 
\(dg\d"square" is the term used for the "#" key on the touch-tone telephone.\u 
.ef 
.ni 
you have booked an alarm call for seven thirty hours. 
.ni 
alarm call operator.  at the third stroke it will be seven thirty. 
.le 
.pp 
because of the rather small vocabulary, the number of messages that can be 
stored in their entirety rather than being formed by concatenation of 
smaller units, and the short time which was available for development, 
system\ x stores speech as a time waveform, slightly compressed by a time-domain 
encoding operation (such techniques are described in chapter 3). 
utterances which contain variable parts, like the time of alarm in the messages 
above, are formed by inserting separately-recorded digits in a fixed  
"carrier" message.  no attempt is made to apply uniform intonation 
contours to the synthetic utterances.  the resulting speech is of excellent 
quality (being a slightly compressed recording of a human voice), but sometimes 
exhibits somewhat anomalous pitch contours. 
for example, the digits comprising numbers often sound rather jerky and 
out-of-context \(em which indeed they are. 
.pp 
even more advanced facilities can be expected on telephone exchanges in 
the future.  a message storage capability is one example.  although 
automatic call recording machines have been available for years, a centralized 
facility could time and date a message, collect the caller's identity 
(using the telephone keypad), and allow the recipient to select messages left 
for him through an interactive dialogue so that he could control the order 
in which he listens to them.  he could choose to leave certain messages to be 
dealt with later, or re-route them to a colleague.  he may even wish to leave 
reminders for himself, to be dialled automatically at specified times (like 
alarm calls with user-defined information attached).  the sender of a message 
could be informed automatically by the system when it is delivered.  none of 
this requires speech recognition, but it does need economical speech 
.ul 
storage, 
and also speech 
.ul 
synthesis 
(for time and date tags). 
.sh "1.5  travel consultant" 
.pp 
some current research in speech communication with computers is aimed at 
embedding the dialogue in a task environment which provides it with an overall 
contextual framework. 
this in fact was the motivation for the experimental telephone enquiry service 
described above, and it was observed that people are able to tolerate rather 
low quality speech if they feel that the interaction is worthwhile.  one step 
further is the use of speech 
.ul 
input 
as well as output, and here the context of the conversation which is provided 
by the task environment can be used to improve recognition accuracy 
significantly. 
a system set up at bell telephone laboratories indicates what we can expect 
to find operating commercially in the future (levinson and shipley, 1980). 
.[ 
levinson shipley 1980 
.] 
it provides timetable information about airline flights, and allows the user 
to make reservations. 
.pp 
an example dialogue is given in table 1.7. 
.rf 
.fi 
.nh 
.na 
.in 0.3i 
.nr x0 \w'computer:  ' 
.nr x1 \w'caller:  ' 
.in+\n(x0u 
.ti-\n(x0u 
computer:  this is the bell laboratories flight information system.  may i help you? 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  i would like to go to chicago. 
.ti-\n(x0u 
computer:  please specify the day of your departure. 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  i want to leave at four p.m.. 
.ti-\n(x0u 
computer:  please specify the day of your departure. 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  i want to depart on the two five may. 
.ti-\n(x0u 
computer:  flight number nine two leaves new york at four p.m. arrives in chicago at five twenty five p.m.. 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  what plane is on the flight? 
.ti-\n(x0u 
computer:  the aircraft is a boeing seven twenty seven. 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  how much is the fare? 
.ti-\n(x0u 
computer:  the round trip coach fare is one hundred forty two dollars. 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  i want a first class seat. 
.ti-\n(x0u 
computer:  one seat thank you. 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  what is the fare? 
.ti-\n(x0u 
computer:  the round trip first class fare is one hundred eighty four dollars. 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  please repeat the arrival time. 
.ti-\n(x0u 
computer:  the arrival time is five twenty five p.m.. 
.ti-\n(x0u 
caller:\h'\n(x0u-\n(x1u'  i will take the flight. 
.ti-\n(x0u 
computer:  your reservation on flight number nine two to chicago on friday is confirmed.  thank you. 
.in 0 
.nf 
.mt 2 
table 1.7  a conversation with an airline flight information service 
(from levinson and shipley, 1980) 
.te 
.[ 
levinson shipley 1980 
.] 
the user dials the system from an 
ordinary telephone.  the recognition side must be trained by each user, and 
accepts isolated words spoken with brief pauses between them. 
the voice response unit has a vocabulary of around 200 words, and 
synthesizes its answers by slotting words into "templates" evoked by the speech 
understanding part in response to a query.  for example, 
.lb 
.ni 
this flight makes \(em stops 
.ni 
flight number \(em leaves \(em at \(em , arrives in \(em at \(em 
.le 
are templates which when called with specific slot fillers could produce the 
utterances 
.lb 
.ni 
this flight makes three stops 
.ni 
flight number nine two leaves new york at four p.m., 
arrives in chicago at five twenty-five p.m. 
.le 
the chief research interest of the system is in its speech understanding 
capabilities, and the method used for speech output is relatively 
straightforward.  the templates and words are recorded, digitized, compressed 
slightly, and stored on disk files (totalling a few hundred thousand bytes of 
storage), using techniques similar to those of system\ x. 
again, no independent manipulation of pitch is possible, and so the utterances 
sound intelligible but the transition between templates and slot fillers is not 
completely fluent.  however, the overall context of the interaction means that 
the communication is not seriously disrupted even if the machine occasionally 
misunderstands the man or vice versa.  the user's attention is drawn away from 
recognition accuracy and focussed on the exchange of information with the machine. 
the authors conclude that progress in speech recognition can best be made by 
studying it in the context of communication rather than in a vacuum or as part 
of a one-way channel, and the same is undoubtedly true of speech synthesis as 
well. 
.sh "1.6  reading machine for the blind" 
.pp 
perhaps the most advanced attempt to provide speech output from a computer 
is the kurzweil reading machine for the blind, first marketed in the late 
1970's (figure 1.4). 
.fc "figure 1.4" 
this device reads an ordinary book aloud.  users adjust the reading 
speed according to the content of the material and their familiarity with 
it, and the maximum rate has recently been improved to around 225 words per 
minute \(em perhaps half as fast again as normal human speech rates. 
.pp 
as well as generating speech from text, the machine has to scan the document 
being read and identify the characters presented to it.  a scanning camera 
is used, controlled by a program which searches for and tracks the lines of 
text.  the output of the camera is digitized, and the image is enhanced 
using signal-processing techniques.  next each individual letter must be 
isolated, and its geometric features identified and compared with a pre-stored 
table of letter shapes.  isolation of letters is not at all trivial, for 
many type fonts have "ligatures" which are combinations of characters joined 
together (for example, the letters "fi" are often run together.)  the 
machine must cope with many printed type fonts, as well as typewritten ones. 
the text-recognition side of the kurzweil reading machine is in fact one of 
its most advanced features. 
.pp 
we will discuss the problem of speech generation from text in chapter 9. 
it has many facets.  first there is pronunciation, the 
translation of letters to sounds.  it is important to take into account 
the morphological structure of words, dividing them into "root" and "endings". 
many words have concatenated suffixes (like "like-li-ness").  these are 
important to detect, because a final "e" which appears on a root word 
is not pronounced itself but affects the pronunciation of the previous 
vowel.  then there is the difficulty that some words look the same 
but are pronounced differently, depending on their meaning or on the syntactic 
part that they play in the sentence. 
appropriate intonation is extremely difficult to generate from a plain textual 
representation, for it depends on the meaning of the text and the way in which 
emphasis is given to it by the reader.  similarly the rhythmic structure is 
important, partly for correct pronunciation and partly for purposes of 
emphasis. 
finally the sounds that have been deduced from the text need to be synthesized 
into acoustic form, taking due account of the many and varied contextual effects 
that occur in natural speech.  this by itself is a challenging problem. 
.pp 
the performance of the kurzweil reading machine is not good.  while it seems 
to be true that some blind people can make use of it, it is far from 
comprehensible to an untrained listener.  for example, 
it will miss out words and even whole phrases, hesitate in a 
stuttering manner, blatantly mis-pronounce many words, fail to detect 
"e"s which should be silent, and give completely wrong rhythms 
to words, making them impossible to understand. 
its intonation is decidedly unnatural, monotonous, and often downright 
misleading.  when it reads completely new text to people unfamiliar with its 
quirks, 
they invariably fail to understand more than an odd word here and there, 
and do not improve significantly when the text is repeated more than once. 
naturally performance improves if the material is familiar or expected 
in some way. 
one useful feature is the machine's ability to spell out difficult words 
on command from the user. 
.pp 
while not wishing to denigrate the kurzweil machine, which is a remarkable 
achievement in that it integrates together many different advanced 
technologies, there is no doubt that the state of the art in speech synthesis 
directly from unadorned text is extremely primitive, at present. 
it is vital not to overemphasize the potential usefulness of abysmal speech, 
which takes a great deal of training on the part of the user before 
it becomes at all intelligible.  to make a rather extreme analogy, 
morse code could be used as 
audio output, requiring a great deal of training, but capable of being understood 
at quite high rates by an expert. 
it could be generated very cheaply. 
but clearly the man in the street would find it quite unacceptable as 
an audio output medium, because of the excessive effort required to learn to use 
it.  in many applications, very bad synthetic speech is just as useless. 
however, the issue is complicated by the fact that for people who use 
synthesizers regularly, synthetic speech becomes quite easily comprehensible. 
we will return to the problem of evaluating the quality of artificial speech 
later in the book (chapter 8). 
.sh "1.7  system considerations for speech output" 
.pp 
fortunately, very many of the applications of speech output from computers 
do not need to read unadorned text. 
in all the example systems described above (except the reading machine), 
it is enough to be able to store utterances in some representation which can 
include pre-programmed cues for pronunciation, rhythm, and intonation in 
a much more explicit way than ordinary text does. 
.pp 
of course, techniques 
for storing audio information have been in use for decades. 
for example, a domestic cassette tape recorder stores speech at much better 
than telephone quality at very low cost.  the method of direct 
recording of an analogue waveform is currently used for announcements in 
the telephone network to provide information such as the time, weather 
forecasts, and even bedtime stories. 
however, it is difficult to provide rapid access to messages stored in 
analogue form, and although some computer peripherals which use analogue 
recordings for voice-response applications have been marketed \(em they are 
discussed briefly at the beginning of chapter 3 \(em they have been 
superseded by digital storage techniques. 
.pp 
although direct storage of a digitized audio waveform is used in some 
voice-response systems, the approach has certain limitations.  the most 
obvious one is the large storage requirement:  suitable coding can reduce 
the data-rate of speech to as little as one hundredth of that needed by 
direct digitization, and textual representations reduce it by another factor 
of ten or twenty.  (of course, the speech quality is inevitably compromised 
somewhat by data-compression techniques.)  however, the cost of storage is 
dropping so fast that this is not necessarily an overriding factor. 
a more fundamental limitation is that utterances stored directly cannot sensibly 
be modified in any way to take account of differing contexts. 
.pp 
if the results of certain kinds of analyses 
of utterances are stored, instead of simply the digitized waveform, 
a great deal more flexibility can be gained. 
it is possible to separate out the features of intonation and amplitude from 
the articulation of the speech, and this raises the attractive possibility 
of regenerating utterances with pitch contours different from those with which they were 
recorded. 
the primary analysis technique used for this purpose is 
.ul 
linear prediction 
of speech, and this is treated in some detail in chapter 6.  it also reduces drastically the 
data-rate of speech, by a factor of around 50. 
it is likely that many voice-response systems in the short- and medium-term 
future will use linear predictive representations for utterance storage. 
.pp 
for maximum flexibility, however, it is preferable to store a textual 
representation of the utterance. 
there is an important distinction between speech 
.ul 
storage, 
where an actual human utterance is recorded, perhaps processed to lower 
the data-rate, and stored for subsequent regeneration when required, 
and speech 
.ul 
synthesis, 
where the machine produces its own individual utterances which are not based 
on recordings of a person saying the same thing.  the difference is summarized 
in figure 1.5. 
.fc "figure 1.5" 
in both cases something is stored:  for the first it is 
a direct representation of an actual human utterance, while for the second 
it is a typed 
.ul 
description 
of the utterance in terms of the sounds, or phonemes, which constitute it. 
the accent and tone of voice of the human speaker will be apparent in 
the stored speech output, while for synthetic speech the accent is the 
machine's and the tone of voice is determined by the synthesis program. 
.pp 
probably the most attractive representation of utterances in man-machine 
systems is ordinary english text, as used by the kurzweil reading machine. 
but, as noted above, this poses extraordinarily difficult problems for the 
synthesis procedure, and these inevitably result in severely degraded speech. 
although in the very long term these problems may indeed be solved, 
most speech output systems can adopt as their representation of an utterance 
a description of it which explicitly conveys the difficult features of 
intonation, rhythm, and even pronunciation. 
in the kind of applications described above (barring the reading machine), 
input will be prepared by a 
programmer as he builds the software system which supports the interactive 
dialogue. 
although it is important that the method of specifying utterances be easily 
learned, it is not necessary that plain english 
is used.  it should be simple for the programmer to enter new 
utterances and modify them on-line in cut-and-try attempts to render the 
man-machine dialogue as natural as possible.  a phonetic input 
can be quite adequate for this, especially if the system allows the 
programmer to hear immediately the synthesized version of the message 
he types.  furthermore, markers which indicate rhythm and intonation can 
be added to the message so that the system does not have to deduce these features 
by attempting to "understand" the plain text. 
.pp 
this brings us to another disadvantage of speech storage as compared with 
speech synthesis.  to provide utterances for a voice response system using 
stored human speech, one must assemble together special input hardware, 
a quiet room, and (probably) a dedicated computer.  if the speech is to be 
heavily encoded, either expensive special hardware is required or the encoding 
process, if performed by software on a general-purpose computer, will take 
a considerable length of time (perhaps hundreds of times real-time).  in 
either case, time-consuming editing of the speech will be necessary, with 
follow-up recordings to clarify sections of speech which turn out to be 
unsuitable or badly recorded.  if at a later date the voice response 
system needs modification, it will be necessary to recall the same speaker, 
or re-record the entire utterance set.  this discourages the application 
programmer from adjusting his dialogue in the light of experience. 
synthesizing from a textual representation, on the other hand, allows him 
to change a speech prompt as simply as he could a vdu one, and evaluate 
its effect immediately. 
.pp 
we will return to methods of digitizing and compacting speech in chapters 3 
and 4, and carry on to consider speech synthesis in subsequent chapters. 
firstly, however, it is necessary to take a look at what speech is and how 
people produce it. 
.sh "1.8  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.sh "1.9  further reading" 
.pp 
there are remarkably few general books on speech output, although a 
substantial specialist literature exists for the subject. 
in addition to the references listed above, i suggest that you look 
at the following. 
.lb "nn" 
.\"ainsworth-1976-1 
.]- 
.ds [a ainsworth, w.a. 
.ds [d 1976 
.ds [t mechanisms of speech recognition 
.ds [i pergamon 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
a nice, easy-going introduction to speech recognition, this book covers 
the acoustic structure of the speech signal in a way which makes 
it useful as background reading for speech synthesis as well. 
it complements lea, 1980, cited above; which presents more recent results 
in greater depth. 
.in-2n 
.\"flanagan-1973-2 
.]- 
.ds [a flanagan, j.l. 
.as [a " and rabiner, l.r. (editors) 
.ds [d 1973 
.ds [t speech synthesis 
.ds [i wiley 
.nr [t 0 
.nr [a 0 
.nr [o 0 
.][ 2 book 
.in+2n 
this is a collection of previously-published research papers on speech 
synthesis, rather than a unified book. 
it contains many of the classic papers on the subject from 1940\ -\ 1972, 
and is a very useful reference work. 
.in-2n 
.\"leboss-1980-3 
.]- 
.ds [a leboss, b. 
.ds [d 1980 
.ds [k * 
.ds [t speech i/o is making itself heard 
.ds [j electronics 
.ds [o may\ 22 
.ds [p 95-105 
.nr [p 1 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
the magazine 
.ul 
electronics 
is an excellent source of up-to-the-minute news, product announcements, 
titbits, and rumours in the commercial speech technology world. 
this particular article discusses the projected size of the voice 
output market and gives a brief synopsis of the activities of several 
interested companies. 
.in-2n 
.\"witten-1980-5 
.]- 
.ds [a witten, i.h. 
.ds [d 1980 
.ds [t communicating with microcomputers 
.ds [i academic press 
.ds [c london 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
a recent book on microcomputer technology, this is unusual in that 
it contains a major section on speech communication 
with computers (as well as ones 
on computer buses, interfaces, and graphics). 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "2  what is speech?" 
.ds rt "what is speech? 
.ds cx "principles of computer speech 
.pp 
people speak by using their vocal cords as a sound source, and making rapid 
gestures of the articulatory organs (tongue, lips, jaw, and so on). 
the resulting changes in shape of the vocal tract allow production 
of the different sounds that we know as the vowels and consonants of 
ordinary language. 
.pp 
what is it necessary to learn about this process for the purposes of 
speech output from computers? 
that depends crucially upon how speech is represented in the system. 
if utterances are stored as time waveforms \(em and this is what we will be 
discussing in the next chapter \(em the structure of speech is not important. 
if frequency-related parameters of particular natural utterances are 
stored, then it is advantageous to take into account some of the 
acoustic properties of the speech waveform. 
.pp 
this point can be brought into focus by contrasting the transmission 
(or storage) of speech with that of real-life television pictures, 
as has been proposed for a videophone service. 
massive data reductions, of the order of 50:1, can be achieved for speech, 
using techniques that are described in later chapters.  for pictures, 
data reduction is still an important issue \(em even more so for the 
videophone than for the telephone, because of the vastly higher 
information rates involved. 
unfortunately, the potential for data reduction is much 
smaller \(em nothing like the 50:1 figure quoted above. 
this is because speech sounds have definite characteristics, imparted 
by the fact that they are produced by a human vocal tract, which 
can be exploited for data reduction. 
television pictures have no equivalent generative structure, for 
they show just those things that the camera points at. 
.pp 
moving up from frequency-related parameters of 
.ul 
particular 
utterances, it 
is possible to store such parameters in a 
.ul 
general 
form which characterizes the sound segments that appear in spoken language. 
this immediately raises the issue of 
.ul 
classification 
of sound segments, to form a basis for storing generalized acoustic 
information and for retrieval of the information needed to synthesize 
any particular utterance. 
speech is by nature continuous, and any synthesis system based upon 
discrete classification must come to terms with this by tackling 
the problems of transition from one segment to another, 
and local modification of sound segments as a function of their context. 
.pp 
this brings us to another level of representation. 
so far we have talked of the 
.ul 
acoustic 
nature of speech, but when we have to cope with transitions between 
discrete sound segments it may be fruitful to consider 
.ul 
articulatory 
properties as well. 
any model of the speech production process 
is in effect a model of the articulatory process that generates the speech. 
some speech research is concerned with 
modelling 
the vocal tract directly, rather than modelling the acoustic output from it. 
one might specify, for example, position of tongue and posture of jaw and lips 
for a vowel, instead of giving frequency-related 
characteristics of it.  this is a potent 
tool in linguistic research, for it brings one closer to human production of 
speech \(em in particular to the connection between brain and articulators. 
.pp 
articulatory 
synthesis holds a promise of high-quality speech, for the transitional 
effects caused by tongue and jaw inertia can be modelled directly. 
however, this potential has 
not yet been realized. 
speech from current articulatory models is of much poorer quality than 
that from acoustically-based synthesis methods. 
the major problem is in gaining data about articulatory 
behaviour during running speech \(em it is much easier to perform acoustic 
analysis on the resulting sound than it is to examine the vocal organs in 
action.  because of this, the subject is not treated in this book. 
we will only look at articulatory properties insofar as they help us 
to understand, in a qualitative way, the acoustic nature of speech. 
.pp 
speech, however, is much more than mere articulation. 
consider \(em admittedly a rather extreme and chauvinistic example \(em the 
number of ways a girl can say "yes". 
breathy voice, slow tempo, low pitch \(em these are all characteristics which 
affect the utterance as a whole, rather than being classifiable into 
individual sound segments.  linguists call them "prosodic" or 
"suprasegmental" features, for they relate to overall aspects of the 
utterance, and distinguish them from "segmental" ones which concern 
the articulation of individual segments of syllables. 
the most important prosodic features are pitch, or fundamental frequency 
of the voice, and rhythm. 
.pp 
this chapter provides a brief introduction to the nature of the speech 
signal.  depending upon what speech output techniques we use, it may be 
necessary to understand something of the acoustic nature of the speech 
signal; the system that generates it (the vocal tract); commonly-used 
classifications of sound segments; and the prosodic aspects of speech. 
this material is little used in the early chapters of the book, but 
becomes increasingly important as the story unfolds. 
hence you may skip the remainder of this chapter if you wish, but 
should return to it later to pick up more background whenever it 
becomes necessary. 
.sh "2.1  the anatomy of speech" 
.pp 
the so-called "voiced" sounds of speech \(em like the sound you make when 
you say "aaah" \(em are produced by passing air up from the lungs through 
the larynx or voicebox, which is situated just behind the adam's apple. 
the vocal tract from the larynx to the lips acts as a resonant cavity, 
amplifying certain frequencies and attenuating others. 
.pp 
the waveform generated by the larynx, however, is not simply sinusoidal. 
(if it were, the vocal tract resonances would merely 
give a sine wave of the same frequency but amplified or 
attenuated according to how close it was to the nearest resonance.)  the 
larynx contains two folds of skin \(em the vocal cords \(em which blow apart and flap 
together again in each cycle of the pitch period. 
the pitch of a male voice in speech varies from as low as 50\ hz 
(cycles per second) to perhaps 
250\ hz, with a typical median value of 100\ hz. 
for a female voice the range is higher, up to about 500\ hz in speech. 
singing can go much higher:  a top c sung by a soprano has a frequency 
of just over 1000\ hz, and some opera singers can reach 
substantially higher than this. 
.pp 
the flapping action of the vocal cords 
gives a waveform which can be approximated by a 
triangular pulse (this and other approximations will be discussed in 
chapter 5). 
it has a rich spectrum of harmonics, 
decaying at around 12\ db/octave, and each harmonic is affected 
by the vocal tract resonances. 
.rh "vocal tract resonances." 
a simple model of the vocal tract is an organ-pipe-like cylindrical tube 
(figure 2.1), 
with a sound source at one end (the larynx) and open at the other (the lips). 
.fc "figure 2.1" 
this has resonances at wavelengths $4l$, $4l/3$, $4l/5$, ..., where $l$ 
is the length of the tube; 
and these correspond to frequencies $c/4l$, $3c/4l$, $5c/4l$, ...\ hz, $c$ 
being the speed of 
sound in air. 
calculating these frequencies, using a typical figure for the 
distance between larynx and lips of 17\ cm, 
and $c = 340$\ m/s for the speed of sound, leads to resonances at 
approximately 500\ hz, 1500\ hz, 2500\ hz, ... . 
.pp 
when excited by the harmonic-rich waveform of the larynx, 
the vocal tract resonances produce 
peaks known as 
.ul 
formants 
in the energy spectrum of the speech wave (figure 2.2). 
.fc "figure 2.2" 
the lowest formant, called formant one, varies from around 200\ hz 
to 1000\ hz during speech, the exact range depending on the size 
of the vocal tract. 
formant two varies from around 500 to 2500\ hz, and formant three 
from around 1500 to 3500\ hz. 
.pp 
you can easily hear the lowest formant by whispering the vowels in 
the words "heed", "hid", "head", "had", "hod", "hawed", and "who'd". 
they appear to have a steadily descending pitch, yet since you are 
whispering there is no fundamental frequency. 
what you hear is the lowest resonance of the vocal tract \(em formant one. 
some masochistic people can play simple tunes with this formant by putting 
their mouth in successive vowel shapes and knocking the top of their head 
with their knuckles \(em hard! 
.pp 
a difficulty occurs when trying to identify the lower formants for speakers 
with high-pitched voices. 
when a formant frequency falls below the fundamental excitation frequency 
of the voice, its effect is diminished \(em although it is still present. 
the vibrato used by opera singers provides a very low-frequency excitation 
(at the vibrato rate) which helps to illuminate the lower formants even 
when the pitch of the voice is very high. 
.pp 
of course, speech is not a static phenomenon. 
the organ-pipe model describes the speech spectrum during a continuously 
held vowel with the mouth in a neutral position such as for "aaah". 
but in real speech the tongue and lips are in continuous motion, 
altering the shape of the vocal tract and hence the positions of the resonances. 
it is as if the organ-pipe were being squeezed and expanded in 
different places all the time. 
say 
.ul 
ee 
as in "heed" and feel how close your tongue is to the roof of your mouth, 
causing a constriction near the front of the vocal cavity. 
.pp 
linguists and speech engineers use a special frequency analyser called a 
"sound spectrograph" to make a three-dimensional plot of the variation 
of the speech energy spectrum with time. 
figure 2.3 shows a spectrogram of the 
utterance "go away". 
.fc "figure 2.3" 
frequency is given on the vertical axis, 
and bands are shown at the beginning to indicate the scale. 
time is plotted horizontally, 
and energy is given by the darkness of any particular area. 
the lower few formants can be seen as dark bands extending horizontally, 
and they are in continuous motion. 
in the neutral first vowel of "away", the formant frequencies 
pass through 
approximately the 500\ hz, 1500\ hz, and 2500\ hz that we calculated earlier. 
(in fact, formants two and three are somewhat lower than these values.) 
.pp 
the 
fine vertical striations in the spectrogram correspond to single openings of the vocal cords. 
pitch changes continuously throughout an utterance, 
and this can be seen on the spectrogram by the differences in spacing 
of the striations. 
pitch change, or 
.ul 
intonation, 
is singularly important in 
lending naturalness to speech. 
.pp 
on a spectrogram, a continuously held vowel shows up as a static energy spectrum. 
but beware \(em what we call a vowel in everyday language is not the same thing as a 
"vowel" in phonetic terms. 
say "i" and feel how the tongue moves continuously while you're speaking. 
technically, this is a 
.ul 
diphthong 
or slide between two vowel positions, 
and not a single vowel. 
if you say 
.ul 
ar 
as in "hard", 
and change slowly to 
.ul 
ee 
as in "heed", you will obtain a diphthong not unlike that in "i". 
and there are many more phonetically different vowel sounds 
than the a, e, i, o, and u that we normally think of. 
the words "hood" and "mood" have different vowels, for example, as do "head" and "mead". 
the principal acoustic difference between the various vowel sounds 
is in the frequencies of the first two formants. 
.pp 
a further complication is introduced by the nasal tract.  this is 
a large cavity which is coupled to the oral tract by a passage at the 
back of the mouth. 
the passage is guarded by a flap of skin called the "velum". 
you know about this because inadvertent opening of the velum while 
swallowing causes food or drink to go up your nose. 
the nasal cavity is switched in and out of the vocal tract 
by the velum during speech. 
it is used for consonants 
.ul 
m, 
.ul 
n, 
and the 
.ul 
ng 
sound in the word 
"singing". 
vowels are frequently nasalized too. 
a very effective demonstration of the amount of nasalization in ordinary 
speech can be obtained by cutting a nose-shaped hole in a large 
baffle which divides a room, speaking normally with one's nose in the hole, 
and having someone listen on the other side. 
the frequency of occurrence of 
nasal sounds, and the volume of sound that is emitted 
through the nose, are both surprisingly large. 
interestingly enough, when we say in conversation that someone sounds 
"nasal", we usually mean "non-nasal".  when the nasal passages are 
blocked by a cold, nasal sounds are missing \(em 
.ul 
n\c 
\&'s turn into 
.ul 
d\c 
\&'s, 
and 
.ul 
m\c 
\&'s to 
.ul 
b\c 
\&'s. 
.pp 
when the nasal cavity is switched in to the vocal tract, it introduces 
formant resonances, just as the oral cavity does. 
although we cannot 
alter the shape of the nasal tract significantly, the nasal formant 
pattern is not fixed, because the oral tract does play a part in nasal 
resonances. 
if you say 
.ul 
m, 
.ul 
n, 
and 
.ul 
ng 
continuously, you can hear the difference and feel how it is produced by 
altering the combined nasal/oral tract resonances with your tongue position. 
the nasal cavity operates in parallel with 
the oral one:  this causes the two resonance patterns to be summed 
together, with resulting complications which will be discussed in chapter 5. 
.rh "sound sources." 
speech involves sounds other than those caused by regular vibration of 
the larynx. 
when you whisper, the folds of the larynx are held slightly 
apart so that the air passing between them becomes turbulent, causing a noisy excitation 
of the resonant cavity. 
the formant peaks are still present, superimposed on the noise.  such 
"aspirated" sounds occur in the 
.ul 
h 
of "hello", and for a very short time 
after the lips are opened at the beginning of "pit". 
.pp 
constrictions made in the mouth produce hissy noises such as 
.ul 
ss, 
.ul 
sh, 
and 
.ul 
f. 
for example, in 
.ul 
ss 
the tip of the tongue is high up, 
very close to the roof of the mouth. 
turbulent air passing through this constriction causes a 
random noise excitation, known as "frication". 
actually, the roof of the mouth is quite a complicated object. 
you can feel with your tongue a bony hump or ridge just behind the front 
teeth, and it is this that forms a constriction with the tongue for 
.ul 
s. 
in 
.ul 
sh, 
the tongue is flattened close to the roof of the mouth slightly farther back, 
in a position rather similar to that for 
.ul 
ee 
but with a narrower 
constriction, 
while 
.ul 
f 
is produced with the upper teeth and lower lip. 
because they are made near the front of the mouth, 
the resonances of the vocal tract have little effect on these fricative 
sounds. 
.pp 
to distinguish them from aspiration and frication, the ordinary speech 
sounds (like "aaah") which have their source in larynx vibration are 
known technically as "voiced".  aspirated and fricative sounds are called 
"unvoiced".  thus the three different sound types can be classified as 
.lb 
.np 
voiced 
.np 
unvoiced (fricative) 
.np 
unvoiced (aspirated). 
.le 
can any of these three types occur together? 
it would seem that voicing and aspiration can not, for the former requires 
the larynx to be vibrating regularly, but for the latter it must be 
generating turbulent noise. 
however, there is a condition known technically as "breathy voice" 
which occurs when the vocal cords are slightly apart, still vibrating, 
but with a large volume of air passing between to create turbulence. 
voicing can easily occur in conjunction with frication. 
corresponding to 
.ul 
s, 
.ul 
sh, 
and 
.ul 
f 
we get the 
.ul 
voiced 
fricatives 
.ul 
z, 
the sound in the middle of words like "vision" which i will call 
.ul 
zh, 
and 
.ul 
v. 
a simple illustration of voicing is to say "ffffvvvvffff\ ...". 
during the voiced part you can feel the larynx vibrations with a finger 
on your adam's apple, and it can be heard quite clearly if you stop up 
your ears. 
technically, there is nothing to prevent frication and aspiration 
from occurring together \(em they do, for example, when a voiced fricative 
is whispered \(em but the combination is not an important one. 
.pp 
the complicated acoustic effects of noisy excitations in speech can be 
seen in the spectrogram in figure 2.4 of 
"high altitude jets whizz past screaming". 
.fc "figure 2.4" 
.rh "the source-filter model of speech production." 
we have been talking in terms of a sound source (be it voiced or unvoiced) 
exciting the resonances of the oral (and possible the nasal) tract. 
this model, which is used extensively in speech analysis and synthesis, 
is known as 
the source-filter model of speech production.  the reason for its success 
is that the effect of the resonances can be modelled as a frequency-selective 
filter, operating on an input which is the source excitation. 
thus the frequency spectrum of the source is modified by multiplying it 
by the frequency characteristic of the filter (or adding it, if amplitudes 
are expressed logarithmically). 
this can be seen in figure 2.5, which shows a source 
spectrum and filter characteristic which combine to give the overall 
spectrum of figure 2.2. 
.fc "figure 2.5" 
.pp 
although, as mentioned above, the various fricatives are not subjected 
to the resonances of the vocal tract to the same extent 
that voiced and aspirated 
sounds are, they can still be modelled as a noise source followed by 
a filter to give them their different sound qualities. 
.pp 
the source-filter model is an oversimplification of the actual speech 
production system.  there is inevitably some coupling between the vocal 
tract and the lungs, through the glottis, during the period when 
it is open.  this effectively makes the filter characteristics 
change during each individual cycle of the excitation. 
however, although the effect is of interest to speech researchers, 
it is probably not of great significance for practical speech output. 
.pp 
one very interesting implication of the 
source-filter model is that the prosodic features of 
pitch and amplitude are largely properties of the source; while 
segmental ones are introduced by the filter.  this makes it possible to 
separate some aspects of 
overall prosody from the actual segmental content of an 
utterance, so that, for example, a human utterance can be stored initially 
and then spoken by a machine with a variety of different intonations. 
.sh "2.2  classification of speech sounds" 
.pp 
the need to classify sound segments as a basis for storing generalized acoustic 
information and retrieving it was mentioned earlier.  there is a real 
difficulty here because speech is by nature continuous and classifications are 
discrete. 
it is important to remember this difficulty because it is all too easy 
to criticize the complex and often confusing attempts of linguists to 
tackle the classification task. 
.pp 
linguists call a written representation of the 
.ul 
sounds 
of an utterance a "phonetic 
transcription" of it.  the same utterance can be transcribed at 
different levels of detail:  simple transcriptions are called "broad" 
and more specific ones are called "narrow". 
perhaps the most logically satisfying kind of transcription employs units 
termed "phonemes".  this is the broadest transcription, 
and is sometimes called a 
.ul 
phonemic 
transcription to emphasize that that it is in terms of phonemes. 
unfortunately, the word "phoneme" is often used somewhat loosely. 
in its true sense, a phoneme is a 
.ul 
logical 
unit, rather than a physical, acoustic, one, 
and is defined in relation to a particular language by reference 
to its use in discriminating different words. 
classifications of sounds which are based on their 
semantic 
role as word-discriminators are called 
.ul 
phonological 
classifications:  we could ensure that there is no ambiguity in the sense 
with which we use the term "phoneme" by calling it a phonological unit, and 
the phonemic transcription could be called a phonological one. 
.rh "broad phonetic transcription." 
a phoneme is an abstract unit representing a set of different sounds. 
the issue is confused by the fact that the members of the set actually 
sound very similar, if not identical, to the untrained ear \(em precisely because 
the difference between them plays no part in distinguishing words from 
each other in the particular language concerned. 
.pp 
take the words "key" and "caw", for example.  despite the difference in 
spelling, both of them begin with a 
.ul 
k 
sound that belongs (in english) 
to the same phoneme set, called 
.ul 
k. 
however, say them two or three times each, concentrating on the position of 
the tongue during the 
.ul 
k. 
it is quite different in each case.  for "key", it 
is raised, close to the roof of the mouth, in preparation for the 
.ul 
ee, 
whereas in "caw" it is much lower down. 
the sound of the 
.ul 
k 
is actually quite different in the two cases. 
yet they belong to the same phoneme, for there is no pair of words which 
relies on this difference to distinguish them \(em "key" and "caw" are 
obviously distinguished by their vowels, not by the initial 
consonant. 
you probably cannot hear clearly the difference between the two 
.ul 
k\c 
\&'s, 
precisely because they belong to the same phoneme and so the difference 
is not important (for english). 
.pp 
the point is sharpened by considering another language where we make a 
distinction \(em and hence can hear the difference \(em between two sounds 
that belong, in the language, to the same phoneme. 
japanese does not distinguish 
.ul 
r 
from 
.ul 
l. 
japanese people 
.ul 
do not hear 
the difference between "lice" and "rice", in the same way that you do 
not hear the difference between the two 
.ul 
k\c 
\&'s above. 
cockneys do not hear, except with a special effort, the difference 
between "has" and "as", or "haitch" and "aitch", for the cockney dialect 
does not recognize initial 
.ul 
h\c 
\&'s. 
.pp 
so what is a phoneme?  it is a set of sounds whose members do not 
discriminate between any words in the language under consideration. 
if you are mathematically minded you could think of it as an equivalence 
class of sounds, determined by the relationship 
.lb 
$sound sub 1$ is related to $sound sub 2$ if $sound sub 1$ and $sound sub 2$ 
do not discriminate any pair of words in the language. 
.le 
the 
.ul 
p 
and 
.ul 
d 
in 
"pig" and "dig" belong to different phonemes (in english), 
because they discriminate 
the two words. 
.ul 
b, 
.ul 
f, 
and 
.ul 
j 
belong to different phonemes again. 
.ul 
i 
and 
.ul 
a 
in "hid" and "had" belong to different phonemes too. 
proceeding like this, a list of phonemes can be drawn up. 
.pp 
such a list is shown in table 2.1, for british english. 
(the layout of the list does have some significance in terms of different 
categories of phonemes, which will be explained later.)  in fact, 
linguists use an 
assortment of english letters, foreign letters, and special 
symbols to represent phonemes.  in this book we use one- or two-letter 
codes, partly because they are more mnemonic, and partly because 
they are more suitable for communication to computers using standard 
peripheral devices. 
they are 
a direct transliteration of linguists' standard international phonetic 
association symbols. 
.rf 
.nr x1 3m+1.0i+0.5i+0.5i+0.5i+\w'y'u 
.nr x1 (\n(.l-\n(x1)/2 
.in \n(x1u 
.ta 3m +1.0i +0.5i +0.5i +0.5i +0.5i +0.5i 
\fiuh\fr	(the)	\fip\fr	\fit\fr	\fik\fr 
\fia\fr	(bud)	\fib\fr	\fid\fr	\fig\fr 
\fie\fr	(head)	\fim\fr	\fin\fr	\fing\fr 
\fii\fr	(hid) 
\fio\fr	(hod)	\fir\fr	\fiw\fr	\fil\fr	\fiy\fr 
\fiu\fr	(hood) 
\fiaa\fr	(had)	\fis\fr	\fiz\fr 
\fiee\fr	(heed)	\fish\fr	\fizh\fr 
\fier\fr	(heard)	\fif\fr	\fiv\fr 
\fiuu\fr	(food)	\fith\fr	\fidh\fr 
\fiar\fr	(hard)	\fich\fr	\fij\fr 
\fiaw\fr	(hoard)	\fih\fr 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 2.1 the phonemes of british english" 
.pp 
we will discuss the sounds which make up each of these phoneme classes 
shortly.  first, however, it is worthwhile pointing out some rather 
tricky points in the definition of these phonemes. 
.rh "phonological difficulties." 
there are snags with phonological classification, as there are 
in any area where attempts are made to make completely logical 
statements about human activity. 
consider 
.ul 
h 
and the 
.ul 
ng 
in "singing". 
(\c 
.ul 
ng 
is certainly not an 
.ul 
n 
sound followed by a 
.ul 
g 
sound, although 
it is true that in some english accents "singing" is rendered with 
the 
.ul 
ng 
followed by a 
.ul 
g 
at each of its two occurrences.)  no words 
end with 
.ul 
h, 
and none begin with 
.ul 
ng. 
(notice that we are still talking about british english. 
in chinese, the sound 
.ul 
ng 
is a word in its own right, and is a common 
family name. 
but we must stick with one language for phonological classification.)  hence 
it follows that there is no pair of words which is distinguished 
by the difference between 
.ul 
h 
and 
.ul 
ng. 
technically, 
they belong to the same phoneme.  however, technical considerations 
in this case must take second place to common sense! 
.pp 
the 
.ul 
j 
in "jig" is another interesting case.  it can be considered 
to belong to a 
.ul 
j 
phoneme, or to be a sequence of two 
phonemes, 
.ul 
d 
followed by 
.ul 
zh 
(the sound in "vision").  there is 
disagreement on this point in phonetics textbooks, and we do not 
have the time (nor, probably, the inclination!) to consider the 
pros and cons of this moot point. 
i have resolved the matter arbitrarily by writing it as a separate 
phoneme.  the 
.ul 
ch 
in "choose" is a similar case 
(\c 
.ul 
t 
followed by the 
.ul 
sh 
in "shoes"). 
.pp 
another difficulty, this time where table 2.1 does not show how to 
distinguish between two sounds which 
.ul 
do 
discriminate words in many people's english, is the 
.ul 
w 
in "witch" 
and that in "which".  the latter is conventionally transcribed 
as a sequence of two phonemes, 
.ul 
h w. 
.pp 
the last few difficulties are all to do with deciding whether a 
sound belongs to a single phoneme class, or comprises a sequence 
of sounds each of which belongs to a phoneme. 
are the 
.ul 
j 
in "jug", the 
.ul 
ch 
in "chug", and the 
.ul 
w 
in "which", 
single phonemes or not?  the definition above of a phoneme 
as a "set of sounds whose members do not discriminate any words 
in the language" does not help us to answer this question. 
as far as this definition is concerned, we could go so far as 
to call each and every word of the language an individual phoneme! 
it is clear that some acoustic evidence, and quite a lot of judgement, 
is being used when phonemes such as those of table 2.1 are defined. 
.pp 
so much for the consonants.  this same problem occurs in vowel sounds, 
particularly in diphthongs, which are sequences of two vowel-like sounds. 
do the vowels of "main" and "man" belong to different phonemes? 
clearly so, if they are both transcribed as single units, for they 
distinguish the two words. 
notwithstanding the fact that they are sequences of separate sounds, 
a logically consistent system could be constructed which gave separate, 
unitary, symbols to each diphthong. 
however, it is usual to employ a compound symbol which indicates explicitly 
the character of the two vowel-like sounds involved. 
we will transcribe the diphthong of "main" as a sequence of two 
vowels, 
.ul 
e 
(as in "head") and 
.ul 
i 
(as in "hid", not "i"). 
this is done primarily for economy of symbols, choosing the constituent 
sounds on the basis of the closest match to existing vowel sounds. 
(note that this again violates purely 
.ul 
logical 
criteria for identifying phonemes.) 
.rh "categories of speech sounds." 
a phoneme is defined as a set of sounds whose members to not discriminate 
between any words in the language under consideration. 
the phonemes themselves can be classified into groups which reflect 
similarities between them. 
this can be done in many different ways, using various criteria 
for classification.  in fact, one branch of linguistic research 
is concerned with defining a set of "distinctive 
features" such that a phoneme class is uniquely identified by 
the values of the features.  distinctive features are binary, 
and include such things as voiced\(emunvoiced, fricative\(emnot\ fricative, 
aspirated\(emunaspirated.  we will not be concerned here with such 
detailed classifications, but it is as well to know that they exist. 
.pp 
there is an everyday distinction between vowels and consonants. 
a vowel forms the nucleus of every syllable, and one or more consonants 
may optionally surround the vowel. 
but the distinction sometimes becomes a little ambiguous. 
syllables like 
.ul 
sh 
are commonly uttered and certainly do not 
contain a vowel.  furthermore, when we say "vowel" in everyday 
language we usually refer to the 
.ul 
written 
vowels a, e, i, o, and u; there are many more vowel sounds. 
a vowel in orthography is different to a vowel as a phoneme. 
is a diphthong a phonetic vowel?  \(em certainly, by the syllable-nucleus 
criterion; but it is a little different from ordinary vowels because 
it is a changing sound rather than a constant one. 
.pp 
table 2.2 shows one classification of the phonemes of table 2.1, which 
will be useful in our later studies of speech synthesis from phonetics. 
it shows twelve vowels, including the rather peculiar one 
.ul 
uh 
(which corresponds to the first vowel in the word "above"). 
this is the sound produced by the vocal tract when it is in a relaxed, 
neutral position; and it never occurs in prominent, stressed, 
syllables.  the vowels later in the list are almost always longer 
than the earlier ones.  in fact, the first six 
(\c 
.ul 
uh, a, e, i, o, u\c 
) 
are often called "short" vowels, and the last five 
(\c 
.ul 
ee, er, uu, ar, aw\c 
) 
"long" ones.  the shortness or longness of the one in the middle 
(\c 
.ul 
aa\c 
) 
is rather ambiguous. 
.rf 
.nr x0 \w'000unvoiced fricative    'u 
.nr x1 \n(x0+\w'[not classified as individual phonemes]'u 
.nr x1 (\n(.l-\n(x1)/2 
.in \n(x1u 
.ta \n(x0u 
.fi 
vowel	\c 
.ul 
uh  a  e  i  o  u  aa  ee  er  uu  ar  aw 
.br 
diphthong	[not classified as individual phonemes] 
.br 
glide (or liquid)	\c 
.ul 
r  w  l  y 
.br 
stop 
.br 
\0\0\0unvoiced stop	\c 
.ul 
p  t  k 
.br 
\0\0\0voiced stop	\c 
.ul 
b  d  g 
.br 
nasal	\c 
.ul 
m  n  ng 
.br 
fricative 
.br 
\0\0\0unvoiced fricative	\c 
.ul 
s  sh  f  th 
.br 
\0\0\0voiced fricative	\c 
.ul 
z  zh  v  dh 
.br 
affricate 
.br 
\0\0\0unvoiced affricate	\c 
.ul 
ch 
.br 
\0\0\0voiced affricate	\c 
.ul 
j 
.br 
aspirate	\c 
.ul 
h 
.nf 
.in 0 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.fg "table 2.2 phoneme categories" 
.pp 
diphthongs pose no problem here because we have not classified them 
as single phonemes. 
.pp 
the remaining categories are consonants.  the glides are quite 
similar to vowels and diphthongs, though; for they are voiced, 
continuous sounds.  you can say them and prolong them. 
(this is also true of the fricatives.)  
.ul 
r 
is interesting 
because it can be realized acoustically in very different ways. 
some people curl the tip of the tongue 
back \(em a so-called retroflex action of the tongue.  many people 
cannot do this, and their 
.ul 
r\c 
\&'s sound like 
.ul 
w\c 
\&'s. 
the stage scotsman's 
.ul 
r 
is a trill where the tip of the tongue vibrates against the roof of the mouth. 
.ul 
l 
is also 
slightly unusual, for it is the only english phoneme which is "lateral" \(em 
air passes either side of it, in two separate passages.  welsh 
has another lateral sound, a fricative, which is written "ll" as 
in "llandudno". 
.pp 
the next category is the stops.  these are formed by stopping up 
the mouth, so that air pressure builds up behind the lips, and 
releasing this pressure suddenly.  the result is a little 
explosion (and the stops are often called "plosives"), which 
usually creates a very short burst of fricative noise (and, in some cases, 
aspiration as well).  they are further subdivided into voiced and 
unvoiced stops, depending upon whether voicing starts as soon as 
the plosion occurs (sometimes even before) or well after it. 
if you put your hand in front of your mouth when saying "pit" you 
can easily feel the puff of air that signals the plosion on the 
.ul 
p, 
and probably on the 
.ul 
t 
as well. 
.pp 
in a sense, nasals are really stops as well (and they are often 
called stops), for the oral tract is blocked although the nasal 
one is not.  the peculiar fact that the nasal 
.ul 
ng 
never occurs at the beginning of a word (in english) was mentioned 
earlier.  notice that for stops and nasals there is a similarity in the 
.ul 
vertical 
direction of table 2.2, between 
.ul 
p, 
.ul 
b, 
and 
.ul 
m; 
.ul 
t, 
.ul 
d, 
and 
.ul 
n; 
and 
.ul 
k, 
.ul 
g, 
and 
.ul 
ng. 
.ul 
p 
is an unvoiced version of 
.ul 
b 
(try saying them), 
and 
.ul 
m 
is a nasalized version (for 
.ul 
b 
is what you get when you 
have a cold and try to say 
.ul 
m\c 
). 
these three sounds are all made 
at the front of the mouth, while 
.ul 
t, 
.ul 
d, 
and 
.ul 
n, 
which bear the 
same resemblance to each other, are made in the middle; and 
.ul 
k, 
.ul 
g, 
and 
.ul 
ng 
are made at the back.  this introduces another 
possible classification, according to 
.ul 
place of articulation. 
.pp 
the unvoiced fricatives are quite straightforward, except perhaps 
for 
.ul 
th, 
which is the sound at the beginning of "thigh". 
they are paired with the voiced fricatives on the basis of place 
of articulation.  the voiced version of 
.ul 
th 
is the 
.ul 
dh 
at 
the beginning of "thy". 
.ul 
zh 
is a fairly rare phoneme, which 
is heard in the middle of "vision".  affricates are similar to 
fricatives but begin with a stopped posture, and we mentioned earlier 
the controversy as to whether they should be considered to be 
single phonemes, or 
sequences of stop phonemes and fricatives. 
finally comes the lonely aspirate, 
.ul 
h. 
aspiration does occur 
elsewhere in speech, during the plosive burst of unvoiced stops. 
.rh "narrow phonetic transcription." 
the phonological classification outlined above is based upon a clear 
rationale for distinguishing between sounds according to how 
they affect meaning \(em although the rationale does become 
somewhat muddied in difficult cases. 
narrower transcriptions are not so systematic. 
they use units called 
.ul 
allophones, 
which are defined by reference to physical, acoustic, criteria rather 
than purely logical ones. 
("phone" is a more old-fashioned term for the same thing, 
and the misused word "phoneme" is often employed where allophone is 
meant, that is, as a physical rather than a logical 
unit.)  each phoneme has several allophones, 
more or less depending on how narrow or broad the transcription is, 
and the allophones are different acoustic realizations of the same 
logical unit. 
for example, the 
.ul 
k\c 
\&'s in "key" and "caw" may be considered as different 
allophones (in a slightly narrow transcription). 
although we will not use symbols for allophones here, 
they are often indicated by diacritical marks in a text 
which modify the basic phoneme classes. 
for example, a tilde (~) over a vowel means that it is nasalized, while a small 
circle underneath a consonant means that it is devoiced. 
.pp 
allophonic variation in speech is governed by a mechanism called 
.ul 
coarticulation, 
where a sound is affected by those that come either side of it. 
"key"\-"caw" is a clear example of this, where the tongue 
position in the 
.ul 
k 
anticipates that of the following vowel \(em high 
in the first case, low in the second. 
most allophonic variation in english is anticipatory, in that the sound 
is influenced by the following articulation rather than by 
preceding ones. 
.pp 
nasalization is a feature which applies to vowels in english through 
anticipatory coarticulation. 
in many languages (for example, french) it is a 
.ul 
distinctive 
feature for vowels in that it serves to distinguish one vowel phoneme class 
from another. 
that this is not so in english sometimes tempts us to assume, 
incorrectly, that nasalization does not occur in vowels. 
it does, typically when the vowel is followed by a nasal consonant, and it is 
important for synthesis that nasalized vowel allophones are recognized and 
treated accordingly. 
.pp 
coarticulation can be predicted by phonological rules, which show 
how a phonemic sequence will be realized by allophones. 
such rules have been studied extensively by linguists. 
.pp 
the reason for coarticulation, and for the existence of allophones, 
lies in the physical constraints imposed by the motion 
of the articulatory organs \(em particularly their acceleration and deceleration. 
an immensely crude model is that the brain decides what phonemes to 
say (for it is concerned with semantic things, and the definition 
of a phoneme is a semantic one). 
it then takes this sequence and translates it into neural commands 
which actually move the articulators into target positions. 
however, other commands may be issued, and executed, before these targets 
are reached, and this accounts for coarticulation effects. 
phonological rules for converting a phonemic sequence to an 
allophonic one are a sort of discrete model of the process. 
particularly for work involving computers, it is possible that this 
rule-based approach will be overtaken by potentially more accurate 
methods which attempt to model the continuous articulatory phenomena 
directly. 
.sh "2.3  prosody" 
.pp 
the phonetic classification introduced above divides speech into 
segments and classifies these into phonemes or allophones. 
riding on top of this stream of segments are other, more global, 
attributes that dictate the overall prosody of the utterance. 
prosody is defined by the oxford english dictionary as the 
"science of versification, laws of metre," 
which emphasizes the aspects of stress and rhythm that are central 
to classical verse. 
there are, however, many other features which are more or less 
global. 
these are collectively called prosodic or, equivalently, suprasegmental, 
features, for they lie above the level of phoneme or syllable segments. 
.pp 
prosodic features can be split into two basic categories:  features 
of voice quality and features of voice dynamics. 
variations in voice quality, which are sometimes called 
"paralinguistic" phenomena, are accounted for by anatomical 
differences and long-term muscular idiosyncrasies (like a sore 
throat), and have little part to play in the kind of applications 
for speech output that have been sketched in chapter 1. 
variations in voice dynamics occur in three dimensions:  pitch 
or fundamental frequency of the voice, time, and amplitude. 
within the first, the pattern of pitch variation, or 
.ul 
intonation, 
can be distinguished from the overall range within which that variation 
occurs. 
the time dimension encompasses the rhythm of the speech, pauses, and the 
overall tempo \(em whether it is uttered quickly or slowly. 
the third dimension, amplitude, is of relatively minor importance. 
intonation and rhythm work together to produce an effect commonly called 
"stress", and we will elaborate further on the nature of stress and discuss 
algorithms for synthesizing intonation and rhythm in chapter 8. 
.pp 
these features have a very important role to play in communicating meaning. 
they are not fancy, optional components. 
it is their neglect which is largely responsible for the layman's 
stereotype of computer speech, 
a caricature of living speech \(em abrupt, arhythmic, and in a grating 
monotone \(em 
which was well characterized by isaac asimov when he wrote of speaking 
"all in capital letters". 
.pp 
timing has a syntactic function in that it sometimes helps to 
distinguish nouns from 
verbs 
(\c 
.ul 
ex\c 
tract versus ex\c 
.ul 
tract\c 
). 
and adjectives from verbs (app\c 
.ul 
rox\c 
imate versus approxi\c 
.ul 
mate\c 
) \(em although segmental aspects play a part here too, for the vowel 
qualities differ in each pair of words. 
nevertheless, if you make a mistake when assigning stress to words 
like these in conversation you are very likely to be queried as 
to what you actually said. 
.pp 
intonation has a big effect on meaning too. 
pitch often \(em but by no means always \(em rises on a question, 
the extent and abruptness of the rise depending on features like whether 
a genuine information-bearing reply or merely confirmation is expected. 
a distinctive pitch pattern accompanies the introduction of a new topic. 
in conjunction with rhythm, intonation can be used to bring out contrasts 
as in 
.lb 
.ni 
"he didn't have a 
.ul 
red 
car, he had a 
.ul 
black 
one." 
.le 
in general, the intonation patterns used by a reader depend not only on 
the text itself, but on his interpretation of it, and also on his 
expectation of the listener's interpretation of it. 
for example: 
.lb 
.ni 
"he had a 
.ul 
red 
car" (i think you thought it was black), 
.ni 
"he had a red 
.ul 
bi\c 
cycle" (i think you thought it was a car). 
.le 
.pp 
in natural speech, prosodic features are significantly influenced by 
whether the utterance is generated spontaneously or read aloud. 
the variations in spontaneous speech are enormous. 
there are all sorts of emotions which are plainly audible in 
everyday speech:  sarcasm, excitement, rudeness, disagreement, 
sadness, fright, love. 
variations in voice quality certainly play a part here. 
even with "ordinary" cooperative friendly conversation, the need to find 
words and somehow fit them into an overall utterance produces great 
diversity of prosodic structures. 
applications for speech output from computers do not, however, call for 
spontaneous conversation, but for a controlled delivery which is 
like that when reading aloud. 
here, the speaker is articulating utterances which have been set out for 
him, reducing his cognitive load to one of understanding and interpreting 
the text rather than generating it. 
unfortunately for us, linguists are (quite rightly) 
primarily interested in living, 
spontaneous speech rather than pre-prepared readings. 
.pp 
nevertheless, the richness of prosody in speech even when reading from 
a book should not be underestimated. 
read aloud to an audience and listen to the contrasts in voice dynamics 
deliberately introduced for variety's sake. 
if stories are to be read there is even a case for controlling voice 
.ul 
quality 
to cope with quotations and affective imitations. 
.pp 
we saw earlier that the source-filter model is particularly 
helpful in distinguishing prosodic features, which are largely 
properties of the source, from segmental ones, which belong to 
the filter. 
pitch and amplitude are primarily source properties. 
rhythm and speed of speaking are not, but neither are they filter 
properties, for they belong to the source-filter system as a whole 
and not specifically to either part of it. 
the difficult notion of stress is, from an acoustic point of view, 
a combination of pitch, rhythm, and amplitude. 
even some features of voice quality can be attributed to the source 
(like laryngitis), although others \(em cleft palate, badly-fitting 
dentures \(em affect segmental features as well. 
.sh "2.4  further reading" 
.pp 
this chapter has been no more than a cursory introduction to some 
of the difficult problems of linguistics and phonetics. 
here are some readable books which discuss these problems further. 
.lb "nn" 
.\"abercrombie-1967-1 
.ds [f 1 
.]- 
.ds [a abercrombie, d. 
.ds [d 1967 
.ds [t elements of general phonetics 
.ds [i edinburgh univ press 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this is an excellent book which covers all of the areas of this 
chapter, in much more detail than has been possible here. 
.in-2n 
.\"brown-1980-2 
.ds [f 2 
.]- 
.ds [a brown, gill 
.as [a ", currie, k.l. 
.as [a ", and kenworthy, j. 
.ds [d 1980 
.ds [t questions of intonation 
.ds [i croom helm 
.ds [c london 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
an intensive study of the prosodics of colloquial, living speech 
is presented, with particular reference to intonation.  although 
not particularly relevant to speech output from computers, 
this book gives great insight into how conversational speech 
differs from reading aloud. 
.in-2n 
.\"fry-1979-1 
.ds [f 1 
.]- 
.ds [a fry, d.b. 
.ds [d 1979 
.ds [t the physics of speech 
.ds [i cambridge university press 
.ds [c cambridge, england 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this is a simple and readable account of speech science, with a good 
and completely non-mathematical introduction to frequency analysis. 
.in-2n 
.\"ladefoged-1975-4 
.ds [f 4 
.]- 
.ds [a ladefoged, p. 
.ds [d 1975 
.ds [t a course in phonetics 
.ds [i harcourt brace and johanovich 
.ds [c new york 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
usually books entitled "a course on ..." are dreadfully dull, but 
this is a wonderful exception.  an exciting, readable, almost racy 
introduction to phonetics, full of little experiments you can try 
yourself. 
.in-2n 
.\"lehiste-1970-5 
.ds [f 5 
.]- 
.ds [a lehiste, i. 
.ds [d 1970 
.ds [t suprasegmentals 
.ds [i mit press 
.ds [c cambridge, massachusetts 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this fairly comprehensive study of the prosodics of speech 
complements ladefoged's book, which is mainly concerned with segmental 
phonetics. 
.in-2n 
.\"o'connor-1973-1 
.ds [f 1 
.]- 
.ds [a o'connor, j.d. 
.ds [d 1973 
.ds [t phonetics 
.ds [i penguin 
.ds [c london 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this is another introductory book on phonetics. 
it is packed with information on all aspects of the subject. 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "3  speech storage" 
.ds rt "speech storage 
.ds cx "principles of computer speech 
.pp 
the most familiar device that produces speech output is the ordinary tape 
recorder, which stores information in analogue form on magnetic tape. 
however, this is unsuitable for speech output from computers. 
one reason is that it is difficult to access different utterances quickly. 
although random-access tape recorders do exist, they are expensive and 
subject to mechanical breakdown because of the stresses associated with 
frequent starting and stopping. 
.pp 
storing speech on a rotating drum instead of 
tape offers the possibility of access to any track within one revolution time. 
for example, the ibm 7770 audio response unit employs drums rotating twice 
a second which are able to store up to 32 500-msec words.  these can be accessed 
randomly, within half a second at most. 
although one can 
arrange to store longer words by allowing overflow on to an adjacent track at 
the end of the rotation period, the discrete time-slots provided by this 
system make it virtually impossible for it to generate connected utterances 
by assembling appropriate words from the store. 
.pp 
the cognitronics speechmaker has a similar structure, but with 
the analogue speech waveform recorded on photographic film. 
storing audio waveforms optically is not an unusual technique, for this is how 
soundtracks are recorded on ordinary movie films.  the original version of 
the "speaking clock" of the british post office used optical storage in 
concentric tracks on flat glass discs. 
it is described by speight and gill (1937), 
who include a fascinating account of how the utterances are synchronized. 
.[ 
speight gill 1937 
.] 
a 4\ hz signal from a pendulum clock was used to supply current to an electric 
motor, which drove a shaft equipped with cams and gears that rotated 
the glass discs containing utterances for seconds, minutes, and hours 
at appropriate speeds! 
.pp 
a second reason for avoiding analogue storage is price.  it is difficult to see how a random-access 
tape recorder could be incorporated into a talking pocket calculator or 
child's toy without considerably inflating the cost. 
solid-state electronics is much cheaper than mechanics. 
.pp 
but the best reason is that, in many of the applications we have discussed, 
it is necessary to form utterances by concatenating separately-recorded 
parts.  it is totally infeasible, for example, to store each and every 
possible telephone number as an individual recording!  and 
utterances that are formed by concatenating individual words which were 
recorded in isolation, or in a different context, do not sound completely 
natural.  for example, in an early experiment, stowe and hampton (1961) recorded 
individual words on acoustic tape, spliced the tape with the words in a different 
order to make sentences, and played the result to subjects who were scored on 
the number of key words which they identified correctly. 
.[ 
stowe hampton 1961 
.] 
the overall conclusion was that while embedding a word in normally-spoken sentences 
.ul 
increases 
the probability of recognition (because the extra context gives clues about the 
word), embedding a word in a constructed sentence, where intonation and rhythm 
are not properly rendered, 
.ul 
decreases 
the probability of recognition.  when the speech was uttered slowly, 
however, a considerable improvement was noticed, indicating that if the 
listener has more processing time he can overcome the lack of proper intonation 
and rhythm. 
.pp 
nevertheless, many present-day voice response systems 
.ul 
do 
store what amounts to a direct recording of the acoustic wave. 
however, the storage medium is digital rather than analogue. 
this means that standard computer storage devices can be used, providing 
rapid access to any segment of the speech at relatively low cost \(em for 
the economics of mass-production ensures a low price for random-access 
digital devices compared with random-access analogue ones. 
furthermore, it reduces the amount of special equipment needed for speech 
output.  one can buy very cheap speech input/output interfaces for home computers 
which connect to standard hobby buses. 
another advantage of digital over analogue recording is that 
integrated circuit read-only memories (roms) 
can be used for hand-held devices which need small quantities of speech. 
hence this chapter begins by showing how waveforms are stored digitally, 
and then describes some techniques for reducing the data needed for a given 
utterance. 
.sh "3.1  storing waveforms digitally" 
.pp 
when an analogue signal is converted to digital form, it is made discrete 
both in time and in amplitude.  discretization in time is the operation of 
.ul 
sampling, 
whilst in amplitude it is 
.ul 
quantizing. 
it is worth pointing out that the transmission of analogue information by 
digital means is called "pcm" (standing for "pulse code modulation") in 
telecommunications jargon. 
much of the theory of digital signal processing investigates signals which 
are sampled but not quantized (or quantized into sufficiently many levels to 
avoid inaccuracies).  the operation of quantization, being non-linear, 
is not very amenable to theoretical analysis.  quantization introduces issues 
such as accumulation of round-off noise in arithmetic operations, 
which, although they are very important in practical implementations, can only 
be treated theoretically under certain somewhat unrealistic assumptions 
(in particular, independence of the quantization error from sample to sample). 
.rh "sampling." 
a fundamental theorem of telecommunications states that a signal can only be 
reconstructed accurately from a sampled version if it does not contain 
components whose frequency is greater than half the frequency at which the 
sampling takes place.  figure 3.1(a) shows how a component of slightly greater 
than half the sampling frequency can masquerade, as far as an observer with 
access only to the sampled data can tell, as a component at slightly less 
than half the sampling frequency. 
.fc "figure 3.1" 
call the sampling interval $t$ seconds, so that the 
sampling frequency is $1/t$\ hz. 
then components at $1/2t+f$, $3/2t-f$, $3/2t+f$ and so on all masquerade 
as a component at $1/2t-f$.  similarly, components at frequencies just under 
the sampling frequency masquerade as very low-frequency components, as shown 
in figure 3.1(b).  this phenomenon is often called "aliasing". 
.pp 
thus the continuous, infinite, frequency axis for the unsampled signal, where 
two components at different frequencies can always be distinguished, maps 
into a repetitive frequency axis when the signal is sampled.  as depicted 
in figure 3.2, the frequency 
interval $[1/t,~ 2/t)$ \u\(dg\d 
.fn 3 
.sp 
\u\(dg\dintervals are specified in brackets, with a square bracket representing 
a closed end of the interval and a round one representing an open one. 
thus the interval $[1/t,~ 2/t)$ specifies the range $1/t ~ <= ~ frequency 
~ < ~ 2/t$. 
.ef 
is mapped back into the band $[0,~ 1/t)$, as are the 
intervals $[2/t,~ 3/t)$,  $[3/t,~ 4/t)$, and so on. 
.fc "figure 3.2" 
furthermore, the interval $[1/2t,~ 1/t)$ between half the sampling frequency and the sampling 
frequency, is mapped back into the interval 
below half the sampling frequency; but this time the mapping is backwards, 
with frequencies at just under $1/t$ being mapped to frequencies slightly greater 
than zero, and frequencies just over $1/2t$ being mapped to ones 
just under $1/2t$. 
the best way to represent a repeating frequency axis like this is as a circle. 
figure 3.3 shows how the linear frequency axis for continuous systems maps 
on to a circular axis for sampled systems. 
.fc "figure 3.3" 
for present purposes it is 
easiest to imagine the bottom half of the circle as being reflected into 
the top half, so that traversing the upper semicircle in the anticlockwise direction 
corresponds to frequencies increasing from 0 to $1/2t$ (half the sample frequency), 
and returning along the lower semicircle is actually the same as coming 
back round the upper one, and corresponds to frequencies from $1/2t$ to $1/t$ 
being mapped into the range $1/2t$ to 0. 
.pp 
as far as speech is concerned, then, we must ensure that before sampling a 
signal no significant components at greater than half the sample frequency 
are present.  furthermore, the sampled signal will only contain information 
about frequency components less than this, so the sample frequency must be 
chosen as twice the highest frequency of interest. 
for example, consider telephone-quality speech. 
telephones provide a familiar standard of speech quality which, 
although it can only be an approximate "standard", 
will be much used throughout this book. 
the telephone network 
aims to transmit only frequencies lower than 3.4\ khz.  we saw in the 
previous chapter that this region will contain the information-bearing formants, 
and some \(em but not all \(em of the fricative and aspiration energy. 
actually, transmitting speech through the telephone system degrades its 
quality very significantly, probably more than you realize since everyone is 
so accustomed to telephone speech.  try the dial-a-disc service and compare 
it with high-fidelity music for a striking example of the kind of degradation 
suffered. 
.pp 
for telephone speech, the sampling frequency must be chosen to be 
at least 6.8\ khz. 
since speech contains significant amounts of energy above 3.4\ khz, it should be 
filtered before sampling to remove this; otherwise the higher components 
would be mapped back into the baseband and distort the low-frequency information. 
because it is difficult to make filters that cut off very sharply, the 
sampling frequency is chosen rather greater than twice the highest frequency of 
interest.  for example, the digital telephone network samples at 8\ khz. 
the pre-sampling filter should have a cutoff frequency of 4\ khz; aim for 
negligible distortion below 3.4\ khz; and transmit negligible components 
above 4.6\ khz \(em for these are reflected back into the band of interest, 
namely 0 to 3.4\ khz.  figure 3.4 shows a block diagram for the input hardware. 
.fc "figure 3.4" 
.rh "quantization." 
before considering specifications for the pre-sampling filter, let us turn 
from discretization in time to discretization in amplitude, that is, 
quantization. 
this is performed by an a/d converter (analogue-to-digital), which takes as input 
a constant analogue voltage (produced by the sampler) and generates a 
corresponding binary value as output.  the simplest correspondence is 
.ul 
uniform 
quantization, where the amplitude range is split into equal regions by points 
termed "quantization levels", and the output is a binary representation of 
the nearest quantization level to the input voltage. 
typically, 11-bit conversion is used for speech, giving 2048 quantization 
levels, and the signal is adjusted to have zero mean so that half the 
levels correspond to negative input voltages and the other half to positive 
ones. 
.pp 
it is, at first sight, surprising that as many as 11 bits are needed for 
adequate representation of speech signals.  research on the digital telephone 
network, for example, has concluded that a signal-to-noise ratio of 
some 26\-27\ db is enough to avoid undue harshness of quality, loss 
of intelligibility, and listener fatigue for speech at a comfortable 
level in an otherwise reasonably good channel. 
rabiner and schafer (1978) suggest that about 36\ db signal-to-noise ratio 
would "most likely provide adequate quality in a communications system". 
.[ 
rabiner schafer 1978 digital processing of speech signals 
.] 
but 11-bit quantization seems to give a very much better signal-to-noise 
ratio than these figures.  to estimate its magnitude, note that for n-bit quantization 
the error for each sample will lie between 
.lb 
$ 
- ~ 1 over 2 ~. 2 sup -n$    and    $+ ~ 1 over 2 ~. 2 sup -n . 
$ 
.le 
assuming that it is uniformly distributed in this range \(em an assumption 
which is likely to be justified if the number of levels is sufficiently 
large \(em leads to a mean-squared error of 
.lb 
.eq 
integral from {-2 sup -n-1} to {2 sup -n-1} ~e sup 2 p(e) de, 
.en 
.le 
where $p(e)$, the probability density function of the error $e$, is a constant 
which satisfies the usual probability normalization constraint, namely 
.lb 
.eq 
integral from {-2 sup -n-1} to {2 sup -n-1} ~ p(e) de ~~=~ 1. 
.en 
.le 
hence $p(e)=2 sup n $, and so the mean-squared error is  $2 sup -2n /12$. 
this is  $10 ~ log sub 10 (2 sup -2n /12)$\ db, or around \-77\ db for 11-bit 
quantization. 
.pp 
this noise level is relative to the maximum amplitude range of the conversion. 
a maximum-amplitude sine wave has a power of \-9\ db relative to the same 
reference, giving a signal-to-noise ratio of some 68\ db.  this is far in excess 
of that needed for telephone-quality speech.  however, look at the very peaky 
nature of the typical speech waveform given in figure 3.5. 
.fc "figure 3.5" 
if clipping is to be avoided, the maximum amplitude level of the a/d converter 
must be set at a value which makes the power of the speech signal very much 
less than a maximum-amplitude sine wave.  furthermore, different people 
speak at very different volumes, and the overall level fluctuates constantly 
with just one speaker.  experience shows that while 8- or 9-bit quantization 
may provide sufficient signal-to-noise ratio to preserve telephone-quality 
speech if the overall speaker levels are carefully controlled, about 11 bits 
are generally required to provide high-quality representation of speech with 
a uniform quantization.  with 11 bits, a sine wave whose amplitude is only 1/32 
of the full-scale value would be digitized with a signal-to-noise ratio 
of around 36\ db, the most pessimistic figure quoted above for adequate quality. 
even then it is useful if the speaker is provided 
with an indication of the amplitude of his speech:  a traffic-light 
indicator with red signifying clipping overload, orange a suitable level, 
and green too low a value, is often convenient for this. 
.rh "logarithmic quantization." 
for the purposes of speech 
.ul 
processing, 
it is essential to have the signal quantized uniformly.  this is because 
all of the theory applies to linear systems, and nonlinearities introduce 
complexities which are not amenable to analysis. 
uniform quantization, although a nonlinear operation, is linear in the 
limiting case as the number of levels becomes large, and for most purposes 
its effect can be modelled by assuming that the quantized signal is obtained 
from the original analogue one by the addition of a small amount of 
uniformly-distributed quantizing noise, as in fact was done above. 
usually the quantization noise is disregarded in subsequent analysis. 
.pp 
however, the peakiness of the speech signal illustrated in figure 3.5 leads 
one to suspect that a non-linear representation, for example a logarithmic one, 
could provide a better signal-to-noise ratio over a wider range of input 
amplitudes, and hence be more useful than linear quantization \(em at least 
for speech storage (and transmission). 
and indeed this is the case.  linear quantization has the unfortunate effect 
that the absolute noise level is independent of the signal level, so that an excessive 
number of bits must be used if a reasonable ratio is to be achieved for peaky 
signals.  it can be shown that a logarithmic representation like 
.lb 
.eq 
y ~ = ~ 1 ~ + ~ k ~ log ~ x, 
.en 
.le 
where $x$ is the original signal and $y$ is the value which is to be quantized, 
gives a 
signal-to-noise 
.ul 
ratio 
which is independent of the input signal level. 
this relationship cannot be realized physically, for it is undefined when the signal 
is negative and diverges when it is zero. 
however, realizable approximations to it can be made which retain the advantages 
of constant signal-to-noise ratio within a useful range of signal amplitudes. 
figure 3.6 shows the logarithmic relation with one widely-used approximation to it, 
called the a-law. 
.fc "figure 3.6" 
the idea of non-linearly quantizing a signal to achieve adequate signal-to-noise 
ratios for a wide variety of amplitudes is called "companding", a contraction 
of "compressing-expanding".  the original signal can be retrieved from 
its a-law compression by antilogarithmic expansion. 
.pp 
figure 3.6 also 
shows one common coding scheme which is a piecewise linear approximation 
to the a-law.  this provides an 8-bit code, and gives the equivalent 
of 12-bit linear quantization for small signal levels.  it approximates 
the a-law in 16 linear segments, 8 for positive and 8 for negative 
inputs. 
consider the positive part of the curve.  the first two segments, which 
are actually collinear, correspond exactly to 12-bit linear conversion. 
thus the output codes 0 to 31 correspond to inputs from 0 to 31/2048, 
in equal steps.  (remember that both positive and negative signals 
must be converted, so a 12-bit linear converter will allocate 2048 levels 
for positive signals and 2048 for negative ones.)  the next 
segment provides 11-bit linear quantization, 
output codes 32 to 47 corresponding to inputs from 16/1024 to 31/1024. 
similarly, the next segment corresponds to 10-bit quantization, covering 
inputs from 16/512 to 31/512.  and so on, the last section giving 6-bit 
quantization of inputs from 16/32 to 31/32, the full-scale positive value. 
negative inputs are converted similarly. 
for signal levels of less than 32/2048, that is, $2 sup -8$, this implementation 
of the a-law provides full 12-bit precision. 
as the signal level increases, the precision decreases gradually to 6 bits 
at maximum amplitudes. 
.pp 
logarithmic encoding provides what is in effect a floating-point representation 
of the input.  the conventional floating-point format, however, is not used 
because many different codes can represent the same value.  for example, with 
a 4-bit exponent preceding a 4-bit mantissa, the words 0000:1000, 
0001:0100, 0010:0010, and 0011:0001 represent the numbers 
$0.1 ~ times ~ 2 sup 0$,  $0.01 ~ times ~ 2 sup 1 
$,  $0.001 ~ times ~ 2 sup 2$,  \c 
and  $0.0001 ~ times ~ 2 sup 3$  respectively, 
which are the same.  (some floating-point conventions assume that an unwritten 
"1" bit precedes the mantissa, except when the whole word is zero; but this 
gives decreased resolution around zero \(em which is exactly where we want the 
resolution to be greatest.)  table 3.1 shows the 8-bit a-law codes, 
.rf 
.in+0.7i 
.ta 1.6i +\w'bits 1-3   'u 
8-bit codeword:	bit 0	sign bit 
	bits 1-3	3-bit exponent 
	bits 4-7	4-bit mantissa 
.sp2 
.ta 1.6i 3.5i 
.ul 
 codeword	   interpretation 
.sp 
0000 0000	\h'\w'\0-\0  +  'u'$.0000 ~ times ~ 2 sup -7$ 
\0\0\0...	\0\0\0\0... 
0000 1111	\h'\w'\0-\0  +  'u'$.1111 ~ times ~ 2 sup -7$ 
0001 0000	$2 sup -7 ~~ + ~~ .0000 ~ times ~ 2 sup -7$ 
\0\0\0...	\0\0\0\0... 
0001 1111	$2 sup -7 ~~ + ~~ .1111 ~ times ~ 2 sup -7$ 
0010 0000	$2 sup -6 ~~ + ~~ .0000 ~ times ~ 2 sup -6$ 
\0\0\0...	\0\0\0\0... 
0010 1111	$2 sup -6 ~~ + ~~ .1111 ~ times ~ 2 sup -6$ 
0011 0000	$2 sup -5 ~~ + ~~ .0000 ~ times ~ 2 sup -5$ 
\0\0\0...	\0\0\0\0... 
0011 1111	$2 sup -5 ~~ + ~~ .1111 ~ times ~ 2 sup -5$ 
0100 0000	$2 sup -4 ~~ + ~~ .0000 ~ times ~ 2 sup -4$ 
\0\0\0...	\0\0\0\0... 
0100 1111	$2 sup -4 ~~ + ~~ .1111 ~ times ~ 2 sup -4$ 
0101 0000	$2 sup -3 ~~ + ~~ .0000 ~ times ~ 2 sup -3$ 
\0\0\0...	\0\0\0\0... 
0101 1111	$2 sup -3 ~~ + ~~ .1111 ~ times ~ 2 sup -3$ 
0110 0000	$2 sup -2 ~~ + ~~ .0000 ~ times ~ 2 sup -2$ 
\0\0\0...	\0\0\0\0... 
0110 1111	$2 sup -2 ~~ + ~~ .1111 ~ times ~ 2 sup -2$ 
0111 0000	$2 sup -1 ~~ + ~~ .0000 ~ times ~ 2 sup -1$ 
\0\0\0...	\0\0\0\0... 
0111 1111	$2 sup -1 ~~ + ~~ .1111 ~ times ~ 2 sup -1$ 
 
1000 0000	\h'\w'\0-\0  'u'$- ~~ .0000 ~ times ~ 2 sup -7$	negative numbers treated as 
\0\0\0...	\0\0\0\0...	above, with a sign bit of 1 
1111 1111	\h'-\w'\- 'u'\- $2 sup -1 ~~ - ~~ .1111 ~ times ~ 2 sup -1$ 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 3.1  8-bit a-law codes, with their floating-point equivalents" 
according 
to the piecewise linear approximation of figure 3.6, written in a notation which 
suggests floating point.  each linear segment has a different exponent except 
the first two segments, which as explained above are collinear. 
.pp 
logarithmic encoders and decoders are available from many semiconductor 
manufacturers as single-chip devices 
called "codecs" (for "coder/decoder").  intended for use on digital communication 
links, these generally provide a serial output bit-stream, which 
should be converted to parallel by a shift register if the data is intended 
for a computer. 
because of the potentially vast market for codecs in telecommunications, 
they are made in great quantities and are consequently very cheap. 
estimates of the speech quality necessary for telephone applications indicate 
that somewhat less than this accuracy is needed \(em 7-bit logarithmic encoding 
was used in early digital communications links, and it may be that even 6 bits 
are adequate.  however, during the transition period when digital 
networks must coexist with the present analogue one, it is anticipated that 
a particular telephone call may have to pass through several links, some 
using analogue technology and some being digital.  the possibility of 
several successive encodings and decodings has led telecommunications 
engineers to standardize on 8-bit representations, leaving some margin 
before additional degradation of signal quality becomes unduly distracting. 
.pp 
unfortunately, world telecommunications authorities cannot agree on a single 
standard for logarithmic encoding.  the a-law, which we have described, 
is the european standard, but there is another system, called 
the $mu$-law, which is used universally in north america.  it also is available 
in single-chip form with an 8-bit code.  it has very similar 
quantization error characteristics to the a-law, and would be indistinguishable 
from it on the scale of figure 3.6. 
.rh "the pre-sampling filter." 
now that we have some idea of the accuracy requirements for quantization, 
let us discuss quantitative specifications for the pre-sampling filter. 
figure 3.7 sketches the characteristics of this filter. 
.fc "figure 3.7" 
assume a 
sampling frequency of 8\ khz and a range of interest from 0 to 3.4\ khz. 
although all components at frequencies above 4\ khz will fold back into 
the 0\ \-\ 4\ khz baseband, those below 4.6\ khz fold back above 3.4\ khz and are 
therefore outside the range of interest.  this gives a "guard band" between 
3.4 and 4.6\ khz which separates the passband from the stopband.  the filter 
should transmit negligible components in the stopband above 4.6\ khz. 
to reduce the harmonic distortion caused by aliasing to the same level 
as the quantization noise in 11-bit linear conversion, the stopband 
attenuation should be around \-68\ db (the signal-to-noise ratio for a full-scale 
sine wave).  passband ripple is not so critical, 
for two reasons.  whilst the presence of aliased components means that 
information has been lost about the frequency components within the range of 
interest, passband ripple does not actually cause a loss of information but 
only a distortion, and could, if necessary, be compensated by a suitable 
filter acting on the digitized waveform.  secondly, distortion of the 
passband spectrum is not nearly so audible as the frequency images caused 
by aliasing.  hence one usually aims for a passband ripple of around 0.5\ db. 
.pp 
the pass and stopband targets we have mentioned above can be achieved with 
a 9'th order elliptic filter.  while such a filter is often used in 
high-quality signal-processing systems, for telephone-quality speech 
much less stringent specifications seem to be sufficient.  figure 3.8, for 
example, shows a template which has been recommended by telecommunications 
authorities. 
.fc "figure 3.8" 
a 5'th order elliptic filter can easily meet this specification. 
such filters, implemented by switched-capacitor means, are available in 
single-chip form.  integrated ccd (charge-coupled device) 
filters which meet the same specification 
are also marketed.  indeed, some codecs provide input filtering on the same 
chip as the a/d converter. 
.pp 
instead of implementing a filter by analogue means to meet the aliasing 
specifications, digital filtering can be used.  a high sample-rate a/d 
converter, operating at, say, 32\ khz, and preceded by a very simple low-pass 
pre-sampling filter, is followed by a digital filter which meets the 
desired specification, and its output is subsampled to provide an 8\ khz sample 
rate.  while such implementations may be economic where a multichannel digitizing 
capability is required, as in local telephone exchanges where the subscriber 
connection is an analogue one, they are unlikely to prove cost-effective for 
a single channel. 
.rh "reconstructing the analogue waveform." 
having digitized and stored a signal, it needs to be passed though a d/a 
converter (digital-to-analogue) and low-pass filter when replayed. 
d/a converters are cheaper than a/d converters, and the characteristics of the 
low-pass filter for output can be the same as those for input. 
however, the desampling operation introduces an additional distortion, which 
has an effect on the component at frequency $f$ of 
.lb 
.eq 
{ sin ( pi f/f sub s )} over { pi f/f sub s } ~ , 
.en 
.le 
where $f sub s$ is the sampling frequency.  an "aperture correction" filter is 
needed to compensate for this, although many systems simply do without it. 
such a filter is sometimes incorporated into the codec chip. 
.rh "summary." 
for telephone-quality speech, existing codec chips, 
coupled if necessary with integrated pre-sampling filters, can 
be used, at a remarkably low cost. 
for higher-quality speech storage the analogue interface can become quite complex. 
a comprehensive study of the problems as they relate to digitization of audio, 
which demands much greater fidelity than speech, has been made by blesser (1978). 
.[ 
blesser 1978 
.] 
he notes the following sources of error (amongst others): 
.lb 
.np 
slew-rate distortion in the pre-sampling filter for signals at the upper end 
of the audio band; 
.np 
insufficient filtering of high-frequency input signals; 
.np 
noise generated by the sample-and-hold amplifier or pre-sampling filter; 
.np 
acquisition errors because of the finite settling time of the sample-and-hold 
circuit; 
.np 
insufficient settling time in the a/d conversion; 
.np 
errors in the quantization levels of the a/d and d/a converters; 
.np 
noise in the converters; 
.np 
jitter on the clock used for timing input or output samples; 
.np 
aperture distortion in the output sampler; 
.np 
noise in the output filter as a result of limited dynamic range of the 
integrated circuits; 
.np 
power-supply noise injection or ground coupling; 
.np 
changes in characteristics as a result of temperature or ageing. 
.le 
care must be taken with the analogue interface to ensure that the precision 
implied by the resolution of the a/d and d/a converters is not compromised 
by inadequate analogue circuitry.  it is especially important to eliminate 
high-frequency noise caused by fast edges on nearby computer buses. 
.sh "3.2  coding in the time domain" 
.pp 
there are several methods of coding the time waveform of a speech signal to 
reduce the data rate for a given signal-to-noise ratio, or alternatively to 
reduce the signal-to-noise ratio for a given data rate.  they almost all require 
more processing, both at the encoding (for storage) and decoding (for 
regeneration) ends of the digitization process.  they are sometimes used to 
economize on memory in systems using stored speech, 
for example the system\ x telephone exchange and the travel consultant described 
in chapter 1, and so will be described here.  however, it is to be expected 
that simple time-domain coding techniques will be superseded by the more complex 
linear predictive method, which is covered in chapter 6, because this 
can give a much more substantial reduction in the data rate for only a small 
degradation in speech quality.  hence the aim of this section is to introduce 
the ideas in a qualitative way:  theoretical development and summaries of 
results of listening tests can be found elsewhere (eg rabiner and schafer, 1978). 
.[ 
rabiner schafer 1978 digital processing of speech signals 
.] 
the methods we will examine are summarized in table 3.2. 
.rf 
.nr x0 \w'linear pcm      'u 
.nr x1 \n(x0+\w'    adaptive quantization, or adaptive prediction,'u 
.nr x2 (\n(.l-\n(x1)/2 
.in \n(x2u 
.ta \n(x0u 
\l'\n(x1u\(ul' 
.sp 
linear pcm	linearly-quantized pulse code modulation 
.sp 
log pcm	logarithmically-quantized pulse code modulation 
	    (instantaneous companding) 
.sp 
apcm	adaptively quantized pulse code modulation 
	    (usually syllabic companding) 
.sp 
dpcm	differential pulse code modulation 
.sp 
adpcm	differential pulse code modulation with either 
	    adaptive quantization, or adaptive prediction, 
	    or both 
.sp 
dm	delta modulation (1-bit dpcm) 
.sp 
adm	delta modulation with adaptive quantization 
\l'\n(x1u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 3.2  time-domain encoding techniques" 
.rh "syllabic companding." 
we have already studied one time-domain encoding technique, namely logarithmic 
quantization, or log pcm (sometimes called "instantaneous companding").  a more 
sophisticated encoder could track slowly varying trends in the overall amplitude 
of the speech signal and use this information to adjust the quantization 
levels dynamically.  speech coding methods based on this principle are called 
adaptive pulse code modulation systems (apcm).  because the overall amplitude 
changes slowly, it is sufficient to adjust the quantization relatively infrequently 
(compared with the sampling rate), and this is often done at rates approximating 
the syllable rate of running speech, leading to the term "syllabic companding". 
a block floating-point format can be used, with a common exponent being 
stored every m samples (with m, say, 125 for a 100\ msec block rate at 8\ khz 
sampling), but the mantissa being stored at the regular sample rate.  the overall 
energy in the block, 
.lb 
$sum from n=h to h+m-1 ~x(n) sup 2$    ($m = 125$, say), 
.le 
is used to determine a suitable exponent, and every sample 
in the block \(em namely 
$x(h)$, $x(h+1)$, ..., $x(h+m-1)$ \(em is scaled according to that exponent. 
note that for speech transmission systems this method necessitates a delay of 
$m$ samples at the encoder, and indeed some methods base the exponent on the 
energy in the last block to avoid this.  for speech storage, however, the delay 
is irrelevant.  a rather different, nonsyllabic, method of adaptive pcm is 
continually to change the step size of a uniform quantizer, by multiplying it by 
a constant at each sample which is based on the magnitude of the previous code 
word. 
.pp 
adaptive quantization exploits information about the amplitude of the signal, 
and, as a rough generalization, yields a reduction of one bit per sample 
in the data rate for telephone-quality speech over ordinary logarithmic 
quantization, for a given signal-to-noise ratio.  alternatively, for the 
same data rate an improvement of 6\ db in signal-to-noise ratio can be obtained. 
some results for actual schemes are given by rabiner and schafer (1978). 
.[ 
rabiner schafer 1978 digital processing of speech signals 
.] 
however, there is other information in the time waveform of speech, namely, the 
sample-to-sample correlation, which can be exploited to give further reductions. 
.rh "differential coding." 
differential pulse code modulation (dpcm), in its simplest form, uses the 
present speech sample as a prediction of the next one, 
and stores the prediction error \(em that is, the sample-to-sample difference. 
this is a simple case of predictive encoding. 
referring back to the speech waveform displayed in figure 3.5, 
it seems plausible that the data rate can be reduced by transmitting the difference 
between successive samples instead of their absolute values:  less bits are 
required for the difference signal for a given overall accuracy because it 
does not assume such extreme values as the absolute signal level. 
actually, the improvement is not all that great \(em about 4\ \-\ 5\ db in 
signal-to-noise ratio, or just under one bit per sample for a given 
signal-to-noise ratio \(em for the difference signal can be nearly as large as 
the absolute signal level. 
.pp 
if dpcm is used in conjunction with adaptive quantization, giving one form of 
adaptive differential pulse code modulation (adpcm), both the overall amplitude 
variation and the sample-to-sample correlation are exploited, leading to a 
combined gain of 10\ \-\ 11\ db in signal-to-noise ratio (or just under two bits 
reduction per sample for telephone-quality speech).  another form of adaptation 
is to alter the predictor by multiplying the previous sample value by a 
parameter which is adjusted for best performance. 
then the transmitted signal at time $n$ is 
.lb 
.eq 
e(n) ~~ = ~~ x(n)~ - ~ax(n-1), 
.en 
.le 
where the parameter $a$ is adapted (and stored) on a syllabic time-scale.  this 
leads to a slight improvement in signal-to-noise ratio, which can be combined 
with that achieved by adaptive quantization.  much more substantial benefits 
can be realized by using a weighted sum of the past several (up to 15) speech 
samples, and adapting all the weights.  this is the basic idea of linear 
prediction, which is developed in chapter 6. 
.rh "delta modulation." 
the coding methods presented so far all increase the complexity of the 
analogue-to-digital interface (or, if the sampled waveform is coded 
digitally, they increase the processing required before and after storage). 
one method which considerably 
.ul 
simplifies 
the interface is the limiting case 
of dpcm with just 1-bit quantization.  only the sign of the difference between 
the current and last values is transmitted.  figure 3.9 shows the conversion 
hardware. 
.fc "figure 3.9" 
the encoding part is essentially the same as a tracking d/a, 
where the value in a counter is forced to track the analogue input by 
incrementing or decrementing the counter according as the input exceeds or 
falls short of the analogue equivalent of the counter's contents.  however, 
for this encoding scheme, called "delta modulation", the increment-decrement 
signal itself forms the discrete representation of the waveform, instead of the counter's 
contents.  the analogue waveform can be reconstituted from the bit stream with 
another counter and d/a converter.  alternatively, an all-analogue implementation 
can be used, both for the encoder and decoder, with a capacitor as integrator 
whose charging current is controlled digitally.  this is a much cheaper realization. 
.pp 
it is fairly obvious that the sampling frequency for delta modulation will need 
to be considerably higher than for straightforward pcm.  figure 3.10 shows 
an effect called "slope overload" which occurs when the sampling rate is too low. 
.fc "figure 3.10" 
either a higher sample rate or a larger step size will reduce the overload; 
however, larger steps increase the noise level of the alternate 1's and \-1's 
that occur when no input is present \(em called "granular noise".  a compromise 
is necessary between slope overload and granular noise for a given bit rate. 
delta modulation results in lower data rates than logarithmic quantization 
for a given signal-to-noise ratio if that ratio is low (poor-quality speech). 
as the desired speech quality is increased its data rate grows faster than 
that of logarithmic pcm.  the crossover point occurs at much lower than 
telephone quality speech, and so although delta modulation is used for some 
applications where the permissible data rate is severely constrained, 
it is not really suitable for speech output from computers. 
.pp 
it is profitable to adjust the step size, leading to 
.ul 
adaptive 
delta modulation. 
a common strategy is to increase or decrease the step size by a multiplicative 
constant, which depends on whether the new transmitted bit will be equal to 
or different from the last one.  that is, 
.lb "nnnn" 
.ni "nn" 
$stepsize(n+1)  =  stepsize(n) times 2$  if $x(n+1)<x(n)<x(n-1)$ 
or $x(n+1)>x(n)>x(n-1)$ 
.br 
(slope overload condition); 
.ni "nn" 
$stepsize(n+1) = stepsize(n)/2$  if $x(n+1),~x(n-1)<x(n)$ 
or $x(n+1),~x(n-1)>x(n)$ 
.br 
(granular noise condition). 
.le "nnnn" 
despite these adaptive equations, the step size should be constrained to 
lie between a predetermined fixed maximum and minimum, to prevent it from 
becoming so large or so small that rapid accomodation to changing input signals is 
impossible. 
then, in a period of potential slope overload the step size will grow, preventing 
overload, possibly to its maximum value when overload may resume.  in a quiet 
period it will decrease to its minimum value which determines the granular 
noise in the idle condition.  note that the step size need not be stored, for 
it can be deduced from the bit changes in the digitized data.  although 
adaptation improves the performance of delta modulation, it is still inferior to 
pcm at telephone qualities. 
.rh "summary." 
it seems that adpcm, with 
adaptive quantization and adaptive prediction, can provide a worthwhile 
advantage for speech storage, reducing the number of bits needed per sample of 
telephone-quality speech from 7 for logarithmic pcm to perhaps 5, and the data 
rate from 56\ kbit/s to 40\ kbit/s.  disadvantages are additional complexity 
in the encoding and decoding processes, and the fact that byte-oriented storage, 
with 8 bits/sample in logarithmic pcm, is more convenient for computer use. 
for low quality speech where hardware complexity is to be minimized, 
adaptive delta modulation could provide worthwhile \(em although the ready 
availability of pcm codec chips reduces the cost advantage. 
.sh "3.3  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.sh "3.4  further reading" 
.pp 
probably the best single reference on time-domain coding of speech is 
the book by rabiner and schafer (1978), cited above. 
however, this does not contain a great deal of information on practical 
aspects of the analogue-to-digital conversion process; this is 
covered by blesser (1978) above, who is especially interested in 
high-quality conversion for digital audio applications, 
and garrett (1978) below. 
there are many textbooks in the telecommunications area which 
are relevant to the subject of the chapter, 
although they concentrate primarily on fundamental theoretical aspects rather 
than the practical application of the technology. 
.lb "nn" 
.\"cattermole-1969-1 
.]- 
.ds [a cattermole, k.w. 
.ds [d 1969 
.ds [t principles of pulse code modulation 
.ds [i iliffe 
.ds [c london 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this is a standard, definitive, work on pcm, and provides a good grounding 
in the theory. 
it goes into the subject in much more depth than we have been able to here. 
.in-2n 
.\"garrett-1978-1 
.]- 
.ds [a garrett, p.h. 
.ds [d 1978 
.ds [t analog systems for microprocessors and minicomputers 
.ds [i reston publishing company 
.ds [c reston, virginia 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
garrett discusses the technology of data conversion systems, including 
a/d and d/a converters and basic analogue filter design, in a 
clear and practical manner. 
.in-2n 
.\"inose-1979-2 
.]- 
.ds [a inose, h. 
.ds [d 1979 
.ds [t an introduction to digital integrated communications systems 
.ds [i peter peregrinus 
.ds [c stevenage, england 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
inose's book is a recent one which covers the whole area of digital 
transmission and switching technology. 
it gives a good idea of what is happening to the telephone networks 
in the era of digital communications. 
.in-2n 
.\"steele-1975-3 
.]- 
.ds [a steele, r. 
.ds [d 1975 
.ds [t delta modulation systems 
.ds [i pentech press 
.ds [c london 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
again a standard work, this time on delta modulation techniques. 
steele gives an excellent and exhaustive treatment of the subject from a 
communications viewpoint. 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "4  speech analysis" 
.ds rt "speech analysis 
.ds cx "principles of computer speech 
.pp 
digital recordings of speech provide a jumping-off point for 
further processing of the audio waveform, which is usually necessary for 
the purpose of speech output. 
it is difficult to synthesize natural sounds by concatenating 
individually-spoken words. 
pitch is perhaps the most perceptually significant contextual effect 
which must be 
taken into account when forming connected speech out of isolated words. 
the intonation of an utterance, which manifests itself as a 
continually changing pitch, is a holistic property of the utterance 
and not the sum of components determined by the individual words alone. 
happily, and quite coincidentally, communications engineers in their quest 
for reduced-bandwidth telephony have invented methods of coding speech that 
separate the pitch information from that carried by the articulation. 
.pp 
although these analysis techniques, which were first introduced in the late 
1930's (dudley, 1939), were originally implemented by analogue means \(em and 
in many systems still are (blankenship, 1978, describes a recent 
switched-capacitor realization) \(em there is a continuing trend 
towards digital implementations, particularly for the more sophisticated coding 
schemes. 
.[ 
dudley 1939 
.] 
.[ 
blankenship 1978 
.] 
it is hard to see how the technique of linear prediction of speech, 
which is described in detail in chapter 6, could be accomplished in the 
absence of digital processing. 
some groundwork is laid for the theory of digital signal analysis in this 
chapter. 
the ideas are not presented in a formal, axiomatic way; but are developed as 
and when they are needed to examine some of the structures that turn out to be 
useful in speech processing. 
.pp 
most speech analysis views speech according to the source-filter model which 
was introduced in chapter 2, and aims to separate the effects of the source from 
those of the filter.  the frequency spectrum of the vocal tract filter is of 
great interest, and the technique of discrete fourier transformation is 
discussed in this chapter.  for many purposes it is better to extract the formant 
frequencies from the spectrum and use these alone (or in conjunction with their 
bandwidths) to characterize it.  as far as the signal source in the source-filter 
model is concerned, its most interesting features are pitch and amplitude \(em the 
latter being easy to estimate.  hence we go on to look at pitch extraction. 
related to this is the problem of deciding whether a segment of speech has 
voiced or unvoiced excitation, or both. 
.pp 
estimating formant and pitch parameters is one of the messiest areas of 
speech processing.  there is a delightful paper which points this out 
(schroeder, 1970), entitled "parameter estimation in speech: a lesson in unorthodoxy". 
.[ 
schroeder 1970 
.] 
it emphasizes that the most successful estimation procedures "have often relied 
on intuition based on knowledge of speech signals and their production in the 
human vocal apparatus rather than routine applications of well-established 
theoretical methods". 
fortunately, the emphasis of the present book is on speech 
.ul 
output, 
which involves parameter estimation only in so far as it is needed to produce 
coded speech for storage, and to illuminate the acoustic nature of speech 
for the development of synthesis by rule from phonetics or text. 
hence the many methods of formant and pitch estimation are treated rather 
cursorily and qualitatively here:  our main interest is in how to 
.ul 
use 
such information for speech output. 
.pp 
if the incoming speech can be analysed into its formant frequencies, amplitude, 
excitation mode, and pitch (if voiced), it is quite easy to resynthesize 
it directly from these parameters.  speech synthesizers are described in the 
next chapter.  they can be realized in either analogue or digital 
hardware, the former being predominant in production systems and the latter 
in research systems \(em although, as in other areas of electronics, the balance 
is changing in favour of digital implementations. 
.sh "4.1  the channel vocoder" 
.pp 
a direct representation of the frequency spectrum of a signal can be obtained 
by a bank of bandpass filters.  this is the basis of 
the 
.ul 
channel vocoder, 
which was the first device that attempted to take advantage of the source-filter 
model for speech coding (dudley, 1939). 
.[ 
dudley 1939 
.] 
the word "vocoder" is a contraction 
of 
.ul 
vo\c 
ice 
.ul 
coder. 
the energy in each filter band is 
estimated by rectification and smoothing, and the resulting approximation to 
the frequency spectrum is transmitted or stored.  the source properties are 
represented by the type of excitation (voiced or unvoiced), and if voiced, 
the pitch.  it is not necessary to include the overall amplitude of the speech 
explicitly, because this is conveyed by the energy levels from the separate 
bandpass filters. 
.pp 
figure 4.1 shows the encoding part of a channel vocoder which has been used 
successfully for many years (holmes, 1980). 
.[ 
holmes 1980 jsru channel vocoder 
.] 
.fc "figure 4.1" 
we will discuss the block labelled "pre-emphasis" shortly. 
the shape of the spectrum is estimated by 19 bandpass filters, whose spacing 
and bandwidth decrease slightly with decreasing frequency to obtain the rather 
greater resolution that is needed in the lower frequency region, 
as shown in table 4.1. 
.rf 
.nr x0 4n+2.6i+\w'\0\0'u+(\w'bandwidth'/2) 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta 4n +1.3i +1.3i 
\l'\n(x0u\(ul' 
.sp 
.nr x1 (\w'channel'/2) 
.nr x2 (\w'centre'/2) 
.nr x3 (\w'analysis'/2) 
	\0\h'-\n(x1u'channel	\0\h'-\n(x2u'centre	\0\0\h'-\n(x3u'analysis 
.nr x1 (\w'number'/2) 
.nr x2 (\w'frequency'/2) 
.nr x3 (\w'bandwidth'/2) 
	\0\h'-\n(x1u'number	\0\0\h'-\n(x2u'frequency	\0\0\h'-\n(x3u'bandwidth 
.nr x2 (\w'(hz)'/2) 
		\0\h'-\n(x2u'(hz)	\0\0\h'-\n(x2u'(hz) 
\l'\n(x0u\(ul' 
.sp 
	\01	\0240	\0120 
	\02	\0360	\0120 
	\03	\0480	\0120 
	\04	\0600	\0120 
	\05	\0720	\0120 
	\06	\0840	\0120 
	\07	1000	\0150 
	\08	1150	\0150 
	\09	1300	\0150 
	10	1450	\0150 
	11	1600	\0150 
	12	1800	\0200 
	13	2000	\0200 
	14	2200	\0200 
	15	2400	\0200 
	16	2700	\0200 
	17	3000	\0300 
	18	3300	\0300 
	19	3750	\0500 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 4.1  filter specifications for a vocoder analyser (after holmes, 1980)" 
.[ 
holmes 1980 jsru channel vocoder 
.] 
the 3\ db points 
of adjacent filters are halfway between their centre frequencies, so that there 
is some overlap between bands. 
the filter characteristics do not need to have very sharp edges, because the energy 
in neighbouring bands is fairly highly correlated.  indeed, there is a 
disadvantage in making them too sharp, because the phase delays associated 
with sharp cutoff filters induce "smearing" of the spectrum in the time domain. 
this particular channel vocoder uses second-order butterworth bandpass filters. 
.pp 
for regenerating speech stored in this way, an excitation of unit impulses 
at the specified pitch period (for voiced sounds) or white noise (for unvoiced 
sounds) is produced and passed through a bank of bandpass filters similar 
to the analysis ones.  the excitation has a flat spectrum, for regular impulses 
have harmonics at multiples of the repetition frequency which are all of the 
same size, and so the spectrum of the output signal is completely determined 
by the filter bank.  the gain of each filter is controlled by the stored 
magnitude of the spectrum at that frequency. 
.pp 
the frequency spectrum and voicing pitch of speech change at much slower rates 
than the time waveform.  the changes are due to movements of the articulatory 
organs (tongue, lips, etc) in the speaker, and so are limited in their speed 
by physical constraints.  a typical rate of production of phonemes is 15 per 
second, but in fact the spectrum can change quite a lot within a single 
phoneme (especially a stop sound). 
between 10 and 25\ msec (100\ hz and 40\ hz) 
is generally thought to be a satisfactory interval for transmitting or storing 
the spectrum, to preserve a reasonably faithful representation of the speech. 
of course, the entire spectrum, as well as the source characteristics, must 
be stored at this rate. 
the channel vocoder described by holmes (1980) uses 48 bits to encode 
the information. 
.[ 
holmes 1980 jsru channel vocoder 
.] 
repeated every 20\ msec, this gives a data rate of 2400\ bit/s \(em very 
considerably less than any of the time-domain encoding techniques. 
.pp 
it needs some care to encode the output of 19 filters, the excitation type, 
and the pitch into 48 bits of information.  holmes uses 6 bits for pitch, 
logarithmically encoded, 
and one bit for excitation type. 
this leaves 41 bits to encode the output of the 19 filters, and so a differential 
technique is used which transmits just the difference between adjacent 
channels \(em for the spectrum does not change abruptly in the frequency domain. 
three bits are used for the absolute level in channel 1, and two bits 
for each channel-to-channel difference, giving a total of 39 bits for the whole 
spectrum.  the remaining two bits per frame are reserved for signalling or 
monitoring purposes. 
.pp 
a 2400 bit/s channel vocoder degrades the speech in a telephone channel quite 
perceptibly.  it is sufficient for interactive communication, where 
if you do not understand something you can always ask for it to be repeated. 
it is probably not good enough for most voice response applications. 
however, the vocoder principle can be used with larger filter banks and much 
higher bit rates, and still reduce the data rate substantially below that 
required by log pcm. 
.sh "4.2  pre-emphasis" 
.pp 
there is an 
overall \-6\ db/octave trend in speech radiated from the lips, 
as frequency increases. 
we will discuss why this is so in the next chapter. 
notice that this trend means that the signal power is reduced 
by a factor of 4, or the signal amplitude by a factor of 16, for each 
doubling in frequency. 
for vocoders, and indeed for other methods of spectral analysis of speech, 
it is usually desirable to equalize this by a +6\ db/octave lift prior to 
processing, so that the channel outputs occupy a similar range of levels. 
on regeneration, the output speech is passed through an inverse filter which 
provides 6\ db/octave of attenuation. 
.pp 
for a digital system, such pre-emphasis 
can either be implemented as an analogue circuit which precedes the presampling 
filter and digitizer, or as a digital operation on the sampled and quantized 
signal.  in the former case, the characteristic is usually flat up to a certain 
breakpoint, which occurs somewhere between 100\ hz and 1\ khz \(em the exact 
position does not seem to be critical \(em at which point the +6\ db/octave lift 
begins.  although de-emphasis on output ought to have an exactly inverse 
characteristic, it is sometimes modified or even eliminated altogether in an 
attempt to counteract approximately 
the  $sin( pi f/f sub s )/( pi f/f sub s )$  distortion 
introduced by the desampling operation, which was discussed in an earlier 
section.  above half the sampling frequency, the characteristic of the 
pre-emphasis is irrelevant because any effect will be suppressed by the presampling 
filter. 
.pp 
the effect of a 6\ db/octave lift can also be achieved digitally, by differencing 
the input.  the operation 
.lb 
.eq 
y(n)~~ = ~~ x(n)~ -~ ax(n-1) 
.en 
.le 
is suitable, where the constant parameter $a$ is usually chosen between 0.9 and 1. 
the latter value gives straightforward differencing, and this amounts to 
creating a dpcm signal as input to the spectral analysis.  figure 4.2 plots 
the frequency response of this operation, with a sample frequency of 8\ khz, 
for two values of the parameter; together with that of a 6\ db/octave lift 
above 100\ hz. 
.fc "figure 4.2" 
the vertical positions of the plots have been adjusted to give 
the same gain, 20\ db, at 1\ khz. 
the difference at 3.4\ khz, the upper end of the telephone spectrum, is just 
over 2\ db.  at frequencies below the breakpoint, in this case 100\ hz, the 
difference between analogue and digital pre-emphasis can be very great.  for 
$a=0.9$ the attenuation at dc (zero frequency) is 18\ db below that at 1\ khz, 
which happens to be close to that of the analogue filter for frequencies below the 
breakpoint.  however, if the breakpoint had been at 1\ khz there would have been 
20\ db difference between the analogue and $a=0.9$ plots at dc.  and of course 
the $a=1$ characteristic has infinite attenuation at dc. 
in practice, however, the exact form of the pre-emphasis does not seem to be at all 
critical. 
.pp 
the above remarks apply only to voiced speech.  for unvoiced speech there appears 
to be no real need for pre-emphasis; indeed, it may do harm by reinforcing 
the already large high-frequency components.  there is a case for altering the 
parameter $a$ according to the excitation mode of the speech:  $a=1$ for voiced 
excitation and $a=0$ for unvoiced gives pre-emphasis just when it is needed. 
this can be achieved by expressing the parameter in terms of the autocorrelation 
of the incoming signal, as 
.lb 
.eq 
a ~~ = ~~ r(1) over r(0) ~ , 
.en 
.le 
where $r(1)$ is the correlation of the signal with itself delayed by one sample, 
and $r(0)$ is the correlation without delay (that is, the signal variance). 
this is reasonable intuitively because high sample-to-sample correlation 
is to be expected in voiced speech, so that $r(1)$ is very nearly as great as 
$r(0)$ and the ratio becomes 1; whereas little or no sample-to-sample correlation 
will be present in unvoiced speech, making the ratio close to 0.  such a 
scheme is reminiscent of adpcm with adaptive prediction. 
.pp 
however, this sophisticated pre-emphasis method does not seem to be worthwhile 
in practice.  usually the breakpoint in an analogue pre-emphasis filter is 
chosen to be rather greater than 100\ hz to limit the amplification of fricative 
energy.  in fact, the channel vocoder described by holmes (1980) has the 
breakpoint at 1\ khz, limiting the gain to 12\ db at 4\ khz, two octaves above. 
.[ 
holmes 1980 jsru channel vocoder 
.] 
.sh "4.3  digital signal analysis" 
.pp 
you may be wondering how the frequency response for the digital pre-emphasis 
filters, displayed in figure 4.2, can be calculated.  suppose a digitized 
sinusoid is applied as input to the filter 
.lb 
.eq 
y(n) ~~ = ~~ x(n)~ - ~ax(n-1). 
.en 
.le 
a sine wave of frequency $f$ has equation  $x(t) ~ = ~ sin ~ 2 pi ft$, and when 
sampled at $t=0,~ t,~ 2t,~ ...$ (where $t$ is the sampling interval, 125\ msec for 
an 8\ khz sample rate), this becomes  $x(n) ~ = ~ sin ~ 2 pi fnt.$  it is much 
more convenient to consider a complex exponential 
input,  $e sup { j2 pi fnt}$  \(em the response to a sinusoid can then be derived 
by taking imaginary parts, if necessary.  the output for this input is 
.lb 
.eq 
y(n) ~~ = ~~ e sup {j2 pi fnt} ~~-~ae sup {j2 pi f(n-1)t} ~~ = ~~ 
(1~-~ae sup {-j2 pi ft} )~e sup {j2 pi fnt} , 
.en 
.le 
a sinusoid at the same frequency as the input.  the 
factor  $1~-~ae sup {-j2 pi ft}$  is complex, with both amplitude and phase 
components.  thus the output will be a phase-shifted and amplified version 
of the input.  the amplitude response at frequency $f$ is therefore 
.lb 
.eq 
|1~ - ~ ae sup {-j2 pi ft} | ~~ = ~~ 
[1~ +~ a sup 2 ~-~ 2a~cos~2 pi ft ] sup 1/2 , 
.en 
.le 
or 
.lb 
.eq 
10 ~ log sub 10 (1~ +~ a sup 2 ~ - ~ 2a~ cos 2 pi ft) 
.en 
db. 
.le 
normalizing to 20\ db at 1\ khz, and assuming 8\ khz sampling, yields 
.lb 
.eq 
20~ + ~~ 10~ log sub 10 (1~ +~ a sup 2 ~-~ 2a~ cos ~ { pi f} over 4000 ) 
~~ -~ 10~ log sub 10 (1~ +~ a sup 2 ~-~ 2a~ cos ~ pi over 4 ) 
.en 
db. 
.le 
with $a=0.9$ and 1 this gives the graphs of figure 4.2. 
.pp 
frequency responses for analogue filters are often plotted with a logarithmic 
frequency scale, as well as a logarithmic amplitude one, to bring out the 
asymptotes in db/octave as straight lines.  for digital filters the response 
is usually drawn on a 
.ul 
linear 
frequency axis extending to half the sampling frequency.  the response is 
symmetric about this point. 
.pp 
analyses like the above are usually expressed in terms of the $z$-transform. 
denote the unit delay operation by $z sup -1$.  the choice of the inverse rather 
than $z$ itself is of course an arbitrary matter, but the convention has stuck. 
then the filter can be characterized 
by figure 4.3, which signifies that the output is the input minus a delayed 
and scaled version of itself. 
.fc "figure 4.3" 
the transfer function of the filter is 
.lb 
.eq 
h(z) ~~ = ~~ 1~ -~ az sup -1 , 
.en 
.le 
and we have seen that the effect of the system on a (complex) exponential of 
frequency $f$ is to multiply it by 
.lb 
.eq 
1~ -~ ae sup {-j2 pi ft}. 
.en 
.le 
to get the frequency response from the transfer function, replace $z sup -1$ 
by $e sup {-j2 pi ft}$.  amplitude and phase responses can then be found by 
taking the modulus and angle of the complex frequency response. 
.pp 
if $z sup -1$ is treated as an 
.ul 
operator, 
it is quite in order to summarize the action of the filter by 
.lb 
.eq 
y(n) ~~ = ~~ x(n)~ - ~az sup -1 x(n) ~~ = ~~ (1~ -~ az sup -1 )x(n). 
.en 
.le 
however, it is usual to derive from the sequence $x(n)$ a 
.ul 
transform 
$x(z)$ upon which $z sup -1$ acts as a 
.ul 
multiplier. 
if the transform of $x(n)$ is defined as 
.lb 
.eq 
x(z) ~~ = ~~ sum from {n=- infinity} to infinity ~x(n) z sup -n , 
.en 
.le 
then on multiplication by $z sup -1$ we get a new transform, say $v(z)$: 
.lb 
.eq 
v(z) ~~ = ~~ z sup -1 x(z) ~~ = 
~~ z sup -1 sum from {n=- infinity} to infinity ~x(n) z sup -n ~~ = 
~~ sum ~x(n)z sup -n-1 ~~ = 
~~ sum ~x(n-1)z sup -n . 
.en 
.le 
$v(z)$ can also be expressed as the transform of a new sequence, say $v(n)$, by 
.lb 
.eq 
v(z) ~~ = ~~ sum from {n=- infinity} to infinity ~v(n) z sup -n , 
.en 
.le 
from which it becomes apparent that 
.lb 
.eq 
v(n) ~~ = ~~ x(n-1). 
.en 
.le 
thus $v(n)$ is a delayed version of $x(n)$, and we have accomplished what we 
set out to do, namely to show that the delay 
.ul 
operator 
$z sup -1$ can be treated as an ordinary 
.ul 
multiplier 
in the $z$-transform domain, where $z$-transforms are defined as the infinite 
sums given above. 
.pp 
in terms of $z$-transforms, the filter can be written 
.lb 
.eq 
y(z) ~~ = ~~ (1~ -~ az sup -1 )x(z), 
.en 
.le 
where $z sup -1$ is now treated as a multiplier. 
the transfer function of the filter is 
.lb 
.eq 
h(z) ~~ = ~~ y(z) over x(z) ~~ = ~~ 1 - az sup -1 , 
.en 
.le 
the ratio of the output to the input transform. 
.pp 
it may seem that little has been gained by inventing this rather abstract 
notion of transform, simply to change an operator to a multiplier.  after 
all, the equation of the filter is no simpler in the transform domain than 
it was in the time domain using $z sup -1$ as an operator.  however, we will 
need to go on to examine more complex filters.  consider, for example, the 
transfer function 
.lb 
.eq 
h(z) ~~ = ~~ {1~+~az sup -1 ~+~bz sup -2} over {1~+~cz sup -1 ~+~dz sup -2} ~ . 
.en 
.le 
if $z sup -1$ is treated as an operator, it is not immediately obvious how 
this transfer function can be realized by a time-domain recurrence relation. 
however, with $z sup -1$ as an ordinary multiplier in the transform domain, we can 
make purely mechanical manipulations with infinite sums to see what the transfer 
function means as a recurrence relation. 
.pp 
it is worth noting the similarity between the $z$-transform in the discrete 
domain and the fourier and laplace transforms in the continuous domains. 
in fact, the $z$-transform plays an analogous role in digital signal processing 
to the laplace transform in continuous theory, for the delay operator 
$z sup -1$ 
performs a similar service to the differentiation operator $s$. 
recall first the continuous fourier transform, 
.lb 
$ 
g(f) ~~ = ~~ 
integral from {- infinity} to infinity ~g(t)~e sup {-j2 pi ft} dt 
$,    where $f$ is real, 
.le 
and the laplace transform, 
.lb 
$ 
f(s) ~~ = ~~ 
integral from 0 to infinity ~f(t)~e sup -st dt 
$,    where $s$ is complex. 
.le 
the main difference between these two transforms is that the range of integration 
begins at -$infinity$ for the fourier transform and at 0 for the laplace. 
advocates of the fourier transform, which typically include people involved with 
telecommunications, enjoy the freedom from initial conditions which is bestowed 
by an origin way back in the mists of time.  advocates of laplace, including 
most analogue filter theorists, invariably 
consider systems where all is quiet before $t=0$ \(em altering the origin 
of measurement of time to achieve this if necessary \(em and welcome the opportunity 
to include initial conditions explicitly 
.ul 
without 
having to worry about what happens in the mists of time. 
although there is a two-sided laplace transform where the integration begins 
at -$infinity$, it is not generally used because it causes some convergence 
complications.  ignoring this difference between the transforms (by considering 
signals which are zero when $t<0$), the fourier spectrum can be found from the 
laplace transform by writing  $s=j2 pi f$; that is, by considering values 
of $s$ which lie on the imaginary axis. 
.pp 
the $z$-transform is 
.lb 
$ 
h(z) ~~ = ~~ sum from n=0 to infinity ~h(n)~z sup -n 
$,    or    $ 
h(z) ~~ = ~~ sum from {n=- infinity} to infinity ~h(n)~z sup -n , 
$ 
.le 
depending on whether a one-sided or two-sided transform is used.  the advantages 
and disadvantages of one- and two-sided transforms are the same as in the 
analogue case. 
$z$ plays the role of $e sup st $, and so it is not surprising that the response 
to a (sampled) sinusoid input can be found by setting 
.lb 
.eq 
z ~~ = ~~ e sup {j2 pi ft} 
.en 
.le 
in $h(z)$, as we proved explicitly above for the pre-emphasis filter. 
.pp 
the above relation between $z$ and $f$ means that real-valued frequencies correspond 
to points where $|z|=1$, that is, the unit circle in the complex $z$-plane. 
as you travel anticlockwise around this unit circle, starting from the 
point $z=1$, the corresponding frequency increases from 0, to $1/2t$ half-way 
round ($z=-1$), to $1/t$ when you get back to the beginning ($z=1$) again. 
frequencies greater than the sampling frequency are aliased back into the 
sampling band, corresponding to further circuits of $|z|=1$ with frequency 
going from $1/t$ to $2/t$, $2/t$ to $3/t$, and so on.  in fact, this is the circle 
of figure 3.3 which was used earlier to explain how sampling affects the frequency 
spectrum! 
.sh "4.4  discrete fourier transform" 
.pp 
let us return from this brief digression into techniques of digital signal 
analysis to the problem of determining the frequency spectrum of speech. 
although a bank of bandpass filters such as is used in the channel vocoder 
is the perhaps most straightforward way to obtain a frequency spectrum, 
there are other techniques which are in fact more commonly used in digital speech 
processing. 
.pp 
it is possible to define the fourier transform of a discrete sequence of 
points.  to motivate the definition, consider first the 
ordinary fourier transform (ft), which is 
.lb 
$ 
g(t) ~~ = ~~ 
integral from {- infinity} to infinity ~g(f)~e sup {+j2 pi ft} df 
~~~~~~~~~~~~~~~~ 
g(f) ~~ = ~~ 
integral from {- infinity} to infinity ~g(t)~e sup {-j2 pi ft} dt . 
$ 
.le 
this takes a continuous time domain into a continuous frequency domain. 
sometimes you see a normalizing factor $1/2 pi$ multiplying the integral in 
either the forward or the reverse transform.  this is only needed 
when the frequency variable is expressed in radians/s, and we will find it 
more convenient to express frequencies in\ hz. 
.pp 
the fourier series (fs), which should also be familiar to you, 
operates on a periodic time waveform (or, equivalently, 
one that only exists for a finite period of time, which is notionally extended 
periodically).  if a period lies in the time range $[0,b)$, then the transform is 
.lb 
$ 
g(t) ~~ = ~~ 
sum from {r = - infinity} to infinity ~g(r)~e sup {+j2 pi rt/b} 
~~~~~~~~~~~~~~~~ 
g(r) ~~ = ~~ 1 over b ~ integral from 0 to b ~g(t)~e sup {-j2 pi rt/b} dt . 
$ 
.le 
the fourier series takes a periodic time-domain function into a discrete frequency-domain one. 
because of the basic duality between the time and frequency domains in the 
fourier transforms, it is not surprising that another version of the transform 
can be defined which takes a periodic 
.ul 
frequency\c 
-domain function into a 
discrete 
.ul 
time\c 
-domain one. 
.pp 
fourier transforms can only deal with a finite stretch of a time signal 
by assuming that the signal is periodic, for if $g(t)$ is evaluated from 
its transform $g(r)$ according to the formula above, and $t$ is chosen outside 
the interval $[0,b)$, then a periodic extension of the function $g(t)$ is obtained 
automatically. 
furthermore, periodicity in one domain implies discreteness in the other. 
hence if we transform a 
.ul 
finite 
stretch of a 
.ul 
discrete 
time waveform, 
we get a frequency-domain representation which is also finite (or, equivalently, 
periodic), and discrete. 
this is the discrete fourier transform (dft), 
and takes a discrete periodic time-domain function into a discrete 
periodic frequency-domain one as illustrated in figure 4.4. 
.fc "figure 4.4" 
it is defined by 
.lb 
$ 
g(n) ~~ = ~~ 
1 over n ~ sum from r=0 to n-1~g(r)~e sup { + j2 pi rn/n} 
~~~~~~~~~~~~~~~~ 
g(r) ~~ = ~~ sum from n=0 to n-1 ~g(n)~e sup { - j2 pi rn/n} , 
$ 
.le 
or, writing  $w=e sup {-j2 pi /n}$, 
.lb 
$ 
g(n) ~~ = ~~ 
1 over n ~ sum from r=0 to n-1~g(r)~w sup -rn 
~~~~~~~~~~~~~~~~ 
g(r) ~~ = ~~ sum from n=0 to n-1 ~g(n)~w sup rn . 
$ 
.le 
.sp 
the $1/n$ in the first equation is the same normalizing 
factor as the $1/b$ in the fourier series, 
for the finite time domain is $[0,n)$ 
in the discrete case and $[0,b)$ in the fourier series case. 
it does not matter 
whether it is written into the forward or the reverse transform, but it is usually 
placed as shown above as a matter of convention. 
.pp 
as illustrated by figure 4.5, discrete fourier transforms 
take an input of $n$ real values, representing equally-spaced time samples 
in the interval $[0,b)$, and produce as output $n$ complex values, representing 
equally-spaced frequency samples in the interval $[0,n/b)$. 
.fc "figure 4.5" 
note that the end-point of this frequency interval is the sampling frequency. 
it seems odd that the input is real and the output is the same number of 
.ul 
complex 
quantities:  we seem to be getting some numbers for nothing! 
however, this isn't so, for it is easy to show that if the input sequence is 
real, the output frequency 
spectrum has a symmetry about its mid-point (half the sampling frequency). 
this can be expressed as 
.lb 
dft symmetry:\0\0\0\0\0\0 $ 
~ mark g( half n +r) ~=~ g( half n -r) sup *$  if $g$ is real-valued, 
.le 
where $*$ denotes the conjugate of a complex quantity 
(that is, $(a+jb) sup * = a-jb$). 
.pp 
it was argued above that the frequency spectrum in the dft is periodic, with 
the spectrum from 0 to the sampling frequency being repeated regularly up and 
down the frequency axis.  it can easily be seen from the dft equation that 
this is so.  it can be written 
.lb 
dft periodicity:$ lineup g(n+r) ~=~ g(r)$  always. 
.le 
figure 4.6 illustrates the properties of symmetry and periodicity. 
.fc "figure 4.6" 
.sh "4.5  estimating the frequency spectrum of speech using the dft" 
.pp 
speech signals are not exactly periodic.  although the waveform in a particular 
pitch period will usually resemble those in the preceding and following pitch 
periods, it will certainly not be identical to them. 
as the articulation of the speech changes, the formant positions will alter. 
as we saw in chapter 2, the pitch itself is certainly not constant. 
hence the fundamental assumption of the dft, that the waveform is periodic, 
is not really justified.  however, the signal is quasi-periodic, for changes 
from period to period will not usually be very great.  one way of computing 
the short-term frequency spectrum of speech is to use 
.ul 
pitch-synchronous 
fourier transformation, where single pitch periods are isolated from the 
waveform and processed with the dft.  this gives a rather accurate estimate 
of the spectrum.  unfortunately, it is difficult to determine the beginning 
and end of each pitch cycle, as we shall see later in this chapter when 
discussing pitch extraction techniques. 
.pp 
if a finite stretch of a speech waveform is isolated and fourier transformed, 
without regard to pitch of the speech, then the periodicity assumption will 
be grossly violated.  figure 4.7 illustrates that the effect is the same 
as 
multiplying the signal by a rectangular 
.ul 
window function, 
which is 0 except during the period to be analysed, where it is 1. 
.fc "figure 4.7" 
the windowed sequence will almost certainly have discontinuities at its edges, 
and these will affect the resulting spectrum.  the effect can be analysed 
quite easily, but we will not do so here.  it is enough to say that the 
high frequencies associated with the edges of the window cause considerable 
distortion of the spectrum.  the effect can be alleviated by 
using a smoother window than a rectangular one, 
and several have been investigated extensively.  the commonly-used windows of 
bartlett, blackman, and hamming are illustrated in figure 4.8. 
.fc "figure 4.8" 
.pp 
because the dft produces the same number of frequency samples, equally spaced, 
as there were points in the time waveform, there is a tradeoff between 
frequency resolution and time resolution (for a given sampling rate). 
for example, a 256-point transform with a sample rate of 8\ khz gives the 256 
equally-spaced frequency components between 0 and 8\ khz that are shown in table 
4.2. 
.rf 
.nr x0 (\w'time domain'/2) 
.nr x1 (\w'frequency domain'/2) 
.in+1.0i 
.ta 1.0i 3.0i 4.0i 
\h'0.5i+2n-\n(x0u'time domain\h'|3.5i+2n-\n(x1u'frequency domain 
.sp 
sample	time	sample	\h'-3n'frequency 
number		number 
.nr x0 1i+\w'00000' 
\l'\n(x0u\(ul'	\l'\n(x0u\(ul' 
.sp 
\0\0\00	\0\0\0\00 $mu$sec	\0\0\00	\0\0\0\00 hz 
\0\0\01	\0\0125	\0\0\01	\0\0\031 
\0\0\02	\0\0250	\0\0\02	\0\0\062 
\0\0\03	\0\0375	\0\0\03	\0\0\094 
\0\0\04	\0\0500	\0\0\04	\0\0125 
.nr x2 (\w'...'/2) 
\h'0.5i+4n-\n(x2u'...\h'|3.5i+4n-\n(x2u'... 
\h'0.5i+4n-\n(x2u'...\h'|3.5i+4n-\n(x2u'... 
\h'0.5i+4n-\n(x2u'...\h'|3.5i+4n-\n(x2u'... 
.sp 
\0254	31750	\0254	\07938 
\0255	31875 $mu$sec	\0255	\07969 hz 
\l'\n(x0u\(ul'	\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.mt 2 
table 4.2  time domain and frequency domain samples for a 256-point dft, 
with 8\ khz sampling 
.te 
the top half of the frequency spectrum is of no interest, because 
it contains the complex conjugates of the bottom half (in reverse order), 
corresponding to frequencies greater than half the sampling frequency. 
thus for a 30\ hz resolution in the frequency domain, 
256 time samples, or a 32\ msec stretch of speech, needs to be transformed. 
a common technique is to take overlapping periods in the time domain to 
give a new frequency spectrum every 16\ msec.  from the acoustic point 
of view this is a reasonable rate to re-compute the spectrum, for as noted 
above when discussing channel vocoders the rate of change in the spectrum 
is limited by the speed that the speaker can move his vocal organs, and 
anything between 10 and 25\ msec is a reasonable figure for transmitting 
or storing the spectrum. 
.pp 
the dft is a complex transform, and speech is a real signal.  it is possible 
to do two dft's at once by putting one time waveform into the real parts 
of the input and another into the imaginary parts.  this destroys the dft 
symmetry property, for it only holds for real inputs.  but given the dft 
of a complex sequence formed in this way, it is easy to separate out the 
dft's of the two real time sequences.  if the two time sequences are 
$x(n)$ and $y(n)$, then the transform of the complex sequence 
.lb 
.eq 
g(n) ~~ = ~~ x(n) ~+~ jy(n) 
.en 
.le 
is 
.lb 
.eq 
g(r) ~~ = ~~ sum from n=0 to n-1 ~[x(n)w sup rn ~+~ y(n)w sup rn ] . 
.en 
.le 
it follows that the complex conjugate of the aliased parts of the spectrum, 
in the upper frequency region, are 
.lb 
.eq 
g(n-r) sup * ~~ = ~~ sum from n=0 to n-1 ~[x(n)w sup -(n-r)n 
~-~ y(n)w sup -(n-r)n ] , 
.en 
.le 
and this is the same as 
.lb 
.eq 
g(n-r) sup * ~~ = ~~ sum from n=0 to n-1 ~[x(n)w sup rn 
~-~ y(n)w sup rn ] , 
.en 
.le 
because $w sup n$ is 1 (recall the definition of $w$), 
and so $w sup -nn$ is 1 for any $n$. 
thus 
.lb 
.eq 
x(r) ~~ = ~~ {g(r) ~+~ g(n-r) sup * } over 2 
~~~~~~~~~~~~~~~~ 
y(r) ~~ = ~~ {g(r) ~-~ g(n-r) sup * } over 2 
.en 
.le 
extracts the transforms $x(r)$ and $y(r)$ of the original sequences 
$x$ and $y$. 
.pp 
with speech, this trick is frequently used to calculate two spectra at once. 
using 256-point transforms, a new estimate of the spectrum can be obtained 
every 16\ msec by taking overlapping 32\ msec stretches of speech, with a 
computational requirement of one 256-point transform every 32\ msec. 
.sh "4.6  the fast fourier transform" 
.pp 
straightforward calculation of the dft, expressed as 
.lb 
.eq 
g(r) ~~ = ~~ sum from n=0 to n-1 ~g(n)~w sup nr , 
.en 
.le 
for $r=0,~ 1,~ 2,~ ...,~ n-1$, takes $n sup 2$ operations, where each operation 
is a complex multiply and add (for $w$ is, of course, a complex number). 
there is a better way, invented in the early sixties, which reduces this to 
$n ~ log sub 2 n$ operations \(em a very considerable improvement. 
dubbed the "fast fourier transform" (fft) for historical reasons, it would actually 
be better called the "fourier transform", with the straightforward method above 
known as the "slow fourier transform"!  there 
is no reason nowadays to use the slow method, except for tiny transforms. 
it is worth describing the basic principle of the fft, for it is surprisingly 
simple.  more details on actual implementations can be found in brigham (1974). 
.[ 
brigham 1974 
.] 
.pp 
it is important to realize that the fft involves no approximation. 
it is an 
.ul 
exact 
calculation of the values that would be obtained by the slow method 
(although it may be affected differently by round-off errors). 
problems of aliasing and windowing occur in all discrete fourier transforms, 
and they are neither alleviated nor exacerbated by the fft. 
.pp 
to gain insight into the working of the fft, imagine the sequence $g(n)$ split 
into two halves, containing the even and odd points 
respectively. 
.lb 
even half $e(n)$ is $g(0)~ g(2)~ .~ .~ .~ g(n-2)$ 
.br 
odd  half $o(n)$ is $g(1)~ g(3)~ .~ .~ .~ g(n-1)$. 
.le 
then it is easy to show that if $g$ is the transform of $g$, 
$e$ the transform of $e$, 
and $o$ that of $o$, then 
.lb 
$ 
g(r) ~~ = ~~ e(r) ~+~ w sup r o(r)$  for  $r=0,~ 1,~ ...,~ half n -1$, 
.le 
and 
.lb 
$ 
g( half n +r ) ~~ = ~~ e(r) ~+~ w sup { half n +r} o(r)$  for  $ 
r = 0,~ 1,~ ...,~ half n -1$. 
.le 
calculation of the $e$ and $o$ transforms involves $( half n) sup 2$ operations each, 
while combining them together according to the above relationship occupies 
$n$ operations.  thus the total is  $n + half n sup 2 $  operations, which is considerably 
less than $n sup 2$. 
.pp 
but don't stop there!  the even half can itself be broken down into 
even and odd parts to expedite its calculation, and the same with the odd half. 
the only constraint is that the number of elements in the sequences splits 
exactly into two at each stage. 
providing $n$ is a power of 2, then, we are left at the end with some 1-point 
transforms to do.  but transforming a single point leaves it unaffected!  (check 
the definition of the dft.)  a quick calculation shows that the number of operations 
needed is not  $n + half n sup 2$, but $n~ log sub 2 n$. 
figure 4.9 compares this with $n sup 2$, the number of operations for 
straightforward dft calculation, and it can be seen that the fft is very much 
faster. 
.fc "figure 4.9" 
.pp 
the only restriction on the use of the fft is that $n$ must be a power of two. 
if it is not, alternative, more complicated, algorithms can be used which 
give comparable computational advantages.  however, for speech processing 
the number of samples that are transformed is usually arranged to be a power 
of two.  if a pitch synchronous analysis is undertaken, the 
time stretch that is to be transformed is dictated by the length of the pitch 
period, and will vary from time to time.  then, it is usual to pad out the 
time waveform with zeros to bring the number of samples up to a power of two; 
otherwise, if different-length time stretches were transformed the scale 
of the resulting frequency components would vary too. 
.pp 
the fft provides very worthwhile cost savings over the use of a bank of 
bandpass filters for spectral analysis.  take the example of a 256-point 
transform with 8\ khz sampling, giving 128 frequency components spaced 
by 31.25\ hz from 0 up to almost 4\ khz.  this can be computed on overlapping 
32\ msec stretches of the time waveform, giving a new spectrum every 16\ msec, 
by a single fft calculation every 32\ msec (putting successive pairs of 
time stretches in the real and imaginary parts of the complex input sequence, 
as described earlier).  the fft algorithm requires $n~ log sub 2 n$ operations, 
which is 2048 when $n=256$.  an additional 512 operations are required 
for the windowing calculation.  repeated every 32\ msec, this gives 
a rate of 80,000 operations per second.  to achieve a much lower frequency 
resolution with 20 bandpass filters, each of which are fourth-order, 
will need a great deal more operations.  each filter will need between 4 and 8 
multiplications per sample, depending on its exact digital implementation.  but new 
samples appear every 125 
.ul 
micro\c 
seconds, and so somewhere around a million 
operations will be required every second. 
if we increased the frequency resolution to that obtained by the fft, 128 
filters would be needed, requiring between 4 and 8 million operations! 
.sh "4.7  formant estimation" 
.pp 
once the frequency spectrum of a speech signal has been calculated, it may 
seem a simple matter to estimate the positions of the formants.  but it is 
not!  spectra obtained in practice are not usually like the idealized ones 
of figure 2.2.  one reason for this is that, unless the analysis is 
pitch-synchronous, the frequency spectrum of the excitation source is mixed 
in with that of the vocal tract filter.  there are other reasons, which will 
be discussed later in this section.  but first, let us consider how to 
extract the vocal tract filter characteristics from the combined spectrum 
of source and filter.  to do so we must begin to explore the theory of linear 
systems. 
.rh "discrete linear systems." 
figure 4.10 shows an input signal exciting a filter to produce an output 
signal. 
.fc "figure 4.10" 
for present purposes, imagine the input to be a glottal 
waveform, the filter a vocal tract one, and the output a 
speech signal (which is then subjected to high-frequency de-emphasis 
by radiation from the lips). 
we will consider here 
.ul 
discrete 
systems, so that the input $x(n)$ and output $y(n)$ are sampled signals, 
defined only when $n$ is integral.  the theory is quite similar for continuous 
systems. 
.pp 
assume that the system is 
.ul 
linear, 
that is, if input $x sub 1 (n)$ produces output $y sub 1 (n)$ and 
input $x sub 2 (n)$ produces output $y sub 2 (n)$, 
then the sum of $x sub 1 (n)$ and 
$x sub 2 (n)$ will produce the sum of $y sub 1 (n)$ and $y sub 2 (n)$. 
it is easy to show from this that, for any constant multiplier $a$, 
the input $ax(n)$ will produce output $ay(n)$ \(em it is pretty obvious 
when $a=2$, 
or indeed any positive integer; for then $ax(n)$ can be written as 
$x(n)+x(n)+...$ . 
assume further that the system is 
.ul 
time-invariant, 
that is, if input $x(n)$ 
produces output $y(n)$ then a time-shifted version of $x$, 
say $x(n+n sub 0 )$ for 
some constant $n sub 0$, will produce the same output, only time-shifted; namely 
$y(n+n sub 0)$. 
.pp 
now consider the discrete delta function $delta (n)$, which is 0 except at 
$n=0$ when it is 1. 
if this single impulse is presented as input to the system, the output is called 
the 
.ul 
impulse response, 
and will be denoted by $h(n)$. 
the fact that the system is time-invariant guarantees that the response does 
not depend upon the particular time at which the impulse occurred, so that, 
for example, the impulsive input $delta (n+n sub 0 )$ will produce output 
$h(n+n sub 0 )$. 
a delta-function input and corresponding impulse response are shown in figure 
4.10. 
.pp 
the impulse response of a linear, time-invariant system is an extremely useful 
thing to 
know, for it can be used to calculate the output of the system for any input 
at all!  specifically, an input signal $x(n)$ can be written 
.lb 
.eq 
x(n)~ = ~~ sum from {k=- infinity} to infinity ~ x(k) delta (n-k) , 
.en 
.le 
because $delta (n-k)$ is non-zero only when $k=n$, and so for any 
particular value of $n$, the summation contains only 
one non-zero term \(em that is, $x(n)$. 
the action of the system on each term of the sum is to produce an output 
$x(k)h(n-k)$, because $x(k)$ is just a constant, and 
the system is linear. 
furthermore, the complete input $x(n)$ is just the sum of such terms, and since 
the system is linear, the output is the sum of $x(k)h(n-k)$. 
hence the response of the system to an arbitrary input is 
.lb 
.eq 
y(n)~ = ~~ sum from {k=- infinity} to infinity ~ x(k) h(n-k) . 
.en 
.le 
this is called a 
.ul 
convolution sum, 
and is sometimes written 
.lb 
.eq 
y(n)~ =~ x(n) ~*~ h(n). 
.en 
.le 
.pp 
let's write this in terms of $z$-transforms.  the (two-sided) $z$-transform of y(n) 
is 
.lb 
.eq 
y(z)~ = ~~ sum from {n=- infinity} to infinity ~y(n)z sup -n ~~ = 
~~ sum from n ~ sum from k ~x(k)h(n-k) ~z sup -n , 
.en 
.le 
writing $z sup -n$ as  $z sup -(n-k) z sup -k$,  and interchanging the order 
of summation, this becomes 
.lb 
.eq 
y(z)~ mark = ~~ sum from k ~[~ sum from n ~ h(n-k)z sup -(n-k) ~]~x(k)z sup -k 
.en 
.br 
.eq 
lineup = ~~ sum from k ~h(z)~z sup -k ~~ = ~~ h(z)~ sum from k ~x(k)z sup 
-k ~~=~~h(z)x(z) . 
.en 
.le 
thus convolution in the time domain is the same as multiplication in the 
$z$-transform domain; a very important result.  applied to the linear system of 
figure 4.10, this means that the output $z$-transform is the input $z$-transform 
multiplied by the $z$-transform of the system's impulse response. 
.pp 
what we really want to do is to relate the frequency spectrum of 
the output to the response of the system and the spectrum of the 
input. 
in fact, frequency spectra are very closely connected with $z$-transforms.  a 
periodic signal $x(n)$ which repeats every $n$ samples has dft 
.lb 
.eq 
sum from n=0 to n-1 ~x(n)~e sup {-j2 pi rn/n} , 
.en 
.le 
and its $z$-transform is 
.lb 
.eq 
sum from {n=- infinity} to infinity ~x(n) ~z sup -n . 
.en 
.le 
hence the dft is the same as the $z$-transform of a single cycle of the signal, 
evaluated at the points  $z= e sup {j2 pi r/n}$  for $r=0,~ 1,~ ...~ ,~ n-1$. 
in other 
words, the frequency components are samples of the $z$-transform at $n$ 
equally-spaced points around the unit circle. 
hence the frequency spectrum at the output of a linear system is the product of 
the 
input spectrum and the frequency response of the system itself (that is, the 
transform of its impulse response function). 
it should be admitted that this statement is somewhat questionable, 
because to get from $z$-transforms to dft's we have assumed that 
a single cycle only is transformed \(em and the impulse response function of 
a system is not necessarily periodic.  the real action of the system is 
to multiply $z$-transforms, not dft's.  however, it is useful in imagining 
the behaviour of the system to think in terms of products of dft's; and in 
practice it is always these rather than $z$-transforms which are computed 
because of the existence of the fft algorithm. 
.pp 
figure 4.11 shows the frequency spectrum of a typical voiced speech signal. 
.fc "figure 4.11" 
the overall shape shows humps at the formant positions, like those in the 
idealized figure 2.2.  however, superimposed on this is an "oscillation" 
(in the frequency domain!) at the pitch frequency.  this occurs because the 
transform of the vocal tract filter has been multiplied by that of the 
pitch pulse, the latter having components at harmonics of the pitch frequency. 
the oscillation must be suppressed before the formants 
can be estimated to any degree of accuracy. 
.pp 
one way of eliminating the oscillation is to perform pitch-synchronous 
analysis. 
this removes the influence of pitch from the frequency domain by dealing with 
it in the time domain!  the snag is, of course, that it is not easy to estimate 
the pitch frequency:  some techniques for doing so are discussed in the next 
main section. 
another way is to use linear predictive analysis, which really does get rid 
of pitch information without having to estimate the pitch period first.  a 
smooth 
frequency spectrum can be produced using the analysis techniques described in 
chapter 6, which provides 
a suitable starting-point for formant frequency estimation. 
the third method is to remove the pitch ripple from the frequency spectrum 
directly.  this will be discussed in an intuitive rather than a 
theoretical way, because linear predictive methods are becoming dominant 
in speech processing. 
.rh "cepstral processing of speech." 
suppose the frequency spectrum of figure 4.11 were actually a time waveform. 
to remove the high-frequency pitch ripple is easy:  just filter it out! 
however, 
filtering removes 
.ul 
additive 
ripples, whereas this is a 
.ul 
multiplicative 
ripple.  to turn multiplication into addition, take logarithms.  then the 
procedure would be 
.lb 
.np 
compute the dft of the speech waveform (windowed, overlapped); 
.np 
take the logarithm of the transform; 
.np 
filter out the high-frequency part, corresponding to pitch ripple. 
.le 
.pp 
filtering is often best done using the dft.  if the rippled waveform of figure 
4.11 is transformed, a strong component could be expected at the ripple 
frequency, with weaker ones at its harmonics.  these components can be 
simply removed by setting them to zero, and inverse-transforming the result 
to give a smoothed version of the original frequency spectrum. 
a spectrum of the logarithm of a frequency spectrum is often called a 
.ul 
cepstrum 
\(em a sort of backwards spectrum.  the horizontal axis of the cepstrum, 
having the dimension of time, is called "quefrency"!  note that high-frequency 
signals have low quefrencies and vice versa.  in practice, 
because the pitch ripple is usually well above the quefrency of interest for 
formants, the upper end of the cepstrum is often simply cut off from a fixed 
quefrency which corresponds to the maximum pitch expected.  however, identifying 
the pitch peaks of the cepstrum has the useful byproduct of giving the pitch 
period of the original speech. 
.pp 
to summarize, then, the procedure for spectral smoothing by the cepstral method 
is 
.lb 
.np 
compute the dft of the speech waveform (windowed, overlapped); 
.np 
take the logarithm of the transform; 
.np 
take the dft of this log-transform, calling it the cepstrum; 
.np 
identify the lowest-quefrency peak in the spectrum as the pitch, 
confirming it by examining its harmonics, which should be 
equally spaced at the pitch quefrency; 
.np 
remove pitch effects from the cepstrum by cutting off its high-quefrency 
part above either the pitch quefrency or some constant representing the maximum 
expected pitch (which is the minimum expected pitch quefrency); 
.np 
inverse dft the resulting cepstrum to give a smoothed spectrum. 
.le 
.rh "estimating formant frequencies from smoothed spectra." 
the difficulties of formant extraction are not over even when a smooth frequency 
spectrum has been obtained.  a simple peak-picking algorithm which identifies 
a peak at the $k$'th frequency component whenever 
.lb 
$ 
x(k-1) ~<~ x(k) 
$  and  $ 
x(k) ~>~ x(k+1) 
$ 
.le 
will quite often identify formants incorrectly. 
it helps to specify in advance minimum and maximum formant frequencies \(em say 
100\ hz and 3\ khz for three-formant identification, and ignore peaks lying 
outside these limits.  it helps to estimate 
the bandwidth of the peaks and reject those with bandwidths greater than 
500\ hz \(em for real formants are never this wide.  however, if two formants are 
very close, then they may appear as a single, wide, peak and be rejected by 
this criterion.  it is usual to take account of formant positions identified 
in previous frames under these conditions. 
.pp 
markel and gray (1976) describe in detail several estimation algorithms. 
.[ 
markel gray 1976 linear prediction of speech 
.] 
their simplest uses the number of peaks identified in the raw spectrum 
(under 3\ khz, and with 
bandwidths greater than 500\ hz), to determine what to do.  if exactly three 
peaks are found, they are used as the formant positions.  it is claimed that 
this happens about 85% to 90% of the time. 
if only one peak is found, the present frame is ignored and the 
previously-identified 
formant positions are used (this happens less than 1% of the time). 
the remaining cases are two peaks \(em corresponding to omission of one formant \(em 
and four peaks \(em corresponding to an extra formant being included.  (more 
than 
four peaks never occurred in their data.)  under these conditions, 
a nearest-neighbour measure is used for disambiguation.  the measure is 
.lb 
.eq 
v sub ij ~ = ~ |{ f sup * } sub i (k) ~-~ f sub j (k-1)| , 
.en 
.le 
where $f sub j sup (k-1)$ is the $j$'th formant frequency defined 
in the previous frame 
$k-1$ and ${ f sup * } sub i (k)$ is the $i$'th raw data frequency estimate 
for frame $k$. 
if two peaks only are found, this measure is used to identify 
the closest peaks in the previous frame; and then the 
third peak of that frame is taken to be the missing formant 
position.  if four peaks are found, the measure is used to 
determine which of them is furthest from the previous formant 
values, and this one is discarded. 
.pp 
this procedure works forwards, using the previous frame to 
disambiguate peaks given in the current one.  more sophisticated 
algorithms work backwards as well, identifying 
.ul 
anchor points 
in the data which have clearly-defined formant positions, and 
moving in both directions from these to disambiguate 
neighbouring frames of data.  finally, absolute limits can be 
imposed upon the magnitude of formant movements between frames 
to give an overall smoothing to the formant tracks. 
.pp 
very often, people will refine the result of such automatic formant 
estimation procedures by hand, looking at the tracks, knowing 
what was said, and making adjustments in the light of their 
experience of how formants move in speech.  unfortunately, it is difficult to 
obtain high-quality formant tracks by completely automatic 
means. 
.pp 
one of the most difficult cases in formant estimation is where 
two formants are so close together that the individual peaks 
cannot be resolved.  one simple solution to this problem is to 
employ "analysis-by-synthesis", whereby once a formant is 
identified, a standard formant shape at this position is 
synthesized and 
subtracted from the 
logarithmic spectrum (coker, 1963). 
.[ 
coker 1963 
.] 
then, even if two formants 
are right on top of each other, the second is not missed because 
it remains after the first one has been subtracted. 
.pp 
unfortunately, however, the single peak which appears when 
two formants are close together usually does not correspond exactly with the 
position of either one. 
there is one rather advanced signal-processing technique that 
can help in this case. 
the frequency spectrum of 
speech is determined by 
.ul 
poles 
which lie in the complex $z$-plane inside the unit circle.  (they 
must be inside the unit circle if the system is stable.  those 
familiar with laplace analysis of analogue systems may like to note that the 
left half of the $s$-plane corresponds with the inside of the unit 
circle in the $z$-plane.)  as shown earlier, computing a dft is tantamount to 
evaluating the $z$-transform at equally-spaced points around the 
unit circle.  however, better resolution is obtained by 
evaluating around a circle which lies 
.ul 
inside 
the unit circle, but 
.ul 
outside 
the outermost pole position.  such a circle is sketched in 
figure 4.12. 
.fc "figure 4.12" 
.pp 
recall that the fft is a fast way of calculating the dft of a 
sequence.  is there a similarly fast way of evaluating the 
$z$-transform inside the unit circle?  the answer is yes, and the 
technique is known as the "chirp $z$-transform", because it 
involves considering a signal whose frequency increases 
linearly \(em just like a radar chirp signal.  the chirp method 
allows the $z$-transform to be computed quickly at equally-spaced 
points along spirally-shaped contours around the origin of the 
$z$-plane \(em corresponding to signals of linearly increasing 
complex frequency.  the spiral nature of these curves is not of 
particular interest in speech processing.  what 
.ul 
is 
of interest, though, is that the spiral can begin at any point 
on 
the $z=0$ axis, and its pitch can be set arbitrarily. 
if we begin spiralling at $z=0.9$, say, and set the pitch 
to zero, the contour becomes a circle inside the unit one, with 
radius 0.9.  such a circle is exactly what is needed to refine 
formant resolution. 
.sh "4.8  pitch extraction" 
.pp 
the last section discussed how to characterize the vocal tract filter 
in the source-filter model of speech production:  this one looks 
at how the most important property of the source \(em that is, the 
pitch period \(em can be derived.  in many ways pitch extraction 
is more important from a practical point of view than is formant 
estimation.  in a voice-output system, formant estimation is 
only necessary if speech is to be stored in formant-coded form. 
for linear predictive storage of speech, or for speech synthesis 
from phonetics or text, formant extraction is unnecessary \(em 
although of course general information about formant 
frequencies and formant tracks in natural speech is needed 
before a synthesis-from-phonetics system can be built. 
however, knowledge of the pitch contour is needed for 
many different purposes.  for example, compact encoding of 
linearly predicted speech relies on the pitch being estimated and 
stored as a parameter separate from the articulation. 
significant improvements in frequency analysis can be made by 
performing pitch-synchronous fourier transformations, 
because the need to window is eliminated. 
many synthesis-from-phonetics systems require the pitch contour 
for utterances to be stored rather computed from markers in the 
phonetic text. 
.pp 
another issue which is closely bound up with pitch extraction is 
the voiced-unvoiced distinction.   a good pitch estimator ought to 
fail when presented with aperiodic input such as an unvoiced 
sound, and so give a reliable indication of whether the frame of 
speech is voiced or not. 
.pp 
one method of pitch estimation, which uses the cepstrum, has been outlined 
above.  it involves a substantial amount of computation, 
and has a high degree of complexity.  however, if implemented 
properly it gives excellent results, because the source-filter 
structure of the speech is fully utilized. 
another method, using the 
linear prediction residual, will be described in chapter 6. 
again, this requires a great deal of computation of a fairly sophisticated 
nature, and gives good results \(em although it relies on a 
somewhat more 
restricted version of the source-filter model than cepstral 
analysis. 
.rh "autocorrelation methods." 
the most reliable way of estimating the pitch of a periodic 
signal which is corrupted by noise is to examine its 
short-time autocorrelation function. 
the autocorrelation of a signal $x(n)$ with lag $k$ is defined as 
.lb 
.eq 
phi (k) ~~ = ~~ sum from {n=- infinity} to infinity ~ x(n)x(n+k) . 
.en 
.le 
if the signal is quasi-periodic, with slowly varying period, 
a finite stretch of it can be isolated with a window 
$w(i)$, which is 0 when $i$ is outside the range $[0,n)$. 
beginning this window at sample $m$ gives the windowed signal 
.lb 
.eq 
x(n)w(n-m), 
.en 
.le 
whose autocorrelation, 
the 
.ul 
short-time 
autocorrelation of the signal $x$ at point $m$ is 
.lb 
.eq 
phi sub m (k)~ = ~~ sum from n ~ x(n)w(n-m)x(n+k)w(n-m+k) . 
.en 
.le 
.pp 
the autocorrelation function exhibits peaks at lags which correspond to 
the pitch periods and multiples of it.  at such lags, the signal is in 
phase with a delayed version of itself, giving high correlation. 
the pitch of natural speech ranges about three octaves, from 50\ hz (low-pitched men) to around 
400\ hz (children).  to ensure that at least two pitch cycles are seen, even at 
the 
low end, the window needs to be at least 40\ msec long, and the autocorrelation 
function calculated for lags up to 20\ msec.  the peaks which occur at lags 
corresponding to multiples of the pitch become smaller as the multiple 
increases, because the speech waveform will change slightly and the pitch 
period is not perfectly constant.  if signals at the high end of the pitch 
range, 400\ hz, are 
viewed through a 40\ msec autocorrelation window, considerable smearing of 
pitch resolution in the time domain is to be expected.  finally, for unvoiced 
speech, no substantial peaks of autocorrelation will occur. 
.pp 
if all deviations from perfect periodicity can be attributed to 
additive, white, gaussian noise, then it can be shown from 
standard detection theory that autocorrelation methods are 
appropriate for pitch identification.  unfortunately, this is 
certainly not the case for speech signals.  although the 
short-time autocorrelation of voiced speech exhibits peaks at 
multiples of the pitch period, it is not clear that it is any 
easier to detect these peaks in the autocorrelation function 
than it is in the original time waveform!  to take a simple 
example, if a signal contains a fundamental and in-phase first 
and second harmonics, 
.lb 
.eq 
x(n)~ =~ a sin 2 pi fnt ~+~ b sin 4 pi fnt ~+~ c sin 6 pi fnt , 
.en 
.le 
then its autocorrelation function is 
.lb 
.eq 
phi (k) ~=~~ {a sup 2 ~cos~2 pi fkt~+~b sup 2 ~cos~2 pi 
fkt~+~c sup 2 ~cos 2 pi fkt} over 2 ~ . 
.en 
.le 
there is no reason to believe that detection of the fundamental 
period of this signal will be any easier in the autocorrelation 
domain than in the time domain. 
.pp 
the most common error of pitch detection by autocorrelation 
analysis is that the periodicities of the formants are confused 
with the pitch.  this typically leads to the repetition time 
being identified as  $t sub pitch ~ +- ~ t sub formant1$,  where the 
$t$'s are the periods of the pitch and first formant.  fortunately, 
there are simple ways of processing the signal non-linearly to 
reduce the effect of formants on pitch estimation using autocorrelation. 
.pp 
one way 
is to low-pass filter the 
signal with a cut-off above the maximum pitch period, say 600 
hz.  however, formant 1 is often below this value.  a different 
technique, which may be used in conjunction with filtering, is 
to "centre-clip" the signal as shown in figure 4.13. 
.fc "figure 4.13" 
this 
removes many of 
the ripples which are associated with formants.  however, it 
entails the use of an adjustable clipping threshold to cater for 
speech of varying amplitudes.  sondhi (1968), who introduced the 
technique, set the clipping level at 30% of the maximum 
amplitude. 
.[ 
sondhi 1968 
.] 
an alternative which achieves 
much the same effect without the need to fiddle with thresholds, 
is to cube the signal, or raise it to some other high (odd!) 
power, before taking the autocorrelation.  this highlights the 
peaks and suppresses the effect of low-amplitude parts. 
.pp 
for very accurate pitch detection, it is best to combine the evidence 
from several different methods of analysis of the time waveform. 
the autocorrelation function provides one source of evidence; 
and the cepstrum provides another. 
a third source comes from the time waveform itself. 
mcgonegal 
.ul 
et al 
(1975) have described a semi-automatic method of pitch 
detection which uses human judgement to make a final decision based upon these 
three sources of evidence. 
.[ 
mcgonegal rabiner rosenberg 1975 sapd 
.] 
this appears to provide highly accurate pitch contours at the expense of 
considerable human effort \(em it takes an experienced user 30 minutes to 
process each second of speech. 
.rh "speeding up autocorrelation." 
calculating the autocorrelation function is an 
arithmetic-intensive procedure.  for large lags, it can best be 
done using fft methods; although there are simpler arithmetic 
tricks which speed it up without going to such complexity. 
however, with the availability of analogue delay lines using 
charge-coupled devices, autocorrelation can now be done 
effectively and cheaply by analogue, sampled-data, hardware. 
.pp 
nevertheless, some techniques to speed up digital 
calculation of short-time autocorrelations are in wide use.  it 
is tempting to hard-limit the signal so that it becomes binary 
(figure 4.14(a)), thus eliminating multiplication. 
.fc "figure 4.14" 
this can be 
disastrous, however, because hard-limited speech is known to 
retain considerable intelligibility and therefore the formant 
structure is still there.  a better plan is to take 
centre-clipped speech and hard-limit that to a ternary signal 
(figure 4.14(b)).  this simplifies the computation considerably 
with essentially no degradation in performance (dubnowski 
.ul 
et al, 
1976). 
.[ 
dubnowski schafer rabiner 1976 digital hardware pitch detector 
.] 
.pp 
a different approach to reducing the amount of calculation is to 
perform a kind of autocorrelation which does not use 
multiplications.  the 
"average magnitude difference function", 
which is defined by 
.lb 
.eq 
d(k)~ = ~~ sum from {n=- infinity} to infinity ~ |x(n)-x(n+k)| , 
.en 
.le 
has been used for this purpose with some success (ross 
.ul 
et al, 
1974). 
.[ 
ross schafer cohen freuberg manley 1974 
.] 
it exhibits dips at pitch periods (instead of the peaks of the 
autocorrelation function). 
.rh "feature-extraction methods." 
another possible way of extracting pitch in the time domain is to try to 
integrate information from different sources to give reliable 
pitch estimates.  several features of the time 
waveform can be defined, each of which provides an estimate of the pitch period, 
and 
an overall estimate can be obtained by majority vote. 
.pp 
for example, suppose that the only feature of the speech 
waveform which is retained is the height and position of the 
peaks, where a "peak" is defined by the simplistic criterion 
.lb 
$ 
x(n-1) ~<~ x(n) 
$  and  $ 
x(n) $>$ x(n+1) . 
$ 
.le 
having found a peak which is thought to represent a pitch pulse, 
one could define a "blanking period", based upon the current 
pitch estimate, within which the next pitch pulse could not 
occur.  when this period has expired, the next pitch pulse is 
sought.  at first, a stringent criterion should be used for 
identifying the next peak as a pitch pulse; but it can gradually be 
relaxed if time goes on without a suitable pulse being 
located.  figure 4.15 shows a convenient way of doing this:  a 
decaying exponential is begun at the end of the blanking period 
and when a peak shows above, it is identified as a pitch pulse. 
.fc "figure 4.15" 
one big advantage of this type of algorithm is that the data is 
greatly reduced by considering peaks only \(em which can be 
detected by simple hardware.  thus it can permit real-time 
operation on a small processor with minimal special-purpose 
hardware. 
.pp 
such a pitch pulse detector is exceedingly simplistic, and will 
often identify the pitch incorrectly.  however, it can be used 
in conjunction with other features to produce good pitch 
estimates.  gold and rabiner (1969), who pioneered the 
approach, used six features: 
.[ 
gold rabiner 1969 parallel processing techniques for pitch periods 
.] 
.lb 
.np 
peak height 
.np 
valley depth 
.np 
valley-to-peak height 
.np 
peak-to-valley depth 
.np 
peak-to-peak height (if greater than 0) 
.np 
valley-to-valley depth (if greater than 0). 
.le 
the features are symmetric with regard to peaks and valleys. 
the first feature is the one described above, and the second one works in 
exactly the same way. 
the third feature records the 
height between each valley and the succeeding peak, and fourth 
uses the depth between each peak and the succeeding valley.  the 
purpose of the final two detectors is to eliminate secondary, 
but rather large, peaks from consideration.  figure 4.16 shows 
the kind of waveform on which the other features might 
incorrectly double the pitch, but the last two features identify 
correctly. 
.fc "figure 4.16" 
.pp 
gold and rabiner also included the last two pitch estimates from each 
feature detector. 
furthermore, for each feature, the present estimate 
was added to the previous one to make a fourth, and the previous one to 
the one before that to make a fifth, and all three were added together 
to make a sixth; so that for each feature there were 6 separate estimates of 
pitch.  the reason for this is that if three consecutive estimates of the 
fundamental period are $t sub 0$, $t sub 1$ and $t sub 2$; then if some peaks are 
being falsely identified, the actual period could be any of 
.lb 
.eq 
t sub 0 ~+~ t sub 1 ~~~~ t sub 1 ~+~ t sub 2 ~~~~ 
t sub 0 ~+~ t sub 1 ~+~ t sub 2 . 
.en 
.le 
it is essential to do this, because 
a feature of a given type can occur more than once in a pitch period \(em 
secondary peaks usually exist. 
.pp 
six features, each contributing six separate estimates, makes 36 estimates 
of pitch in all. 
an overall figure was obtained from this 
set by selecting the most popular estimate (within some 
pre-specified tolerance).  the complete scheme has been 
evaluated extensively (rabiner 
.ul 
et al, 
1976) and compares 
favourably with other methods. 
.[ 
rabiner cheng rosenberg mcgonegal 1976 
.] 
.pp 
however, it must be admitted that this procedure seems to be rather 
.ul 
ad hoc 
(as are many other successful speech parameter estimation 
algorithms!).  specifically, it is not easy to predict what 
kinds of waveforms it will fail on, and evaluation of it can 
only be pragmatic.  when used to 
estimate the pitch of musical 
instruments and singers over a 6-octave range (40\ hz to 2.5\ khz), 
instances were found where it failed dramatically (tucker and bates, 1978). 
.[ 
tucker bates 1978 
.] 
this is, of 
course, a much more difficult problem than pitch estimation for 
speech, where the range is typically 3 octaves. 
in fact, for speech the feature 
detectors are usually preceded by 
a low-pass filter to attenuate the myriad 
of peaks 
caused by higher formants, and this 
is inappropriate for 
musical applications. 
.pp 
there is evidence which shows that additional features can 
assist with pitch identification.  the above features are all 
based upon the signal amplitude, and could be described as 
.ul 
secondary 
features derived from a single 
.ul 
primary 
feature.  other primary features can easily be defined. 
tucker and bates (1978) used a centre-clipped waveform, and considered only 
the peaks rising above the central region. 
.[ 
tucker bates 1978 
.] 
they defined two 
further primary features, in addition to the peak amplitude:  the 
.ul 
time width 
of a peak (period for which it is 
outside the clipping level), and its 
.ul 
energy 
(again, outside the clipping level).  the primary 
features are shown in figure 4.17. 
.fc "figure 4.17" 
secondary features are 
defined, based on these three primary ones, and pitch estimates 
are made for each one.  a further innovation was to combine the 
individual estimates on a way which is based upon 
autocorrelation analysis, reducing to some degree the 
.ul 
ad-hocery 
of the pitch detection process. 
.sh "4.9  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.sh "4.10  further reading" 
.pp 
there are a lot of books on digital signal analysis, although in general 
i find them rather turgid and difficult to read. 
.lb "nn" 
.\"ackroyd-1973-1 
.]- 
.ds [a ackroyd, m.h. 
.ds [d 1973 
.ds [t digital filters 
.ds [i butterworths 
.ds [c london 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
here is the exception to prove the rule. 
this book 
.ul 
is 
easy to read. 
it provides a good introduction to digital signal processing, 
together with a wealth of practical design information on digital filters. 
.in-2n 
.\"committee.i.d.s.p-1979-3 
.]- 
.ds [a ieee digital signal processing committee 
.ds [d 1979 
.ds [t programs for digital signal processing 
.ds [i wiley 
.ds [c new york 
.nr [t 0 
.nr [a 0 
.nr [o 0 
.][ 2 book 
.in+2n 
this is a remarkable collection of tried and tested fortran programs 
for digital signal analysis. 
they are all available from the ieee in machine-readable form on magnetic 
tape. 
included are programs for digital filter design, discrete fourier transformation, 
and cepstral analysis, as well as others (like linear predictive analysis; 
see chapter 6). 
each program is accompanied by a concise, well-written description of how 
it works, with references to the relevant literature. 
.in-2n 
.\"oppenheim-1975-4 
.]- 
.ds [a oppenheim, a.v. 
.as [a " and schafer, r.w. 
.ds [d 1975 
.ds [t digital signal processing 
.ds [i prentice hall 
.ds [c englewood cliffs, new jersey 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this is one of the standard texts on most aspects of digital signal processing. 
it treats the $z$-transform, digital filters, and discrete fourier transformation 
in far more detail than we have been able to here. 
.in-2n 
.\"rabiner-1975-5 
.]- 
.ds [a rabiner, l.r. 
.as [a " and gold, b. 
.ds [d 1975 
.ds [t theory and application of digital signal processing 
.ds [i prentice hall 
.ds [c englewood cliffs, new jersey 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this is the other standard text on digital signal processing. 
it covers the same ground as oppenheim and schafer (1975) above, 
but with a slightly faster (and consequently more difficult) presentation. 
it also contains major sections on special-purpose hardware for 
digital signal processing. 
.in-2n 
.\"rabiner-1978-1 
.]- 
.ds [a rabiner, l.r. 
.as [a " and schafer, r.w. 
.ds [d 1978 
.ds [t digital processing of speech signals 
.ds [i prentice hall 
.ds [c englewood cliffs, new jersey 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
probably the best single reference for digital speech analysis, 
as it is for the time-domain encoding techniques of the last chapter. 
unlike the books cited above, it is specifically oriented to speech processing. 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "5  resonance speech synthesizers" 
.ds rt "resonance speech synthesizers 
.ds cx "principles of computer speech 
.pp 
this chapter considers the design of speech synthesizers which 
implement a direct electrical analogue of 
the resonance properties of the vocal tract by providing a filter for each 
formant whose resonant frequency is to be controlled.  another method is the 
channel vocoder, with a bank of fixed filters whose gains are varied to match 
the spectrum of the speech as described in chapter 4.  this is not generally 
used for synthesis from a written representation, however, because it is hard 
to get good quality speech.  it 
.ul 
is 
used sometimes for low-bandwidth 
transmission and storage, for 
it is fairly easy to analyse natural speech into fixed frequency bands. 
a second alternative to the resonance synthesizer is the linear predictive 
synthesizer, which at present is used quite extensively and is likely to become 
even more popular.  this is covered in the next chapter. 
another alternative is the articulatory synthesizer, which 
attempts to model the vocal tract directly, rather than 
modelling the acoustic output from it. 
although, as noted in chapter 2, articulatory synthesis holds a promise of 
high-quality speech \(em for the coarticulation effects caused by tongue 
and jaw inertia can be modelled directly \(em this has not yet been realized. 
.pp 
the source-filter model of speech production indicates that an electrical 
analogue of the vocal tract can be obtained by considering the source 
excitation and the filter that produces the formant frequencies separately. 
this approach was pioneered by fant (1960), and we shall present much of his 
work in this chapter. 
.[ 
fant 1960 acoustic theory of speech production 
.] 
there has been some discussion over whether the source-filter model really 
is a good one, and some 
synthesizers 
explicitly introduce an element of 
"sub-glottal coupling", which simulates the effect of the lung cavity 
on the vocal tract transfer function during the periods when the glottis is 
open (for an example see rabiner, 1968). 
.[ 
rabiner 1968 digital formant synthesizer jasa 
.] 
however, this is very much a low-order effect when considering 
speech synthesized by rule from a written representation, for the software 
which calculates parameter values to drive the synthesizer is a far greater 
source of degradation in speech quality. 
.sh "5.1  overall spectral considerations" 
.pp 
figure 5.1 shows the source-filter model of speech production. 
.fc "figure 5.1" 
for voiced speech, the excitation source produces a waveform whose frequency 
components decay at about 12\ db/octave, as we shall see in a later section. 
the excitation passes into the vocal tract filter.  conceptually, this can best 
be viewed as an infinite series of formant filters, although for implementation 
purposes only the first few are modelled explicitly and the effect of the rest 
is lumped together into a higher-formant compensation network.  in either case 
the overall frequency profile of the filter is a flat one, upon which humps are 
superimposed at the various formant frequencies.  thus the output of the 
vocal tract filter falls off at 12\ db/octave just as the input does. 
however, measurements of actual speech show a 6\ db/octave decay with increasing 
frequency.  this is explained by the effect of radiation of speech from the 
lips, which in fact has a "differentiating" action, producing a 6\ db/octave 
rise in the frequency spectrum.  this 6\ db/octave lift is similar to that 
provided by a treble boost control on a radio or amplifier.  speech synthesized 
without it sounds unnaturally heavy and bassy. 
.pp 
these overall spectral shapes, which are derived from considering the human 
vocal tract, are summarized in the upper annotations in figure 5.1.  but there 
is no real necessity for a synthesizer to model the frequency characteristics 
of the human vocal tract at intermediate points:  only the output speech is of 
any concern.  because the system is a linear one, the filter blocks in the 
figure can be shuffled around to suit engineering requirements.  one such 
requirement is the desire to minimize internally-generated noise in the 
electrical implementation, most of which will arise in the vocal tract filter 
(because it is much more complicated than the other components).  for this 
reason an excitation source with a flat spectrum is often preferred, as shown 
in the lower annotations.  this can be generated either by taking the desired 
glottal pulse shape, with its 12\ db/octave fall-off, and passing it through a 
filter giving 12\ db/octave lift at higher frequencies; or, if the pulse shape 
is to be stored digitally, by storing its second derivative instead. 
then the radiation compensation, which is now more properly called 
"spectral equalization", will comprise a 6\ db/octave fall-off to give the 
required trend in the output spectrum. 
.pp 
for a given pitch period, this scheme yields exactly the same spectral 
characteristics as the original system which modelled the human vocal tract. 
however, when the pitch varies there will be a difference, for sounds with 
higher excitation frequencies will be attenuated by \-6\ db/octave in the new 
system and +6\ db/octave in the old by the final spectral equalization. 
in practice, the pitch of the human voice lies quite low in the frequency 
region \(em usually below 400\ hz \(em and if all filter characteristics begin 
their roll-off at this frequency the two systems will be the same.  this 
simplifies the implementation with a slight compromise in its accuracy in 
modelling the spectral trend of human speech, for the overall \-6\ db/octave 
decay actually begins at a frequency of around 100\ hz.  if this is 
implemented, some adjustment will need to be made to the amplitudes to ensure 
that high-pitched sounds are not attenuated unduly. 
.pp 
the discussion so far pertains to voiced speech only.  the source spectrum of 
the random excitation in unvoiced sounds is substantially flat, and combines 
with the radiation from the lips to give a +6\ db/octave rise in the output 
spectrum.  hence if spectral equalization is changed to \-6\ db/octave to 
accomodate a voiced excitation with flat spectrum, the noise source should 
show a 12\ db/octave rise to give the correct overall effect. 
.sh "5.2  the excitation sources" 
.pp 
in human speech, the excitation source for voiced sounds is produced by two 
flaps of skin called the "vocal cords".  these are blown apart by pressure from 
the lungs.  when they come apart the pressure is relieved, and the muscles 
tensioning the skin cause the flaps to come together again.  subsequently, the 
lung pressure \(em called "sub-glottal pressure" \(em builds up once more and the 
process is repeated.  the factors which influence the rate and nature of 
vibration are muscular tension of the cords and the sub-glottal pressure.  the detail 
of the excitation has considerable importance to speech synthesis because it 
greatly influences the apparent naturalness of the sound produced.  for example, 
if you have inflamed vocal cords caused by laryngitis the sound quality 
changes dramatically.  old people who do not have proper muscular control over 
their vocal cord tension produce a quavering sound.  shouted speech can easily 
be distinguished from quiet speech even when the volume cue is absent \(em you 
can verify this by fiddling with the volume control of a tape recorder \(em because 
when shouting, the vocal cords stay apart for a much smaller fraction of the 
pitch cycle than at normal volumes. 
.rh "voiced excitation in natural speech." 
there are two basic ways to examine the shape of the excitation source in 
people.  one is to use a dentist's mirror and high-speed photography to observe 
the vocal cords directly.  although it seems a lot to ask someone to speak 
naturally with a mirror stuck down the back of his throat, the method has been 
used and photographs can be found, for example, in flanagan (1972). 
.[ 
flanagan 1972 speech analysis synthesis and perception 
.] 
the second 
technique is to process the acoustic waveform digitally, identifying the 
formant positions and deducting the formant contributions from the waveform by 
filtering.  this leaves the basic excitation waveform, which can then be 
displayed.  such techniques lead to excitation shapes like those sketched in 
figure 5.2, in which the gradual opening and abrupt closure of the vocal cords 
can easily be seen. 
.fc "figure 5.2" 
.pp 
it is a fact that if a periodic function has one or more discontinuities, its frequency 
spectrum will decay at sufficiently high frequencies at the rate of 6\ db/octave. 
for example, the components of the square wave 
.lb 
$ 
g(t) ~~ = ~~ mark 0 
$  for $ 
0 <= t < h 
$ 
.br 
$ 
lineup 1 
$  for $ 
h <= t < b 
$ 
.le 
can be calculated from the fourier series 
.lb 
.eq 
g(r) ~~ = ~~ 1 over b ~ integral from 0 to b ~g(t)~e sup {-j2 pi rt/b} ~dt 
~~ = ~~ j over {2 pi r} ~e sup {-j2 pi rh/b} , 
.en 
.le 
so $|g(r)|$ is proportional to $1/r$, and the change in one octave is 
.lb 
.eq 
20~log sub 10 ~ |g(2r)| over |g(r)| 
~~=~~20~log sub 10 ~ 1 over 2 
~~ = ~  
.en 
\-6\ db. 
.le 
however, if the discontinuities are ones of slope only, then the asymptotic decay 
at high frequencies is 12\ db/octave.  thus the glottal excitation of figure 5.2 
will decay at this rate. 
note that it is not the 
.ul 
number 
but the 
.ul 
type 
of discontinuities which are important in determining the asymptotic spectral 
trend. 
.rh "voiced excitation in synthetic speech." 
there are several ways that glottal excitation can be simulated in a synthesizer, 
four of which are shown in figure 5.3. 
.fc "figure 5.3" 
the square pulse and the sawtooth pulse 
both exhibit discontinuities, and so will have the wrong asymptotic rate of 
decay (6\ db/octave instead of 12\ db/octave).  a better bet is the triangular 
pulse.  this has the correct decay, for there are only discontinuities of slope. 
however, although the asymptotic rate of decay is of first importance, the fine 
structure of the frequency spectrum at the lower end is also significant, and 
the fact that there are two discontinuities of slope instead of just one in the 
natural waveform means that the spectra cannot match closely. 
.pp 
rosenberg (1971) has investigated several different shapes using listening 
tests, and he found that the polynomial approximation sketched in figure 5.3 
was preferred by listeners. 
.[ 
rosenberg 1971 
.] 
this has one slope discontinuity, and comprises 
three sections: 
.lb 
$g(t) ~~ = ~~ 0$  for $0 <= t < t sub 1$    (flat during the period of closure) 
.sp 
$g(t) ~~ = ~~ a~ u sup 2 (3 - 2u) $,	where 
$u ~=~ {t-t sub 1} over {t sub 2 -t sub 1} $ ,    for 
$t sub 1 <= t < t sub 2$  (opening phase) 
.sp 
.sp 
$g(t) ~~ = ~~ a~ (1 - v sup 2 )$,	where 
$v ~=~ {t-t sub 2} over {b-t sub 2} $ ,    for 
$t sub 2 <= t < b$    (closing phase). 
.le 
it is easy to see that the joins between the first and second section, and 
between the second and third section, are smooth; but that the slope of the third 
section at the end of the cycle when $t=b$ is 
.lb 
.eq 
dg over dt ~~ = ~~ -~ 2a. 
.en 
.le 
$a$ is the maximum amplitude of the pulse, and is reached when $t=t sub 2$. 
.pp 
a much simpler glottal pulse shape to implement is the filtered impulse. 
passing an impulse through a filter with characteristic 
.lb 
.eq 
1 over {(1+st) sup 2} 
.en 
.le 
imparts a 12\ db/octave decay after frequency $1/t$.  this gives a pulse shape of 
.lb 
.eq 
g(t) ~~ = ~~ a~ t over t ~e sup {1-t/t} , 
.en 
.le 
which is sketched in figure 5.4. 
.fc "figure 5.4" 
the pulse is the wrong way round in time 
when compared with the desired one; but this is not important under most 
listening conditions because phase differences are not noticeable (this 
point is discussed further below). 
the maximum is reached when $t=t$ and has 
height $a$.  the value zero is never actually attained, for the decay to it 
is asymptotic, and if the slight discontinuity between pulses shown in the 
figure is left, the asymptotic rate of decay of the frequency spectrum will 
be 6\ db/octave rather than 12\ db/octave.  however, in a real implementation 
involving filtering an impulse there will be no such discontinuity, for the 
next pulse will start off where the last one ended. 
.pp 
this seems to be an attractive scheme because of its simplicity, 
and indeed is sometimes used in speech synthesis.  however, it does not have 
the right properties when the pitch is varied, for in real glottal 
waveforms the maximum occurs at a fixed 
.ul 
fraction 
of the period, whereas the filtered impulse's maximum is at a fixed time, $t$. 
if $t$ is chosen to make the system correct at high pitch frequencies (say 
400\ hz), then the pulse will be much too narrow at low pitches and sound rather 
harsh.  the only solution is to vary the filter parameters with the pitch, 
leading to complexity again. 
.pp 
holmes (1973) has made an extensive study of the effect of the glottal 
waveshape on the naturalness of high-quality synthesized speech. 
.[ 
holmes 1973 influence of glottal waveform on naturalness 
.] 
he employed a rather special speech synthesizer, which provides far more 
comprehensive and sophisticated control than most.  it was driven by parameters 
which were extracted from natural utterances by hand \(em but the process of 
generating and tuning them took many months of a skilled person's time. 
by using the pulse shape 
extracted from the natural utterance, he found that synthetic and natural 
versions could actually be made indistinguishable to most people, even under high-quality 
listening conditions using headphones.  performance dropped quite drastically 
when one of rosenberg's pulse shapes, similar to the three-section one given 
above, was used.  holmes also investigated phase effects and found that whilst 
different pulse shapes with identical frequency spectra could easily be 
distinguished when listening over headphones, there was no perceptible difference 
if the listener was placed at a comfortable distance from a loudspeaker in 
a room.  this is attributable to the fact that the room itself imposes a 
complex modification to the phase characteristics of the speech signal. 
.pp 
although a great deal of care must be taken with the glottal pulse shape for very 
high-quality synthetic speech, for speech synthesized by rule from a written 
representation the degradation which stems from incorrect control of the 
synthesizer parameters is much greater than that caused by using a slightly 
inferior glottal pulse.  the triangular pulse illustrated in figure 5.3 
has been found quite satisfactory for speech synthesis by rule. 
.rh "unvoiced excitation." 
speech quality is much less sensitive to the characteristics of the unvoiced 
excitation.  broadband white noise will serve admirably.  it is quite 
acceptable to generate this digitally, using a pseudo-random feedback shift 
register.  this gives a bit sequence whose autocorrelation is zero except at 
multiples of the repetition length.  the repetition length 
can easily be made as long as the number of states in the shift 
register (less one) \(em in this case, the configuration is called 
"maximal length" (gaines, 1969). 
.[ 
gaines 1969 stochastic computing advances in information science 
.] 
for example, an 18-bit maximal-length shift register will repeat 
every $2 sup 18 -1$ cycles.  if the bit-stream is used as a source of analogue 
noise, the autocorrelation function will have triangular parts whose width is 
twice the clock period, as shown in figure 5.5. 
.fc "figure 5.5" 
according to a well-known 
result (the weiner-kinchine theorem; see for example chirlian, 1973) 
the power density of the frequency 
spectrum is the same as the fourier transform of the autocorrelation function. 
.[ 
chirlian 1973 
.] 
since the feedback shift register gives a periodic autocorrelation function, 
its transform is a fourier series.  the $r$'th frequency component is 
.lb 
.eq 
g(r) ~~ = ~~ {r sup 2} over {4 pi sup 2 r sup 2 t} 
~(1~-~~cos~{{2 pi rt} over r}) ~ . 
.en 
.le 
here, $t$ is the clock period and  $r=(2 sup n -1)t$  is the repetition time of 
an $n$-bit shift register. 
.pp 
the spectrum is a bar spectrum, with components spaced 
at 
.lb 
$ 
{1 over r}~~=~~{1 over {(2 sup n -1)t}}$   hz. 
.le 
these are very close together \(em with $n=18$ and 
sampling at 20\ khz (50\ $mu$sec) 
the spacing becomes under 0.1\ hz \(em and so it is reasonable to treat the 
spectrum as continuous, with 
.lb 
.eq 
g(f) ~~ = ~~ 1 over {4 pi sup 2 f sup 2 t}~~(1~-~cos 2 pi ft) . 
.en 
.le 
this spectrum is sketched in figure 5.6(a), and the measured result of an actual 
implementation in figure 5.6(b). 
.fc "figure 5.6" 
the 3\ db point occurs when 
.lb 
.eq 
{g(f) over g(0)} ~~=~~{1 over 2} ~ , 
.en 
.le 
and $g(0)$ is $t/2$.  hence, at the 3\ db point, 
.lb 
.eq 
{1~-~cos 2 pi ft} over {2 pi sup 2 f sup 2 t sup 2} 
~~ = ~~ 1 over 2 ~ , 
.en 
.le 
which has solution  $f=0.45/t$. 
thus a pseudo-random shift register generates 
noise whose spectrum is substantially flat up to half the clock frequency. 
anything over 10\ khz is therefore a suitable clocking rate for speech-quality 
noise.  choose 20\ khz to err on the conservative side.  if the repetition occurs 
in less than 3 or 4 seconds, it can be heard quite clearly; but above this figure 
it is not noticeable.  an 18-bit shift register clocked at 20\ khz repeats 
every  $(2 sup 18 -1)/20000 ~ = ~ 13$ seconds, which is more than adequate. 
.sh "5.3  simulating vocal tract resonances" 
.pp 
the vocal tract, from glottis to lips, can be modelled as an unconstricted 
tube of varying cross-section with no side branches and no sub-glottal coupling. 
this has an all-pole transfer function, which can be written in the form 
.lb 
.eq 
h(s) ~~ = ~~ 
{w sub 1 sup 2} over {s sup 2 ~+~ b sub 1 s ~+~ w sub 1 sup 2} 
~.~{w sub 2 sup 2} over {s sup 2 ~+~ b sub 2 s ~+~ w sub 2 sup 2} ~~ .~ .~ . 
.en 
.le 
there is an unspecified (conceptually infinite) number of terms in the 
product.  each of them produces a peak in the energy spectrum, 
and these are the formants we observed in chapter 2. 
.pp 
formants appear even in an over-simplified 
model of the tract as a tube of uniform cross-section, with a sound source 
at one end (the larynx) and open at the other (the lips). 
this extremely crude model was discussed in chapter 2, and surprisingly, 
perhaps, it gives a good approximation to the observed formant frequencies 
for a neutral, relaxed vowel such as that in 
.ul 
"a\c 
bove". 
.pp 
speech is made by varying the postures of the various organs of the vocal tract. 
different vowels, for example, result largely from different tongue positions 
and lip postures.  naturally, such physical changes alter the frequencies of the 
resonances, and successful automatic speech synthesis depends upon 
successful movement of the formants.  fortunately, only the first three or 
four resonances need to be altered even for extremely realistic synthesis, and 
virtually all existing synthesizers provide control over these formants only. 
.rh "analysis of a single formant." 
each formant is modelled as a second-order resonance, with transfer function 
.lb 
.eq 
h(s) ~~ = ~~ {w sub c sup 2} over {s sup 2 ~+~ b s ~+~ w sub c sup 2} ~ . 
.en 
.le 
as will be shown below, $w sub c$ is the nominal resonant frequency in 
radians/s, and $b$ is the 
approximate 3\ db bandwidth of the resonance.  the term $w sub c sup 2$ in the 
numerator adjusts the gain to be unity at dc ($s=0$). 
.pp 
to calculate the frequency response of the formant, write  $s=jw$.  then the 
energy spectrum is 
.lb 
.eq 
|h(jw)| sup 2 ~~ mark = ~~ 
{w sub c sup 4} over {(w sup 2 - w sub c sup 2 ) sup 2 ~+~ b sup 2 w sup 2} 
.en 
.sp 
.sp 
.eq 
lineup = ~~ 
{w sub c sup 4} over 
{[w sup 2 ~-~(w sub c sup 2 -~ {b sup 2} over 2 )] sup 2 ~~ 
+~~b sup 2 (w sub c sup 2~-~{{b sup 2} over 4})} ~ . 
.en 
.sp 
.le 
this reaches a maximum when the squared term in the denominator of the second 
expression is zero, namely when  $w=(w sub c sup 2 ~-~ b sup 2 /2) sup 1/2$. 
however, 
formant bandwidths are low compared with their centre frequencies, and so to 
a good approximation the peak occurs 
at  $w=w sub c$  and is of amplitude  $w sub c /b$,  that 
is,  $10~log sub 10 w sub c /b$\ db above the dc gain. 
at frequencies higher than the peak the energy falls off as $1/w sup 4$, 
a factor of 1/16 for each doubling 
in frequency, and so the asymptotic decay is 12\ db/octave. 
.pp 
at the points which are 3\ db below the peak, 
.lb 
.eq 
|h(jw sub 3db )| sup 2 ~~ = ~~ 
1 over 2 ~|h(jw sub max )| sup 2 ~~ = ~~ 
1 over 2 ~ times ~ {w sub c sup 2} over {b sup 2} ~ , 
.en 
.le 
and it is easy to show that 
this is satisfied by  $w sub 3db ~ = ~ w sub c ~ +- ~ b/2$  to a 
good approximation (neglecting higher powers of $b/w sub c )$.  figure 5.7 
summarizes the shape of an individual formant resonance. 
.fc "figure 5.7" 
.pp 
the bandwidth of a formant is fairly constant, regardless of the formant 
frequency.  this makes the formant filter a slightly unusual one:  most 
engineering applications which use variable-frequency resonances require 
the bandwidth to be a constant proportion of the resonant 
frequency \(em the ratio 
$w sub c /b$, often called the "$q$" of the filter, is to be constant. 
for formants, we wish the q to increase linearly with resonant frequency. 
since the amplitude gain of the formant at resonance is $w sub c /b$, 
this peak gain increases as the formant frequency is increased. 
.pp 
although it is easy to measure formant frequencies on a spectrogram 
(cf chapter 2), 
it is not so easy to measure bandwidths accurately.  one rather unusual method 
was reported by van den berg (1955), who took a subject who had had a partial 
laryngectomy, an operation which left an opening into the vocal tract near 
the larynx position.  into this he inserted a sound source and made a 
swept-frequency calibration of the vocal tract! 
.[ 
berg van den 1955 
.] 
almost as bizarre is a 
technique which involves setting off a spark inside the mouth of a subject 
as he holds his articulators in a given position. 
.pp 
the results of several different kinds of experiment are reported by dunn (1961), 
and are summarized in table 5.1, along with the formant frequency ranges. 
.[ 
dunn 1961 
.] 
.rf 
.in+0.5i 
.ta 1.7i +2.5i 
.nr x1 (\w'range of formant'/2) 
.nr x2 (\w'range of bandwidths'/2) 
	\h'-\n(x1u'range of formant	\h'-\n(x2u'range of bandwidths 
.nr x1 (\w'frequencies (hz)'/2) 
.nr x2 (\w'as measured in different'/2) 
	\h'-\n(x1u'frequencies (hz)	\h'-\n(x2u'as measured in different 
.nr x1 (\w'experiments (hz)'/2) 
		\h'-\n(x1u'experiments (hz) 
.nr x1 (\w'0000 \- 0000'/2) 
.nr x2 (\w'000 \- 000'/2) 
.nr x0 2.5i+(\w'range of formant'/2)+(\w'as measured in different'/2) 
.nr x3 (\w'range of formant'/2) 
	\h'-\n(x3u'\l'\n(x0u\(ul' 
.sp 
formant 1	\h'-\n(x1u'\0100 \- 1100	\h'-\n(x2u'\045 \- 130 
formant 2	\h'-\n(x1u'\0500 \- 2500	\h'-\n(x2u'\050 \- 190 
formant 3	\h'-\n(x1u'1500 \- 3500	\h'-\n(x2u'\070 \- 260 
	\h'-\n(x3u'\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in-0.5i 
.mt 2 
table 5.1  different estimates of formant bandwidths, with range of 
formant frequencies for reference 
.te 
note that the bandwidths really are narrow compared with the resonant frequencies 
of the filters, except at the lower end of the formant 1 range.  choosing the 
lowest bandwidth estimate leads to an amplification factor at resonance of 50 for formant 2 
when its frequency is at the top of its range; and formant 3 happens to give 
the same value. 
.rh "series synthesizers." 
the simplest realization of the vocal tract filter is a chain of formant 
filters in series, as illustrated in figure 5.8. 
.fc "figure 5.8" 
this leads to particular difficulties if the frequencies of two formants 
stray close together.  the worst case occurs if formants 2 and 3 have the 
same resonant frequencies, at the top of the range of formant 2, namely 2500\ hz. 
in this case, and if the bandwidths of the formants are set to the lowest 
estimates, a combined amplification factor 
of  $(2500/50) times (2500/70)=1800$  is 
obtained at the point of resonance \(em that is, 
65\ db above the dc value.  this is enough 
to tax most analogue implementations, and can evoke clipping in the formant 
filters, with a very noticeable effect on speech quality.  this 
extreme case will not occur during synthesis of realistic speech, for 
although the formant 
.ul 
ranges 
overlap, the values for any particular (human) sound will not coincide exactly.  however, 
it illustrates the difficulty of designing a series synthesizer which copes 
sensibly with arbitrary parameter settings, and explains why designers often 
choose formant bandwidths in the top half of the ranges given in table 5.1. 
.pp 
the problem of excessive amplification within a series synthesizer can be 
alleviated to a small extent by choosing carefully the order in which the 
filters are placed in the chain.  in a linear system, of course, the order in 
which the components occur does not matter. 
in physical implementations, however, it is advantageous to minimize extreme 
amplification at intermediate points.  by placing the formant 1 filter between 
formants 2 and 3, the formant 2 resonance is attenuated somewhat before it 
reaches formant 3.  continuing with the extreme example above, where both 
formants 2 and 3 were set to 2500\ hz; assume that formant 1 is at its 
nominal value of 500\ hz.  it provides attenuation at approximately 12\ db/octave 
above this, and so at the formant 2 peak, 2.3\ octaves higher, the attenuation 
is 28\ db.  thus the gain at 2500\ hz, 
which is $20 ~ log sub 10 ~ 2500/50 ~ = ~ 34$\ db after 
passing through the formant 2 filter, is reduced to 6\ db by formant 1, only 
to be increased by $20 ~ log sub 10 ~ 2500/70 ~ = ~ 31$\ db to 
a value of 37\ db by formant 3. 
this avoids the extreme 65\ db gain of formants 2 and 3 combined. 
.pp 
figure 5.8 shows only three formant filters modelled explicitly. 
the effect of the rest \(em and they do have an effect, although it is small 
at low frequencies \(em is 
incorporated by lumping them together into the "higher-formant correction" filter. 
to calculate the characteristics of this filter, assume that the lumped 
formants have the values given by the simple uniform-tube model of chapter 2, 
namely 3500\ hz for formant 4, 4500\ hz for formant 5, and, in general, 
$500(2n-1)$\ hz for formant $n$.  the effect of each of these on the spectrum is 
.lb 
.eq 
10~ log sub 10  {w sub n sup 4} over {(w sup 2 ~-~w sub n sup 2 ) sup 2 
~~+~~b sub n sup 2 w sup 2} 
~~ = ~~ -~ 10~ log sub 10 ~[(1~-~~{{w sup 2} over {w sub n sup 2}}) sup 2 
~~+~~ {{b sub n sup 2 w sup 2} over {w sub n sup 4}}] 
.en 
db, 
.le 
following from what was calculated above. 
we will have to approximate this by assuming that 
$b sub n sup 2 /w sub n sup 2$ is 
negligible \(em this is quite reasonable for these higher formants because 
table 5.1 shows that the bandwidth does not increase in proportion to the 
formant frequency range \(em and approximate the logarithm by the first 
term of its series expansion: 
.lb 
.eq 
-10 ~ log sub 10 ~ (1~-~~{{w sup 2} over {w sub n sup 2}}) sup 2 
~~ = ~~ -20~ log sub 10 ~ e ~ log sub e  
(1~-~~{{w sup 2} over {w sub n sup 2}}) 
~~ = ~~ 20~ log sub 10 ~ e ~ times ~ {w sup 2} over {w sub n sup 2} ~ . 
.en 
.le 
.pp 
now the total effect of formants 4, 5, ... at frequency $f$\ hz (as distinct 
from $w$\ radians/s) is 
.lb 
.eq 
20~ log sub 10 ~ e ~ times ~ sum from n=4 to infinity 
~{{f sup 2} over {500 sup 2 (2n-1) sup 2}} ~ . 
.en 
.le 
this expression is 
.lb 
.eq 
20~ log sub 10 ~ e ~ times ~ 
{{f sup 2} over {500 sup 2}}~~(~sum from n=1 to infinity 
~{1 over {(2n-1) sup 2}} ~~-~~ sum from n=1 to 3 ~{1 over {(2n-1) sup 2}}~) 
~ . 
.en 
.le 
the infinite sum can actually be calculated in closed form, and is equal 
to  $pi sup 2 /8$.  hence the total correction is 
.lb 
.eq 
20~ log sub 10 ~ e ~ times {{f sup 2} over {500 sup 2}} 
~~(~{pi sup 2} over 8 ~~-~~ sum from n=1 to 3 ~{1 over {(2n-1) sup 2}}~) 
~~ = ~~ 2.87 times 10 sup -6 f sup 2 
.en 
db. 
.le 
.pp 
although this may at first seem to be a rather small correction, 
it is in fact 72\ db when 
$f=5$\ khz!  on further reflection this is not an unreasonable figure, for the 
12\ db/octave decays contributed by formants 1, 2, and 3 must all be annihilated 
by the higher-formant correction to give an overall flat spectral trend. 
in fact, formant 1 will contribute 
12\ db/octave from 500\ hz (3.3\ octaves to 5\ khz, representing 40\ db); formant 
2 will contribute 12\ db/octave from 1500\ hz (1.7\ octaves to 5\ khz, representing 
21\ db); and formant 3 will contribute 12\ db/octave from 2500\ hz (1\ octave to 5\ khz, 
representing 12\ db). 
these sum to 73\ db. 
.pp 
if the first five formants are synthesized explicitly instead of just the 
first three, the correction is 
.lb 
.eq 
20~ log sub 10 ~ e ~ times ~ {{f sup 2} over {500 sup 2}} 
~~(~{pi sup 2} over 8 ~-~~ sum from n=1 to 5 ~{1 over {(2n-1) sup 2}}~) 
~~ = ~~ 1.73 times 10 sup -6  f sup 2 
.en 
db, 
.le 
giving a rather more reasonable value of 43\ db when $f=5$\ khz.  in actual 
implementations, fixed filters are sometimes included explicitly for 
formants 4 and 5.  although this lowers the gain of the higher-formant 
correction filter, the total amplification at 5\ khz of the combined correction 
is still 72\ db.  if one is less demanding and aims for a synthesizer that 
produces a correct spectrum only up to 3.5\ khz, it is 35\ db. 
this places quite stringent requirements on the preceding formant filters if 
the stray noise that they generate internally is not to be amplified to 
perceptible magnitudes by the correction filter at high frequencies. 
.pp 
explicit inclusion of fixed filters for formants 4 and 5 undoubtedly improves 
the accuracy of the higher-formant correction.  recall that the above derivation 
of the correction filter characteristic used the first-order approximation 
.lb 
.eq 
log sub e (1~-~{{w sup 2} over {w sub n sup 2}}) 
~~ = ~~ -~ {w sup 2} over {w sub n sup 2} ~ , 
.en 
.le 
which is only valid if $w << w sub n$. 
thus it only holds at frequencies less than 
the highest explicitly synthesized formant, 
and so with formants 4 (3.5\ khz) and 
5 (4.5\ khz) included a reasonable correction should be obtained for 
telephone-quality speech.  however, detailed analysis with a second-order 
approximation shows that the coefficient of the neglected term is in fact 
small (fant, 1960). 
.[ 
fant 1960 acoustic theory of speech production 
.] 
a second, perhaps more compelling, reason for explicitly 
including a couple of fixed formants is that the otherwise enormous amplification 
provided by the correction can be distributed throughout the formant chain. 
we saw earlier why there is reason to prefer the 
order f3\(emf1\(emf2 over f1\(emf2\(emf3. 
with explicit formants 4 and 5, a suitable order which helps 
to keep the amplification at intermediate points in the chain within reasonable 
bounds is f3\(emf5\(emf2\(emf4\(emf1. 
.rh "parallel synthesizers." 
a series synthesizer models the vocal tract resonances by a chain of formant 
filters in series.  a parallel synthesizer utilizes a parallel connection of 
filters as illustrated in figure 5.9. 
.fc "figure 5.9" 
.pp 
consider a parallel combination of two formants with individually-controllable 
amplitudes.  the combined transfer function is 
.lb 
.eq 
h(s) ~~ mark = ~~ {a sub 1 w sub 1 sup 2} over 
{s sup 2 ~+~ b sub 1 s ~+~ w sub 1 sup 2} 
~~+~~{a sub 2 w sub 2 sup 2} over {s sup 2 ~+~ b sub 2 s ~+~ w sub 2 sup 2} 
.en 
.sp 
.sp 
.eq 
lineup = ~~ { (a sub 1 w sub 1 sup 2 + a sub 2 w sub 2 sup 2 )s sup 2 
~+~(a sub 1 b sub 2 w sub 1 sup 2 + a sub 2 b sub 1 w sub 2 sup 2 )s 
~+~ (a sub 1 +a sub 2 )w sub 1 sup 2 w sub 2 sup 2 } 
over 
{ (s sup 2 ~+~b sub 1 s~+~w sub 1 sup 2 ) 
(s sup 2 ~+~b sub 2 s~+~w sub 2 sup 2 ) } 
.en 
.le 
if the formant bandwidths $b sub 1$ and $b sub 2$ 
are equal and the amplitudes are 
chosen as 
.lb 
.eq 
a sub 1 ~~=~~ {w sub 2 sup 2} over {w sub 2 sup 2 -w sub 1 sup 2} 
~~~~~~~~ 
a sub 2 ~~=~~-~ {w sub 1 sup 2} over {w sub 2 sup 2 -w sub 1 sup 2} ~ , 
.en 
.le 
then the transfer function becomes the same as that of a two-formant series synthesizer, 
namely 
.lb 
.eq 
h(s) ~~ = ~~ {w sub 1 sup 2} over {s sup 2 ~+~ b sub 1 s ~+~ w sub 1 sup 2} 
~ . ~{w sub 2 sup 2} over {s sup 2 ~+~ b sub 2 s ~+~ w sub 2 sup 2} ~ . 
.en 
.le 
the argument can be extended to any number of formants, under the assumption 
that the formant bandwidths are equal.  note that the signs of $a sub 1$ 
and $a sub 2$ 
differ:  in general the formant amplitudes for a parallel synthesizer alternate 
in sign. 
.pp 
in theory, therefore, it would be possible to use five parallel formants to 
model a five-formant series synthesizer exactly.  then the same higher-formant 
correction filter would be needed for the parallel synthesizer as for the 
series one.  if the formant amplitudes were set slightly incorrectly, however, 
the five filters would not combine to give a total of 60\ db/octave high-frequency 
decay above the resonances.  it is easy to see this in the context of the 
simplified two-formant combination above:  if the amplitudes were not chosen 
exactly right then the $s sup 2$ 
term in the numerator would not be quite zero. 
then, the decay in the two-formant combination would be \-12\ db/octave instead 
of \-24\ db/octave, and in the five-formant case the decay would in fact still be 
\-12\ db/octave.  advantage can be taken of this to equalize the levels 
within the synthesizer so that large amplitude variations do not occur. 
this can best be done by associating relatively low-gain fixed correction filters 
with each formant instead of providing one comprehensive correction to the 
combined spectrum:  these are shown in figure 5.9. 
suitable correction filters 
have been determined empirically by holmes (1972). 
.[ 
holmes 1972 speech synthesis 
.] 
they provide a 6\ db/octave 
lift above 640\ hz for formant 1, and 6\ db/octave lift above 300\ hz for formant 
2.  formants 3 and 4 are uncorrected, whilst for formant 5 the correction begins 
as a 6\ db/octave decay above 600\ hz and increases to an 18\ db/octave decay 
above 5.5\ khz. 
.pp 
the disadvantage of a parallel synthesizer is that the amplitudes of the 
formants must be specified as well as their frequencies.  (furthermore, the 
formant bandwidths should all be equal, but they are often chosen to be such 
in series synthesizers because of the uncertainty as to their exact 
values.)  however, the extra amplitude parameters clearly give greater 
control over the frequency spectrum of the synthesized speech. 
.pp 
a good example of how this extra control can usefully be exploited is the 
synthesis of nasal sounds. 
nasalization introduces a cavity parallel to the oral tract, as illustrated 
in figure 5.10, and this causes zeros in the transfer function. 
.fc "figure 5.10" 
it is as if two different copies of the vocal tract transfer function, one for 
the oral and the other for the nasal passage, were added 
together.  we have seen the effect of this above when considering parallel 
synthesis.  the combination 
.lb 
.eq 
h(s) ~~ = ~~ {a sub 1 w sub o sup 2} over 
{s sup 2 ~+~ b sub o s ~+~ w sub o sup 2} 
~~+~~{a sub 2 w sub n sup 2} 
over {s sup 2 ~+~ b sub n s ~+~ w sub n sup 2} ~ , 
.en 
.le 
where the subscript "$o$" stands for oral and "$n$" for nasal, 
produces zeros in the 
numerator (unless the amplitudes are carefully adjusted to avoid them). 
these cannot be modelled by a series synthesizer, but they obviously can be 
by a parallel one. 
.pp 
although they are certainly needed for accurate imitation of human speech, 
transfer function zeros to simulate nasal sounds are not essential for 
synthesis of intelligible english.  it is not difficult to get a sound 
like a nasal consonant 
(\c 
.ul 
n, 
or 
.ul 
m\c 
) 
with an all-pole synthesizer. 
nevertheless, it is certainly true that a parallel synthesizer gives better 
.ul 
potential 
control over the spectrum than a series one.  whether the added flexibility 
can be used properly by a synthesis-by-rule computer program is another matter. 
.rh "implementation of formant filters." 
formant filters can be built in either analogue or digital form.  a 
second-order resonance is needed, whose centre frequency can be controlled 
but whose bandwidth is fixed.  if the control can be arranged as two 
tracking resistors, then the simple analogue configuration of figure 5.11, 
with two operational amplifiers, will suffice. 
.fc "figure 5.11" 
.pp 
the transfer function of this arrangement is 
.lb 
.eq 
- ~~ { 1/c sub 1 r sub 1 c sub 2 r sub 2 } over 
{ s sup 2 ~~+~~ {1 over {c sub 2 r sub 2}}~s 
~~+~~{1 over {c sub 1 r' sub 1 c sub 2 r sub 2 }}} ~ , 
.en 
.le 
which characterizes it as a low-pass resonator with dc gain 
of  $- r' sub 1 /r sub 1 $,  bandwidth of  $1/2 pi c sub 2 r sub 2$\ hz,  and 
centre frequency of  $1/2 pi (c sub 1 r' sub 1 c sub 2 r sub 2 ) sup 1/2$\ hz. 
tracking $r' sub 1$ with $r sub 1$ ensures that the dc gain remains constant, 
and that the centre frequency follows  $r sub 1 sup -1/2$.  moreover, 
neither is especially sensitive to slight departures from exact tracking 
of $r' sub 1$ with $r sub 1$. 
such a filter has been used in a simple hand-controlled speech synthesizer, 
built for demonstration and amusement (witten and madams, 1978). 
.[ 
witten madams 1978 chatterbox 
.] 
however, the need for tracking resistors, and the inverse square root variation 
of the formant frequency with $r sub 1$, makes it rather unsuitable for serious 
applications. 
.pp 
a better analogue filter is the ring-of-three configuration 
shown in figure 5.12. 
.fc "figure 5.12" 
(ignore the secondary output for now.)  control 
is achieved over the centre frequency by two multipliers, driven from 
the same control input $k$.  these have a high-impedance output, producing a 
current $kx$ if the input voltage is $x$. 
it is not too difficult to show that the transfer function of the circuit is 
.lb 
.eq 
- ~~ { {k sup 2} over {c sup 2} } over 
{ s sup 2 ~~+~~ 2 over rc ~s 
~~+~~{1+k sup 2 r sup 2} over {r sup 2 c sup 2} } ~ . 
.en 
.le 
suppose that $r$ is chosen so that  $k sup 2 r sup 2 ~ >>~ 1$.  then this is a 
unity-gain resonator with constant bandwidth  $1/ pi rc$\ hz  and centre 
frequency  $k/2 pi c$\ hz.  note that it is the combination of both multipliers that 
makes the centre frequency grow linearly with $k$:  with one multiplier there 
would be a square-root relationship. 
.pp 
the ring-of-three filter of figure 5.12 is arranged in a slightly unusual 
way, with an inverting stage at the beginning and the two resonant stages 
following it.  this ensures that the signal level at intermediate 
points in the filter does not exceed that at the output, and gives the filter 
the best chance of coping with a wide range of input amplitudes without 
clipping.  this contrasts markedly with the resonator of figure 5.11, where 
the voltage at the output of the first integrator is $w/b$ times the final output \(em a 
factor of 50 in the worst case. 
.pp 
for a digital implementation of a formant, consider the recurrence relation 
.lb 
.eq 
y(n)~ = ~~ a sub 1 y(n-1) ~-~ a sub 2 y(n-2) ~+~ a sub 0 x(n) , 
.en 
.le 
where $x(n)$ is the input and $y(n)$ the output at time $n$, 
$y(n-1)$ and $y(n-2)$ are the previous two values of the output, 
and $a sub 0$, $a sub 1$, and $a sub 2$ are (real) constants. 
the minus sign is in front of the second term because it makes $a sub 2$ 
turn out to be 
positive.  to calculate the $z$-transform version of this relationship, multiply 
through by $z sup -n$ and sum from $n=- infinity$ to $infinity$ : 
.lb "nn" 
.eq 
sum from {n=- infinity} to infinity ~y(n)z sup -n ~~ mark =~~ 
a sub 1 sum from {n=- infinity} to infinity ~y(n-1)z sup -n ~~-~ 
a sub 2 sum from {n=- infinity} to infinity ~y(n-2)z sup -n ~~+~ 
a sub 0 sum from {n=- infinity} to infinity ~x(n)z sup -n 
.en 
.sp 
.eq 
lineup = ~~ a sub 1 z sup -1 ~ sum ~y(n-1)z sup -(n-1) ~~-~~ 
a sub 2 z sup -2 ~ sum ~y(n-2)z sup -(n-2) 
~~+~~ a sub 0 ~ sum ~x(n)x sup -n ~ . 
.en 
.le "nn" 
writing this in terms of $z$-transforms, 
.lb 
.eq 
y(z)~ = ~~ a sub 1 z sup -1 y(z) ~-~ a sub 2 z sup -2 y(z) ~+~ a sub 0 x(z) . 
.en 
.le 
thus the input-output transfer function of the system is 
.lb 
.eq 
h(z)~ = ~~ y(z) over x(z) 
~~=~~ {a sub 0 } over {1~-~a sub 1 z sup -1 ~+~a sub 2 z sup -2} ~ . 
.en 
.le 
.pp 
we learned in the previous chapter that the frequency response is obtained 
from the $z$-transform of a system by replacing $z sup -1$ 
by  $e sup {-j2 pi ft}$,  where $f$ is the frequency variable in\ hz. 
hence the amplitude response of the digital formant filter is 
.lb 
.eq 
|h(e sup {j2 pi ft} )| sup 2 
~~ = ~~ left [ {a sub 0} over {1~-~a sub 1 e sup {-j2 pi ft} 
~+~a sub 2 e sup {-j4 pi ft} } ~ right ] sup 2 ~ . 
.en 
.sp 
.le 
it is fairly obvious from this that a dc gain of 1 is obtained if 
.lb 
.eq 
a sub 0 ~ = ~~ 1 ~-~ a sub 1  ~+~ a sub 2 , 
.en 
.le 
for  $e sup {-j2 pi ft}$  is 1 at a frequency of 0\ hz.  some manipulation is 
required to show that, under the usual assumption that the bandwidth is 
small, the centre frequency is 
.lb 
.eq 
1 over {2 pi t} ~~ cos sup -1 ~ {a sub 1} over {2 a sub 2 sup 1/2} ~ 
.en 
hz. 
.le 
furthermore, the 3\ db bandwidth of the resonance is given approximately by 
.lb 
.eq 
-~ 1 over {2 pi t} ~~ log sub e a sub 2 ~ 
.en 
hz. 
.le 
.pp 
as an example, figure 5.13 shows an amplitude response for this digital filter. 
.fc "figure 5.13" 
the parameters $a sub 0$, $a sub 1$ and $a sub 2$ 
were generated from the above 
relationships for a sampling frequency of 8\ khz, centre frequency of 1\ khz, 
and bandwidth of 75\ hz. 
it exhibits a peak of approximately the right bandwidth at the correct 
frequency, 1\ khz.  note that the response is flat at half the sampling 
frequency, for the frequency response from 4\ khz to 8\ khz is just a reflection of 
that up to 4\ khz. 
this contrasts sharply with that of an analogue formant filter, also shown 
in figure 5.13, which slopes 
at \-12\ db/octave at frequencies above resonance. 
.pp 
the behaviour of a digital formant filter at frequencies above 
resonance actually makes it preferable to an analogue implementation. 
we saw earlier that considerable trouble must be taken with the latter to 
compensate for the cumulative effect of \-12\ db/octave at higher frequencies for 
each of the formants. 
this is not necessary with digital implementations, for the response of 
a digital formant filter is flat at half the sampling frequency.  in fact, further 
study shows that digital synthesizers without any higher-pole correction 
give a closer approximation to the vocal tract than analogue ones with higher-pole 
correction (gold and rabiner, 1968). 
.[ 
gold rabiner 1968 analysis of digital and analogue formant synthesizers 
.] 
.rh "time-domain methods." 
an interesting alternative to frequency-domain speech synthesis is to construct 
the formants in the time domain.  when a second-order resonance is excited by 
an impulse, an exponentially decaying sinusoid is produced, as illustrated by 
figure 5.14. 
.fc "figure 5.14" 
the oscillation occurs at the resonant frequency of the filter, 
while the decay is related to the bandwidth.  in fact, if the formant filter 
has transfer function 
.lb 
.eq 
{w sup 2} over {s sup 2 ~+~ b s ~+~ w sup 2} ~ , 
.en 
.le 
the time waveform for impulsive excitation is 
.lb 
.eq 
x(t)~ = ~~ w~ e sup -bt/2 ~ sin ~ wt ~~~~~~~~ 
.en 
(neglecting  $b sup 2 /w sup 2$). 
.le 
it is the combination of several such time waveforms, coupled with the regular 
reappearance of excitation at the pitch period, that produces the characteristic 
wiggly waveform of voiced speech. 
.pp 
now suppose we take a sine wave of frequency $w$ and multiply it by a 
decaying exponential  $e sup -bt/2$.  this gives a signal 
.lb 
.eq 
x(t)~ = ~~ e sup -bt/2 ~ sin ~ wt , 
.en 
.le 
which is identical with the filtered impulse except for a factor $w$. 
if there are several formants in parallel, all with the same bandwidth, 
the exponential factor is the same for each: 
.lb 
.eq 
x(t)~ = ~~ e sup -bt/2 ~ (a sub 1 ~ sin ~ w sub 1 t 
~~+ ~~ a sub 2 ~ sin ~ w sub 2 t ~~ + ~~ a sub 3 ~  sin ~ w sub 3 t) . 
.en 
.le 
$a sub 1$, $a sub 2$, and $a sub 3$ control the formant amplitudes, 
as in an ordinary parallel synthesizer; 
except that they need adjusting to account for the missing 
factors $w sub 1$, $w sub 2$, and $w sub 3$. 
.pp 
a neat way of implementing such a synthesizer digitally is to store one cycle of a 
sine wave in a read-only memory (rom).  then, the formant frequencies can be 
controlled by reading the rom at different rates.  for example, if twice the 
basic frequency is desired, every second value should be read. 
multiplication is needed for amplitude control of each formant:  this can be 
accomplished by shifting the digital word (each place shifted accounts for 
6\ db of attenuation).  finally, the exponential damping factor can be 
provided in analogue hardware by a single capacitor after the d/a converter. 
this implementation gives a system for hardware-software synthesis which 
involves an absolutely minimal amount of extra hardware apart from the computer, 
and does not need hardware multiplication for real-time operation. 
it could easily be made to work in real time with a microprocessor coupled 
to a d/a converter, damping capacitor, and fixed tone-control filter to give 
the required spectral equalization. 
.pp 
because the overall spectral decay of an impulse exciting a second-order 
formant filter is 12\ db/octave, the appropriate equalization is +6\ db/octave 
lift at high frequencies, to give an overall \-6\ db/octave spectral trend. 
.pp 
note, however, that this synthesis model is an extremely basic one.  only 
impulsive excitation can be accomodated.  for fricatives, which we will 
discuss in more detail below, a different implementation is needed.  a 
hardware noise generator, with a few fixed filters \(em one 
for each fricative type \(em will suffice for a simple system.  more damaging 
is the lack of aspiration, where random noise excites the vocal tract resonances. 
this cannot be simulated in the model.  the 
.ul 
h 
sound can be provided by 
treating it as a fricative, and although it will not sound completely realistic, 
because there will be no variation with the formant positions of adjacent phonemes, 
this can be tolerated because 
.ul 
h 
is not too important for speech intelligibility. 
a bigger disadvantage is the lack of proper aspiration control for producing 
unvoiced stops, which as mentioned in chapter 2 consist of an silent phase 
followed by a burst of aspiration. 
experience has shown that although it is difficult to drive such a synthesizer 
from a software synthesis-by-rule system, quite intelligible output can 
be obtained if parameters are derived from real speech and tweaked by hand. 
then, for each aspiration burst the most closely-matching fricative sound 
can be used. 
.sh "5.4  aspiration and frication" 
.pp 
the model of the vocal tract as a filter which affects the frequency spectrum 
of the basic voiced excitation breaks down if there are constrictions in it, 
for these introduce new sound sources caused by turbulent air. 
the generation of unvoiced excitation has been discussed earlier in this 
chapter:  now we must consider how to simulate the filtering action of 
the vocal tract for unvoiced sounds. 
.pp 
aspiration and frication need to be dealt with separately.  the former 
is caused by excitation at the vocal cords \(em the cords are held 
so close together that turbulent noise is produced. 
this noise passes through the same vocal tract filter that modifies voiced 
sounds, and the same kind of formant structure can be observed. 
all that is needed to simulate it is to replace the voiced excitation 
source by white noise, as shown in the upper part of figure 5.15. 
.fc "figure 5.15" 
.pp 
speech can be whispered by substituting aspiration for voicing throughout. 
of course, there is no fundamental frequency associated with aspiration. 
an interesting way of assessing informally the degradation caused by inadequate 
pitch control in a speech synthesis-by-rule system is to listen to 
whispered speech, in which pitch variations play no part. 
.pp 
voiced and aspirative excitation are rarely produced at the same time 
in natural speech (but see the discussion in chapter 2 about breathy voice). 
however, the excitation can change from one to the other quite quickly, and 
when this happens there is no discontinuity in the formant structure. 
.pp 
fricative, or sibilant, excitation is quite different from aspiration, 
because it introduces a new sound source at a different place from the vocal 
cords.  the constriction which produces the sound may be at the lips, 
the teeth, the hard ridge just behind the top front teeth, or further 
back along the palate. 
these positions each produce a different sound 
(\c 
.ul 
f, 
.ul 
th, 
.ul 
s, 
and 
.ul 
sh 
respectively).  however, smooth transitions from one of these sounds to another 
do not occur in natural speech; and dynamical movement of the frequency 
spectrum during a fricative is unnecessary for speech synthesis. 
.pp 
it is necessary, however, to be able to produce an approximation to the 
noise spectrum for each of these sound types.  this is commonly achieved 
by a single high-pass resonance whose centre frequency can be controlled. 
this is the purpose of the secondary output 
of the formant filter of figure 5.12. 
taking the output from this point gives a high-pass instead of a low-pass 
resonance, and this same filter configuration is quite acceptable for 
fricatives.  figure 5.15 shows the fricative sound path as a noise generator 
followed by such a filter. 
.pp 
unlike aspiration, fricative excitation is frequently combined with voicing. 
this gives the voiced fricative sounds 
.ul 
v, 
.ul 
dh, 
.ul 
z, 
and 
.ul 
zh. 
it is possible to produce frication and aspiration together, and although 
there are no examples of this in english, speech synthesis-by-rule 
programs often use a short burst of aspiration 
.ul 
and 
frication when simulating the opening of unvoiced stops. 
separate amplitude controls are therefore needed for voicing and frication, 
but the former can be used for aspiration as well, with a "glottal excitation 
type" switch to indicate aspiration rather than voicing. 
.sh "5.5  summary" 
.pp 
a resonance speech synthesizer consists of a vocal tract filter, excited by 
either a periodic pitch pulse or aspiration noise.  in addition, a set of 
sibilant sounds must be provided.  the vocal tract filter is dynamic, with 
three controllable resonances.  these, coupled with some fixed spectral 
compensation, give it a fairly high order \(em about 10 complex poles are 
needed.  although several different sibilant sound types must be simulated, 
dynamical movement is less important in fricative sound spectra than 
for voiced and aspirated sounds because 
smooth transitions between one fricative and another are not important 
in speech. 
however, fricative timing and amplitude must be controlled rather precisely. 
.pp 
the speech synthesizer is controlled by several parameters. 
these include fundamental frequency (if voiced), amplitude of voicing, 
frequency of the first few \(em typically three \(em formants, 
aspiration amplitude, sibilance amplitude, and frequency of one (or more) 
sibilance filters. 
additionally, if the synthesizer is a parallel one, parameters for the 
amplitudes of individual formants will need to be included. 
it may be that some control over formant bandwidths is provided too. 
thus synthesizers have from eight up to about 20 parameters (klatt, 1980, 
describes one with 20 parameters). 
.[ 
klatt 1980 software for a cascade/parallel formant synthesizer 
.] 
.pp 
the parameters are supplied to the synthesizer at regular intervals of time. 
for a 10-parameter synthesizer, the control can be thought of as a set of 
10 graphs, each representing the time evolution of one parameter. 
they are usually called parameter 
.ul 
tracks, 
the terminology dating from the days when a track was painted on a glass 
slide for each parameter to provide dynamic control of the synthesizer 
(lawrence, 1953). 
.[ 
lawrence 1953 
.] 
the pitch track is often called a pitch 
.ul 
contour; 
this is a common phonetician's usage. 
do not confuse this with the everyday meaning of "contour" 
as a line joining points of equal height on a map \(em a pitch contour is 
just the time evolution of the pitch frequency. 
.pp 
for computer-controlled synthesizers, of course, the parameter tracks 
are sampled, typically every 5 to 20\ msec. 
the rate is determined by the need to generate fast amplitude transitions 
for nasals and stop consonants. 
contrast it with the 125\ $mu$sec sampling period needed to digitize 
telephone-quality speech. 
the raw data rate for a 10-parameter synthesizer updated every 10 msec 
is 1,000 parameters/sec, or 6\ kbit/s if each parameter is represented 
by 6\ bits. 
this is a substantial reduction over the 56\ kbit/s needed for pcm representation. 
for speech synthesis by rule (chapter 7), these parameter tracks 
are generated by a computer program from a phonetic (or english) 
version of the utterance, lowering the data rate by a further one or two 
orders of magnitude. 
.pp 
filters for speech 
synthesizers can be implemented in either analogue or digital form. 
high-order filters are usually broken down into second-order sections in 
parallel or in series.  a third possibility, which has not been discussed 
above, is to implement a single high-order filter directly.  finally, the 
action of formant filters can be synthesized in the time domain.  this gives 
eight possibilities which are summarized in table 5.2. 
.rf 
.in +0.5i 
.ta 2.1i +2.0i 
.nr x1 (\w'analogue'/2) 
.nr x2 (\w'digital'/2) 
	\h'-\n(x1u'analogue	\h'-\n(x2u'digital 
.nr x0 2.0i+(\w'liljencrants (1968)'/2)+(\w'morris and paillet (1972)'/2) 
.nr x3 (\w'liljencrants (1968)'/2) 
	\h'-\n(x3u'\l'\n(x0u\(ul' 
.sp 
.nr x1 (\w'rice (1976)'/2) 
.nr x2 (\w'rabiner \fiet al\fr'/2) 
series	\h'-\n(x1u'rice (1976)	\h'-\n(x2u'rabiner \fiet al\fr 
.nr x1 (\w'liljencrants (1968)'/2) 
.nr x2 (\w'holmes (1973)'/2) 
parallel	\h'-\n(x1u'liljencrants (1968)	\h'-\n(x2u'holmes (1973) 
.nr x1 (\w'unpublished'/2) 
.nr x2 (\w'unpublished'/2 
time-domain	\h'-\n(x1u'unpublished	\h'-\n(x2u'unpublished 
.nr x1 (\w'\(em'/2) 
.nr x2 (\w'morris and paillet (1972)'/2) 
high-order filter	\h'-\n(x1u'\(em	\h'-\n(x2u'morris and paillet (1972) 
	\h'-\n(x3u'\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in-0.5i 
.fg "table 5.2  implementation options for resonance speech synthesizers" 
.[ 
rice 1976 byte 
.] 
.[ 
rabiner jackson schafer coker 1971 
.] 
.[ 
liljencrants 1968 
.] 
.[ 
holmes 1973 influence of glottal waveform on naturalness 
.] 
.[ 
morris and paillet 1972 
.] 
all but one have certainly been used as the basis for synthesis, and 
the table includes reference to published descriptions. 
.pp 
each method has advantages and disadvantages.  series decomposition obviates 
the need for control over the amplitudes of individual formants, but does 
not allow synthesis of sounds which use the nasal tract as well as the oral 
one; for these are in parallel.  analogue implementation of series synthesizers 
is complicated by the need for higher-pole correction, and the fact that 
the gains at different frequencies can vary widely throughout the system. 
higher-pole correction is not so important for digital synthesizers. 
parallel decomposition eliminates some of these problems:  higher-pole correction 
can be implemented individually for each formant.  however, the formant 
amplitudes must be controlled rather precisely to simulate the vocal tract, 
which is essentially serial. 
time-domain synthesis is associated with low hardware costs but does not 
easily allow proper control over the excitation sources.  in particular, 
it cannot simulate dynamical movement of the spectrum during aspiration. 
implementation of the entire vocal tract model as a single high-order filter, 
without breaking it down into individual formants in series or parallel, 
is attractive from the computational point of view because less arithmetic 
operations are required.  it is best analysed in terms of linear predictive 
coding, which is the subject of the next chapter. 
.sh "5.6  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.sh "5.7  further reading" 
.pp 
historically-minded readers should look at the early speech synthesizer 
designed by lawrence (1953). 
this and other classic papers on the subject 
are reprinted in flanagan and rabiner (1973). 
a good description of a quite sophisticated parallel synthesizer can 
be found in holmes (1973), above, and another of a switchable 
series/parallel one in klatt (1980), who even includes a listing of 
the fortran program that implements it. 
here are some useful books on speech synthesizers. 
.lb "nn" 
.\"fant-1960-1 
.]- 
.ds [a fant, g. 
.ds [d 1960 
.ds [t acoustic theory of speech production 
.ds [i mouton 
.ds [c the hague 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
fant really started the study of the vocal tract as an acoustic system, 
and this book marks the beginning of modern speech synthesis. 
.in-2n 
.\"flanagan-1972-1 
.]- 
.ds [a flanagan, j.l. 
.ds [d 1972 
.ds [t speech analysis, synthesis, and perception (2nd, expanded, edition) 
.ds [i springer verlag 
.ds [c berlin 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this book is the speech researcher's bible, and like the bible, it's not 
all that easy to read. 
however, it is an essential reference source for speech acoustics and 
speech synthesis (as well as for human speech perception). 
.in-2n 
.\"flanagan-1973-2 
.]- 
.ds [a flanagan, j.l. 
.as [a " and rabiner, l.r.(editors) 
.ds [d 1973 
.ds [t speech synthesis 
.ds [i dowsen, hutchinson and ross 
.ds [c stroudsburg, pennsylvania 
.nr [t 0 
.nr [a 0 
.nr [o 0 
.][ 2 book 
.in+2n 
i recommended this book at the end of chapter 1 as a collection of 
classic papers on the subject of speech synthesis and synthesizers. 
.in-2n 
.\"holmes-1972-3 
.]- 
.ds [a holmes, j.n. 
.ds [d 1972 
.ds [t speech synthesis 
.ds [i mills and boom 
.ds [c london 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this little book, by one of britain's foremost workers in the field, 
introduces the subject of speech synthesis and speech synthesizers. 
it has a particularly good discussion of parallel synthesizers. 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "6  linear prediction of speech" 
.ds rt "linear prediction of speech 
.ds cx "principles of computer speech 
.pp 
the speech coding techniques which were discussed in chapter 3 operate 
in the time domain, while the analysis and synthesis techniques 
of chapters 4 and 5 are 
based in the frequency domain.  linear prediction is a relatively 
new method of speech analysis-synthesis, 
introduced in the early 1970's and used 
extensively since then, which is primarily a time-domain coding method 
but can be used to give frequency-domain parameters like formant 
frequency, bandwidth, and amplitude. 
.pp 
it has several advantages over other speech analysis techniques, and is 
likely to become increasingly dominant in speech output systems. 
as well as bridging the gap between time- and frequency-domain techniques, it 
is of equal value for both speech storage and speech synthesis, and forms 
an extremely convenient basis for speech-output systems which use high-quality 
stored speech for routine messages and synthesis from phonetics or text 
for unusual or exceptional conditions.  linear prediction can be used to 
separate the excitation source properties of pitch and amplitude from the 
vocal tract filter which governs phoneme articulation, or, in other words, 
to separate much of the prosodic from the segmental information. 
hence it makes it easy to use stored segmentals with synthetic prosody, 
which is just what is needed to enhance the flexibility of stored speech by 
providing overall intonation contours for utterances formed by word 
concatenation (see chapter 7). 
.pp 
the frequency-domain analysis technique 
of fourier transformation necessarily involves approximation because it 
applies only to periodic waveforms, and so the artificial operation 
of windowing is required to suppress the aperiodicity of real 
speech.  in contrast, the linear predictive technique, being a time-domain 
method, can \(em in certain forms \(em deal more rationally with aperiodic 
signals. 
.pp 
the basic idea of linear predictive coding is exactly the same as 
one form of adaptive differential pulse code modulation which 
was introduced briefly in chapter 3.  there it was noted that a speech 
sample $x(n)$ can be predicted quite closely by the previous sample 
$x(n-1)$.  the prediction can be improved by multiplying the previous 
sample by a number, say $a sub 1$, which is adapted on a syllabic 
time-scale.  this can be utilized for speech coding by transmitting 
only the prediction error 
.lb 
.eq 
e(n)~=~~x(n)~-~a sub 1 x(n-1), 
.en 
.le 
and using it (and the value of $a sub 1$) to reconstitute the signal 
$x(n)$ at the receiver.  it is worthwhile noting that 
exactly the same relationship was used for digital 
preemphasis in chapter 4, with the value of $a sub 1$ 
being constant at about 0.9 \(em although 
the possibility of adapting it to take into account the difference 
between voiced and unvoiced speech was discussed. 
.pp 
an obvious extension is to use several past values of the signal to form 
the prediction, instead of just one.  different multipliers for each would 
be needed, so that the prediction error could be written as 
.lb 
.eq 
e(n)~~ mark =~~x(n)~-~a sub 1 x(n-1)~-~a sub 2 x(n-2)~-~...~-~a sub p x(n-p) 
.en 
.sp 
.eq 
lineup =~~x(n)~-~~sum from k=1 to p ~a sub k x(n-k). 
.en 
.le 
the multipliers $a sub k$ should be adapted to minimize the error signal, 
and we will consider how to do this in the next section.  it turns out 
that they must be re-calculated and transmitted on a time-scale that is 
rather faster than syllabic but much slower than 
the basic sampling rate:  intervals 
of 10\-25\ msec are usually used (compare this with the 125\ $mu$sec sampling 
rate for telephone-quality speech). 
a configuration for high-order adaptive differential 
pulse code modulation is shown in figure 6.1. 
.fc "figure 6.1" 
.pp 
figure 6.2 shows typical time waveforms for each of the ten coefficients 
over a 1-second stretch of speech. 
.fc "figure 6.2" 
notice that they vary much more slowly than, say, the speech waveform of 
figure 3.5. 
.pp 
turning the above relationship into $z$-transforms gives 
.lb 
.eq 
e(z)~~=~~x(z)~-~~sum from k=1 to p ~a sub k z sup -k ~x(z)~~=~~(1~-~~ 
sum from k=1 to p ~a sub k z sup -k )~x(z). 
.en 
.le 
rewriting the speech signal in terms of the error, 
.lb 
.eq 
x(z)~~=~~1 over {1~-~~ sum ~a sub k z sup -k }~.~e(z) . 
.en 
.le 
.pp 
now let us bring together some facts from the previous chapter which will 
allow the time-domain technique of linear prediction to be interpreted 
in terms of the frequency-domain formant model of speech.  recall that speech 
can be viewed as an excitation source passing through a vocal tract filter, 
followed by another filter to model the effect of radiation from the lips. 
the overall spectral levels can be reassigned as in figure 5.1 so that 
the excitation source has a 0\ db/octave spectral profile, and hence is 
essentially impulsive. 
considering the vocal tract filter as a series connection 
of digital formant filters, its transfer function is the product of terms like 
.lb 
.eq 
1 over {1~-~b sub 1 z sup -1 ~+~b sub 2 z sup -2}~ , 
.en 
.le 
where $b sub 1$ and $b sub 2$ control the position and bandwidth of the formant resonances. 
the \-6\ db/octave spectral compensation can be modelled by the 
first-order digital filter 
.lb 
.eq 
1 over {1~-~bz sup -1}~ . 
.en 
.le 
the product of all these terms, when multiplied out, will have the 
form 
.lb 
.eq 
1 over {1~-~c sub 1 z sup -1 ~-~c sub 2 z sup -2 ~-~...~-~ 
c sub q z sup -q }~ , 
.en 
.le 
where $q$ is twice the number of formants plus one, and the $c$'s are calculated 
from the positions and bandwidths of the formant resonances and the spectral 
compensation parameter.  hence 
the $z$-transform of the speech is 
.lb 
.eq 
x(z)~=~~1 over {1~-~~ sum from k=1 to q ~c sub k z sup -k }~.~i(z) , 
.en 
.le 
where $i(z)$ is the transform of the impulsive excitation. 
.pp 
this is remarkably similar to the linear prediction relation given earlier!  if 
$p$ and $q$ are the same, then the linear predictive coefficients $a sub k$ 
form a $p$'th order polynomial which is the same as that obtained by multiplying 
together the second-order polynomials representing the individual formants 
(together with the first-order one for spectral compensation). 
furthermore, the predictive error $e(z)$ can be identified with the 
impulsive excitation $i(z)$.  this raises the very interesting 
possibility of parametrizing the error signal by its frequency and 
amplitude \(em two relatively slowly-varying quantities \(em instead of 
transmitting it sample-by-sample (at an 8\ khz rate).  this is how 
linear prediction separates out the excitation properties of the source 
from the vocal tract filter:  the source parameters can be derived 
from the error signal and the vocal tract filter is represented by 
the linear predictive coefficients. 
figure 6.3 shows how this can be used for speech transmission. 
.fc "figure 6.3" 
note that 
.ul 
no 
signals need now be transmitted at the speech sampling rate; for the 
source parameters vary relatively slowly.  this leads to an extremely 
low data rate. 
.pp 
practical linear predictive coding schemes operate with a value of $p$ between 
10 and 15, corresponding approximately to 4-formant and 7-formant synthesis 
respectively.  the $a sub k$'s are re-calculated every 10 to 25\ msec, and 
transmitted to the receiver.  also, the pitch and amplitude 
of the speech are estimated and transmitted at the same rate. 
if the speech 
is unvoiced, there is no pitch value:  an "unvoiced flag" is 
transmitted instead. 
because the linear predictive coefficients are intimately related to 
formant frequencies and bandwidths, a "frame rate" in the region 
of 10 to 25\ msec is appropriate because this approximates the maximum rate 
at which acoustic events happen in speech production. 
.pp 
at the receiver, the excitation waveform 
is reconstituted. 
for voiced speech, it is impulsive at the specified 
frequency and with the specified amplitude, while for unvoiced speech it 
is random, with the specified amplitude.  this signal $e(n)$, together 
with the transmitted parameters $a sub 1$, ..., $a sub p$, is used 
to regenerate the speech waveform by 
.lb 
.eq 
x(n)~=~~e(n)~+~~sum from k=1 to p ~a sub k x(n-k) , 
.en 
.le 
\(em which is the inverse of the transmitter's formula for calculating $e(n)$, 
namely 
.lb 
.eq 
e(n)~=~~x(n)~-~~sum from k=1 to p ~a sub k x(n-k) . 
.en 
.le 
this relies on knowing the past $p$ values of the speech samples. 
many systems set these past values to zero at the beginning of each pitch 
cycle. 
.pp 
linear prediction can also be used for speech analysis, rather than 
for speech coding, as shown in figure 6.4. 
.fc "figure 6.4" 
instead of transmitting the coefficients $a sub k$, 
they are used to determine the formant positions and bandwidths. 
we saw above that the polynomial 
.lb 
.eq 
1~-~a sub 1 z sup -1 ~-~a sub 2 z sup -2 ~-~...~-~a sub p z sup -p , 
.en 
.le 
when factored into a product of second-order terms, gives the formant 
characteristics (as well as the spectral compensation term). 
factoring is equivalent to finding the complex roots of the polynomial, 
and this is fairly demanding computationally \(em especially if done at 
a high rate.  consequently, peak-picking algorithms are sometimes 
used instead.  the absolute value of the polynomial gives the 
frequency spectrum of the vocal tract filter, and the formants 
appear as peaks \(em just as they do in cepstrally smoothed speech 
(see chapter 4). 
.pp 
the chief deficiency in the linear predictive method, whether it 
is used for speech coding or for speech analysis, is that \(em like a series 
synthesizer \(em it 
implements an all-pole model of the vocal tract. 
we mentioned in chapter 5 that this is rather simplistic, 
especially for nasalized sounds which involve a cavity in parallel 
with the oral one.  some research has been done on incorporating zeros 
into a linear predictive model, but it complicates the problem of 
calculating the parameters enormously.  for most purposes people seem 
to be able to live with the limitations of the all-pole model. 
.sh "6.1  linear predictive analysis" 
.pp 
the key problem in linear predictive coding is to determine the values 
of the coefficients $a sub 1$, ..., $a sub p$. 
if the error signal is to be transmitted on a sample-by-sample basis, 
as it is in adaptive differential pulse code modulation, then it can be most 
economically encoded if its mean power is as small as possible. 
thus the coefficients are chosen to minimize 
.lb 
.eq 
sum ~e(n) sup 2 
.en 
.le 
over some period of time. 
the period of time used is related to the frame rate at which the 
coefficients are transmitted or stored, although there is no need 
to make it exactly the same as one frame interval.  as mentioned above, 
the frame size 
is usually chosen to be in the region of 10 to 25\ msec.  some 
schemes minimize the error signal over as few as 30 samples 
(corresponding to 3\ msec at a 10\ khz sampling rate).  others take 
longer; up to 250 samples (25\ msec). 
.pp 
however, if the error signal is to be considered as impulsive and 
parametrized by its frequency and amplitude before transmission, 
or if the coefficients $a sub k$ are to be used for spectral calculations, 
then it is not immediately obvious how the coefficients should be 
calculated. 
in fact, it is still best to choose them to minimize the above sum. 
this is at least plausible, for an impulsive excitation will have a 
rather small mean power \(em most of the samples are zero. 
it can be justified theoretically in terms of 
.ul 
spectral whitening, 
for it can be shown that minimizing the mean-squared error 
produces an error signal whose spectrum is maximally flat. 
now the only two waveforms whose spectra are absolutely flat 
are a single impulse and white noise.  hence if 
the speech is voiced, minimizing the mean-squared error 
will lead to an error signal which is as nearly impulsive 
as possible.  provided the time-frame for minimizing is short enough, 
the impulse will correspond to a single excitation pulse. 
if the speech is unvoiced, minimization will lead to an error 
signal which is as nearly white noise as possible. 
.pp 
how does one choose the linear predictive coefficients to minimize 
the mean-squared error?  the total squared prediction error is 
.lb 
.eq 
m~=~~sum from n ~e(n) sup 2~~=~~sum from n 
~[x(n)~-~ sum from k=1 to p ~a sub k x sub n-k ] sup 2 , 
.en 
.le 
leaving the range of summation unspecified for the moment. 
to minimize $m$ by choice of the coefficients $a sub j$, differentiate 
with respect to each of them and set the resulting derivatives 
to zero. 
.lb 
.eq 
dm over {da sub j} ~~=~~-2 sum from n ~x(n-j)[x(n)~-~~ 
sum from k=1 to p ~a sub k x(n-k)]~~=~0~, 
.en 
.le 
so 
.lb 
.eq 
sum from k=1 to p ~a sub k ~ sum from n ~x(n-j)x(n-k)~~=~~ 
sum from n ~x(n)x(n-j)~~~~j~=~1,~2,~...,~p. 
.en 
.le 
.pp 
this is a set of $p$ linear equations for the $p$ unknowns $a sub 1$, ..., 
$a sub p$. 
solving it is equivalent to inverting a $p times p$ matrix. 
this job must be repeated at the frame rate, and so if 
real-time operation is desired quite a lot of calculation is needed. 
.rh "the autocorrelation method." 
so far, the range of the $n$-summation has been left open.  the 
coefficients of the matrix equation have the form 
.lb 
.eq 
sum from n ~x(n-j)x(n-k). 
.en 
.le 
if a doubly-infinite summation were made, with $x(n)$ being defined 
as zero whenever $n<0$, we could make use of the fact that 
.sp 
.ce 
.eq 
sum from {n=- infinity} to infinity ~x(n-j)x(n-k)~=~~ 
sum from {n=- infinity} to infinity ~x(n-j+1)x(n-k+1)~=~...~=~~ 
sum from {n=- infinity} to infinity ~x(n)x(n+j-k) 
.en 
.sp 
to simplify the matrix equation.  this just states that the 
autocorrelation of an infinite sequence depends only on the lag at which 
it is computed, and not on absolute time. 
.pp 
defining $r(m)$ as the 
autocorrelation at lag $m$, that is, 
.lb 
.eq 
r(m)~=~ sum from n ~x(n)x(n+m), 
.en 
.le 
the matrix equation becomes 
.lb 
.ne7 
.nf 
.eq 
r(0)a sub 1 ~+~r(1)a sub 2 ~+~r(2)a sub 3 ~+~...~~=~r(1) 
.en 
.eq 
r(1)a sub 1 ~+~r(0)a sub 2 ~+~r(1)a sub 3 ~+~...~~=~r(2) 
.en 
.eq 
r(2)a sub 1 ~+~r(1)a sub 2 ~+~r(0)a sub 3 ~+~...~~=~r(3) 
.en 
.eq 
etc 
.en 
.fi 
.le 
an elegant method due to durbin and levinson exists for solving this 
special system of equations.  it requires much less computational 
effort than is generally needed for symmetric matrix equations. 
.pp 
of course, an infinite range of summation can not be used in 
practice.  for one thing, the power spectrum is changing, and 
only the data from a short time-frame should be used for 
a realistic estimate of the optimum linear predictive coefficients. 
hence a windowing procedure, 
.lb 
.eq 
x(n) sup * ~=~w sub n x(n), 
.en 
.le 
is used to reduce the signal to zero outside a finite range of 
interest.  windows were discussed in chapter 4 from the 
point of view of fourier analysis of speech signals, and the same 
sort of considerations apply to choosing a window for linear 
prediction. 
.pp 
this is known as the 
.ul 
autocorrelation method 
of computing prediction parameters.  typically a window of 
100 to 250 samples is used for analysis of one frame of speech. 
.rh "algorithm for the autocorrelation method." 
the algorithm for obtaining linear prediction coefficients 
by the autocorrelation method is quite simple.  it is 
straightforward to compute the matrix coefficients 
$r(m)$ from the speech samples and window coefficients. 
the durbin-levinson method of solving matrix equations operates 
directly on this $r$-vector to produce the coefficient vector $a sub k$. 
the complete procedure is given as procedure 6.1, and is shown 
diagrammatically in figure 6.5. 
.fc "figure 6.5" 
.rf 
.fi 
.na 
.nh 
.ul 
const 
n=256; p=15; 
.ul 
type 
svec = 
.ul 
array 
[0..n\-1] 
.ul 
of 
real; 
cvec = 
.ul 
array 
[1..p] 
.ul 
of 
real; 
.sp 
.ul 
procedure 
autocorrelation(signal: vec; window: svec; 
.ul 
var 
coeff: cvec); 
.sp 
{computes linear prediction coefficients by autocorrelation method 
in coeff[1..p]} 
.sp 
.ul 
var 
r, temp: 
.ul 
array 
[0..p] 
.ul 
of 
real; 
n: [0..n\-1]; i,j: [0..p]; e: real; 
.sp 
.ul 
begin 
{window the signal} 
.in+6n 
.ul 
for 
n:=0 
.ul 
to 
n\-1 
.ul 
do 
signal[n] := signal[n]*window[n]; 
.sp 
{compute autocorrelation vector} 
.br 
.ul 
for 
i:=0 
.ul 
to 
p 
.ul 
do begin 
.in+2n 
r[i] := 0; 
.br 
.ul 
for 
n:=0 
.ul 
to 
n\-1\-i 
.ul 
do 
r[i] := r[i] + signal[n]*signal[n+i] 
.in-2n 
.ul 
end; 
.sp 
{solve the matrix equation by the durbin-levinson method} 
.br 
e := r[0]; 
.br 
coeff[1] := r[1]/e; 
.br 
.ul 
for 
i:=2 
.ul 
to 
p 
.ul 
do begin 
.in+2n 
e := (1\-coeff[i\-1]*coeff[i\-1])*e; 
.br 
coeff[i] := r[i]; 
.br 
.ul 
for 
j:=1 
.ul 
to 
i\-1 
.ul 
do 
coeff[i] := coeff[i] \- r[i\-j]*coeff[j]; 
.br 
coeff[i] := coeff[i]/e; 
.br 
.ul 
for 
j:=1 
.ul 
to 
i\-1 
.ul 
do 
temp[j] := coeff[j] \- coeff[i]*coeff[i\-j]; 
.br 
.ul 
for 
j:=1 
.ul 
to 
i\-1 
.ul 
do 
coeff[j] := temp[j] 
.in-2n 
.ul 
end 
.in-6n 
.ul 
end. 
.nf 
.fg "procedure 6.1  pascal algorithm for the autocorrelation method" 
.pp 
this algorithm is not quite as efficient as it might be, for some 
multiplications are repeated during the calculation of the 
autocorrelation vector.  blankinship (1974) shows how 
the number of multiplications can be reduced by about half. 
.[ 
blankinship 1974 
.] 
.pp 
if the algorithm is performed in fixed-point arithmetic 
(as it often is in practice because of speed considerations), 
some scaling must be done.  the maximum and minimum values of 
the windowed signal can be determined within the window 
calculation loop, and one extra pass over the vector will 
suffice to scale it to maximum significance. 
(incidentally, if all sample values are the same the procedure 
cannot produce a solution because $e$ becomes zero, and this 
can easily be checked when scaling.) 
.pp 
the absolute value of the $r$-vector has no significance, and since 
$r(0)$ is always the greatest element, this can be set to the largest 
fixed-point number and the other $r$'s scaled down appropriately 
after they have been calculated. 
these scaling operations are shown as dashed boxes in figure 6.5. 
$e$ decreases monotonically 
as the computation proceeds, so it is safe to initialize it to $r(0)$ 
without extra scaling.  the remainder of the scaling is straightforward, 
with the linear prediction coefficients $a sub k$ appearing as fractions. 
.rh "the covariance method." 
one of the advantages of linear predictive methods that was 
promised earlier was that it allows us to escape from 
the problem of windowing.  to do this, we must abandon the 
requirement that the coefficients of the matrix equation have 
the symmetry property of autocorrelations.  instead, suppose 
that the range of $n$-summation uses a fixed number of 
elements, say n, starting at $n=h$, to estimate the prediction 
coefficients between sample number $h$ and sample number $h+n$. 
.pp 
this leads to the matrix equation 
.lb 
.eq 
sum from k=1 to p ~a sub k sum from n=h to h+n-1 ~x(n-j)x(n-k) ~~=~~ 
sum from n=h to h+n-1 ~x(n)x(n-j)~~~~j~=~1,~2,~...,~p. 
.en 
.le 
alternatively, we could write 
.lb 
.eq 
sum from k=1 to p ~a sub k ~ q sub jk sup h~~=~~q sub 0j sup h 
~~~~j~=~1,~2,~...,~p; 
.en 
.le 
where 
.lb 
.eq 
q sub jk sup h~~=~~sum from n=h to h+n-1 ~x(n-j)x(n-k). 
.en 
.le 
note that some values of $x(n)$ outside the range  $h ~ <= ~ n ~ < ~ h+n$  are 
required:  these are shown diagrammatically in figure 6.6. 
.fc "figure 6.6" 
.pp 
now  $q sub jk sup h ~=~ q sub kj sup h$,  so the equation has 
a diagonally symmetric matrix; and in fact the matrix $q sup h$ can 
be shown to be positive semidefinite \(em and is almost always positive 
definite in practice.  advantage can be taken of these facts 
to provide a computationally efficient method for solving the 
equation.  according to a result called cholesky's theorem, a 
positive definite symmetric matrix $q$ can be factored into the form 
$q ~ = ~ ll sup t$, where $l$ is a lower triangular matrix. 
this leads to an efficient 
solution algorithm. 
.pp 
this method of computing prediction coefficients has become known 
as the 
.ul 
covariance method. 
it does not use windowing of the speech signal, and can give accurate 
estimates of the prediction coefficients with a smaller analysis 
frame than the autocorrelation method.  typically, 50 to 100 speech samples 
might be used to estimate the coefficients, and they are re-calculated 
every 100 to 250 samples. 
.rh "algorithm for the covariance method." 
an algorithm for the covariance method is given in procedure 6.2, 
.rf 
.fi 
.na 
.nh 
.ul 
const 
n=100; p=15; 
.ul 
type 
svec = 
.ul 
array 
[\-p..n\-1] 
.ul 
of 
real; 
cvec = 
.ul 
array 
[1..p] 
.ul 
of 
real; 
.sp 
.ul 
procedure 
covariance(signal: svec; 
.ul 
var 
coeff: cvec); 
.sp 
{computes linear prediction coefficients by covariance method 
in coeff[1..p]} 
.sp 
.ul 
var 
q: 
.ul 
array 
[0..p,0..p] 
.ul 
of 
real; 
n: [0..n\-1]; i,j,r: [0..p]; x: real; 
.sp 
.ul 
begin 
{calculate upper-triangular covariance matrix in q} 
.in+6n 
.ul 
for 
i:=0 
.ul 
to 
p 
.ul 
do 
.in+2n 
.ul 
for 
j:=i 
.ul 
to 
p 
.ul 
do begin 
.in+2n 
q[i,j]:=0; 
.br 
.ul 
for 
n:=0 
.ul 
to 
n\-1 
.ul 
do 
.in+2n 
q[i,j] := q[i,j] + signal[n\-i]*signal[n\-j] 
.in-2n 
.in-2n 
.ul 
end; 
.in-2n 
.sp 
{calculate the square root of q} 
.br 
.ul 
for 
r:=2 
.ul 
to 
p 
.ul 
do 
.in+2n 
.ul 
begin 
.in+2n 
.ul 
for 
i:=2 
.ul 
to 
r\-1 
.ul 
do 
.in+2n 
.ul 
for 
j:=1 
.ul 
to 
i\-1 
.ul 
do 
.in+2n 
q[i,r] := q[i,r] \- q[j,i]*q[j,r]; 
.in-2n 
.ul 
for 
j:=1 
.ul 
to 
r\-1 
.ul 
do 
.in+2n 
.ul 
begin 
.in+2n 
x := q[j,r]; 
.br 
q[j,r] := q[j,r]/q[j,i]; 
.br 
q[r,r] := q[r,r] \- q[j,r]*x 
.in-2n 
.ul 
end 
.in-2n 
.in-2n 
.in-2n 
.ul 
end; 
.in-2n 
.sp 
{calculate coeff[1..p]} 
.br 
.ul 
for 
r:=2 
.ul 
to 
p 
.ul 
do 
.in+2n 
.ul 
for 
i:=1 
.ul 
to 
r\-1 
.ul 
do 
q[0,r] := q[0,r] \- q[i,r]*q[0,i]; 
.in-2n 
.ul 
for 
r:=1 
.ul 
to 
p 
.ul 
do 
q[0,r] := q[0,r]/q[r,r]; 
.br 
.ul 
for 
r:=p\-1 
.ul 
downto 
1 
.ul 
do 
.in+2n 
.ul 
for 
i:=r+1 
.ul 
to 
p 
.ul 
do 
q[0,r] := q[0,r] \- q[r,i]*q[0,i]; 
.in-2n 
.ul 
for 
r:=1 
.ul 
to 
p 
.ul 
do 
coeff[r] := q[0,r] 
.in-6n 
.ul 
end. 
.nf 
.fg "procedure 6.2  pascal algorithm for the covariance method" 
and is shown diagrammatically in figure 6.7. 
.fc "figure 6.7" 
the algorithm shown is not terribly efficient from a computation 
and storage point of view, although it is workable.  for one thing, 
it uses the obvious method for computing the covariance matrix 
by calculating 
.eq 
q sub 01 sup h , 
.en 
.eq 
q sub 02 sup h , ~ ..., 
.en 
.eq 
q sub 0p sup h , 
.en 
.eq 
q sub 11 sup h , ..., 
.en 
in turn, which repeats most of the multiplications $p$ times \(em not 
an efficient procedure.  a simple alternative is to precompute the necessary 
multiplications and store them in a  $(n+h) times (p+1)$ diagonally symmetric 
table, but even apart from the extra storage required for this, the number 
of additions which must be performed subsequently to give the $q$'s is far 
larger than necessary.  it is possible, however, to write a procedure which is 
both time- and space-efficient (witten, 1980). 
.[ 
witten 1980 algorithms for linear prediction 
.] 
.pp 
the scaling problem is rather more tricky for the covariance 
method than for the autocorrelation method.  the $x$-vector 
should be scaled initially in the same way as before, but now there 
are $p+1$ diagonal elements of the covariance matrix, any of which could 
be the greatest element.  of course, 
.lb 
.eq 
q sub jk ~~ <= ~~ max ( q sub 11 , q sub 22 , ..., q sub pp ), 
.en 
.le 
but despite the considerable communality in the summands of the diagonal 
elements, there are no 
.ul 
a priori 
bounds on the ratios between them. 
.pp 
the only way to scale the $q$ matrix properly is to calculate each of its $p$ 
diagonal elements and use the greatest as a scaling factor. 
alternatively, the fact that 
.lb 
.eq 
q sub jk ~~ <= ~~ n times max( x sub n sup 2 ) 
.en 
.le 
can be used to give a bound for scaling purposes; however, this 
is usually a rather conservative bound, and as $n$ is often around 100, several 
bits of significance will be lost. 
.pp 
scaling difficulties do not cease when $q$ has been determined.  it is possible 
to show that the elements of the lower-triangular matrix $l$ which represents 
the square root of $q$ are actually 
.ul 
unbounded. 
in fact there is a slightly different variant of the cholesky decomposition 
algorithm which guarantees bounded coefficients but suffers from the 
disadvantage that it requires square roots to be taken (martin 
.ul 
et al, 
1965). 
.[ 
martin peters wilkinson 1965 
.] 
however, experience with the method indicates that it is rare for the elements 
of $l$ to exceed 16 times the maximum element of $q$, and the possibility of 
occasional failure to adjust the coefficients may be tolerable in a practical 
linear prediction system. 
.rh "comparison of autocorrelation and covariance analysis." 
there are various factors which should be taken into account when 
deciding whether to use the autocorrelation or covariance method for linear 
predictive analysis.  furthermore, there is a rather different technique, 
called the "lattice method", which will be discussed shortly. 
the autocorrelation method involves windowing, which means that in 
practice a rather longer stretch of speech should be used 
for analysis.  we have illustrated this by setting $n$=256 in the 
autocorrelation algorithm and 100 in the covariance one. 
offsetting the extra calculation that this entails is the 
fact that the durbin-levinson method of inverting a matrix is much more 
efficient than cholesky decomposition.  in practice, this means 
that similar amounts of computation are needed for each method \(em a 
detailed comparison is made in witten (1980). 
.[ 
witten 1980 algorithms for linear prediction 
.] 
.pp 
a factor which weighs against the covariance method is the 
difficulty of scaling intermediate quantities within the algorithm. 
the autocorrelation method can be implemented quite satisfactorily 
in fixed-point arithmetic, and this makes it more suitable for 
hardware implementation.  furthermore, serious instabilities sometimes 
arise with the covariance method, whereas it can be shown that 
the autocorrelation one is always stable.  nevertheless, the approximations 
inherent in the windowing operation, and the smearing effect of taking a 
larger number of sample points, mean that covariance-method coefficients 
tend to represent the speech more accurately, if they can be obtained. 
.pp 
one way of using the covariance method which has proved to be rather 
satisfactory in practice is to synchronize the analysis frame with 
the beginning of a pitch period, when the excitation is strongest. 
pitch synchronous techniques were discussed in chapter 4 in the context 
of discrete fourier transformation of speech.  the snag, of course, is that 
pitch peaks do not occur uniformly in time, and furthermore it is difficult 
to estimate their locations precisely. 
.sh "6.2  linear predictive synthesis" 
.pp 
if the linear predictive coefficients and the error signal are available, 
it is easy to regenerate the original speech by 
.lb 
.eq 
x(n)~=~~e(n)~+~~ sum from k=1 to p ~a sub k x(n-k) . 
.en 
.le 
if the error signal is parametrized into the sound source type 
(voiced or unvoiced), amplitude, and pitch (if voiced), it can be 
regenerated by an impulse repeated at the appropriate pitch 
frequency (if voiced), or white noise (if unvoiced). 
.pp 
however, it may be that the filter represented by the coefficients $a sub k$ is 
unstable, causing the output speech signal to oscillate wildly. 
in fact, it is only possible for the covariance method to produce an 
unstable filter, and not the autocorrelation method \(em although even 
with the latter, truncation of the $a sub k$'s for transmission may turn 
a stable filter into an unstable one.  furthermore, the coefficients 
$a sub k$ are not suitable candidates for quantization, because small 
changes in them can have a dramatic effect on the characteristics of 
the synthesis filter. 
.pp 
both of these problems can be solved by using a different set of numbers, 
called 
.ul 
reflection coefficients, 
for quantization and transmission.  thus, for example, in figures 6.1 
and 6.3 these reflection coefficients could be derived at the 
transmitter, quantized, and used by the receiver to reproduce 
the speech waveform.  they can be related to reflection and transmission 
parameters at the junctions of an acoustic tube model of the vocal tract; 
hence the name.  procedure 6.3 shows an algorithm for calculating the 
reflection coefficients from the filter coefficients $a sub k$. 
.rf 
.fi 
.na 
.nh 
.ul 
const 
p=15; 
.ul 
type 
cvec = 
.ul 
array 
[1..p] 
.ul 
of 
real; 
.sp 
.ul 
procedure 
reflection(coeff: cvec; 
.ul 
var 
refl: cvec); 
.sp 
{computes reflection coefficients in refl[1..p] corresponding 
to linear prediction coefficients in coeff[1..p]} 
.sp 
.ul 
var 
temp: cvec;  i, m: 1..p; 
.sp 
.ul 
begin 
.in+6n 
.ul 
for 
m:=p 
.ul 
downto 
1 
.ul 
do begin 
.in+2n 
refl[m] := coeff[m]; 
.br 
.ul 
for 
i:=1 
.ul 
to 
m\-1 
.ul 
do 
temp[i] := coeff[i]; 
.br 
.ul 
for 
i:=1 
.ul 
to 
m\-1 
.ul 
do 
.ti+2n 
coeff[i] := 
.ti+4n 
(coeff[i] + refl[m]*temp[m\-i]) / (1 \- refl[m]*refl[m]); 
.in-2n 
.ul 
end 
.in-6n 
.ul 
end. 
.nf 
.mt 2 
procedure 6.3  pascal algorithm for producing reflection coefficients 
from filter coefficients 
.te 
.pp 
although we will not go into the theoretical details here, 
reflection coefficients are bounded by $+-$1 for stable filters, 
and hence form a useful test for stability.  having a limited 
range makes them easy to quantize for transmission, and in fact 
they behave better under quantization than do the filter coefficients. 
one could resynthesize speech from reflection coefficients by first 
converting them to filter coefficients and using the synthesis 
method described above.  however, it is natural to seek a single-stage 
procedure which can regenerate speech directly from reflection 
coefficients. 
.pp 
such a procedure does exist, and is called a 
.ul 
lattice filter. 
figure 6.8 shows one form of lattice for speech synthesis. 
.fc "figure 6.8" 
the error signal (whether transmitted or synthesized) 
enters at the upper left-hand corner, passes along the top forward 
signal path, being modified on the way, to give the output signal 
at the right-hand side. 
then it passes back through a chain of delays along the bottom, 
backward, path, and is used to modify subsequent forward signals. 
finally it is discarded at the lower left-hand corner. 
.pp 
there are $p$ stages in the lattice structure of figure 6.8, where $p$ is the 
order of the linear predictive filter. 
each stage involves two multiplications by the appropriate 
reflection coefficients, one by the backward signal \(em the 
result of which is added into the forward path \(em and the other by 
the forward signal \(em the result of which is subtracted from the 
backward path.  thus the number of multiplications is twice 
the order of the filter, and hence twice as many as for the 
realization using coefficients $a sub k$.  if the labour necessary 
to turn the reflection coefficients into $a sub k$'s is included, 
the computational load becomes the same.  moreover, since the 
reflection coefficients need fewer quantization bits than the $a sub k$'s 
(for a given speech quality), the word lengths are smaller in the 
lattice realization. 
.pp 
the advantages of the lattice method of synthesis over direct evaluation 
of the prediction using filter coefficients $a sub k$, then, are: 
.lb 
.np 
the reflection coefficients are used directly 
.np 
the stability of the filter is obvious from the reflection coefficient 
values 
.np 
the system is more tolerant to quantization errors in fixed-point 
implementations. 
.le 
although it may seem unlikely that an unstable filter would be produced 
by linear predictive analysis, instability is in fact a real problem 
in non-lattice implementations.  for example, 
coefficients are often interpolated at the receiver, to allow longer 
frame times and smooth over sudden transitions, and it is quite likely that 
an unstable configuration is obtained when interpolating filter coefficients 
between two stable configurations. 
this cannot happen with reflection coefficients, however, because a 
necessary and sufficient condition for stability is that all 
coefficients lie in the interval $(-1,+1)$. 
.sh "6.3  lattice filtering" 
.pp 
lattice filters are an important new method of linear predictive 
.ul 
analysis 
as well as synthesis, and so 
it is worth considering the theory behind them a little further. 
.rh "theory of the lattice synthesis filter." 
figure 6.9 shows a single stage of the synthesis lattice given earlier. 
.fc "figure 6.9" 
there are two signals at each side of the lattice, and the $z$-transforms 
of these have been labelled $x sup +$ and $x sup -$ at the left-hand side 
and $y sup +$ and $y sup -$ at the right-hand side. 
the direction of signal flow is forwards along the upper ("positive") path 
and backwards along the lower ("negative") one. 
.pp 
the signal flows show that the following two relationships hold: 
.lb 
.eq 
y sup + ~=~~ x sup + ~+~ k z sup -1 y sup - ~~~~~~ 
.en 
for the forward (upper) path 
.br 
.eq 
x sup - ~ =~ -ky sup + ~+~ z sup -1 y sup - ~~~~~~~ 
.en 
\h'-\w'\-'u'for the backward (lower) path. 
.le 
re-arranging the first equation yields 
.lb 
.eq 
x sup + ~ =~~ y sup + ~-~ k z sup -1 y sup - , 
.en 
.le 
and so we can describe the function of the lattice by a single matrix 
equation: 
.lb 
.ne4 
.eq 
left [ matrix {ccol {x sup + above x sup -}} right ] ~~=~~ 
left [ matrix {ccol {1 above -k} ccol {-kz sup -1 above z sup -1}} right ] 
~ left [ matrix {ccol {y sup + above y sup -}} right ] ~ . 
.en 
.le 
it would be nice to be able to 
call this an input-output equation, but it is not; 
for the input signals to the lattice stage are $x sup +$ and $y sup -$, 
and the outputs are $x sup -$ and $y sup +$. 
we have written it in this form because it allows a multi-stage lattice to 
be described by cascading these matrix equations. 
.pp 
a single-stage lattice filter has $y sup +$ and $y sup -$ connected together, 
forming its output (call this $x sub output$), while the input is $x sup +$ 
($x sub input$). 
hence the input is related to the output by 
.lb 
.eq 
left [ matrix {ccol {x sub input above \(sq }} right ] ~~ = 
~~ left [ matrix {ccol {1 above -k} ccol {-k z sup -1 
above z sup -1}} right ] 
~ left [ matrix {ccol {x sub output above x sub output}} right ] ~ , 
.en 
.le 
so 
.lb 
.eq 
x sub input ~ = ~~ (1~-~ k z sup -1 )~x sub output , 
.en 
.le 
or 
.lb 
.eq 
{x sub output} over {x sub input} ~~=~~ 1 over {1~-~ k sub 1 z sup -1} ~ . 
.en 
.le 
(the symbol \(sq is used here and elsewhere 
to indicate an unimportant element of a vector 
or matrix.)  this certainly has the form of a linear predictive 
synthesis filter, which is 
.lb 
.eq 
x(z) over e(z) ~~=~~ 1 over {1~-~~ sum from k=1 to p ~a sub k 
z sup -k}~~=~~ 1 over {1~-~a sub 1 z sup -1 } ~~~~~~ 
.en 
when $p=1$. 
.le 
.pp 
the behaviour of a second-order lattice filter, shown in figure 6.10, 
can be described by 
.lb 
.ne4 
.eq 
left [ matrix {ccol {x sub 3 sup + above x sub 3 sup -}} right ] ~~ = 
~~ left [ matrix {ccol {1 above -k sub 2 } ccol {-k sub 2 z sup -1 
above z sup -1}} right ] 
~ left [ matrix {ccol {x sub 2 sup + above x sub 2 sup -}} right ] 
.en 
.sp 
.ne4 
.eq 
left [ matrix {ccol {x sub 2 sup + above x sub 2 sup -}} right ] ~~ = 
~~ left [ matrix {ccol {1 above -k sub 1 } ccol {-k sub 1 z sup -1 
above z sup -1}} right ] 
~ left [ matrix {ccol {x sub 1 sup + above x sub 1 sup -}} right ] 
.en 
.le 
with 
.lb 
.ne3 
.eq 
x sub 3 sup + ~=~x sub input 
.en 
.br 
.eq 
x sub 1 sup + ~=~ x sub 1 sup - ~=~ x sub output . 
.en 
.le 
.fc "figure 6.10" 
$x sub 2 sup +$ and $x sub 2 sup -$ can be eliminated by substituting the 
second equation into the first, which yields 
.lb 
.eq 
left [ matrix {ccol {x sub input above \(sq }} right ] ~~ mark = 
~~ left [ matrix {ccol {1 above -k sub 2 } ccol {-k sub 2 z sup -1 
above z sup -1}} right ] 
~ left [ matrix {ccol {1 above -k sub 1 } ccol {-k sub 1 z sup -1 
above z sup -1}} right ] 
~ left [ matrix {ccol {x sub output above x sub output}} right ] 
.en 
.sp 
.sp 
.eq 
lineup = ~~ left [ matrix {ccol {1+k sub 1 k sub 2 z sup -1 above \(sq } 
ccol { -k sub 1 z sup -1 -k sub 2 z sup -2 above \(sq }} right ] 
~ left [ matrix {ccol {x sub output above x sub output}} right ] ~ . 
.en 
.le 
this leads to an input-output relationship 
.lb 
.eq 
{x sub output} over {x sub input} ~~ = ~~ 
1 over {1~+~k sub 1 (k sub 2 -1)z sup -1 ~-~k sub 2 z sup -2} ~ , 
.en 
.le 
which has the required form, namely 
.lb 
.eq 
1 over {1~-~~ sum from k=1 to p ~a sub k z sup -k } ~~~~~~ (p=2) 
.en 
.le 
when 
.lb 
.eq 
a sub 1 ~=~-k sub 1 (k sub 2 -1) 
.en 
.br 
.eq 
a sub 2 ~=~k sub 2. 
.en 
.le 
.pp 
a third-order filter is described by 
.lb 
.eq 
left [ matrix {ccol {x sub input above \(sq }} right ] ~~ = 
~~ left [ matrix {ccol {1 above -k sub 3 } ccol {-k sub 3 z sup -1 
above z sup -1}} right ] 
~ left [ matrix {ccol {1 above -k sub 2 } ccol {-k sub 2 z sup -1 
above z sup -1}} right ] 
~ left [ matrix {ccol {1 above -k sub 1 } ccol {-k sub 1 z sup -1 
above z sup -1}} right ] 
~ left [ matrix {ccol {x sub output above x sub output}} right ] ~ , 
.en 
.le 
and brave souls can verify that this gives an input-output 
relationship 
.lb 
.eq 
{x sub output} over {x sub input} ~~ = ~~  
1 over {1~+~[k sub 2 k sub 3 + k sub 1 (1-k sub 2 )] z sup -1 ~+~ 
[k sub 1 k sub 3 (1-k sub 2 ) -k sub 2 ] z sup -2 ~-~ k sub 3 z sup -3 } ~ . 
.en 
.le 
it is fairly obvious that a $p$'th order lattice filter will give the 
required all-pole $p$'th order synthesis form, 
.lb 
.eq 
1 over { 1~-~~ sum from k=1 to p ~a sub k z sup -k } ~ . 
.en 
.le 
.pp 
we have not shown that the algorithm given in procedure 6.3 for producing 
reflection coefficients from filter coefficients gives those values 
for $k sub i$ which are necessary to make the lattice filter equivalent 
to the ordinary synthesis filter.  however, this is the case, and it is 
easy to verify by hand for the first, second, and third-order cases. 
.rh "different lattice configurations." 
the lattice filters of figures 6.8, 6.9, and 6.10 have two multipliers 
per section. 
this is called a "two-multiplier" configuration. 
however, there are other configurations which achieve 
the same effect, but require different numbers of multiplies. 
figure 6.11 shows one-multiplier and four-multiplier configurations, 
along with the familiar two-multiplier one. 
.fc "figure 6.11" 
it is easy to verify that the three configurations can be modelled in 
matrix terms by 
.lb 
.ne4 
$ 
left [ matrix {ccol {x sup + above x sup -}} right ] ~~ = ~~ 
left [ matrix {ccol {1 above -k} ccol {-kz sup -1 above z sup -1}} right ] 
~ left [ matrix {ccol {y sup + above y sup -}} right ] 
$		two-multiplier configuration 
.sp 
.sp 
.ne4 
$ 
left [ matrix {ccol {x sup + above x sup -}} right ] ~~ = ~~ 
left [ {1-k over 1+k} right ] sup 1/2 ~ 
left [ matrix {ccol {1 above -k} ccol {-kz sup -1 above z sup -1}} right ] 
~ left [ matrix {ccol {y sup + above y sup -}} right ] 
$	one-multiplier configuration 
.sp 
.sp 
.ne4 
$ 
left [ matrix {ccol {x sup + above x sup -}} right ] ~~ = ~~ 
1 over {(1-k sup 2) sup 1/2} ~ 
left [ matrix {ccol {1 above -k} ccol {-kz sup -1 above z sup -1}} right ] 
~ left [ matrix {ccol {y sup + above y sup -}} right ] 
$	four-multiplier configuration. 
.le 
each of the three has the same frequency-domain response, although 
a different constant factor is involved in each case. 
the effect of this can be annulled by performing a single multiply 
operation on the output of a complete lattice chain. 
the multiplier has the form 
.lb 
.eq 
left [ {1 - k sub p} over {1 + k sub p} ~.~ 
{1 - k sub p-1} over {1 + k sub p-1} ~.~...~.~ 
{1 - k sub 1} over {1 + k sub 1} right ] sup 1/2 
.en 
.sp 
.le 
for single-multiplier lattices, and 
.lb 
.eq 
left [ 1 over {1 - k sub p sup 2} ~.~ 
1 over {1 - k sub p-1 sup 2} ~.~...~.~ 
1 over {1 - k sub 1 sup 2} right ] sup 1/2 
.en 
.le 
for four-multiplier lattices, where the reflection coefficients 
in the lattice are $k sub p$, $k sub p-1$, ..., $k sub 1$. 
.pp 
there are important differences between these three configurations. 
if multiplication is time-consuming, the one-multiplier model has obvious 
computational advantages over the other two methods. 
however, the four-multiplier structure behaves substantially better 
in finite word-length implementations.  it is easy to show that, with this 
configuration, 
.lb 
.eq 
(x sup - ) sup 2 ~+~ (y sup + ) sup 2 ~~ = ~~ 
(x sup + ) sup 2 ~+~ (z sup -1 y sup - ) sup 2 , 
.en 
.le 
\(em a relationship which suggests that the "energy" in the 
the input signals, namely  $x sup +$ and $y sup -$,  is preserved in the output 
signals,  $x sup -$ and $y sup +$. 
notice that care must be taken with the $z$-transforms, since squaring is a 
non-linear operation.  $(z sup -1 y sup - ) sup 2$  means the square of 
the previous value of  $y sup -$,  which is not the same 
as  $z sup -2 (y sup - ) sup 2$. 
.pp 
it has been shown (gray and markel, 1975) that the four-multiplier 
configuration has some stability properties which are not shared by other 
digital filter structures. 
.[ 
gray markel 1975 normalized digital filter structure 
.] 
when a linear predictive filter is used for synthesis, the parameters 
of the filter \(em the $k$-parameters in the case of lattice filters, 
and the $a$-parameters in the case of direct ones \(em change with time. 
it is usually rather difficult to guarantee stability in the case of 
time-varying filter parameters, but some guarantees can be made for a 
chain of four-multiplier lattices.  furthermore, if the input is a 
discrete delta function, the cumulative energies at each stage of the 
lattice are the same, and so maximum dynamic range will be achieved 
for the whole filter if each section is implemented with the same 
word size. 
.rh "lattice analysis." 
it is quite easy to construct a filter which is inverse to 
a single-stage lattice. 
the structure of figure 6.12(a) does the job. 
(ignore for a moment 
the dashed lines connecting figure 6.12(a) and (b).)  its matrix transfer 
function is 
.fc "figure 6.12" 
.lb 
.ne4 
$ 
left [ matrix {ccol {y sup + above y sup -}} right ] ~~=~~ 
left [ matrix {ccol {1 above -k} ccol {-kz sup -1 above z sup -1}} right ] 
~ left [ matrix {ccol {x sup + above x sup -}} right ] 
$	analysis lattice (figure 6.12(a)). 
.le 
notice that this is exactly the same as the transfer function of the 
synthesis lattice of figure 6.9, which is reproduced 
in figure 6.12(b), except that the $x$'s and $y$'s are reversed: 
.lb 
.ne4 
$ 
left [ matrix {ccol {x sup + above x sup -}} right ] ~~=~~ 
left [ matrix {ccol {1 above -k} ccol {-kz sup -1 above z sup -1}} right ] 
~ left [ matrix {ccol {y sup + above y sup -}} right ] 
$	synthesis lattice (figure 6.12(b)), 
.le 
or, in other words, 
.lb 
.ne4 
$ 
left [ matrix {ccol {y sup + above y sup -}} right ] ~~ = ~~ 
left [ matrix {ccol {1 above -k} ccol {-kz sup -1 above z sup -1}} 
right ] sup -1 
~ left [ matrix {ccol {x sup + above x sup -}} right ] 
$	synthesis lattice (figure 6.12(b)). 
.le 
hence if the filters of figures 6.12(a) and (b) were connected together 
as shown by the dashed lines, they 
would cancel each other out, and the overall transfer would be unity: 
.lb 
.ne4 
.eq 
left [ matrix {ccol {1 above -k} ccol {-kz sup -1 above z sup -1}} 
right ] ~ 
left [ matrix {ccol {1 above -k} ccol {-kz sup -1 above z sup -1}} 
right ] sup -1 ~~ = ~~ 
left [ matrix {ccol {1 above 0} ccol {0 above 1}} right ] ~ . 
.en 
.le 
actually, such a connection is not possible in physical terms, 
for although the upper paths can be joined together the lower ones can not. 
the right-hand lower point of figure 6.12(a) is an 
.ul 
output 
terminal, and so is the left-hand lower one of figure 6.12(b)!  however, 
there is no need to envisage a physical connection of the lower paths. 
it is sufficient for cancellation just to assume that the signals at both 
of the points turn out to be the same. 
.pp 
and they do. 
the general case of a $p$-stage analysis lattice 
connected to a $p$-stage synthesis 
lattice is shown in figure 6.13. 
.fc "figure 6.13" 
notice that the forward and backward paths are connected together at both 
of the extreme ends of the system. 
it is not difficult to show that under these 
conditions the signal at the lower righthand 
terminal of the analysis chain will equal that at the lower lefthand 
terminal of the synthesis chain, even though they are not connected, 
provided the upper terminals are connected together as shown by the dashed 
line. 
of course, the reflection coefficients  $k sub 1$, $k sub 2$, ..., 
$k sub p$  in the analysis lattice must equal those in the synthesis 
lattice, and as figure 6.13 shows the order is reversed in the synthesis 
lattice. 
successive analysis and synthesis sections pair off, working from 
the middle outwards.  at each stage the sections cancel each other out, 
giving a unit transfer function as demonstrated above. 
.rh "estimating reflection coefficients." 
as stated earlier in this chapter, the key problem in linear prediction is to 
determine the values of the predictive coefficients \(em in this case, the 
reflection coefficients. 
if this is done correctly, we have shown using procedure 6.3 that 
the the synthesis part of figure 6.13 performs the same calculation that 
a conventional direct-form linear predictive synthesizer would, and hence 
the signal that excites it \(em that is, the signal represented by the 
dashed line \(em must be the prediction residual, or error signal, discussed 
earlier.  the system is effectively the same as the high-order adaptive 
differential pulse code modulation one of figure 6.1. 
.pp 
one of the most interesting features of the lattice structure for 
analysis filters is that calculation of suitable values for the 
reflection coefficients can be done locally at each stage of the lattice. 
for example, consider the $i$'th section of the analysis lattice in 
figure 6.13.  it is possible to determine a suitable value of $k sub i$ 
simply by performing a calculation on the inputs to the $i$'th 
section (ie $x sup +$ and $x sup -$ in figure 6.12). 
no longer need the complicated global optimization technique of matrix 
inversion be used, as in the autocorrelation and covariance methods discussed 
earlier. 
.pp 
a suitable value for $k$ in the single lattice section of figure 6.12 is 
.lb 
.eq 
k~ = ~~ {e[ x sup + (n) x sup - (n-1)]} over 
{( e[ x sup + (n) sup 2 ] e[ x sup - (n-1) sup 2 ] ) sup 1/2} ~~ ; 
.en 
.le 
that is, the statistical correlation between $x sup + (n)$ and 
$x sup - (n-1)$. 
here, $x sup + (n)$ and $x sup - (n)$ represent the input signals to the 
upper and lower paths (recall that $x sup +$ and $x sup -$ 
are their $z$-transforms). 
$x sup - (n-1)$ is just $x sup - (n)$ delayed by one time unit, that is, 
the output of the $z sup -1$ box in the figure. 
.pp 
the criterion of optimality for the autocorrelation and covariance methods 
was that the prediction error, that is, the signal which emerges from 
the right-hand end of the upper path of a lattice analysis filter, 
should be minimized in a mean-square sense. 
the reflection coefficients obtained from the above formula do not necessarily 
satisfy any such global minimization criterion. 
nevertheless, they do keep the error signal small, and have been used with 
success in speech analysis systems. 
.pp 
it is easy to minimize the output from either the upper or the lower path 
of the lattice filter at each stage.  for example, the $z$-transform of the 
upper output is given by 
.lb 
.eq 
y sup + ~~=~~ x sup + ~-~ k z sup -1 x sup - , 
.en 
.le 
or 
.lb 
.eq 
y sup + (n) ~~=~~ x sup + (n) ~-~ k x sup - (n-1) . 
.en 
.le 
hence 
.lb 
.eq 
e[y sup + (n) sup 2 ] ~~ = ~~ e[x sup + (n) sup 2 ] ~-~ 
2ke[x sup + (n) x sup - (n-1) ] ~+~ k sup 2 e [x sup - (n-1) sup 2 ] , 
.en 
.le 
where $e$ stands for expected value, and this reaches a minimum when the 
derivative with respect to $k$ becomes zero: 
.lb 
.eq 
-2e[x sup + (n) x sup - (n-1) ] ~+~ 2ke[x sup - (n-1) sup 2 ] ~~=~0 , 
.en 
.le 
that is, when 
.lb 
.eq 
k~ = ~~ {e[x sup + (n) x sup - (n-1) ]} over {e[x sup - (n-1) sup 2 ] 
} ~ . 
.en 
.le 
a similar calculation shows that the output of the lower path is minimized 
when 
.lb 
.eq 
k~ = ~~ {e[x sup + (n) x sup - (n-1) ]} over {e[x sup + (n-1) sup 2 ] 
} ~ . 
.en 
.le 
unfortunately, either of these expressions can exceed 1, leading to an 
unstable filter. 
the value of $k$ cited earlier is the geometric mean of these two 
expressions, and since it is a correlation coefficient, must be less than 1. 
.pp 
another possibility is to minimize the expected value of the sum of the 
squares of the upper and lower outputs: 
.lb 
.eq 
y sup + (n) sup 2 ~+~ y sup - (n) sup 2 ~~ = ~~ 
(1+k sup 2 )x sup + (n) sup 2 ~-~ 2kx sup + (n) x sup - (n-1) ~+~ 
(1+k sup 2 )x sup - (n) sup 2 . 
.en 
.le 
taking expected values and setting the derivative with respect to k to zero 
leads to 
.lb 
.eq 
k~ = ~~ {e[x sup + (n) x sup - (n-1) ]} over 
{ half ~ e[x sup + (n) sup 2 ~+~ x sup - (n-1) sup 2 ]} ~. 
.en 
.le 
this also is guaranteed to be less than 1, and has given good results 
in speech analysis systems. 
.pp 
figure 6.14 shows the implementation of a single section of an analysis 
lattice. 
.fc "figure 6.14" 
the signals $x sup + (n)$ and $x sup - (n-1)$ are fed to a 
correlator, which produces a suitable value for $k$. 
this value is used to calculate the output of the lattice section, 
and hence the input to the next lattice section. 
the reflection coefficient needs to be low-pass filtered, because it will 
only be transmitted to the synthesizer occasionally (say every 20\ msec) and so a 
short-term average is required. 
.pp 
one implementation of the correlator is shown in figure 6.15 (kang, 1974). 
.[ 
kang 1974 
.] 
.fc "figure 6.15" 
this calculates the value of $k$ given by the last equation above, and does it 
by summing and differencing the two 
signals $x sup + (n)$ and $x sup - (n-1)$, squaring the results to give 
.lb 
.eq 
x sup + (n) sup 2 + 2x sup + (n mark ) x sup - (n-1) +x sup - (n-1) sup 2 
~~~~~~~~ x sup + (n) sup 2 - 2x sup + (n) x sup - (n-1) +x sup - (n-1) sup 2 
~ , 
.en 
.le 
and summing and differencing these, to yield 
.lb 
.eq 
lineup 2x sup + (n) sup 2 + 2x sup - (n-1) sup 2 ~~~~~~~~ 
4x sup + (n) x sup - (n-1) ~ . 
.en 
.le 
.sp 
before these are divided to give the final coefficient $k$, they are 
individually low-pass filtered. 
while some rather complex schemes have been proposed, 
based upon kalman filter theory (eg matsui 
.ul 
et al, 
1972), 
.[ 
matsui nakajima suzuki omura 1972 
.] 
a simple exponential weighted past average has been found to be 
satisfactory.  this has $z$-transform 
.lb 
.eq 
1 over {64 - 63 z sup -1} ~ , 
.en 
.le 
that is, in the time domain, 
.lb 
.eq 
y(n)~ = ~~ 63 over 64 ~ y(n-1) ~+~ 1 over 64 ~ y(n) ~ . 
.en 
.le 
this filter exponentially averages past sample values 
with a time-constant of 64 sampling intervals 
\(em that is, 8\ msec at an 8\ khz sampling rate. 
.sh "6.4  pitch estimation" 
.pp 
it is sometimes useful to think of linear prediction as a kind of 
curve-fitting technique. 
figure 6.16 illustrates how four samples of a speech signal can predict 
the next one. 
.fc "figure 6.16" 
in essence, a curve is drawn through four points 
to predict the position of the fifth, and only the prediction error 
is actually transmitted.  now if the order of linear prediction 
is high enough (at least 10), and if the coefficients are chosen 
correctly, the prediction will closely model the resonances of the 
vocal tract.  thus the error will actually be zero, except at pitch 
pulses. 
.pp 
figure 6.17 shows a segment of voiced speech together with the prediction 
error (often called the prediction residual). 
.fc "figure 6.17" 
it is apparent that the 
error is indeed small, except at pitch pulses. 
this suggests that a good way to determine the pitch period is to examine 
the error signal, perhaps by looking at its autocorrelation function. 
as with all pitch detection methods, one must be 
careful:  spurious peaks can occur, especially in nasal sounds when 
the all-pole model provided by linear prediction fails.  continuity 
constraints, which use previous values of pitch period when determining 
which peak to accept as a new pitch impulse, can eliminate many of these 
spurious peaks.  unvoiced speech should produce an error signal with no 
prominent peaks, and this needs to be detected. 
voiced fricatives are a difficult case:  peaks should be present 
but the general noise level of the error signal will be greater than 
it is in 
purely voiced speech. 
such considerations have been taken into account in a practical pitch 
estimation system based upon this technique (markel, 1972). 
.[ 
markel 1972 sift 
.] 
.pp 
this method of pitch detection highlights another advantage of the lattice 
analysis technique.  when using autocorrelation or covariance analysis to 
determine the filter (or reflection) coefficients, the error signal is not 
normally produced.  it can, of course, be found by taking the speech samples 
which constitute the current frame and running them through an analysis 
filter whose parameters are those determined by the analysis, but this 
is a computationally demanding exercise, for the filter must run at the 
speech sampling rate (say 8\ khz) instead of at the frame rate (say 50\ hz). 
usually, pitch is estimated by other methods, like those discussed in 
chapter 4, when using autocorrelation or covariance linear prediction. 
however, we have seen above that with the lattice method, the error 
signal is produced as a byproduct:  it appears at the right-hand end 
of the  upper path of the lattice chain.  thus it is already available 
for use in determining pitch periods. 
.sh "6.5  parameter coding for linear predictive storage or transmission" 
.pp 
in this section, the coding requirements of linear predictive parameters 
will be examined.  the parameters that need to be stored or transmitted 
are: 
.lb 
.np 
pitch 
.np 
voiced-unvoiced flag 
.np 
overall amplitude level 
.np 
filter coefficients or reflection coefficients. 
.le 
the first three are parameters of the excitation source. 
they can be derived directly from the error signal as indicated above, if 
it is generated (as it is in lattice implementations); or by other 
methods if no error signal is calculated. 
the filter or reflection coefficients are, of course, the main product 
of linear predictive analysis. 
.pp 
it is generally agreed that around 60 levels, logarithmically spaced, 
are needed to represent pitch for telephone quality speech. 
the voiced-unvoiced indication requires one bit, but since pitch is 
irrelevant in unvoiced speech it can be coded as one of the pitch 
levels.  for example, with 6-bit coding of pitch, the value 0 can be 
reserved to indicate unvoiced speech, with values 1\-63 indicating the 
pitch of voiced speech. 
the overall gain has not been discussed above:  it is simply the average 
amplitude of the error signal.  five bits on a logarithmic scale 
are sufficient to represent it. 
.pp 
filter coefficients are not very amenable to quantization.  at least 
8\-10\ bits are required for each one.  however, reflection coefficients 
are better behaved, and 5\-6\ bits each seems adequate.  the number of 
coefficients that must be stored or transmitted is the same as the 
order of the linear prediction:  10 is commonly used for low-quality 
speech, with as many as 15 for higher qualities. 
.pp 
these figures give around 100\ bits/frame for a 10'th order system using 
filter coefficients, and around 65\ bits/frame for a 10'th order system 
using reflection coefficients.  frame lengths vary between 10\ msec 
and 25\ msec, depending on the quality desired.  thus for 20\ msec frames, 
the data rates work out at around 5000\ bit/s using filter coefficients, 
and 3250\ bit/s using reflection coefficients. 
.pp 
substantially lower data rates can be achieved by more careful 
coding of parameters.  in 1976, the us government defined a standard 
coding scheme for 10-pole linear prediction with a data rate of 
2400\ bit/s \(em conveniently chosen as one of the 
commonly-used rates for serial data transmission. 
this standard, called lpc-10, tackles the difficult problem of 
protection against transmission errors (fussell 
.ul 
et al, 
1978). 
.[ 
fussell boudra abzug cowing 1978 
.] 
.pp 
whenever data rates are reduced, redundancy inherent in the signal is 
necessarily lost and so the effect of transmission errors becomes 
greatly magnified. 
for example, a single corrupted sample in pcm transmission of speech 
will probably not be noticed, and even a short burst of errors will be 
perceived as a click which can readily be distinguished from the speech. 
however, any error in lpc transmission will last for one entire 
frame \(em say 20\ msec \(em and worse still, it will be integrated into the 
speech signal and not easily discriminated from it by the listener's brain. 
a single corruption may, for example, change a voiced frame into an 
unvoiced one, or vice versa.  even if it affects only  
a reflection coefficient it will change the resonance characteristics 
of that frame, and change them in a way that does not simply sound like 
superimposed noise. 
.pp 
table 6.1 shows the lpc-10 coding scheme. 
.rf 
.in+0.1i 
.ta 2.0i +1.8i +0.6i 
.nr x1 (\w'voiced sounds'/2) 
.nr x2 (\w'unvoiced sounds'/2) 
.ul 
	\h'-\n(x1u'voiced sounds	\h'-\n(x2u'unvoiced sounds 
.sp 
pitch/voicing	7	7	60 pitch levels, hamming 
			\h'\w'00 'u'and gray coded 
energy	5	5	logarithmically coded 
$k sub 1$	5	5	coded by table lookup 
$k sub 2$	5	5	coded by table lookup 
$k sub 3$	5	5 
$k sub 4$	5	5 
$k sub 5$	4	\- 
$k sub 6$	4	\- 
$k sub 7$	4	\- 
$k sub 8$	4	\- 
$k sub 9$	3	\- 
$k sub 10$	2	\- 
synchronization	1	1	alternating 1,0 pattern 
error detection/	\-	\h'-\w'0'u'21 
correction 
	\h'-\w'__'u+\w'0'u'__	\h'-\w'__'u+\w'0'u'__ 
.sp 
	\h'-\w'0'u'54	\h'-\w'0'u'54 
.sp 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
	frame rate: 44.4\ hz (22.5\ msec frames) 
.in 0 
.fg "table 6.1  bit requirements for each parameter in lpc-10 coding scheme" 
different coding is used for voiced and unvoiced frames. 
only four reflection coefficients are transmitted for unvoiced frames, 
because it has been determined that no perceptible increase in speech quality 
occurs when more are used. 
the bits saved are more fruitfully employed to provide error detection 
and correction for the other parameters. 
seven bits are used for pitch and the voiced-unvoiced flag, and they are 
redundant in that only 60 possible pitch values are 
allowed. 
most transmission errors in this field will be detected by the receiver; 
which can then use an estimate of pitch based on previous values and 
discard the erroneous one.  pitch values are also gray coded so that 
even if errors are not detected, there is a good chance that an adjacent 
pitch value is read instead. 
different numbers of bits are allocated to the various reflection 
coefficients:  experience shows that the lower-numbered ones contribute 
most highly to intelligibility and so these are quantized most finely. 
in addition, a table lookup operation is performed on the code 
generated for the first two, providing a non-linear quantization which is 
chosen to minimize the error on a statistical basis. 
.pp 
with 54\ bits/frame and 22.5\ msec frames, lpc-10 requires a 2400\ bit/s 
data rate.  even lower rates have been used successfully for lower-quality 
speech.  the speak 'n spell toy, described in chapter 11, has an 
average data rate of 1200\ bit/s.  rates as low as 600\ bit/s have 
been achieved (kang and coulter, 1976) by pattern recognition techniques operating 
on the reflection coefficients:  however, the speech quality is not good. 
.[ 
kang coulter 1976 
.] 
.sh "6.6  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.sh "6.7  further reading" 
.pp 
most recent books on digital signal processing contain some information 
on linear prediction (see oppenheim and schafer, 1975; rabiner and gold, 1975; 
and rabiner and schafer, 1978; all referenced at the end of chapter 4). 
.lb "nn" 
.\"atal-1971-1 
.]- 
.ds [a atal, b.s. 
.as [a " and hanauer, s.l. 
.ds [d 1971 
.ds [t speech analysis and synthesis by linear prediction of the acoustic wave 
.ds [j jasa 
.ds [v 50 
.ds [p 637-655 
.nr [p 1 
.ds [o august 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
this paper is of historical importance because it introduced the idea 
of linear prediction to the speech processing community. 
.in-2n 
.\"makhoul-1975-2 
.]- 
.ds [a makhoul, j.i. 
.ds [d 1975 
.ds [k * 
.ds [t linear prediction: a tutorial review 
.ds [j proc ieee 
.ds [v 63 
.ds [n 4 
.ds [p 561-580 
.nr [p 1 
.ds [o april 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
an interesting, informative, and readable survey of linear prediction. 
.in-2n 
.\"markel-1976-3 
.]- 
.ds [a markel, j.d. 
.as [a " and gray, a.h. 
.ds [d 1976 
.ds [t linear prediction of speech 
.ds [i springer verlag 
.ds [c berlin 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this is the only book which is entirely devoted to linear prediction of speech. 
it is an essential reference work for those interested in the subject. 
.in-2n 
.\"wiener-1947-4 
.]- 
.ds [a wiener, n. 
.ds [d 1947 
.ds [t extrapolation, interpolation and smoothing of stationary time series 
.ds [i mit press 
.ds [c cambridge, massachusetts 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
linear prediction is often thought of as a relatively new technique, 
but it is only its application to speech processing that is novel. 
wiener develops all of the basic mathematics used in linear prediction 
of speech, except the lattice filter structure. 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "7  joining segments of speech" 
.ds rt "joining segments of speech 
.ds cx "principles of computer speech 
.pp 
the obvious way to provide speech output from computers 
is to select the basic acoustic units to be used; record them; 
and generate utterances by concatenating together appropriate segments 
from this pre-stored inventory. 
the crucial question then becomes, what are the basic units? 
should they be whole sentences, words, syllables, or phonemes? 
.pp 
there are several trade-offs to be considered here. 
the larger the units, the more utterances have to be stored. 
it is not so much the length of individual utterances that is of concern, 
but rather their variety, which tends to increase exponentially instead 
of linearly with the size of the basic unit.  numbers provide an 
easy example:  there are $10 sup 7$ 7-digit telephone numbers, and it is 
certainly infeasible to record each one individually. 
note that as storage technology improves the limitation is becoming 
more and more one of recording the utterances in the first place rather 
than finding somewhere to store them. 
at a pcm data rate of 50\ kbit/s, a 100\ mbyte disk can hold over 4\ hours 
of continuous speech. 
with linear predictive coding at 1\ kbit/s it holds 0.8 of a 
megasecond \(em well over a week.  and this is a 24-hour 7-day week, 
which corresponds to a working month; and continuous speech \(em without 
pauses \(em which probably requires another factor of five for 
production by a person. 
setting up a recording session to fill the disk would be a formidable 
task indeed! 
furthermore, the use of videodisks \(em which will be common domestic items 
by the end of the decade \(em could increase these figures by a factor of 50. 
.pp 
the word seems to be a sensibly-sized basic unit. 
many applications use a rather limited vocabulary \(em 190 words 
for the airline reservation system described in chapter 1. 
even at pcm data rates, this will consume less than 0.5\ mbyte of 
storage. 
unfortunately, coarticulation and prosodic factors now come into play. 
.pp 
real speech is connected \(em there are few gaps between words. 
coarticulation, where sounds are affected by those on either side, 
naturally operates across word boundaries. 
and the time constants of coarticulation are associated with the 
mechanics of the vocal tract and hence measure tens or hundreds 
of msec.  thus the effects straddle several pitch periods (100\ hz pitch 
has 10\ msec period) and cannot be simulated by simple interpolation of the 
speech waveform. 
.pp 
prosodic features \(em notably pitch and rhythm \(em span much longer 
stretches of speech than single words.  as far as most speech output 
applications are concerned, they operate at the utterance level of 
a single, sentence-sized, information unit.  they cannot be 
accomodated if speech waveforms of individual words of 
the utterance are stored, 
for it is rarely feasible to alter the fundamental 
frequency or duration of a time waveform without changing all the formant 
resonances as well. 
however, both word-to-word coarticulation and the essential features 
of rhythm and intonation can be incorporated if the stored words are 
coded in source-filter form. 
.pp 
for more general applications of speech output, the limitations of 
word storage soon become apparent.  although people's daily 
vocabularies are not large, most words have a variety 
of inflected forms which need to be treated separately if a strict 
policy is adopted of word storage.  for instance, in this book 
there are 84,000 words, and 6,500 (8%) different ones (counting 
inflected forms). 
in chapter 1 alone, there are 6,800 words and 1,700 (25%) different ones. 
.pp 
it seems crazy to treat a simple inflection like "$-s$" or its voiced 
counterpart, "$-z$" (as in "inflection\c 
.ul 
s\c 
"), 
as a totally different word from the base form. 
but once you consider storing roots and endings separately, 
it becomes apparent 
that there is a vast number of different endings, and it is difficult to know 
where to draw the line.  it is natural to think instead of simply 
using the syllable as the basic unit. 
.pp 
a generous estimate of the number of different syllables in english is 10,000. 
at three a second, only about an 
hour's storage is required for them all.  but waveform storage 
will certainly not do. 
although coarticulation effects between words are needed to make 
speech sound fluent, coarticulation between syllables is necessary 
for it even to be 
.ul 
comprehensible. 
adopting a source-filter form of representation is essential, as is 
some scheme of interpolation between syllables which simulates 
coarticulation. 
unfortunately, a great deal of acoustic action occurs at syllable 
boundaries \(em stops are exploded, the sound source changes 
between voicing and frication, and so on.  it may be more appropriate 
to consider inverse syllables, comprising a vowel-consonant-vowel sequence 
instead of consonant-vowel-consonant. 
(these have jokingly been dubbed "lisibles"!) 
.pp 
there is again some considerable practical difficulty in creating 
an inventory of syllables, or lisibles. 
now it is not so much the recording that is impractical, but 
the editing needed to ensure that the cuts between syllables are made 
at exactly the right point.  as units get smaller, the exact 
placement of the boundaries becomes ever more critical; and several thousand 
sensitive editing jobs is no easy task. 
.pp 
since quite general effects of coarticulation must be accomodated 
with syllable synthesis, there will not necessarily be significant 
deterioration if smaller, demisyllable, units are employed. 
this reduces the segment inventory to an estimated 1000\-2000 entries, 
and the tedious job of editing each one individually becomes at 
least feasible, if not enviable. 
alternatively, the segment inventory could be created by artificial 
means involving cut-and-try experiments with resonance parameters. 
.pp 
the ultimate in economy of inventory size, of course, is to use 
phonemes as the basic unit.  this makes the most critical 
part of the task interpolation between units, rather than their 
construction or recording.  with only about 40 phonemes 
in english, each one can be examined in many different contexts to 
ascertain the best data to store. 
there is no need to record them directly from a human voice \(em it 
would be difficult anyway for most cannot be produced in isolation. 
in fact, a phoneme is an abstract unit, not a particular sound 
(recall the discussion of phonology in chapter 2), and so it is 
most appropriate that data be abstracted from several different 
realizations rather than an exact record made of any one. 
.pp 
if information is stored about phonological units of 
speech \(em phonemes \(em the difficult task of phonological-to-phonetic 
conversion must necessarily be performed automatically. 
allophones are created by altering the transitions between units, 
and to a lesser extent by modifying the central parts of the units 
themselves. 
the rules for making transitions will have a big effect on the 
quality of the resulting speech. 
instead of trying to perform this task automatically by a computer 
program, the allophones themselves could be stored.  this will 
ease the job of generating transitions between segments, but 
will certainly not eliminate it. 
the total number of allophones will depend on the narrowness of the 
transcription system:  60\-80 is typical, and it is unlikely to exceed 
one or two hundred.  in any case there will not be a storage problem. 
however, now the burden of producing an allophonic transcription 
has been transferred to the person who codes the utterance prior 
to synthesizing it.  if he is skilful and patient, he should 
be able to coax the system into producing fairly understandable 
speech, but the effort required for this on a per-utterance basis 
should not be underestimated. 
.rf 
.nr x0 \w'sentences  ' 
.nr x1 \w'  ' 
.nr x2 \w'depends on  ' 
.nr x3 \w'generalized or  ' 
.nr x4 \w'natural speech  ' 
.nr x5 \w'author of segment' 
.nr x6 \n(x0u+\n(x1u+\n(x2u+\n(x3u+\n(x4u+\n(x5u 
.nr x7 (\n(.l-\n(x6)/2 
.in \n(x7u 
.ta \n(x0u +\n(x1u +\n(x2u +\n(x3u +\n(x4u 
	|	size of	storage	source of	principal 
	|	utterance	method	utterance	burden is 
	|	inventory		inventory	placed on 
	|\h'-1.0i'\l'\n(x6u\(ul' 
	| 
sentences	|	depends on	waveform or	natural speech	recording artist, 
	|	application	source-filter		storage medium 
	|		parameters 
	| 
words	|	depends on	source-filter	natural speech	recording artist 
	|	application	parameters		and editor, 
	|				storage medium 
	| 
syllables/	|	\0\0\010000	source-filter	natural speech	recording editor 
  lisibles	|		parameters 
	| 
demi-	|	\0\0\0\01000	source-filter	natural speech	recording editor 
  syllables	|		parameters	or artificially	or inventory 
	|			generated	compiler 
	| 
phonemes	|	\0\0\0\0\0\040	generalized	artificially	author of segment 
	|		parameters	generated	concatenation 
	|				program 
	| 
allophones	|	\0\050\-100	generalized or	artificially	coder of 
	|		source-filter	generated or	synthesized 
	|		parameters	natural speech	utterances 
	|\h'-1.0i'\l'\n(x6u\(ul' 
.in 0 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.fg "table 7.1  some issues relevant to choice of basic unit" 
.pp 
table 7.1 summarizes in broad brush-strokes the issues which relate to the 
choice of basic unit for concatenation. 
the sections which follow provide more detail about the different 
methods of joining segments of speech together. 
only segmental aspects are considered, for the important problems of 
prosody will be treated in the next chapter. 
all of the methods rely to some extent on the acoustic properties of speech, 
and as smaller basic units are considered the role of speech acoustics 
becomes more important. 
it is impossible in a book like this to give a detailed account of acoustic 
phonetics, for it would take several volumes! 
what i aim to do in the following pages is to highlight some salient features 
which are relevant to segment concatenation, without attempting to be 
complete. 
.sh "7.1  word concatenation" 
.pp 
for general speech output, word concatenation is an inherently limited 
technique because of the large number of phonetically different words. 
despite this fact, it is at present the most widely-used synthesis 
method, and is likely to remain so for several years. 
we have seen that the primary problems are word-to-word 
coarticulation and prosody; and both can be overcome, at least to a useful 
approximation, by coding the words in source-filter form. 
.rh "time-domain techniques." 
nevertheless, a surprising number of applications simply store 
the time waveform, coded, usually, by one of the techniques described in 
chapter 3. 
from an implementation point of view there are many advantages to this. 
speech quality can easily be controlled by selecting a suitable sampling 
rate and coding scheme. 
a natural-sounding voice is guaranteed; male or female as desired. 
the equipment required is minimal \(em a digital-to-analogue 
converter and post-sampling filter will do for synthesis if 
pcm coding is used, and 
dpcm, adpcm, and delta modulation decoders are not much more complicated. 
.pp 
from a speech point of view, the resulting utterances can never be made 
convincingly fluent. 
we discussed the early experiments of stowe and hampton (1961) 
at the beginning of chapter 3. 
.[ 
stowe hampton 1961 
.] 
a major drawback to word concatenation in the 
analogue domain is the introduction of clicks and other interference 
between words:  it is difficult to prevent the time waveform transitions 
from adding extraneous sounds. 
this poses no problem with digital storage, however, for the waveforms 
can be edited accurately prior to storage so that they start 
and finish at an exactly 
zero level. 
rather, the lack of fluency stems from the absence of proper control 
of coarticulation and prosody. 
.pp 
but this is not necessarily a serious drawback if the application is 
a sufficiently limited one.  complete, invariant utterances can be 
stored as one unit.  often they must contain data-dependent 
slot-fillers, as in 
.lb 
this flight makes \(em stops 
.le 
and 
.lb 
flight number \(em leaves \(em at \(em , arrives in \(em at \(em 
.le 
(taken from the airline reservation system of chapter 1 
(levinson and shipley, 1980)). 
.[ 
levinson shipley 1980 
.] 
then, each slot-filling word is recorded in an intonation consistent 
both with its position in the template utterance and with the 
intonation of that utterance. 
this could be done by embedding the word in the utterance 
for recording, and excising it by digital editing before storage. 
it would be dangerous to try to take into account coarticulation effects, 
for the coarticulation could not be made consistent with both the 
several slot-fillers and the single template. 
this could be overcome if several versions of the template were stored, 
but then the scheme becomes subject to combinatorial explosion 
if there is more than one slot in a single utterance. 
but it is not really necessary, for the lack of fluency will probably 
be interpreted by a benevolent listener as an attempt to convey the 
information as clearly as possible. 
.pp 
difficulties will occur if the same slot-filler is used in different 
contexts.  for instance, the first gap in each of the sentences above 
contains a number; yet the intonation of that number is different. 
many systems simply ignore this problem. 
then one does notice anomalies, if one is attentive:  the words come, 
as it were, from different mouths, without fluency. 
however, the problem is not necessarily acute.  if it is, two or more 
versions of each slot-filler can be recorded, one for each context. 
.pp 
as an example, consider the synthesis of 7-digit telephone numbers, 
like 289\-5371.  if one version only of each digit is stored, 
it should be recorded in a level tone of voice.  a pause should be 
inserted after the third digit of the synthetic number, to accord 
with common elocution.  the result will certainly be unnatural, although 
it should be clear and intelligible. 
any pitch errors in the recordings will make certain numbers 
audibly anomalous. 
at the other extreme, 70 single digits could be stored, one version of 
each digit for each position in the number.  the recording will be 
tedious and error-prone, and the synthetic utterances will still not 
be fluent \(em for coarticulation is ignored \(em but instead 
unnaturally clearly enunciated.  a compromise is to record only 
three versions of each digit, one for any of the 
five positions 
.nr x1 \w'\(ul' 
.nr x2 (8*\n(x1) 
.nr x3 0.2m 
\zx\h'\n(x1u'\zx\h'\n(x1u'\h'\n(x1u'\z\-\h'\n(x1u'\zx\h'\n(x1u'\zx\h'\n(x1u'\c 
\zx\h'\n(x1u'\h'\n(x1u'\v'\n(x3u'\l'-\n(x2u\(ul'\v'-\n(x3u' , 
another one for the third position 
\h'\n(x1u'\h'\n(x1u'\zx\h'\n(x1u'\z\-\h'\n(x1u'\h'\n(x1u'\c 
\h'\n(x1u'\h'\n(x1u'\h'\n(x1u'\v'\n(x3u'\l'-\n(x2u\(ul'\v'-\n(x3u' , 
and the last for the final position 
\h'\n(x1u'\h'\n(x1u'\h'\n(x1u'\z\-\h'\n(x1u'\h'\n(x1u'\c 
\h'\n(x1u'\h'\n(x1u'\zx\h'\n(x1u'\v'\n(x3u'\l'-\n(x2u\(ul'\v'-\n(x3u' . 
the first version will be in a level voice, the second an 
incomplete, rising tone; and the third a final, dropping pitch. 
.rh "joining formant-coded words." 
the limitations of the time-domain method are lack of 
fluency caused by unnatural transitions between words, and the 
combinatorial explosion created by recording slot-fillers several times 
in different contexts. 
both of these problems can be alleviated by storing formant tracks, 
concatenating them with suitable interpolation, and applying a complete 
pitch contour suitable for the whole utterance. 
but one can still not generate conversational speech, for natural speech 
rhythms cause non-linear warpings of the time axis which cannot reasonably 
be imitated by this method. 
.pp 
solving problems often creates others. 
as we saw in chapter 4, it is not easy to obtain reliable formant tracks 
automatically.  yet hand-editing of formant parameters adds a whole new 
dimension to the problem of vocabulary construction, for it is 
an exceedingly tiresome and time-consuming task. 
even after such tweaking, resynthesized utterances will be degraded 
considerably from the original, for the source-filter model is by no means 
a perfect one. 
a hardware or real-time software formant synthesizer must be added 
to the system, presenting design problems and creating extra cost. 
should a serial or parallel synthesizer be used? \(em the latter offers 
potentially better speech (especially in nasal sounds), but requires 
additional parameters, namely formant amplitudes, to be estimated. 
finally, as we will see in the next chapter, it is not an easy matter to 
generate a suitable pitch contour and apply it to the utterance. 
.pp 
strangely enough, the interpolation itself does not present any great 
difficulty, for there is not enough information in the formant-coded 
words to make possible sophisticated coarticulation. 
the need for interpolation is most pressing when one word ends with 
a voiced sound and the next begins with one. 
if either the end of the first or the beginning of the second word 
(or both) is unvoiced, unnatural formant transitions do not matter 
for they will not be heard. 
actually, this is only strictly true for fricative transitions:  if 
the juncture is aspirated then formants will be perceived in the 
aspiration.  however, 
.ul 
h 
is the only fully aspirated sound in english, 
and it is relatively uncommon. 
it is not absolutely necessary to interpolate the fricative filter resonance, 
because smooth transitions from one fricative sound to another are rare 
in natural speech. 
.pp 
hence unless both sides of the junction are voiced, no interpolation 
is needed:  simple abuttal of the stored parameter tracks will do. 
note that this is 
.ul 
not 
the same as joining time waveforms, for the synthesizer 
will automatically ensure a relatively smooth transition from one 
segment to another because of energy storage in the filters. 
a new set of resonance parameters for the formant-coded words will be stored 
every 10 or 20 msec (see chapter 5), and so the transition will automatically 
be smoothed over this time period. 
.pp 
for voiced-to-voiced transitions, some interpolation is needed. 
an overlap period of duration, say, 50\ msec, is established, and 
the resonance parameters in the final 50\ msec of the first word are 
averaged with those in the first 50\ msec of the second. 
the average is weighted, with the first word's formants dominating 
at the beginning and their effect progressively dying out 
in favour of the second word. 
.pp 
more sophisticated than a simple average is to weight the components 
according to how rapidly they are changing. 
if the spectral change in one word is much greater than that in the 
other, we might expect that this will dominate the transition. 
a simple measure of spectral derivative at any given time can be found 
by adding the magnitude of the discrepancies in each formant frequency 
between one sample and the next. 
the spectral change in the transition region can be obtained by summing 
the spectral derivatives at each sample in the region. 
such a measure can perhaps be made more accurate by taking into 
account the relative importance of the formants, but will probably 
never be more than a rough and ready yardstick. 
at any rate, it can be used to load the average in favour of the 
dominant side of the junction. 
.pp 
much more important for naturalness of the speech are the effects 
of rhythm and intonation, discussed in the next chapter. 
.pp 
such a scheme has been implemented and tested on \(em guess what! \(em 7-digit 
telephone numbers (rabiner 
.ul 
et al, 
1971). 
.[ 
rabiner schafer flanagan 1971 
.] 
significant improvement (at the 5% level of statistical 
significance) in people's 
ability to recall numbers was found for this method over direct 
abuttal of either natural or synthetic versions of the digits. 
although the method seemed, on balance, to produce utterances that were 
recalled less accurately than completely natural spoken 
telephone numbers, the difference was not significant (at the 5% level). 
the system was also used to generate wiring instructions by computer 
directly from the connection list, as described in chapter 1. 
as noted there, synthetic speech was actually preferred to natural speech 
in the noisy environment of the production line. 
.rh "joining linear predictive coded words." 
because obtaining accurate formant tracks for natural utterances 
by fourier transform methods is difficult, it is worth considering 
the use of linear prediction as the source-filter model. 
actually, formant resonances can be extracted from linear predictive 
coefficients quite easily, but there is no need to do this because 
the reflection coefficients themselves are quite suitable 
for interpolation. 
.pp 
a slightly different interpolation scheme from that described in the 
previous section has been reported (olive, 1975). 
.[ 
olive 1975 
.] 
the reflection coefficients were spliced during an overlap region of 
only 20\ msec. 
more interestingly, attempts were made to suppress the plosive bursts 
of stop sounds in cases where they were followed by another stop at 
the beginning of the next word. 
this is a common coarticulation, occurring, for instance, in the phrase 
"stop burst".  in running speech, the plosion on the 
.ul 
p 
of "stop" is 
normally suppressed because it is followed by another stop. 
this is a particularly striking case because the place of articulation 
of the two stops 
.ul 
p 
and 
.ul 
b 
is the same:  complete suppression is not as likely 
to happen in "stop gap", for example (although it may occur). 
here is an instance of how extra information could improve the 
quality of the synthetic transitions considerably. 
however, automatically identifying the place of articulation of stops is 
a difficult job, of a complexity far above what is appropriate for 
simply joining words stored in source-filter form. 
.pp 
another innovation was introduced into the transition between two 
vowel sounds, when the second word began with an accented syllable. 
a glottal stop was placed at the juncture. 
although the glottal stop was not described in chapter 2, it is a sound 
used in many dialects of english.  it frequently occurs 
in the utterance "uh-uh", meaning "no".  here it 
.ul 
is 
used to separate two vowel sounds, but in fact this is not particularly 
common in most dialects. 
one could say "the apple", "the orange", "the onion" with a neutral vowel 
in "the" (to rhyme with "\c 
.ul 
a\c 
bove") and a glottal stop as separator, 
but it is much more usual to rhyme "the" with "he" and introduce a 
.ul 
y 
between the words. 
similarly, even speakers who do not normally pronounce an 
.ul 
r 
at the 
end of words will introduce one in "bigger apple", rather than 
using a glottal stop. 
note that it would be wrong to put an 
.ul 
r 
in "the apple", even 
for speakers who usually terminate "the" and "bigger" with the same sound. 
such effects occur at a high level of processing, and are practically 
impossible to simulate with word-interpolation rules. 
hence the expedient of introducing a glottal stop is a good one, although 
it is certainly unnatural. 
.sh "7.2  concatenating whole or partial syllables" 
.pp 
the use of segments larger than a single phoneme or allophone but smaller 
than a word as the basic unit for speech synthesis has an interesting 
history. 
it has long been realized that transitions between phonemes are 
extremely sensitive and critical components of speech, and thus are 
essential for successful synthesis. 
consider the unvoiced stop sounds 
.ul 
p, t, 
and 
.ul 
k. 
their central portion is actually silence!  (try saying a word like 
"butter" with a very long 
.ul 
t.\c 
)  hence 
in this case it is 
.ul 
only 
the transitional information which can distinguish these sounds from 
each other. 
.pp 
sound segments which comprise the transition from the centre of one phoneme 
to the centre of the next are called 
.ul 
dyads 
or 
.ul 
diphones. 
the possibility of using them as the basic units for concatenation 
was first mooted in the mid 1950's. 
the idea is attractive because there is relatively little spectral 
movement in the central, so-called "steady-state", portion of many 
phonemes \(em in the extreme case of unvoiced stops there is not only 
no spectral movement, but no spectrum at all in the steady state! 
at that time the resonance synthesizer was in its infancy, and 
so recorded segments of live speech were used.  the early experiments 
met with little success because of the technical difficulties 
of joining analogue waveforms and inevitable discrepancies between 
the steady-state parts of a phoneme recorded in different contexts \(em not 
to mention the problems of coarticulation and prosody which effectively 
preclude the use of waveform concatenation at such a low level. 
.pp 
in the mid 1960's, with the growing use of resonance synthesizers, 
it became possible to generate diphones by copying resonance parameters 
manually from a spectrogram, and improving the result by trial and error. 
it was not feasible to extract formant frequencies automatically from real 
speech, though, because the fast fourier transform was not yet widely 
known and the computational burden of slow fourier transformation was 
prohibitive. 
for example, a project at ibm stored manually-derived parameter tracks 
for diphones, identified by pairs of phoneme names (dixon and maxey, 1968). 
.[ 
dixon maxey 1968 
.] 
to generate a synthetic utterance it was coded in 
phonetic form and used to access 
the diphone table to give a set of parameter tracks for the complete 
utterance.  note that this is the first system we have encountered 
whose input is a phonetic transcription which relates to an inventory 
of truly synthetic character:  all previous schemes used recordings of 
live speech, albeit processed in some form. 
since the inventory was synthetic, there was no difficulty in ensuring 
that discontinuities did not arise between segments beginning and ending with 
the same phoneme.  thus interpolation was irrelevant, and the synthesis 
procedure concentrated on prosodic questions.  the resulting speech 
was reported to be quite impressive. 
.pp 
strictly speaking, diphones are not demisyllables but phoneme pairs. 
in the simplest case they happen to be similar, for two primary diphones 
characterize a consonant-vowel-consonant syllable. 
there is an advantage to using demisyllables rather than diphones as the basic 
unit, for many syllables begin or end with complicated consonant clusters 
which are not easy to produce convincingly by diphone 
concatenation. 
but they are not easy to produce by hand-editing resonance parameters 
either! 
now that speech analysis methods have been developed and refined, 
resonance parameters or linear predictive coefficients 
can be extracted automatically 
from natural utterances, and there has been a resurgence of interest in 
syllabic and demisyllabic synthesis methods.  the wheel has turned 
full circle, from segments of natural speech to hand-tailored parameters 
and back again! 
.pp 
the advantage of storing demisyllables over syllables (or lisibles) from 
the point of view of storage capacity has already been pointed out 
(perhaps 1,000\-2,000 demisyllables as opposed to 4,000\-10,000 syllables). 
but it is probably not too significant with the continuing decline 
of storage costs. 
the requirements are of the order of 25\ kbyte versus 0.5\ mbyte 
for 1200\ bit/s linear predictive coding, and the latter could 
almost be accomodated today \(em 1981 \(em on a state-of-the-art 
read-only memory chip. 
a bigger advantage comes from rhythmic considerations. 
as we will see in the next chapter, the rhythms of fluent speech cause 
dramatic variations in syllable duration, but these seem to affect 
the vowel and closing consonant cluster much more than the initial consonant 
cluster.  thus if a demisyllable is deemed to begin shortly (say 60\ msec) 
after onset of the vowel, when the formant structure has settled down, 
the bulk of the vowel and the closing consonant cluster will form a 
single demisyllable.  the opening cluster of the next syllable will lie 
in the next demisyllable.  then differential lengthening can be applied 
to that part of the syllable which tends to be stretched in live speech. 
.pp 
one system for demisyllable concatenation has produced excellent results 
for monosyllabic english words (lovins and fujimura, 1976). 
.[ 
lovins fujimura 1976 
.] 
complex word-final consonant clusters are excluded from the inventory by 
using syllable affixes 
.ul 
s, z, t, 
and 
.ul 
d; 
these are attached to the 
syllabic core as a separate exercise (macchi and nigro, 1977). 
.[ 
macchi nigro 1977 
.] 
prosodic rather than segmental considerations are likely to prove the major 
limiting factor when this scheme is extended to running speech. 
.pp 
monosyllabic words spoken in isolation are coded as linear predictive 
reflection coefficients, and segmented by digital editing into the initial 
consonant cluster and the vocalic nucleus plus final cluster. 
the cut is made 60\ msec into the vowel, as suggested above. 
this minimizes the difficulty of interpolation when concatenating 
segments, for there is ample voicing on either side of the juncture. 
the reflection coefficients should not differ radically because the 
vowel is the same in each demisyllable. 
a 40\ msec overlap is used, with the usual linear interpolation. 
an alternative smoothing rule applies when the second segment has 
a nasal or glide after the vowel.  in this case anticipatory coarticulation 
occurs, affecting even the early part of the vowel.  for example, a vowel 
is frequently nasalized when followed by a nasal sound \(em even in english 
where nasalization is not a distinctive feature in vowels (see chapter 2). 
under these circumstances the overlap area is moved forward in time so 
that the colouration applies throughout almost the whole vowel. 
.sh "7.3  phoneme synthesis" 
.pp 
acoustic phonetics is the study of how the acoustic 
signal relates to the phonetic sequence which was spoken or heard. 
people \(em especially engineers \(em often ask, how could phonetics not 
be acoustic?  in fact it can be articulatory, auditory, or linguistic 
(phonological), for example, and we have touched on the first and last 
in chapter 2. 
the invention of the sound spectrograph in the late 1940's was an 
event of colossal significance for acoustic phonetics, for it somehow 
seemed to make the intricacies of speech visible. 
(this was thought to be a greater advance than actually turned 
out:  historically-minded readers should refer to potter 
.ul 
et al, 
1947, 
for an enthusiastic contemporary appraisal of the invention.)  a 
.[ 
potter kopp green 1947 
.] 
result of several years of research at haskins laboratories in new york 
during the 1950's was a set of "minimal rules for synthesizing speech", 
which showed how stylized formant patterns could generate cues for 
identifying vowels and, particularly, consonants 
(liberman, 1957; liberman 
.ul 
et al, 
1959). 
.[ 
liberman 1957 some results of research on speech perception 
.] 
.[ 
liberman ingemann lisker delattre cooper 1959 
.] 
.pp 
these were to form the basis of many speech synthesis-by-rule computer 
programs in the ensuing decades.  such programs take as input a 
phonetic transcription of the utterance and generate a spoken version 
of it.  the transcription may be broad or narrow, depending on the 
system.  experience has shown that the haskins rules really are 
minimal, and the success of a synthesis-by-rule program depends on 
a vast collection of minutia, each seemingly insignificant in isolation 
but whose effects combine to influence the speech quality dramatically. 
the best current systems produce clearly understandable 
speech which is nevertheless something of a strain to listen to for 
long periods. 
however, many are not good; and some are execrable. 
in recent times commercial influences have unfortunately restricted 
the free exchange of results and programs between academic researchers, 
thus slowing down progress. 
research attention has turned to prosodic factors, 
which are certainly less well understood than segmental ones, and 
to synthesis from plain english text rather than from phonetic transcriptions. 
.pp 
the remainder of this chapter describes the techniques of segmental 
synthesis.  first it is necessary to introduce some 
elements of acoustic phonetics. 
it may be worth re-reading chapter 2 at this point, to refresh 
your memory about the classification of speech sounds. 
.sh "7.4  acoustic characterization of phonemes" 
.pp 
shortly after the invention of the sound spectrograph an inverse 
instrument was developed, called the "pattern playback" synthesizer. 
this took as input a spectrogram, either in its original form or 
painted by hand. 
an optical arrangment was used to modulate the amplitude of some 
fifty harmonically-related oscillators by the lightness or darkness 
of each point on the frequency axis of the spectrogram. 
as it was drawn past the playing head, sound was produced which 
had approximately the frequency components shown on the spectrogram, 
although the fundamental frequency was constant. 
.pp 
this device allowed the complicated 
acoustic effects seen on a spectrogram (see for example figures 2.3 and 2.4) 
to be replayed in either original or simplified form. 
hence the features which are important for perception of the different sounds 
could be isolated.  the procedure was to copy from an actual spectrogram 
the features which were most prominent visually, and then to make further 
changes by trial and error until the result was judged to have 
reasonable intelligibility when replayed. 
.pp 
for the purpose of acoustic characterization of particular phonemes, 
it is useful to consider the central, steady-state part separately from 
transitions into and out of the segment. 
the steady-state part is that sound which is heard when the phoneme 
is prolonged.  the term "phoneme" is being used in a rather loose sense 
here:  it is more appropriate to think of a "sound segment" rather than 
the abstract unit which forms the basis of phonological classification, 
and this is the terminology i will adopt. 
.pp 
the essential auditory characteristics of some sound segments are inherent in 
their steady states. 
if a vowel, for example, is spoken and prolonged, it can readily be 
identified by listening to any part of the utterance. 
this is not true for diphthongs:  if you say "i" very slowly and freeze 
your vocal tract posture at any time, the resulting steady-state sound 
will not be sufficient to identify the diphthong.  rather, it will be 
a vowel somewhere between 
.ul 
aa 
(in "had") or 
.ul 
ar 
(in "hard") and 
.ul 
ee 
(in "heed"). 
neither is it true for glides, for prolonging 
.ul 
w 
(in "want") or 
.ul 
y 
(in "you") results in vowels resembling respectively 
.ul 
u 
("hood") or 
.ul 
ee 
("heed"). 
fricatives, voiced or unvoiced, can be identified from the steady state; 
but stops can not, for their's is silent (or \(em in the case 
of voiced stops \(em something close to it). 
.pp 
segments which are identifiable from their steady state are easy to synthesize. 
the difficulty lies with the others, for it must be the transitions which 
carry the information.  thus "transitions" are an essential part of speech, 
and perhaps the term is unfortunate for it calls to mind an unimportant 
bridge between one segment and the next. 
it is tempting to use the words "continuant" and "non-continuant" to distinguish 
the two categories; unfortunately they are used by phoneticians in a different 
sense. 
we will call them "steady-state" and "transient" segments.  the latter term 
is not particularly appropriate, for even sounds in this class 
.ul 
can 
be prolonged:  the point is that the identifying information is in the 
transitions rather than the steady state. 
.rf 
.nr x1 (\w'excitation'/2) 
.nr x2 (\w'formant resonance'/2) 
.nr x3 (\w'fricative'/2) 
.nr x4 (\w'frequencies (hz)'/2) 
.nr x5 (\w'resonance (hz)'/2) 
.nr x0 4n+1.7i+0.8i+0.6i+0.6i+1.0i+\w'00'+\n(x5 
.nr x6 (\n(.l-\n(x0)/2 
.in \n(x6u 
.ta 4n +1.7i +0.8i +0.6i +0.6i +1.0i 
		\h'-\n(x1u'excitation		\0\0\h'-\n(x2u'formant resonance	\0\0\h'-\n(x3u'fricative 
				\0\0\h'-\n(x4u'frequencies (hz)	\0\0\c 
\h'-\n(x5u'resonance (hz) 
\l'\n(x0u\(ul' 
.sp 
.nr x1 (\w'voicing'/2) 
\fiuh\fr	(the)	\h'-\n(x1u'voicing	\0500	1500	2500 
\fia\fr	(bud)	\h'-\n(x1u'voicing	\0700	1250	2550 
\fie\fr	(head)	\h'-\n(x1u'voicing	\0550	1950	2650 
\fii\fr	(hid)	\h'-\n(x1u'voicing	\0350	2100	2700 
\fio\fr	(hod)	\h'-\n(x1u'voicing	\0600	\0900	2600 
\fiu\fr	(hood)	\h'-\n(x1u'voicing	\0400	\0950	2450 
\fiaa\fr	(had)	\h'-\n(x1u'voicing	\0750	1750	2600 
\fiee\fr	(heed)	\h'-\n(x1u'voicing	\0300	2250	3100 
\fier\fr	(heard)	\h'-\n(x1u'voicing	\0600	1400	2450 
\fiar\fr	(hard)	\h'-\n(x1u'voicing	\0700	1100	2550 
\fiaw\fr	(hoard)	\h'-\n(x1u'voicing	\0450	\0750	2650 
\fiuu\fr	(food)	\h'-\n(x1u'voicing	\0300	\0950	2300 
.nr x1 (\w'aspiration'/2) 
\fih\fr	(he)	\h'-\n(x1u'aspiration 
.nr x1 (\w'frication'/2) 
.nr x2 (\w'frication and voicing'/2) 
\fis\fr	(sin)	\h'-\n(x1u'frication				6000 
\fiz\fr	(zed)	\h'-\n(x2u'frication and voicing				6000 
\fish\fr	(shin)	\h'-\n(x1u'frication				2300 
\fizh\fr	(vision)	\h'-\n(x2u'frication and voicing				2300 
\fif\fr	(fin)	\h'-\n(x1u'frication				4000 
\fiv\fr	(vat)	\h'-\n(x2u'frication and voicing				4000 
\fith\fr	(thin)	\h'-\n(x1u'frication				5000 
\fidh\fr	(that)	\h'-\n(x2u'frication and voicing				5000 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 7.2  resonance synthesizer parameters for steady-state sounds" 
.rh "steady-state segments." 
table 7.2 shows appropriate values for the resonance parameters and 
excitation sources of a resonance synthesizer, for steady-state 
segments only. 
there are several points to note about it. 
firstly, all the frequencies involved obviously depend upon the 
speaker \(em the size of his vocal tract, his accent and speaking habits. 
the values given are nominal ones for a male speaker with a dialect of 
british english called "received pronunciation" (rp) \(em for it is what 
used to be "received" on the wireless in the old days 
before the british broadcasting corporation 
adopted a policy of more informal, more regional, speech. 
female speakers have formant frequencies approximately 15% higher 
than male ones. 
secondly, the third formant is relatively unimportant for vowel 
identification; it is 
the first and second that give the vowels their character. 
thirdly, formant values for 
.ul 
h 
are not given, for they would be meaningless. 
although it is certainly a steady-state sound, 
.ul 
h 
changes radically 
in context.  if you say "had", "heed", "hud", and so on, and freeze 
your vocal tract posture on the initial 
.ul 
h, 
you will find it 
already configured for the following vowel \(em an excellent 
example of anticipatory coarticulation. 
fourthly, amplitude values do play some part in identification, 
particularly for fricatives. 
.ul 
th 
is the weakest sound, closely followed by 
.ul 
f, 
with 
.ul 
s 
and 
.ul 
sh 
the 
strongest.  it is necessary to get a reasonable mix of excitation in 
the voiced fricatives; the voicing amplitude is considerably less than 
in vowels.  finally, there are other sounds that might be considered 
steady state ones.  you can probably identify 
.ul 
m, n, 
and 
.ul 
ng 
just by 
their steady states.  however, the difference is not particularly 
strong; it is the transitional parts which discriminate most effectively 
between these sounds.  the steady state of 
.ul 
r 
is quite distinctive, too, 
for most speakers, because the top of the tongue is curled back in a 
so-called "retroflex" action and this causes a radical change in the 
third formant resonance. 
.rh "transient segments." 
transient sounds include diphthongs, glides, 
nasals, voiced and unvoiced stops, and affricates. 
the first two are relatively easy to characterize, for they are 
basically continuous, gradual transitions from one vocal tract posture 
to another \(em sort of dynamic vowels.  diphthongs and glides are 
similar to each other.  in fact "you" could be transcribed as 
a triphthong, 
.ul 
i e uu, 
except that in the initial posture the tongue 
is even higher, and the vocal tract correspondingly more constricted, 
than in 
.ul 
i 
("hid") \(em though not as constricted as in 
.ul 
sh. 
both categories can be represented in terms of target formant 
values, on the understanding that these are not to be 
interpreted as steady state configurations but strictly as 
extreme values at the beginning or end of the formant motion (for 
transitions out of and into the segment, respectively). 
.pp 
nasals have a steady-state portion comprising a strong nasal formant 
at a fairly low frequency, on account of the large size of the 
combined nasal and oral cavity which is resonating. 
higher formants are relatively weak, because of attenuation effects. 
transitions into and out of nasals are strongly nasalized, 
as indeed are adjacent vocalic segments, with 
the oral and nasal tract operating in parallel.  as discussed in 
chapter 5, this cannot be simulated on a series synthesizer. 
however, extremely fast motions of the formants occur on account of 
the binary switching action of the velum, and it turns out that 
fast formant transitions are sufficient to simulate nasals because 
the speech perception mechanism is accustomed to hearing them only 
in that context!  contrast this with the extremely slow transitions 
in diphthongs and glides. 
.pp 
stops form the most interesting category, and research using the pattern 
playback synthesizer was instrumental in providing adequate acoustic 
characterizations for them.  consider unvoiced stops. 
they each have three phases:  transition in, silent central portion, 
and transition out.  there is a lot of action on the transition out 
(and many phoneticians would divide this part alone into several "phases"). 
first, as the release occurs, there is a small burst of fricative noise. 
say "t\ t\ t\ ..." as in "tut-tut", without producing any voicing. 
actually, when used as an admonishment this is accompanied by 
an ingressive, inhaling air-stream instead of the normal egressive, 
exhaling one used in english speech (although some languages 
do have ingressive sounds). 
in any case, a short fricative somewhat resembling a tiny 
.ul 
s 
can be heard as the tongue leaves the roof of the mouth. 
frication is produced when the gap is very narrow, and ceases 
rapidly as it becomes wider. 
next, when an unvoiced stop is released, a significant amount of aspiration 
follows the release. 
say "pot", "tot", "cot" with force and you will hear the 
.ul 
h\c 
-like 
aspiration quite clearly. 
it doesn't always occur, though; for example you will hear little 
aspiration when a fricative like 
.ul 
s 
precedes the stop in the 
same syllable, as in "spot", "scot".  the aspiration is a distinguishing 
feature between "white spot" and the rather unlikely "white's pot". 
it tends to increase as the emphasis on the syllable increases, 
and this in an example of a prosodic feature influencing segmental 
characteristics.  finally, at the end of the segment, 
the aspiration \(em if any \(em will turn to voicing. 
.pp 
what has been described applies to 
.ul 
all 
unvoiced stops. 
what distinguishes one from another? 
the tiny fricative burst will be different because the noise is produced 
at different places in the vocal tract \(em at the lips for 
.ul 
p, 
tongue and front of palate for 
.ul 
t, 
and tongue and back of palate for 
.ul 
k. 
the most important difference, however, is the formant motion illuminated 
by the last vestiges of voicing at closure and by both aspiration and the 
onset of voicing at opening. 
each stop has target formant values which, although 
they cannot be heard during the stopped portion (for there is no 
sound there), do affect the transitions in and out. 
an added complexity is that the target positions themselves vary to some 
extent depending on the adjacent segments. 
if the stop is heavily aspirated, the vocal posture will have almost 
attained that for the following vowel before voicing begins, but 
the formant transitions will be perceived because they affect 
the sound quality of aspiration. 
.pp 
the voiced stops 
.ul 
b, d, 
and 
.ul 
g 
are quite similar to their unvoiced analogues 
.ul 
p, t, 
and 
.ul 
k. 
what distinguishes them from each other are the formant transitions to 
target positions, heard during closure and opening. 
they are distinguished from their unvoiced counterparts by the fact 
that more voicing is present:  it lingers on longer at closure 
and begins earlier on opening.  thus little or no aspiration appears 
during the opening phase.  if an unvoiced stop is uttered in a context 
where aspiration is suppressed, as in "spot", it is almost identical to the 
corresponding voiced stop, "sbot".  luckily no words in english require 
us to make a distinction in such contexts. 
voicing sometimes pervades the entire stopped portion of a voiced stop, 
especially when it is surrounded by other voiced segments. 
when saying a word like "baby" slowly you can choose whether or not to 
prolong voicing throughout the second 
.ul 
b. 
if you do, creating what is 
called a "voice bar" in spectrograms, 
the sound escapes through the cheeks, for 
the lips are closed \(em try doing it for a very long time and your cheeks 
will fill up with air! 
this severely attenuates high-frequency components, and can 
be simulated with a weak first formant at a low resonant frequency. 
.rf 
.nr x0 \w'unvoiced stops:    'u 
.nr x1 4n 
.nr x2 \n(x0+\n(x1+\w'aspiration burst (context- and emphasis-dependent)'u 
.nr x3 (\n(.l-\n(x2)/2 
.in \n(x3u 
.ta \n(x0u +\n(x1u 
unvoiced stops:	closure (early cessation of voicing) 
	silent steady state 
	opening, comprising 
		short fricative burst 
		aspiration burst (context- and emphasis-dependent) 
		onset of voicing 
.sp 
voiced stops:	closure (late cessation of voicing) 
	steady state (possibility of voice bar) 
	opening, comprising 
		pre-voicing 
		short fricative burst 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 7.3  acoustic phases of stop consonants" 
.pp 
table 7.3 summarizes some of the acoustic phases of voiced and unvoiced 
stops.  there are many variations that have not been mentioned. 
nasal plosion ("good news") occurs (at the word boundary, in this case) 
when the nasal formant pervades the 
opening phase.  stop bursts are suppressed when the next sound is a stop 
too (the burst on the 
.ul 
p 
of "apt", for example). 
it is difficult to distinguish a voiced stop from an unvoiced one 
at the end of a word ("cab" and "cap"); if the speaker is trying to 
make himself particularly clear he will put a short neutral vowel 
after the voiced stop to emphasize its early onset of voicing. 
(if he is italian he will probably do this anyway, for it is the norm 
in his own language.) 
.pp 
finally, we turn to affricates, of which there are only two 
in english: 
.ul 
ch 
("chin") and 
.ul 
j 
("djinn"). 
they are very similar to the stops 
.ul 
t 
and 
.ul 
d 
followed by the fricatives 
.ul 
sh 
and 
.ul 
zh 
respectively, and their acoustic characterization is similar to that 
of the phoneme pair. 
.ul 
ch 
has a closing phase, a stopped phase, and a long fricative burst. 
there is no aspiration, 
for the vocal cords are not involved. 
.ul 
j 
is the same except that voicing extends further into the stopped 
portion, and the terminating fricative is also voiced. 
it may be pronounced with a voice bar if the preceding segment is voiced 
("adjunct"). 
.sh "7.5  speech synthesis by rule" 
.pp 
generation of speech by rules acting upon a phonetic transcription 
was first investigated in the early 1960's (kelly and gerstman, 1961). 
.[ 
kelly gerstman 1961 
.] 
most systems employ a hardware resonance synthesizer, analogue or digital, 
series or parallel, 
to reduce the load on the computer which operates the rules. 
the speech-by-rule program, rather than the 
synthesizer, inevitably contributes by far the greater part of the 
degradation in the resulting speech. 
although parallel synthesizers offer greater potential control over 
the spectrum, it is not clear to what extent a synthesis program can take 
advantage of this.  parameter tracks for a series synthesizer can 
easily be converted into linear predictive coefficients, and systems 
which use a linear predictive synthesizer will probably become popular 
in the near future. 
.pp 
the phrase "synthesis by rule", which is in common use, does not 
make it clear just what sort of features the rules are supposed to 
accomodate, and what information must be included explicitly in the 
input transcription. 
early systems made no attempt to simulate prosodics. 
pitch and rhythm could be controlled, but only by inserting 
pitch specifiers and duration markers in the input. 
some kind of prosodic control was often incorporated later, 
but usually as a completely separate phase from segmental synthesis. 
this does not allow interaction effects (such as the extra 
aspiration for voiceless stops in accented syllables) to be taken 
into account easily. 
even systems which perform prosodic operations invariably need to have 
prosodic specifications embedded explicitly in the input. 
.pp 
generating parameter tracks for a synthesizer from a phonetic transcription 
is a process of data 
.ul 
expansion. 
six bits are ample to specify a phoneme, and a speaking rate of 12 phonemes/sec 
leads to an input data rate of 72 bit/s. 
the data rate required to control the synthesizer will depend upon the number 
of parameters and the rate at which they are sampled, 
but a typical figure is 6 kbit/s (chapter 5). 
hence there is something like a hundredfold data expansion. 
.pp 
figure 7.1 shows the parameter tracks for a series synthesizer's rendering 
of the utterance 
.ul 
s i k s. 
.fc "figure 7.1" 
there are eight parameters. 
you can see the onset of frication at the beginning and end (parameter 5), 
and the amplitude of voicing (parameter 1) come on for the 
.ul 
i 
and off again before the 
.ul 
k. 
the pitch (parameter 0) is falling slowly throughout the utterance. 
these tracks are stylized:  they come from a computer synthesis-by-rule 
program and not from a human utterance. 
with a parameter update rate of 10 msec, the graphs can be represented 
by 90 sets of eight parameter values, a total of 720 values or 4320 bits 
if a 6-bit representation is used for each value. 
contrast this with the input of only four phoneme segments, or say 24 bits. 
.rh "a segment-by-segment system." 
a seminal paper appearing in 1964 was the first comprehensive 
description of a computer-based synthesis-by-rule system 
(holmes 
.ul 
et al, 
1964). 
.[ 
holmes mattingly shearme 1964 
.] 
the same system is still in use and has been reimplemented in a more 
portable form (wright, 1976). 
.[ 
wright 1976 
.] 
the inventory of sound segments 
includes the phonemes listed in table 2.1, as well as diphthongs and 
a second allophone of 
.ul 
l. 
(many british speakers use quite a different vocal posture for 
pre- and post-vocalic 
.ul 
l\c 
\&'s, called clear and dark 
.ul 
l\c 
\&'s 
respectively.)  some phonemes are expanded into sub-phonemic 
"phases" by the program.  stops have three phases, corresponding to 
the closure, silent steady state, and opening. 
diphthongs have two phases.  we will call individual phases and 
single-phase phonemes "segments", for they are subject to exactly 
the same transition rules. 
.pp 
parameter tracks are constructed out of linear pieces. 
consider a pair of adjacent segments in an utterance to be synthesized. 
each one has a steady-state portion and an internal transition. 
the internal transition of one phoneme is dubbed "external" 
as far as the other is concerned. 
this is important because instead of each segment being responsible 
for its own internal transition, one of the pair is identified 
as "dominant" and it controls the duration of both transitions \(em its 
internal one and its external (the other's internal) one. 
for example, in figure 7.2 the segment 
.ul 
sh 
dominates 
.ul 
ee 
and so it 
governs the duration of both transitions shown. 
.fc "figure 7.2" 
note that each 
segment contributes as many as three linear pieces to the parameter track. 
.pp 
the notion of domination is similar to that discussed earlier for 
word concatenation. 
the difference is that for word concatenation the dominant segment was 
determined by computing the spectral derivative over the transition 
region, whereas for synthesis-by-rule 
segments are ranked according to a static precedence, 
and the higher-ranking segment dominates. 
segments of stop consonants have the highest rank (and also 
the greatest spectral derivative), while fricatives, nasals, glides, 
and vowels follow in that order. 
.pp 
the concatenation procedure is controlled by a table which associates 
25 quantities with each segment.  they are 
.lb 
.ni 
rank 
.ni 
2\ \ overall durations (for stressed and unstressed occurrences) 
.ni 
4\ \ transition durations (for internal and external transitions of 
formant frequencies and amplitudes) 
.ni 
8\ \ target parameter values (amplitudes and frequencies of three 
formant resonances, plus fricative information) 
.ni 
5\ \ quantities which specify how to calculate boundary values for 
formant frequencies (two for each formant except the third, 
which has only one) 
.ni 
5\ \ quantities which specify how to calculate boundary values for 
amplitudes. 
.le 
this table is rather large.  there are 80 segments in all (remember 
that many phonemes are represented by more than one segment), 
and so it has 2000 entries.  the system was an offline one which ran on 
what was then \(em 1964 \(em a large computer. 
.pp 
the advantage of such a large table of "rules" is the 
flexibility it affords. 
notice that transition durations are specified independently for 
formant frequency and amplitude parameters \(em this permits 
fine control which is particularly useful for stops. 
for each parameter the boundary value between segments is calculated 
using a fixed contribution from the dominant one 
and a proportion of the steady state value of the other. 
.pp 
it is possible that the two transition durations which are 
calculated for a segment actually exceed the overall duration specified 
for it.  in this case, the steady-state target values will be approached 
but not actually attained, simulating a situation where coarticulation 
effects prevent a target value from being reached. 
.rh "an event-based system." 
the synthesis system described above, in common with many others, takes 
an uncompromisingly segment-by-segment view of speech. 
the next phoneme is read, perhaps split into a few segments, and 
these are synthesized one by one with due attention being paid 
to transitions between them. 
some later work has taken a more syllabic view. 
mattingly (1976) urges a return to syllables for both practical and 
theoretical reasons. 
.[ 
mattingly 1976 syllable synthesis 
.] 
transitional effects are particularly strong 
within a syllable and comparatively weak (but by no means negligible) 
from one syllable to the next.  from a theoretical viewpoint, 
there are much stronger phonetic restrictions on phoneme sequences 
than there are on syllable sequences:  pretty well any syllable can 
follow another (although whether the pair makes sense is 
a different matter), but the linguistically 
acceptable phoneme sequences are only a fraction 
of those formed by combining phonemes in all 
possible ways. 
hill (1978) argues against what be calls the "segmental assumption" 
that progress through the utterance should be made one segment at a time, 
and recommends a description of speech based upon perceptually relevant 
"events". 
.[ 
hill 1978 a program structure for event-based speech synthesis by rules 
.] 
this framework is interesting because it provides an opportunity for prosodic 
considerations to be treated as an integral part of the synthesis 
process. 
.pp 
the phonetic segments and other information that specify an utterance 
can be regarded as a list of events which describes it 
at a relatively high level. 
synthesis-by-rule is the act of taking this list and elaborating on it 
to produce lower-level events which are realized by the vocal tract, 
or acoustically simulated by a resonance synthesizer, to give a speech 
waveform. 
in articulatory terms, an event might be "begin tongue motion towards 
upper teeth with a given effort", while in resonance terms it could be 
"begin second formant transition towards 1500\ hz at a given rate". 
(these two examples are 
.ul 
not 
intended to describe the same event:  a tongue motion causes much more 
than the transition of a single formant.)  coarticulation 
issues such as stop burst suppression and nasal plosion should 
be easier to imitate within an event-based scheme than a segment-to-segment 
one. 
.pp 
the isp system (witten and abbess, 1979) is event-based. 
.[ 
witten abbess 1979 
.] 
the key to its operation is the 
.ul 
synthesis list. 
to prepare an utterance for synthesis, the lexical items which specify 
it are joined into a linked list.  figure 7.3 shows the start of 
the list created for 
.lb 
1 
.ul 
dh i z  i z  /*d zh aa k s  /h aa u s 
.le 
(this is jack's house); the "1\ ...\ /*\ ...\ /\ ..." are 
prosodic markers which will be discussed in the next chapter. 
.fc "figure 7.3" 
next, the rhythm and pitch assignment routines 
augment the list with syllable boundaries, phoneme 
cluster identifiers, and duration and pitch specifications. 
then it is passed to the segmental synthesis routine 
which chains events into the appropriate places and, as it 
proceeds, removes the no longer useful elements (phoneme names, 
pitch specifiers, etc) which originally constituted the synthesis list. 
finally, an interrupt-driven speech synthesizer handler removes 
events from the list as they become due and uses them to control 
the hardware synthesizer. 
.pp 
by adopting the synthesis list as a uniform data structure for 
holding utterances at every stage of processing, the problems of storage 
allocation and garbage collection are minimized. 
each list element has a forward pointer and five data words, the first 
indicating what type of element it is. 
lexical items which may appear in the input are 
.lb 
.ni 
end of utterance (".", "!", ",", ";") 
.ni 
intonation indicator ("1", ...) 
.ni 
rhythm indicator ("/", "/*") 
.ni 
word boundary ("  ") 
.ni 
syllable boundary ("'") 
.ni 
phoneme segment 
(\c 
.ul 
ar, b, ng, ...\c 
) 
.ni 
explicit duration or pitch information. 
.le 
several of these have to do with prosodic features \(em a prime 
advantage of the structure is that it does not create an artificial 
division between segmentals and prosody. 
syllable boundaries and duration and pitch information are optional. 
they will normally be computed by isp, but the user can override them in the 
input in a natural way. 
the actual characters which identify lexical items are not fixed 
but are taken from the rule table. 
.pp 
as synthesis 
proceeds, new elements are chained in to the synthesis list. 
for segmental purposes, three types of event are defined \(em 
target events, increment events, and aspiration events. 
with each event is associated a time at which the event becomes due. 
for a target event, a parameter number, target parameter value, 
and time-increment are specified. 
when it becomes due, motion of the parameter towards the 
target is begun.  if no other event for that parameter intervenes, 
the target value will be reached after the given time-increment. 
however, another target event for the parameter may change its motion 
before the target has been attained. 
increment events contain a parameter number, a parameter increment, 
and a time-increment.  the fixed increment is added to the parameter value 
throughout the time specified.  this provides an easy way to make a 
fricative burst during the opening phase of a stop consonant. 
aspiration events switch the mode of excitation from voicing to aspiration 
for a given period of time.  thus the aspirated part of unvoiced stops 
can be accomodated in a natural manner, by changing the mode of excitation 
for the duration of the aspiration. 
.rf 
.nr x1 (\w'excitation'/2) 
.nr x2 (\w'formant resonance'/2) 
.nr x3 (\w'fricative'/2) 
.nr x4 (\w'type'/2) 
.nr x5 (\w'frequencies (hz)'/2) 
.nr x6 (\w'resonance (hz)'/2) 
.nr x0 1.0i+0.7i+0.6i+0.6i+1.0i+1.2i+(\w'long vowel'/2) 
.nr x7 (\n(.l-\n(x0)/2 
.in \n(x7u 
.ta 1.0i +0.7i +0.6i +0.6i +1.0i +1.2i 
	\h'-\n(x1u'excitation		\0\0\h'-\n(x2u'formant resonance	\0\0\h'-\n(x3u'fricative	\h'-\n(x4u'type 
			\0\0\h'-\n(x5u'frequencies (hz)	\0\0\h'-\n(x6u'resonance (hz) 
\l'\n(x0u\(ul' 
.sp 
.nr x1 (\w'voicing'/2) 
.nr x2 (\w'vowel'/2) 
\fiuh\fr	\h'-\n(x1u'voicing	\0490	1480	2500		\c 
\h'-\n(x2u'vowel 
\fia\fr	\h'-\n(x1u'voicing	\0720	1240	2540		\h'-\n(x2u'vowel 
\fie\fr	\h'-\n(x1u'voicing	\0560	1970	2640		\h'-\n(x2u'vowel 
\fii\fr	\h'-\n(x1u'voicing	\0360	2100	2700		\h'-\n(x2u'vowel 
\fio\fr	\h'-\n(x1u'voicing	\0600	\0890	2600		\h'-\n(x2u'vowel 
\fiu\fr	\h'-\n(x1u'voicing	\0380	\0950	2440		\h'-\n(x2u'vowel 
\fiaa\fr	\h'-\n(x1u'voicing	\0750	1750	2600		\h'-\n(x2u'vowel 
.nr x2 (\w'long vowel'/2) 
\fiee\fr	\h'-\n(x1u'voicing	\0290	2270	3090		\h'-\n(x2u'long vowel 
\fier\fr	\h'-\n(x1u'voicing	\0580	1380	2440		\h'-\n(x2u'long vowel 
\fiar\fr	\h'-\n(x1u'voicing	\0680	1080	2540		\h'-\n(x2u'long vowel 
\fiaw\fr	\h'-\n(x1u'voicing	\0450	\0740	2640		\h'-\n(x2u'long vowel 
\fiuu\fr	\h'-\n(x1u'voicing	\0310	\0940	2320		\h'-\n(x2u'long vowel 
.nr x1 (\w'aspiration'/2) 
.nr x2 (\w'h'/2) 
\fih\fr	\h'-\n(x1u'aspiration					\h'-\n(x2u'h 
.nr x1 (\w'voicing'/2) 
.nr x2 (\w'glide'/2) 
\fir\fr	\h'-\n(x1u'voicing	\0240	1190	1550			 \h'-\n(x2u'glide 
\fiw\fr	\h'-\n(x1u'voicing	\0240	\0650			\h'-\n(x2u'glide 
\fil\fr	\h'-\n(x1u'voicing	\0380	1190			\h'-\n(x2u'glide 
\fiy\fr	\h'-\n(x1u'voicing	\0240	2270			\h'-\n(x2u'glide 
.nr x2 (\w'nasal'/2) 
\fim\fr	\h'-\n(x1u'voicing	\0190	\0690	2000		\h'-\n(x2u'nasal 
.nr x1 (\w'none'/2) 
.nr x2 (\w'stop'/2) 
\fib\fr	\h'-\n(x1u'none	\0100	\0690	2000		\h'-\n(x2u'stop 
\fip\fr	\h'-\n(x1u'none	\0100	\0690	2000		\h'-\n(x2u'stop 
.nr x1 (\w'voicing'/2) 
.nr x2 (\w'nasal'/2) 
\fin\fr	\h'-\n(x1u'voicing	\0190	1780	3300		\h'-\n(x2u'nasal 
.nr x1 (\w'none'/2) 
.nr x2 (\w'stop'/2) 
\fid\fr	\h'-\n(x1u'none	\0100	1780	3300		\h'-\n(x2u'stop 
\fit\fr	\h'-\n(x1u'none	\0100	1780	3300		\h'-\n(x2u'stop 
.nr x1 (\w'voicing'/2) 
.nr x2 (\w'nasal'/2) 
\fing\fr	\h'-\n(x1u'voicing	\0190	2300	2500		\h'-\n(x2u'nasal 
.nr x1 (\w'none'/2) 
.nr x2 (\w'stop'/2) 
\fig\fr	\h'-\n(x1u'none	\0100	2300	2500		\h'-\n(x2u'stop 
\fik\fr	\h'-\n(x1u'none	\0100	2300	2500		\h'-\n(x2u'stop 
.nr x1 (\w'frication'/2) 
.nr x2 (\w'voice + fric'/2) 
.nr x3 (\w'fricative'/2) 
\fis\fr	\h'-\n(x1u'frication				6000	\h'-\n(x3u'fricative 
\fiz\fr	\h'-\n(x2u'voice + fric	\0190	1780	3300	6000	\h'-\n(x3u'fricative 
\fish\fr	\h'-\n(x1u'frication				2300	\h'-\n(x3u'fricative 
\fizh\fr	\h'-\n(x2u'voice + fric	\0190	2120	2700	2300	\h'-\n(x3u'fricative 
\fif\fr	\h'-\n(x1u'frication				4000	\h'-\n(x3u'fricative 
\fiv\fr	\h'-\n(x2u'voice + fric	\0190	\0690	3300	4000	\h'-\n(x3u'fricative 
\fith\fr	\h'-\n(x1u'frication				5000	\h'-\n(x3u'fricative 
\fidh\fr	\h'-\n(x2u'voice + fric	\0190	1780	3300	5000	\h'-\n(x3u'fricative 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 7.4  rule table for an event-based synthesis-by-rule program" 
.pp 
now the rule table, which is shown in table 7.4, 
holds simple target positions for each phoneme segment, as well as 
the segment type.  the latter is used to trigger events by computer 
procedures which have access to the context of the segment. 
in principle, this allows considerably more sophistication to be 
introduced than does a simple segment-by-segment approach. 
.rf 
.nr x1 0.5i+0.5i+\w'preceding consonant in this syllable (suppress burst if fricative)'u 
.nr x1 (\n(.l-\n(x1)/2 
.in \n(x1u 
.ta 0.5i +0.5i 
fricative bursts on stops 
aspiration bursts on unvoiced stops, affected by 
	preceding consonant in this syllable (suppress burst if fricative) 
	following consonant (suppress burst if another stop; introduce 
		nasal plosion if a nasal) 
	prosodics (increase burst if syllable is stressed) 
voice bar on voiced stops (in intervocalic position) 
post-voicing on terminating voiced stops, if syllable is stressed 
anticipatory coarticulation for \fih\fr 
vowel colouring when a nasal or glide follows 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 7.5  some coarticulation effects" 
.pp 
for example, table 7.5 summarizes some of the subtleties of the 
speech production process which have been mentioned earlier in this 
chapter.  most of them are context-dependent, with the prosodic 
context (whether two segments are in the same syllable; whether a 
syllable is stressed) playing a significant role.  a scheme where 
data-dependent "demons" fire on particular patterns in a linked list 
seems to be a sensible approach towards incorporating such rules. 
.rh "discussion." 
there are two opposing trends in speech synthesis by rule. 
on the one hand larger and larger segment inventories can be used, 
containing more and more allophones explicitly. 
this is the approach of the votrax sound-segment synthesizer, 
discussed in chapter 11. 
it puts an increasing burden on the person who codes the utterances 
for synthesis, although, as we shall see, computer programs can assist with 
this task. 
on the other hand the segment inventory can be kept small, perhaps 
comprising just the logical phonemes as in the isp system. 
this places the onus on the computer program to accomodate allophonic variations, 
and to do so it must take account of the segmental and prosodic 
context of each phoneme. 
an event-based approach seems to give the best chance of incorporating 
contextual modification whilst avoiding undesired interactions. 
.pp 
the second trend brings synthesis closer to the articulatory process 
of speech production.  in fact an event-based system would be 
an ideal way of implementing an articulatory model for speech synthesis 
by rule.  it would be much more satisfying to have the rule table 
contain articulatory target positions instead of resonance ones, 
with events like "begin tongue motion towards upper teeth with a given 
effort".  the problem is that hard data on articulatory postures and 
constraints is much more difficult to gather than resonance information. 
.pp 
an interesting question that relates to articulation is whether formant 
motion can be simulated adequately by a small number of linear pieces. 
the segment-by-segment system described above had as many as nine 
pieces for a single phoneme, for some phonemes had three phases 
and each one contributes up to three pieces (transition in, 
steady state, and transition out). 
another system used curves of decaying exponential 
form which ensured that all transitions started rapidly towards 
the target position but slowed down as it was approached (rabiner, 1968, 1969). 
.[ 
rabiner 1968 speech synthesis by rule bell system technical j 
.] 
.[ 
rabiner 1969 a model for synthesizing speech by rule 
.] 
the time-constant of decay was stored with each segment in the rule 
table.  the rhythm of the synthetic speech was controlled at this level, 
for the next segment was begun when all the formants had attained 
values sufficiently close to the current targets. 
this is a poor model of the human speech production process, where rhythm 
is dictated at a relatively high level and the next phoneme is not 
simply started when the current one happens to end. 
nevertheless, the algorithm produced smooth, continuous formant motions 
not unlike those found in spectrograms. 
.pp 
there is, however, by no means universal agreement on decaying exponential formant 
motions.  lawrence (1974) divided segments into "checked" and "free" 
categories, corresponding roughly to consonants and vowels; and postulated 
.ul 
increasing 
exponential transitions into checked segments, and decaying transitions into 
free ones. 
.[ 
lawrence 1974 
.] 
this is a reasonable supposition if you consider the mechanics of 
articulation.  the speed of movement of the tongue (for example) is likely 
to increase until it is physically stopped by reaching the roof of the 
mouth. 
when moving away from a checked posture into a free one the transition will 
be rapid at first but slow down to approach the target asymptotically, 
governed by proprioceptive feedback. 
.pp 
the only thing that seems to be agreed is that the formant tracks should 
certainly 
.ul 
not 
be piecewise linear.  however, in the face of 
conflicting opinions as to whether exponentials should be decaying 
or increasing, piecewise linear motions seem to be a reasonable 
compromise!  it is likely that the precise shape of formant 
tracks is unimportant so long as the gross features are imitated 
correctly. 
nevertheless, this is a question which an articulatory model 
could help to answer. 
.sh "7.6  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.sh "7.7  further reading" 
.pp 
there are unfortunately few books to recommend on the subject of 
joining segments of speech. 
the references form a representative and moderately comprehensive bibliography. 
here is some relevant background reading in linguistics. 
.lb "nn" 
.\"fry-1976-1 
.]- 
.ds [a fry, d.b.(editor) 
.ds [d 1976 
.ds [t acoustic phonetics 
.ds [i cambridge univ press 
.ds [c cambridge, england 
.nr [t 0 
.nr [a 0 
.nr [o 0 
.][ 2 book 
.in+2n 
this book of readings contains many classic papers on acoustic phonetics 
published from 1922\-1965. 
it covers much of the history of the subject, and is intended 
primarily for students of linguistics. 
.in-2n 
.\"lehiste-1967-2 
.]- 
.ds [a lehiste, i.(editor) 
.ds [d 1967 
.ds [t readings in acoustic phonetics 
.ds [i mit press 
.ds [c cambridge, massachusetts 
.nr [t 0 
.nr [a 0 
.nr [o 0 
.][ 2 book 
.in+2n 
another basic collection of references which covers much the same ground 
as fry (1976), above. 
.in-2n 
.\"sivertsen-1961-3 
.]- 
.ds [a sivertsen, e. 
.ds [d 1961 
.ds [k * 
.ds [t segment inventories for speech synthesis 
.ds [j language and speech 
.ds [v 4 
.ds [p 27-89 
.nr [p 1 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
this is a careful early study of the quantitative implications of using 
phonemes, demisyllables, syllables, and words as the basic building 
blocks for speech synthesis. 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "8  prosodic features in speech synthesis" 
.ds rt "prosodic features 
.ds cx "principles of computer speech 
.pp 
prosodic features are those which characterize an utterance as a whole, 
rather than having a local influence on individual sound segments. 
for speech output from computers, an "utterance" usually comprises a 
single unit of information which stretches over several words \(em a clause 
or sentence.  in natural speech an utterance can be very much longer, but 
it will be broken into prosodic units which are again roughly the size of a 
clause or sentence.  these prosodic units are certainly closely related 
to each other.  for example, the pitch contour used when introducing a new 
topic is usually different from those employed to develop it subsequently. 
however, for the purposes of synthesis the successive prosodic units can 
be treated independently, and information about pitch contours to be used 
will have to be specified in the input for each one. 
the independence between them is not complete, however, and 
lower-level contextual effects, such as interpolation of pitch between 
the end of one prosodic unit and the start of the next, must still be 
imitated. 
.pp 
prosodic features were introduced briefly in chapter 2. 
variations in voice dynamics occur in three dimensions:  pitch of the voice, 
time, and amplitude. 
these dimensions are inextricably twined together in living speech. 
variations in voice quality are much less important for the factual 
kind of speech usually sought in voice response applications, 
although they can play a considerable in conveying emotions 
(for a discussion of the acoustic manifestations of emotion in speech, 
see williams and stevens, 1972). 
.[ 
williams stevens 1972 
.] 
.pp 
the distinction between prosodic and segmental effects is a traditional one, 
but it becomes rather fuzzy when examined in detail. 
it is analogous to the distinction between hardware and 
software in computer science:  although useful from some points of view 
the borderline becomes blurred as one gets closer to actual systems \(em with 
microcode, interrupts, memory management, and the like. 
at a trivial level, prosodics 
cannot exist without segmentals, for there must be some vehicle to carry the 
prosodic contrasts. 
timing \(em a prosodic feature \(em is actually realized by the durations of 
individual segments.  pauses are tantamount to silent segments. 
.pp 
while pitch may seem to be relatively independent of segmentals \(em and 
this view is reinforced by the success of the source-filter model 
which separates the frequency of the 
excitation source from the filter characteristics \(em there 
are some subtle phonetic effects of pitch. 
it has been observed that it drops on the transition into certain 
consonants, and rises again on the transition out (haggard 
.ul 
et al, 
1970). 
.[ 
haggard ambler callow 1970 
.] 
this can be explained in terms of variations in pressure from the 
lungs on the vocal cords (ladefoged, 1967). 
.[ 
ladefoged 1967 
.] 
briefly, the increase in mouth pressure which occurs during some consonants 
causes a reduction in the pressure difference across the vocal cords 
and in the rate of flow of air between them. 
this results in a decrease in their frequency of vibration. 
when the constriction is released, there is a temporary increase in the air 
flow which increases the pitch again. 
the phenomenon is called "microintonation". 
it is particularly noticeable in voiced stops, but also occurs in voiced 
fricatives and unvoiced stops. 
simulation of the effect in synthesis-by-rule has often been found to give 
noticeable improvements in the speech quality. 
.pp 
loudness also has a segmental role.  for example, we noted in the last chapter 
that amplitude values play a small part in identification of fricatives. 
in fact loudness is a very 
.ul 
weak 
prosodic feature.  it contributes little to the perception of stress. 
even for shouting the distinction from normal speech is as much in the voice 
quality as in amplitude 
.ul 
per se. 
it is not necessary to consider varying loudness on a prosodic basis 
in most speech synthesis systems. 
.pp 
the above examples show how prosodic features have segmental influences 
as well. 
the converse is also true:  some segmental features have a prosodic effect. 
the last chapter described how stress is associated with increased aspiration 
of syllable-initial unvoiced stops.  furthermore, stressed syllables 
are articulated with greater effort than unstressed ones, and hence the formant 
transitions are more likely to attain their target values 
under circumstances which would otherwise cause them to fall short. 
in unstressed syllables, extreme vowels (like 
.ul 
ee, aa, uu\c 
) 
tend to more centralized sounds 
(like 
.ul 
i, uh, u 
respectively). 
although all british english vowels 
.ul 
can 
appear in unstressed syllables, they often become "reduced" into a 
centralized form. 
consider the following examples. 
.lb 
.ni 
diplomat	\  
.ul 
d i p l uh m aa t 
.ni 
diplomacy	\  
.ul 
d i p l uh u m uh s i 
.ni 
diplomatic	\  
.ul 
d i p l uh m aa t i k. 
.le 
the vowel of the second syllable is reduced to 
.ul 
uh 
in "diplomat" and "diplomatic", whereas the root form "diploma", and also 
"diplomacy", has a diphthong 
(\c 
.ul 
uh u\c 
) 
there.  the third syllable has an 
.ul 
aa 
in "diplomat" and "diplomatic" which is reduced to 
.ul 
uh 
in "diplomacy". 
in these cases the reduction is shown explicitly in the phonetic transcription; 
but in more marginal examples where it is less extreme it will not be. 
.pp 
i have tried to emphasize in previous chapters that prosodic features are 
important in speech synthesis. 
there is something very basic about them. 
rhythm is an essential part of all bodily activity \(em of breathing, 
walking, working and playing \(em and so it pervades speech too. 
mothers and babies communicate effectively using intonation alone. 
some experiments have indicated that the language environment of 
an infant affects his babbling at an early age, before he has effective 
segmental control. 
there is no doubt that "tone of voice" plays a large part in human 
communication. 
.pp 
however, early attempts at synthesis did not pay too 
much attention to prosodics, perhaps because it was thought sufficient to get the 
meaning across by providing clear segmentals. 
as artificial speech grows more widespread, however, it is becoming 
apparent that its acceptability to users, and hence its ultimate 
success, depends to a large extent on incorporating natural-sounding 
prosodics.  flat, arhythmic speech may be comprehensible in short stretches, 
but it strains the concentration in significant discourse and people 
are not usually prepared to listen to it. 
unfortunately, current commercial speech output systems do not really tackle 
prosodic questions, which indicates our present rather inadequate 
state of knowledge. 
.pp 
the importance of prosodics for automatic speech 
.ul 
recognition 
is beginning to be appreciated too.  some research projects 
have attended to the automatic identification of points of stress, 
in the hope that the clear articulation of stressed syllables can be used 
to provide anchor points in an unknown utterance (for example, see lea 
.ul 
et al, 
1975). 
.[ 
lea medress skinner 1975 
.] 
.pp 
but prosodics and segmentals are closely intertwined. 
i have chosen to 
treat them in separate chapters in order to split the material up into 
manageable chunks rather than to enforce a deep division between them. 
it is also true that synthesis of prosodic features is an uncharted and 
controversial area, which gives this chapter rather a different 
flavour from the last. 
it is hard to be as definite about alternative strategies 
and methods as you can for segment concatenation. 
in order to make the treatment as concrete and down-to-earth as possible, 
i will describe in some detail two example projects in prosodic synthesis. 
the first treats the problem of transferring pitch from one utterance to 
another, while the second considers how artificial timing and pitch can be 
assigned to synthetic speech. 
these examples illustrate quite different problems, and are reasonably 
representative of current research activity. 
(other systems are described by mattingly, 1966; rabiner 
.ul 
et al, 
1969.)  before 
.[ 
mattingly 1966 
.] 
.[ 
rabiner levitt rosenberg 1969 
.] 
looking at the two examples, we will discuss 
a feature which is certainly prosodic but does not appear in the 
list given earlier \(em stress. 
.sh "8.1  stress" 
.pp 
stress is an everyday notion, and when 
listening to natural speech people can usually agree on which syllables 
are stressed.  but it is difficult to characterize in acoustic terms. 
from the speaker's point of view, a stressed syllable is produced by 
pushing more air out of the lungs.  for a listener, the points of stress 
are "obvious". 
you may think that stressed syllables are louder than the others:  however, 
instrumental studies show that this is not necessarily (nor even usually) 
so (eg lehiste and peterson, 1959). 
.[ 
lehiste peterson 1959 
.] 
stressed syllables frequently have a longer vowel than unstressed 
ones, but this is by no means universally true \(em if you say "little" 
or "bigger" you will find that the vowel in the first, stressed, syllable 
is short and shows little sign of lengthening as you increase the emphasis. 
moreover, experiments using bisyllabic nonsense words have indicated 
that some people consistently judge the 
.ul 
shorter 
syllable to be stressed in the absence of other clues (morton and jassem, 
1965). 
.[ 
morton jassem 1965 
.] 
pitch often helps to indicate stress. 
it is not that stressed syllables are always higher- or lower-pitched 
than neighbouring ones, or even that they are uttered with a rising or 
falling pitch.  it is the 
.ul 
rate of change 
of pitch that tends to be greater 
for stressed syllables:  a sharp rise or fall, 
or a reversal of direction, helps to give emphasis. 
.pp 
stress is acoustically manifested in timing and pitch, 
and to a much lesser extent in loudness. 
however it is a rather subtle feature and does 
.ul 
not 
correspond simply to duration increases or pitch rises. 
it seems that listeners unconsciously put together all the clues 
that are present in an utterance in order to deduce which syllables are 
stressed. 
it may be that speech is perceived by a listener with reference to how 
he would have produced it himself, and that this is how he detects which syllables 
were given greater vocal effort. 
.pp 
the situation is confused by the fact that certain syllables in words are 
often said in ordinary language to be "stressed" on account of their 
position in the word.  for example, the words 
"diplomat", "diplomacy", and "diplomatic" have stress on the first, 
second, and third syllables respectively. 
but here we are talking about the word itself rather than 
any particular utterance of it.  the "stress" is really 
.ul 
latent 
in the indicated syllables and only made manifest upon uttering them, 
and then to a greater or lesser degree depending on exactly how 
they are uttered. 
.pp 
some linguists draw a careful distinction between salient syllables, 
accented syllables, and stressed syllables, 
although the words are sometimes used differently by different authorities. 
i will not adopt a precise terminology here, 
but it is as well to be aware of the subtle distinctions involved. 
the term "salience" is applied to actual utterances, and salient 
syllables are those that are perceived as being more prominent than their 
neighbours. 
"accent" is the potential for salience, as marked, for example, 
in a dictionary or lexicon. 
thus the discussion of the "diplo-" words above is about accent. 
stress is an articulatory phenomenon associated with increased 
muscular activity. 
usually, syllables which are perceived as salient were produced with stress, 
but in shouting, for example, all syllables can be stressed \(em even 
non-salient ones. 
furthermore, accented syllables may not be salient. 
for instance, the first syllable of the word "very" is accented, 
that is, potentially salient, but in a sentence as uttered it may or may not be 
salient.  one can say 
.lb 
"\c 
.ul 
he's 
very good" 
.le 
with salience on "he" and possibly "good", or 
.lb 
"he's 
.ul 
very 
good" 
.le 
with salience on the first syllable of "very", and possibly "good". 
.pp 
non-standard stress patterns are frequently used to bring out contrasts. 
words like "a" and "the" are normally unstressed, but can be stressed 
in contexts where ambiguity has arisen. 
thus factors which operate at a much higher level than the phonetic structure 
of the utterance must be taken into account when deciding where stress 
should be assigned.  these include syntactic and semantic considerations, 
as well as the attitude of the speaker and the likely attitude of 
the listener to the material being spoken. 
for example, i might say 
.lb 
"anna 
.ul 
and 
nikki should go", 
.le 
with emphasis on the "and" purely because i was aware that my listener 
might quibble about the expense of sending them both. 
clearly some notation is needed to communicate to the synthesis process 
how the utterance is supposed to be rendered. 
.sh "8.2  transferring pitch from one utterance to another" 
.pp 
for speech stored in source-filter form and concatenated on a 
slot-filling basis, it would be useful to 
have stored typical pitch contours which can be applied to the 
synthetic utterances. 
from a practical point of view it is important to be able to generate 
natural-sounding pitch for high-quality artificial speech. 
although several algorithms for creating completely synthetic contours 
have been proposed \(em and we will examine one later in this chapter \(em 
they are unsuitable for high-quality speech. 
they are generally designed for use with synthesis-by-rule from phonetics, 
and the rather poor quality of articulation does not encourage the 
development of excellent pitch assignment procedures.  with speech 
synthesized by rule there is generally an emphasis on keeping the 
data storage requirements to a minimum, and so it is not appropriate 
to store complete contours. 
moreover, if speech is entered in textual 
form as phoneme strings, it is natural to attach pitch information as markers 
in the text rather than by entering a complete and detailed contour. 
.pp 
the picture is rather different for concatenated segments of natural speech. 
in the airline reservation system, with utterances formed from templates like 
.lb 
flight number \(em leaves \(em at \(em , arrives in \(em at \(em , 
.le 
it is attractive to store the pitch contour of one complete instance of the 
utterance and apply it to all synthetic versions. 
.pp 
there is an enormous literature on the anatomy of intonation, and much of it 
rests upon the notion of a pitch contour as a descriptive aid to analysis. 
underlying this is the assumption, usually unstated, that a contour can be 
discussed independently of the particular stream of words that manifests it; 
that a single contour can somehow be bound to any sentence (or phrase, or 
clause) to produce an acceptable utterance.  but the contour, and its binding, 
are generally described only at the grossest level, the details being left 
unspecified. 
.pp 
there are phonetic influences on pitch \(em the characteristic lowering 
during certain consonants was mentioned above \(em and these are 
not normally considered as part of intonation. 
such effects will certainly spoil attempts to store contours extracted 
from living speech and apply them to different utterances, but the impairment 
may not be too great, for pitch is only one of many segmental clues to 
consonant identification. 
.pp 
in the system mentioned earlier which generated 7-digit telephone numbers 
by concatenating formant-coded words, a single natural pitch contour 
was applied to all utterances. 
it was taken to match as well as possible the general shape of the 
contours measured in naturally-spoken telephone numbers.  however, this is a very 
restricted environment, for telephone numbers exhibit almost no variety in 
the configuration of stressed and unstressed syllables \(em 
the only digit which is not a monosyllable is "seven". 
significant problems arise when more general utterances are considered. 
.pp 
suppose the pitch contour of one utterance (the "source") 
is to be transferred to another (the "target"). 
assume that the utterances are encoded in source-filter form, 
either as parameter tracks for a formant synthesizer or as linear predictive 
coefficients. 
then there are no technical obstacles to combining pitch and segmentals. 
the source must be available as a complete utterance, while the target 
may be formed by concatenating smaller units such as words. 
.pp 
for definiteness, we will consider utterances of the form 
.lb 
the price is \(em dollars and \(em cents, 
.le 
where the slots are filled by numbers less than 100; 
and of the form 
.lb 
the price is \(em cents. 
.le 
the domain of prices encompasses a wide range of syllable 
configurations. 
there are between one and five syllables in each variable part, 
if the numbers are restricted to be less than 100. 
the sentences have a constant pragmatic, semantic, and syntactic structure. 
as in the vast majority of real-life situations, 
minimal phonetic distinctions between utterances do not occur. 
.pp 
pitch transfer is complicated by the fact that values of the source pitch 
are only known during the voiced parts of the utterance. 
although it would certainly be possible to extrapolate pitch 
over unvoiced parts, this would introduce some artificiality into 
the otherwise completely natural contours. 
let us assume, therefore, that the pitch contour 
of the voiced nucleus of each syllable in the source is applied to the 
corresponding syllable nucleus in the target. 
.pp 
the primary factors which might tend to inhibit successful transfer 
are 
.lb 
.np 
different numbers of syllables in the utterances; 
.np 
variations in the pattern of stressed and unstressed syllables; 
.np 
different syllable durations; 
.np 
pitch discontinuities; 
.np 
phonetic differences between the utterances. 
.le 
.rh "syllabification." 
it is essential to take into account the syllable structures 
of the utterances, so that pitch is transferred between 
corresponding syllables rather than over the utterance 
as a whole. 
fortunately, syllable boundaries can be detected automatically 
with a fair degree of accuracy, especially if the speech is carefully 
enunciated. 
it is worth considering briefly how this can be done, even though it takes 
us off the main topic of synthesis and into speech analysis. 
.pp 
a procedure developed by mermelstein (1975) 
involves integrating the spectral energy 
at each point in the utterance. 
.[ 
mermelstein 1975 automatic segmentation of speech into syllabic units 
.] 
first the low (<500\ hz) and high (>4000\ hz) ends are filtered out 
with 12\ db/octave cutoffs. 
the resulting energy signal is smoothed 
by a 40\ hz lowpass filter, giving a so-called "loudness" 
function. 
all this can be accomplished with simple recursive digital filters. 
.pp 
then, the loudness function is compared with its convex hull. 
the convex hull is the shape a piece of elastic would assume if 
stretched over the top of the loudness function and anchored down at 
both ends, as illustrated in figure 8.1. 
.fc "figure 8.1" 
the point of maximum difference between the hull and loudness function 
is taken to be a tentative syllable 
boundary. 
the hull is recomputed, but anchored to the actual loudness function 
at the tentative boundary, 
and the points of maximum hull-loudness difference in each of the 
two halves  are selected as further tentative 
boundaries. 
the procedure continues recursively until the maximum hull-loudness 
difference, with the hull anchored at each tentative boundary, 
falls below a certain minimum (say 4\ db). 
.pp 
at this stage, the number of tentative boundaries will greatly exceed 
the actual number of syllables (by a factor of around 5). 
many of the extraneous boundaries are eliminated by the following 
constraints: 
.lb 
.np 
if two boundaries lie within a certain time of each other 
(say 120\ msec), one of them is discarded; 
.np 
if the maximum loudness within a tentative syllable falls too 
far short of the overall maximum for the utterance 
(more than 20\ db), one boundary is discarded. 
.le 
the question of which boundary to discard can be decided by 
examining the voicing continuity of the utterance. 
if possible, voicing across a syllable boundary should be avoided. 
otherwise, the boundary with the smallest hull-loudness 
difference should be rejected. 
.rf 
.nr x0 \w'boundaries moved slightly to correspond better with voicing:' 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta 3.4i +0.5i 
\l'\n(x0u\(ul' 
.sp 
total syllable count:	332 
boundaries missed by algorithm:	\0\09	(3%) 
extra boundaries inserted by algorithm:	\029	(9%) 
boundaries moved slightly to correspond better with voicing: 
	\0\03	(1%) 
.sp 
total errors:	\041	(12%) 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 8.1  success of the syllable segmentation procedure" 
.pp 
table 8.1 illustrates the success of this syllabification 
procedure, in a particular example. 
segmentation is performed with less than 10% of extraneous 
boundaries being inserted, 
and much less than 10% of actual boundaries being missed. 
these figures are rather sensitive to the values of the 
three thresholds. 
the values were chosen to err on the side 
of over-zealous syllabification, because all the boundaries need to be checked 
by ear and eye and it is easier to delete 
a boundary by hand than to insert one at an appropriate place. 
it may well be that with careful optimization of thresholds, 
better figures could be 
achieved. 
.rh "stressed and unstressed syllables." 
if the source and target utterances have the same number of 
syllables, and the same pattern of stressed and unstressed syllables, 
pitch can simply be transferred from a syllable in the source 
to the corresponding one in the target. 
but if the pattern differs \(em even though the 
number of syllables may be the same, as in "eleven" and "seventeen" \(em 
then a one-to-one mapping will conflict with the stress points, 
and certainly sound unnatural. 
hence an attempt should be made to ensure that the pitch is mapped in a 
plausible way. 
.pp 
the syllables of each utterance can be classified as "stressed" 
and "unstressed". 
this distinction could be made automatically by 
inspection of the pitch contour, within the domain of utterances used, 
and possibly even in general (lea 
.ul 
et al, 
1975). 
.[ 
lea medress skinner 1975 
.] 
however, in many cases it is expedient to perform the job by hand. 
in our example, the sentences have fixed "carrier" parts and 
variable "number" parts. 
the stressed carrier syllables, namely 
.lb 
"... price ... dol\- ... cents", 
.le 
can be marked as such, by hand, 
to facilitate proper alignment between the source and target. 
this marking would be difficult to do automatically 
because it would be hard to distinguish the carrier from the numbers. 
.pp 
even after classifying the syllables as "carrier stressed", 
"stressed", and "unstressed", alignment still presents problems, 
because the configuration of syllables in the variable parts 
of the utterances may differ. 
syllables in the source which have no 
correspondence in the target can be ignored. 
the pitch track of 
the source syllable can be replicated for each 
additional syllable in corresponding 
position in the target. 
of course, a stressed syllable should be selected for copying 
if the unmatched target syllable is stressed, 
and similarly for unstressed ones. 
it is rather dangerous to copy exactly a part of a pitch 
contour, for the ear is very sensitive to the juxtaposition of 
identically intoned segments of speech \(em especially when the segment is stressed. 
to avoid this, whenever a stressed syllable is replicated the 
pitch values should be decreased by, say, 20%, on the second copy. 
it sometimes happens that a single stressed syllable in the source 
needs to cover a stressed-unstressed pair in the target:  in 
this case the first part of the source pitch track can be used 
for the stressed syllable, and the remainder for the 
unstressed one. 
.pp 
the example of figure 8.2 will help to make these rules clear. 
.fc "figure 8.2" 
note that the marking alone is done by hand. 
the detailed mapping decisions can be left to the computer. 
the rules were derived intuitively, and do not have any sound theoretical 
basis. 
they are intended to give reasonable results in the majority of cases. 
.pp 
figure 8.3 shows the result of transferring the pitch from "the price is ten 
cents" to "the price is seventy-seven cents". 
.fc "figure 8.3" 
the syllable boundaries which are marked were determined automatically. 
the use of the last 30% of the 
"ten" contour to cover the first "-en" syllable, and its replication 
to serve the "-ty" syllable, can be seen. 
however, the 70%\(em30% proportion is applied to the source contour, 
and the linear distortion (described next) upsets the proportion in the 
target utterance. 
the contour of the second "seven" can be seen to be a 
replication of that of the first one, lowered by 20%. 
notice that the pitch extraction procedure has introduced an artifact into the final 
part of one of the "cents" contours by doubling the pitch. 
.rh "stretching and squashing." 
the pitch contour over a source syllable nucleus must be stretched 
or squashed to match the duration 
of the target nucleus. 
it is difficult to see how anything other than linear stretching 
and squashing could be done without considerably increasing the 
complexity of the procedure. 
the gross non-linearities will have been accounted for 
by the syllable alignment process, and so simple linear time-distortion 
should not cause too much degradation. 
.rh "pitch discontinuities." 
sudden jumps in pitch during voiced speech sound peculiar, 
although they can in fact be produced naturally (by yodelling). 
people frequently burst into laughter on hearing them in synthetic speech. 
it is particularly important to avoid this diverting effect in 
voice response applications, 
for the listener's attention is instantly directed 
away from what is said to the voice that speaks. 
.pp 
discontinuities can arise in the pitch-transfer procedure either by a 
voiced-unvoiced-voiced transition between syllables mapping on to 
a voiced-voiced transition in the target, 
or by voicing continuity being broken when the syllable 
alignment procedure drops or replicates a syllable. 
there are several ways in which at least some of the possibilities can 
be avoided. 
for example, one could hold unstressed syllables at a constant pitch 
whose value coincides with either the end of the previous 
syllable's contour or the beginning of the next syllable's contour, 
depending on which transition is voiced. 
alternatively, the policy of reserving the trailing part 
of a stressed syllable in the source to cover an unmatched following 
unstressed syllable in the target could be generalized to allow use of the leading 30% 
of the next stressed syllable's contour instead, 
if that maintained voicing continuity. 
a third solution is simply to merge the pitch contours 
at a discontinuity by mixing the average pitch value at the break 
with the pitch contour on either side of it in a proportion which 
increases linearly from the edges of the domain of influence to the discontinuity. 
figure 8.4 shows the effect of this merging, 
when the pitch contour of "the price is seven cents" 
is transferred to "the price is eleven cents". 
.fc "figure 8.4" 
of course, the 
interpolated part will not necessarily be linear. 
.rh "results of an experiment on pitch transfer." 
some experiments have been conducted to evaluate the performance 
of this pitch transfer method on the kind of utterances discussed above 
(witten, 1979). 
.[ 
witten 1979 on transferring pitch from one utterance to another 
.] 
first, the source and target sentences 
were chosen to be lexically identical, that is, the same words were spoken. 
for this experiment alone, 
expert judges were employed. 
each sentence was recorded twice (by the same person), 
and pitch was transferred from copy a 
to copy b and vice versa.  also, the originals were resynthesized from their linear 
predictive coefficients with their own pitch contours. 
although all four often sounded extremely similar, sometimes the pitch 
contours of originals a and b were quite different, 
and in these cases it was immediately obvious to the ear that two of 
the four utterances shared the same intonation, 
which was different to that shared by the other two. 
.pp 
experienced researchers in speech analysis-synthesis served as 
judges. 
in order to make the test as stringent as possible it was explained 
to them exactly what had been done, 
except that the order of the utterances in each quadruple was kept secret. 
they were asked to identify which two of the four sentences did not have their 
original contours, 
and were allowed to listen to each quadruple as often as they liked. 
on occasion they were prepared to identify only one, or even none, 
of the sentences as artificial. 
.pp 
the result was that an utterance with pitch transferred 
from another, lexically identical, one is indistinguishable from 
a resynthesized version of the original, even to a skilled ear. 
(to be more precise, this hypothesis 
could not be rejected even at the 1% level of statistical significance.)  this 
gave confidence in the transfer procedure. 
however, one particular judge was quite successful at identifying the bogus contours, 
and he attributed his success to the fact that 
on occasion the segmental durations did not accord with the 
pitch contour. 
this casts a shadow of suspicion on the linear stretching and 
squashing mechanism. 
.pp 
the second experiment examined pitch transfers between utterances having only one variable part 
each ("the price is ... cents") to test the transfer 
method under relatively controlled conditions. 
ten sentences of the form 
.lb 
"the price is \(em cents" 
.le 
were selected to cover 
a wide range of syllable structures. 
each one was regenerated with pitch transferred from each of 
the other nine, 
and these nine versions were paired with the original resynthesized 
with its natural pitch. 
the $10 times 9=90$ resulting pairs were recorded on tape in random order. 
.pp 
five males and five females, with widely differing occupations 
(secretaries, teachers, academics, and students), served as judges. 
written instructions explained that the tape contained pairs of 
sentences which were lexically identical but had a slight difference 
in "tone of voice", and that the subjects were to judge which of 
each pair sounded "most natural and intelligible".  the 
response form gave the price associated with each pair \(em 
a preliminary experiment had shown that there was never 
any difficulty in identifying this \(em and a column for decision. 
with each decision, the subjects recorded their confidence in the decision. 
subjects could rest at any time during the test, which lasted for about 
30 minutes, but they were not permitted to hear any pair a second time. 
.pp 
defining a "success" to be a choice of the utterance with 
natural pitch as the best of a pair, 
the overall success rate was about 60%. 
if choices were random, one would of course expect only a 50% success rate, 
and the figure obtained was significantly different from this. 
almost half the choices were correct and made with high confidence; 
high-confidence but incorrect choices accounted for a quarter of the 
judgements. 
.pp 
to investigate structural effects in the pitch transfer process, 
low confidence decisions were ignored to eliminate noise, and the others 
lumped together and tabulated by source and target utterance. 
the number of stressed and unstressed syllables does not appear to play 
an important part in determining whether a particular utterance is an 
easy target. 
for example, it proved to be particularly difficult to tell 
.eq 
delim @@ 
.en 
natural from transferred contours with utterances $0.37 and $0.77. 
.eq 
delim $$ 
.en 
in fact, the results showed no better than random discrimination for them, 
even though the decisions in which listeners expressed little confidence 
had been discarded. 
hence it seems that the syllable alignment procedure and the policy 
of replication were successful. 
.pp 
.eq 
delim @@ 
.en 
the worst target scores were for utterances $0.11 and $0.79. 
.eq 
delim $$ 
.en 
both of these contained large unbroken voiced periods 
in the "variable" part \(em almost twice as long as the next longest 
voiced period. 
the first has an unstressed syllable followed by 
a stressed one with no break in voicing, 
involving, in a natural contour, 
a fast but continuous climb in pitch over the juncture, 
and it is not surprising that it proved to be the most difficult target. 
a more sophisticated "smoothing" algorithm than the 
one used may be worth investigating. 
.pp 
in a third experiment, sentences with two variable parts were used to check 
that the results of the second experiment extended to more complex 
utterances. 
the overall success rate was 75%, significantly different from chance. 
however, a breakdown of the results by source and target utterance 
showed that there was one contour (for the utterance 
"the price is 19 dollars and 8 cents") which exhibited very successful 
transfer, subjects identifying the transferred-pitch utterances at only 
a chance level. 
.pp 
finally, transfers of pitch from utterances with two variable parts 
to those with one variable part were tested. 
pitch contours were transferred to sentences with the same "cents" 
figure but no "dollars" part; for example, 
"the price is five dollars and thirteen cents" 
to 
"the price is thirteen cents".  the 
contour was simply copied between the corresponding 
syllables, so that no adjustment needed to be made 
for different syllable structures. 
the overall score was 60 successes in 100 judgements \(em 
the same percentage as in the second experiment. 
.pp 
to summarize the results of these four experiments, 
.lb 
.np 
even accomplished linguists cannot distinguish an utterance from one with 
pitch transferred from a different recording of it; 
.np 
when the utterance contained only one variable part embedded in a 
carrier sentence, 
lay listeners identified the original correctly in 60% of cases, 
over a wide variety of syllable structures:  this 
figure differs significantly from the chance value of 50%; 
.np 
lay listeners identified the original confidently and correctly in 
50% of cases; confidently but incorrectly in 25% of cases; 
.np 
the greatest hindrance to successful transfer was the presence of 
a long uninterrupted period of voicing in the target utterance; 
.np 
the performance of the method deteriorates as the number 
of variable parts in the utterances increases; 
.np 
some utterances seemed to serve better than others as the pitch source for 
transfer, although this was not correlated with complexity of syllable structure; 
.np 
even when the utterance contained two variable parts, 
there was one source utterance whose pitch contour was 
transferred to all the others so successfully that listeners could not identify 
the original. 
.le 
.pp 
the fact that only 60% of originals in the second experiment were 
spotted by lay listeners in a stringent 
paired-comparison test \(em many of them being identified without confidence \(em 
does encourage the use of the procedure for generating stereotyped, 
but different, utterances of high quality in voice-response systems. 
the experiments indicate that although different syllable patterns 
can be handled satisfactorily by this procedure, 
long voiced periods should be avoided if possible when designing 
the message set, 
and that if individual utterances must contain multiple variable parts 
the source utterance should be chosen with the aid of listening tests. 
.sh "8.3  assigning timing and pitch to synthetic speech" 
.pp 
the pitch transfer method can give good results within a fairly narrow 
domain of application. 
but like any speech output technique which treats complete utterances 
as a single unit, with provision for a small number of slot-fillers to 
accomodate data-dependent messages, it becomes unmanageable in more general 
situations with a large variety of utterances. 
as with segmental synthesis it becomes necessary to consider methods 
which use a textual rather than an acoustically-based representation 
of the prosodic features. 
.pp 
this raises a problem with prosodics that was not there for segmentals:  how 
.ul 
can 
prosodic features be written in text form? 
the standard phonetic transcription method does not give much help with 
notation for prosodics.  it does provide a diacritical mark to indicate 
stress, but this is by no means enough information for synthesis. 
furthermore, text-to-speech procedures (described in the next chapter) 
promise to allow segmentals to be specified by an ordinary orthographic 
representation of the utterance; but we have seen that considerable 
intelligence is required to derive prosodic features from text. 
(more than mere intelligence may be needed:  this is underlined by a paper 
(bolinger, 1972) 
delightfully entitled 
"accent is predictable \(em if you're a mind reader"!) 
.[ 
bolinger 1972 accent is predictable \(em if you're a mind reader 
.] 
.pp 
if synthetic speech is to be used as a computer output medium rather 
than as an experimental tool for linguistic research, it is important 
that the method of specifying utterances is natural and easy to learn. 
prosodic features must be communicated to the computer in a manner 
considerably simpler than individual duration and pitch specifications 
for each phoneme, as was required in early synthesis-by-rule systems. 
fortunately, a notation has been developed for conveying some of the 
prosodic features of utterances, as a by-product of the linguistically 
important task of classifying the intonation contours used in 
conversational english (halliday, 1967). 
.[ 
halliday 1967 
.] 
this system has even been used to help foreigners speak english 
(halliday, 1970) \(em which emphasizes the fact that it was designed for use 
by laymen, not just linguists! 
.[ 
halliday 1970 course in spoken english: intonation 
.] 
.pp 
here are examples of the way utterances can be conveyed to the isp 
speech synthesis system which was described in the previous chapter. 
the notation is based upon halliday's. 
.lb 
.ni 
3 
.ul 
^  aw\ t\ uh/m\ aa\ t\ i\ k  /s\ i\ n\ th\ uh\ s\ i\ s  uh\ v  /*s\ p\ ee\ t\ sh, 
.ni 
1 
.ul 
^  f\ r\ uh\ m  uh  f\ uh/*n\ e\ t\ i\ k  /r\ e\ p\ r\ uh\ z\ e\ n/t\ e\ i\ sh\ uh\ n. 
.le 
(automatic synthesis of speech, from a phonetic representation.)  three 
levels of stress are distinguished:  tonic or "sentence" stress, 
marked by "*" before the syllable; foot stress (marked by "/"); 
and unstressed syllables. 
the notion of a "foot" controls the rhythm of the speech in a way that 
will be described shortly. 
a fourth level of stress is indicated on a segmental basis when a syllable 
contains a reduced vowel. 
.pp 
utterances are divided by punctuation into 
.ul 
tone groups, 
which are the basic prosodic unit \(em there are two in the example. 
the shape of the pitch contour is governed by a numeral at the start of 
each tone group. 
crude control over pauses is achieved by punctuation marks:  full stop, for 
example, signals a pause while comma does not. 
(longer pauses can be obtained by several full stops as in "...".)  the 
"^" character stands for a so-called "silent stress" or breath point. 
word boundaries are marked by two spaces between phonemes. 
as mentioned in the previous chapter, syllable boundaries and explicit 
pitch and duration specifiers can also be included in the input. 
if they are not, the isp system will attempt to compute them. 
.rh "rhythm." 
our understanding of speech rhythm knows many laws but little order. 
in the mid 1970's there was a spate of publications reporting new data 
on segmental duration in various contexts, and there is a growing 
awareness that segmental duration is influenced by a great many factors, 
ranging from the structure of a discourse, through semantic and syntactic 
attributes of the utterances, their phonemic and phonetic make-up, 
right down to physiological constraints 
(these multifarious influences are ably documented and reviewed by 
klatt, 1976). 
.[ 
klatt 1976 linguistic uses of segment duration in english 
.] 
what seems to be lacking in this work is a conceptual framework on to 
which new information about segmental duration can be nailed. 
.pp 
one starting-point for imitating the rhythm of english speech is the 
hypothesis of regularly recurring stresses. 
these stresses are primarily 
.ul 
rhythmic 
ones, and should be distinguished from the tonic stress mentioned above which 
is primarily an 
.ul 
intonational 
one. 
rhythmic stresses are marked in the transcription by a "/". 
the stretch between one and the next is called a "foot", 
and the hypothesis above is often referred to as that of isochronous feet 
("isochronous" means "of equal time"). 
there is considerable controversy about this hypothesis. 
it is most popular among british linguists and, it must be admitted, 
amongst those who work by introspection and intuition and do not actually 
.ul 
measure 
things. 
although the question of isochrony of feet has long been debated, there 
seems to be general agreement 
\(em even amongst american linguists \(em 
that there is at least a tendency towards 
equal spacing of foot boundaries. 
however, little is known about the strength of this tendency and the extent 
of deviations from it (see hill 
.ul 
et al, 
1979, for an attempt 
to quantify it) \(em and there is even evidence to suggest that it may in part 
be a 
.ul 
perceptual 
phenomenon (lehiste, 1973). 
.[ 
hill jassem witten 1979 
.] 
.[ 
lehiste 1973 
.] 
on this basic point, as on many others, the designer of a prosodic synthesis 
strategy must needs make assumptions which cannot be properly justified. 
.pp 
from a pragmatic point of view there are two advantages to basing 
a synthesis strategy on this hypothesis. 
firstly, it provides a way to represent the many influences of higher-level 
processes (like syntax and semantics) on rhythm using a simple notation which 
fits naturally into the phonetic utterance representation, 
and which people find quite easy to understand and generate. 
secondly, it tends to produce a heavily accentuated, but not unnatural, 
speech rhythm which can easily be moderated into a more acceptable rhythm 
by departing from isochrony in a controlled manner. 
.pp 
the isp procedure does not make feet exactly isochronous. 
it starts with a standard foot time and attempts to fit the syllables of the 
foot into this time. 
if doing so would result in certain syllables having less than a preset minimum 
duration, the isochrony constraint is relaxed and the foot is expanded. 
there is no preset 
.ul 
maximum 
syllable length. 
however, when the durations of individual phoneme postures are adjusted 
to realize the calculated syllable durations, 
limits are imposed on the amount by which individual phonemes can be expanded 
or contracted. 
thus a hierarchy of limits exists. 
.pp 
the rate of talking is determined by the standard foot time. 
if this time is short, many feet will be forced to have durations longer than 
the standard, and the speech will be "less isochronous". 
this seems to accord with common human experience. 
if the standard time is longer, however, the minimum syllable limit 
will always be exceeded and the speech will be completely isochronous. 
if it is too long, the above-mentioned limits to phoneme expansion will 
come into play and again partially destroy the isochrony. 
.pp 
it has often been observed that the final foot of an utterance tends to be 
longer than others; as does the tonic foot \(em that which bears the 
major stress. 
this is easy to accomodate, simply by making the target duration 
longer for these feet. 
.rh "from feet to syllables." 
a foot is a succession of syllables, one or more. 
and it is obvious that since there are more syllables in some feet than 
in others, some syllables must occupy less time than others in order to preserve 
the tendency towards isochrony of feet. 
.pp 
however, the duration of a foot is not divided evenly between its constituent 
syllables.  the syllables have a definite rhythm of their own, which seems 
to be governed by 
.lb 
.np 
the nature of the salient (that is, the first) syllable of the foot 
.np 
the presence of word boundaries within the foot. 
.le 
a salient syllable tends to be long either if it contains one of 
a class of so-called "long" vowels, or if there is a cluster of two or more 
consonants following the vowel. 
the pattern of syllables and word boundaries governs the rhythm of the foot, 
and table 8.2 shows the possibilities for one-, two-, and three-syllable feet. 
this theory of speech rhythm is due to abercrombie (1964). 
.[ 
abercrombie 1964 syllable quantity and enclitics in english 
.] 
.rf 
.nr x2 \w'three-syllable feet  'u 
.nr x3 \w'sal-short  'u 
.nr x4 \w'weak [#]  'u 
.nr x5 \w'weak      'u 
.nr x6 \w'/\fiit s incon\fr/ceivable    'u 
.nr x1 (\w'syllable rhythm'/2) 
.nr x7 \n(x2+\n(x3+\n(x4+\n(x5+\n(x6+\n(x1+\n(x1 
.nr x7 (\n(.l-\n(x7)/2 
.in \n(x7u 
.ta \n(x2u +\n(x3u +\n(x4u +\n(x5u +\n(x6u 
.ul 
	syllable pattern		example	\0\0\h'-\n(x1u'syllable rhythm 
.sp 
one-syllable feet	salient			/\figood\fr /show	1 
	^	weak		/\fi^ good\fr/bye	2:1 
.sp 
two-syllable feet	sal-long	weak		/\ficentre\fr /forward	1:1 
	sal-short	weak		/\fiatom\fr /bomb	1:2 
	salient  #	weak		/\fitea for\fr /two	2:1 
.sp 
three-syllable feet	salient  #	weak [#]	weak	/\fione for the\fr /road	2:1:1 
				/\fiit's incon\fr/ceivable 
	sal-long	weak #	weak	/\fiafter the\fr /war	2:3:1 
	sal-short	weak #	weak	/\fimiddle to\fr /top	1:3:2 
	sal-long	weak	weak	/\finobody\fr /knows	3:1:2 
	sal-short	weak	weak	/\fianything\fr /more	1:1:1 
.sp 
	# denotes a word boundary; 
	[#] is an optional word boundary 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.fg "table 8.2  syllable patterns and rhythms" 
.pp 
a foot may have the rhythmical characteristics of a two-syllable foot 
while having only one syllable, if the first place in it is filled by a 
silent stress (marked by "^"). 
this is shown in the second one-syllable example of 
table 8.2. 
a similar effect may occur with two- and three-syllable feet, 
although examples are not given in the table. 
feet of four and five syllables \(em with or without a silent stress \(em are 
considerably rarer. 
.pp 
syllabification \(em splitting an utterance into syllables \(em is a job 
which had to be done for the pitch-transfer procedure described earlier, 
and the nature of syllable rhythms calls for it here too. 
even though the utterance is now specified phonetically instead of 
acoustically, the same basic principle applies. 
syllables normally coincide with peaks of sonority, 
where "sonority" measures the inherent loudness of a sound relative to 
other sounds of the same duration and pitch. 
however, difficult cases exist where it seems to be unclear how many syllables 
there are in a word.  (ladefoged, 1975, discusses this problem with examples 
such as "real", "realistic", and "reality".)  furthermore, 
.[ 
ladefoged 1975 
.] 
care must be taken to avoid counting two syllables in a word like "sky" 
because of its two peaks of sonority \(em for the stop 
.ul 
k 
has lower 
sonority than the fricative 
.ul 
s. 
.pp 
three levels of notional sonority are enough for syllabification. 
dividing phoneme segments into 
.ul 
sonorants 
(glides and nasals), 
.ul 
obstruents 
(stops and fricatives), and vowels; a general syllable has the form 
.lb 
.eq 
<obstruent> sup * ~ <sonorant> sup * ~ <vowel> sup * ~ <sonorant> sup * ~ 
<obstruent> sup * ~ , 
.en 
.le 
where "*" means repetition, that is, occurrence zero or more times. 
this sidesteps the "sky" problem by giving fricatives the same 
sonority as stops. 
it is easy to use the above structure to count the number 
of syllables in a given utterance by counting the sonority 
peaks. 
.pp 
however, what is required is an indication of syllable 
.ul 
boundaries 
as well as a syllable count. 
for slow conversational speech, these can be approximated as follows. 
word divisions obviously form syllable boundaries, as should 
foot markers \(em but it may be wise not to assume that the latter do if the 
utterance has been prepared by someone with little knowledge of linguistics. 
syllable boundaries should be made to coincide with sonority minima. 
as an 
.ul 
ad hoc 
pragmatic 
rule, if only one segment has the minimum sonority the boundary is placed 
before it. 
if there are two segments, each with the minimum sonority, it is placed between 
them, while for three or more it is placed after the first two. 
.pp 
these rules produce obviously acceptable divisions in many cases 
(to'day, ash'tray, tax'free), with perhaps unexpected positioning of the 
boundary in others (ins'pire, de'par'tment). 
actually, people do differ in placement of syllable boundaries 
(abercrombie, 1967). 
.[ 
abercrombie 1967 
.] 
.rh "from syllables to segments." 
the theory of isochronous feet (with the caveats noted earlier) 
and that of syllable rhythms provide a way of producing durations for 
individual syllables.  but where are these durations supposed to be measured? 
there is a beat point, or tapping point, near the beginning of each syllable. 
this is the place where a listener will tap if asked to give one tap to each 
syllable; it has been investigated experimentally by allen (1972). 
.[ 
allen 1972 location of rhythmic stress beats in english one 
.] 
it is not necessarily at the very beginning of the syllable. 
for example, in "straight", the tapping point is certainly after the 
.ul 
s 
and the stopped part of the 
.ul 
t. 
.pp 
another factor which relates to the division of the syllable duration 
amongst phonetic segments is the often-observed fact that the length of the 
vocalic nucleus is a strong clue to the degree of voicing of the terminating 
cluster (lehiste, 1970). 
.[ 
lehiste 1970 suprasegmentals 
.] 
if you say in pairs words like "cap", "cab"; "cat", "cad"; "tack", "tag" 
you will find that the vowel in the first word of each pair is significantly 
shorter than that in the second. 
in fact, the major difference between such pairs is the vowel length, 
not the final consonant. 
.pp 
such effects can be taken into account by considering a syllable to comprise 
an initial consonant cluster, followed by a vocalic nucleus and a final 
consonant cluster. 
any of these elements can be missing \(em the most unusual case where the 
nucleus is absent occurs, for example, in so-called syllabic 
.ul 
n\c 
\&'s 
(as in renderings of "button", "pudding" which might be written 
"butt'n", "pudd'n"). 
however, it is convenient to modify the definition of the nucleus 
so as to rule out the possibility of it being empty. 
using the characterization of the syllable given above, the clusters can 
be defined as 
.lb 
.ni 
initial cluster	=  <obstruent>\u*\d <sonorant>\u*\d 
.ni 
nucleus	=  <vowel>\u*\d <sonorant>\u*\d 
.ni 
final cluster	=  <obstruent>\u*\d. 
.le 
sonorants are included in the nucleus so that it is always present, 
even in the case of a syllabic consonant. 
.pp 
then, rules can be used to divide the syllable duration between the 
initial cluster, nucleus, and final cluster. 
these must distinguish between situations where the terminating cluster 
is voiced or unvoiced so that the characteristic differences in vowel lengths 
can be accomodated. 
.pp 
finally, the cluster durations must be apportioned amongst their constituent 
phonetic segments.  there is little published data on which to base this. 
two simple schemes which have been used in isp are described in 
witten (1977) and witten & smith (1977). 
.[ 
witten 1977 a flexible scheme for assigning timing and pitch to synthetic speech 
.] 
.[ 
witten smith 1977 synthesizing british english rhythm 
.] 
.rh "pitch." 
there are two basically different ways of looking at the pitch of an 
utterance. 
one is to imagine pitch 
.ul 
levels 
attached to individual syllables. 
this has been popular amongst american linguists, and some people 
have even gone so far as to associate pitch levels with levels of 
stress. 
the second approach is to consider pitch 
.ul 
contours, 
as we did earlier when examining how to transfer pitch from one utterance 
to another. 
this seems to be easier for the person who transcribes the utterances 
to produce, for the information required is much less detailed than levels 
attached to each syllable.  some indication needs to be given of how 
the contour is to be bound to the utterance, and in the notation introduced above 
the most prominent, or "tonic", syllable is indicated in the transcription. 
.pp 
halliday's (1970) classification identifies five different primary intonation 
contours, each hinging on the tonic syllable. 
.[ 
halliday 1970 course in spoken english: intonation 
.] 
these are sketched in figure 8.5, in the style of halliday. 
.fc "figure 8.5" 
several secondary contours, which are variations on the primary ones, 
are defined as well. 
however, this classification scheme is intended for consumption by people, 
who bring to the problem a wealth of prior knowledge of speech and years 
of experience with it!  it captures only the gross features 
of the infinite variety of pitch contours found in living speech. 
in a sense, the classification is 
.ul 
phonological 
rather than 
.ul 
phonetic, 
for it attempts to distinguish the features which make a logical difference 
to the listener instead of the acoustic details of the pitch contours. 
.pp 
it is necessary to take these contours and subject them to a sort of 
phonological-to-phonetic embellishment before applying them in synthetic 
speech. 
for example, the stretches with constant pitch which precede the tonic 
syllable in tone groups 1, 2, and 3 sound 
most unnatural when synthesized \(em for pitch is hardly ever 
exactly constant in living speech. 
some pretonic pitch variation is necessary, 
and this can be made to emphasize the salient syllable 
of each foot.  a "lilting" effect which reaches a peak at each foot 
boundary, and drops rather faster at the beginning of the foot than it 
rises at the end, sounds more natural.  the magnitude of this inflection 
can be altered slightly to add interest, but a considerable increase in it 
produces a semantic change by making the utterance sound more emphatic. 
it is a major problem to pin down exactly the turning points of pitch in 
the falling-rising and rising-falling contours (4 and 5 in figure 8.5). 
and even deciding on precise values for the pitch frequencies involved is not 
always easy. 
.pp 
the aim of the pitch assignment method of isp is to allow the person 
(or program) which originates a spoken message to exercise a great deal 
of control over its intonation, without having to concern himself with 
foot or syllable structure.  the message to be spoken must be broken down 
into tone groups, 
which correspond roughly to halliday's tone groups. 
each one comprises a 
.ul 
tonic 
of one or more feet, which is optionally preceded by a 
.ul 
pretonic, 
also with a number of feet.  it is advantageous to allow a tone group 
boundary to occur in the middle of a foot (whereas halliday's scheme 
insists that it occurs at a foot boundary). 
the first foot of the tonic, the 
.ul 
tonic foot, 
is marked by an asterisk at the beginning. 
it is on the first syllable of this foot \(em the 
"tonic" or "nuclear" 
syllable \(em that the major stress of the tone group occurs. 
if there is no asterisk in a tone group, 
isp takes the final foot as the tonic 
(since this is the most common case). 
.pp 
the pitch contour on a tone group is specified by an array of ten numbers. 
of course, the system cannot generate all conceivable contours for a tone 
group, but the definitions of the ten specifiable quantities have been 
chosen to give a useful range of contours. 
if necessary, more precise control over the pitch of an utterance can 
be achieved by making the tone groups smaller. 
.pp 
the overall pitch movement is controlled by specifying the pitch at three 
places:  the beginning of the tone group, the beginning of the tonic syllable, 
and the end of the tone group. 
provision is made for an abrupt pitch break at the start of the tonic 
syllable in order to simulate tone groups 2 and 3, and, to a lesser 
extent, tone groups 4 and 5. 
the pitch is interpolated linearly over the first part of the 
tone group (up to the tonic syllable) and over the last part (from there to 
the end), except that it is possible to specify a non-linearity on the tonic 
syllable, for emphasis, as shown in figure 8.6. 
.fc "figure 8.6" 
.pp 
on this basic shape are superimposed two finer pitch patterns. 
one of these is an initialization-continuation option which allows 
the pitch to rise (or fall) independently on the initial and final feet 
to specified values, without affecting the contour on the rest 
of the tone group (figure 8.7). 
.fc "figure 8.7" 
the other is a foot pattern which is superimposed on each pretonic foot, 
to give the stressed syllables of the pretonic added prominence and avoid 
the monotony of constant pitch. 
this is specified by a 
.ul 
non-linearity 
parameter which distorts the contour on the foot at a pre-determined 
point along it. 
figure 8.8 shows the effect. 
.fc "figure 8.8" 
.pp 
the ten quantities that define a pitch contour are summarized in 
table 8.3, and shown diagrammatically in figure 8.9. 
.fc "figure 8.9" 
.rf 
.nr x0 \w'h:    'u 
.nr x1 \n(x0+\w'fraction along foot of the non-linearity position, for the tonic foot'u 
.nr x1 (\n(.l-\n(x1)/2 
.in \n(x1u 
.ta \n(x0u +4n 
a:	continuation from previous tone group 
		zero gives no continuation 
		non-zero gives pitch at start of tone group 
b:	notional pitch at start 
c:	pitch range on whole of pretonic 
d:	departure from linearity on each foot of pretonic 
e:	pitch change at start of tonic 
f:	pitch range on tonic 
g:	departure from linearity on tonic 
h:	continuation to next tone group 
		zero gives no continuation 
		non-zero gives pitch at end of tone group 
i:	fraction along foot of the non-linearity position, for pretonic feet 
j:	fraction along foot of the non-linearity position, for the tonic foot 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 8.3  the quantities that define a pitch contour" 
.pp 
the intention of this parametric method of specifying contours 
is that the parameters should be easily derivable from semantic variables 
like emphasis, novelty of idea, surprise, uncertainty, incompleteness. 
here we really are getting into controversial, unresearched areas. 
roughly speaking, parameters d and g control emphasis, g by itself 
controls novelty and surprise, and h and the relative sizes of e and f 
control uncertainty and incompleteness. 
certain parameters (notably i and j) are defined because although they 
do not appear to correspond to semantic distinctions, we do not yet know 
how to generate them automatically. 
.rf 
.nr x0 0.6i+0.5i+0.5i+0.5i+0.5i+0.5i+0.5i+0.5i+0.5i+0.5i+0.5i+\w'0000' 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta 0.6i +0.5i +0.5i +0.5i +0.5i +0.5i +0.5i +0.5i +0.5i +0.5i +0.5i 
halliday's 
tone group	\0\0a	\0\0b	\0\0c	\0\0d	\0\0e	\0\0f	\0\0g	\0\0h	\0\0i	\0\0j 
\l'\n(x0u\(ul' 
.sp 
	1	\0\0\00	\0175	\0\0\00	\0\-40	\0\0\00	\-100	\0\-40	\0\0\00	0.33	\00.5 
	2	\0\0\00	\0280	\0\0\00	\0\-40	\-190	\0100	\0\0\00	\0\0\00	0.33	\00.5 
	3	\0\0\00	\0175	\0\0\00	\0\-40	\0\-70	\0\045	\0\-10	\0\0\00	0.33	\00.5 
	4	\0\0\00	\0280	\-100	\0\-40	\0\020	\0\045	\0\-45	\0\0\00	0.33	\00.5 
	5	\0\0\00	\0175	\0\060	\0\-40	\0\-20	\0\-45	\0\045	\0\0\00	0.33	\00.5 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 8.4  pitch contour table for halliday's primary tone groups" 
.pp 
one basic requirement of the pitch assignment scheme was the ability to 
generate contours which approximate halliday's five primary tone groups. 
values of the ten specifiable quantities are given in table 8.4, for each 
tone group. 
all pitches are given in\ hz. 
a distinctly dipping pitch movement has been given to each pretonic foot 
(parameter d), 
to lend prominence to the salient syllables. 
.sh "8.4  evaluating prosodic synthesis" 
.pp 
it is extraordinarily difficult to evaluate schemes for prosodic synthesis, 
and this is surely a large part of the reason why prosodics are among the 
least advanced aspects of artificial speech. 
segmental synthesis can be tested by playing people minimal pairs of 
words which differ in just one feature that is being investigated. 
for example, one might experiment with "pit", "bit"; "tot", "dot"; 
"cot", "got" to test the rules which discriminate unvoiced from voiced stops. 
there are standard word-lists for intelligibility tests which can be 
used to compare systems, too. 
no equivalent of such micro-level evaluation exists for prosodics, 
for they by definition have a holistic effect on utterances. 
they are most noticeable, and most important, in longish stretches of speech. 
even monotonous, arhythmic speech will be intelligible in 
sufficiently short samples provided the segmentals are good enough; 
but it is quite impossible to concentrate on such speech in quantity. 
some attempts at evaluation appear in ainsworth (1974) and mchugh (1976), 
but these are primarily directed at assessing the success of pronunciation 
rules, which are discussed in the next chapter. 
.[ 
ainsworth 1974 performance of a speech synthesis system 
.] 
.[ 
mchugh 1976 listener preference and comprehension tests 
.] 
.pp 
one evaluation technique is to compare synthetic with natural versions 
of utterances, as was done in the pitch transfer experiment. 
the method described earlier used a sensitive paired-comparison test, 
where subjects heard both versions in quick succession and were asked 
to judge which was "most natural and intelligible". 
this is quite a stringent test, and one that may not be so useful 
for inferior, completely synthetic, contours. 
it is essential to degrade the "natural" utterance so that it is 
comparable segmentally to the synthetic one:  this was done in the 
experiment described by extracting its pitch and resynthesizing it 
from linear predictive coefficients. 
.pp 
several other experiments could be undertaken to evaluate artificial 
prosody. 
for example, one could compare 
.lb 
.np 
natural and artificial rhythms, using artificial segmental synthesis 
in both cases; 
.np 
natural and artificial pitch contours, using artificial segmental synthesis 
in both cases; 
.np 
natural and artificial pitch contours, using segmentals extracted from 
natural utterances. 
.le 
there are many other topics which have not yet been fully investigated. 
it would be interesting, for example, to define rules for generating speech 
at different tempos. 
elisions, where phonemes or even whole syllables are suppressed, 
occur in fast speech; these have been analyzed by linguists 
but not yet incorporated into synthetic models. 
it should be possible to simulate emotion by altering parameters such as 
pitch range and mean pitch level; but this seems exceptionally difficult 
to evaluate.  one situation where it would perhaps be possible to 
measure emotion is in the reading of sports results \(em in fact a study 
has already been made of intonation in soccer results (bonnet, 1980)! 
.[ 
bonnet 1980 
.] 
even the synthesis of voices with different pitch ranges requires 
investigation, for, as noted earlier, it is difficult to place 
precise frequency specifications on phonological contours such as 
those sketched in figure 8.5. 
clearly the topic of prosodic synthesis is a rich and potentially 
rewarding area of research. 
.sh "8.5  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.sh "8.6  further reading" 
.pp 
there are quite a lot of books in the field of linguistics which 
describe prosodic features. 
here is a small but representative sample from both sides of the atlantic. 
.lb "nn" 
.\"abercrombie-1965-1 
.]- 
.ds [a abercrombie, d. 
.ds [d 1965 
.ds [t studies in phonetics and linguistics 
.ds [i oxford univ press 
.ds [c london 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
abercrombie is one of the leading english authorities on phonetics, 
and this is a collection of essays which he has written over the years. 
some of them treat prosodics explicitly, and others show the influence 
of verse structure on abercrombie's thinking. 
.in-2n 
.\"bolinger-1972-2 
.]- 
.ds [a bolinger, d.(editor) 
.ds [d 1972 
.ds [t intonation 
.ds [i penguin 
.ds [c middlesex, england 
.nr [t 0 
.nr [a 0 
.nr [o 0 
.][ 2 book 
.in+2n 
a collection of papers that treat a wide variety of different aspects 
of intonation in living speech. 
.in-2n 
.\"crystal-1969-3 
.]- 
.ds [a crystal, d. 
.ds [d 1969 
.ds [t prosodic systems and intonation in english 
.ds [i cambridge univ press 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this book attempts to develop a theoretical basis for the study of british 
english intonation. 
.in-2n 
.\"gimson-1966-3 
.]- 
.ds [a gimson, a.c. 
.ds [d 1966 
.ds [t the linguistic relevance of stress in english 
.ds [b phonetics and linguistics 
.ds [e w.e.jones and j.laver 
.ds [p 94-102 
.nr [p 1 
.ds [i longmans 
.ds [c london 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 3 article-in-book 
.in+2n 
here is a careful discussion of what is meant by "stress", with much more 
detail than has been possible in this chapter. 
.in-2n 
.\"lehiste-1970-4 
.]- 
.ds [a lehiste, i. 
.ds [d 1970 
.ds [t suprasegmentals 
.ds [i mit press 
.ds [c cambridge, massachusetts 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this is a comprehensive study of suprasegmental phenomena in natural speech. 
it is divided into three major sections:  quantity (timing), tonal features 
(pitch), and stress. 
.in-2n 
.\"pike-1945-5 
.]- 
.ds [a pike, k.l. 
.ds [d 1945 
.ds [t the intonation of american english 
.ds [i univ of michigan press 
.ds [c ann arbor, michigan 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
a classic, although somewhat dated, study. 
notice that it deals specifically with american english. 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "9  generating speech from text" 
.ds rt "generating speech from text 
.ds cx "principles of computer speech 
.pp 
in the preceding two chapters i have described how artificial speech 
can be produced from a written phonetic representation with additional 
markers indicating intonation contours, points of major stress, rhythm, 
and pauses. 
this representation is substantially the same as that used by linguists 
when recording natural utterances. 
what we will discuss now are techniques for generating this information, 
or at least some of it, from text. 
.pp 
figure 9.1 shows various levels of the speech synthesis process. 
.fc "figure 9.1" 
starting from the top with plain text, the first box splits it into 
intonation units (tone groups), decides where the major emphases 
(tonic stresses) should be placed, 
and further subdivides the tone group into rhythmic units (feet). 
for intonation analysis it is necessary to decide on an "interpretation" 
of the text, which in turn, as was emphasized at the beginning of the 
previous chapter, depends both on the semantics of what is being said and 
on the attitude of the speaker to his material. 
the resulting representation will be at the level of halliday's notation 
for utterances, with the words still in english rather than phonetics. 
table 9.1 illustrates the utterance representation at the various levels 
of the figure. 
.rf 
.nr x0 \w'pitch and duration    '+\w'at 8 khz sampling rate a 4-second utterance' 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta \w'pitch and duration    'u +\w'pause  'u +\w'00 msec   'u 
representation	example 
\l'\n(x0u\(ul' 
.sp 
plain text	automatic synthesis of speech, 
	from a phonetic representation. 
.sp 
text adorned with	3\0^ auto/matic /synthesis of /*speech, 
prosodic markers	1\0^ from a pho/*netic /represen/tation. 
.sp 
phonetic text with	3\0\fi^  aw t uh/m aa t i k  /s i n th uh s i s\fr 
prosodic markers	\0\0\fiuh v  /*s p ee t sh\fr , 
	1\0\fi^  f r uh m  uh  f uh/*n e t i k\fr 
	\0\0\fi/r e p r uh z e n/t e i sh uh n\fr . 
.sp 
phonemes with	pause	80 msec 
pitch and duration	\fiaw\fr	70 msec	105 hz 
	\fit\fr	40 msec	136 hz 
	\fiuh\fr	50 msec	148 hz 
	\fim\fr	70 msec	175 hz 
	\fiaa\fr	90 msec	140 hz 
		... 
		... 
		... 
.sp 
parameters for	10 parameters, each updated at a frame 
formant or linear	rate of 10 msec 
predictive	(4 second utterance gives 400 frames, 
synthesizer	or 4,000 data values) 
.sp 
acoustic wave	at 8 khz sampling rate a 4-second utterance 
	has 32,000 samples 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 9.1  utterance representations at various levels in speech synthesis" 
.pp 
the next job is to translate the plain text into a broad phonetic 
transcription. 
this requires knowledge of letter-to-sound pronunciation 
rules for the language under consideration. 
but much more is needed.  the structure of each word must be examined for 
prefixes and suffixes, because they \(em especially the latter \(em have a 
strong influence on pronunciation. 
this is called "morphological" analysis. 
actually it is also required for rhythmical purposes, because prefixes 
are frequently unstressed (note that the word "prefix" is itself an 
exception to this!). 
thus the appealing segmentation of the overall problem shown in figure 9.1 
is not very accurate, for the individual processes cannot be rigidly 
separated as it implies.  in fact, we saw earlier how this intermixing of 
levels occurs with prosodic and segmental features. 
nevertheless, it is helpful to structure discussion of the problem by 
separating levels as a first approximation. 
further influences on pronunciation come from the semantics and syntax 
of the utterance \(em and both also play a part in intonation and rhythm analysis. 
the result of this second process is a phonetic representation, still 
adorned with prosodic markers. 
.pp 
now we move down from higher-level intonation and rhythm considerations 
to the details of the pitch contour and segment durations. 
this process was the subject of the previous chapter. 
the problems are twofold:  to map an appropriate acoustic pitch contour 
on to the utterance, using tonic stress point and foot boundaries as 
anchor points; and to assign durations to segments using the 
foot\(emsyllable\(emcluster\(emsegment hierarchy. 
if it is accepted that the overall rhythm can be captured adequately by foot 
markers, this process does not interact with earlier ones. 
however, many researchers do not, believing instead that rhythm is 
syntactically determined at a very detailed level. 
this will, of course, introduce strong interaction between the duration 
assignment process and the levels above. 
(klatt, 1975, puts it into his title \(em 
"vowel lengthening is syntactically determined in a connected discourse". 
.[ 
klatt 1975 vowel lengthening is syntactically determined 
.] 
contrast this with the paper cited earlier (bolinger, 1972) entitled 
"accent is predictable \(em if you're a mind reader". 
.[ 
bolinger 1972 accent is predictable \(em if you're a mind reader 
.] 
no-one would disagree that "accent" is an influential factor in vowel length!) 
.pp 
notice incidentally that the representation of the result of the pitch 
and duration assignment process in table 9.1 is inadequate, for each segment 
is shown as having just one pitch. 
in practice the pitch varies considerably throughout every segment, 
and can easily rise and fall on a single one.  for example, 
.lb 
"he's 
.ul 
very 
good" 
.le 
may have a rise-fall on the vowel of "very". 
the linked event-list data-structure of isp is much more suitable 
than a textual string for utterance representation at this level. 
.pp 
the fourth and fifth processes of figure 9.1 have little interaction with 
the first two, which are the subject of this chapter.  segmental 
concatenation, which was treated in chapter 7, is affected by prosodic 
features like stress; but a notation which indicates stressed syllables 
(like halliday's) is sufficient to capture this influence. 
contextual modification of segments, by which i mean 
the coarticulation effects which govern allophones of phonemes, 
is included explicitly in the fourth process to emphasize that the upper levels 
need only provide a broad phonemic transcription rather than a detailed 
phonetic one. 
signal synthesis can be performed by either a formant synthesizer or a 
linear predictive one (discussed in chapters 5 and 6). 
this will affect the details of the segmental concatenation process but should have no 
impact at all on the upper levels. 
.pp 
figure 9.1 performs a useful function by summarizing where we have 
been in earlier chapters \(em the lower three boxes \(em and introducing the 
remaining problems that must be faced by a full text-to-speech system. 
it also serves to illustrate an important point:  that a speech output system 
can demand that its utterances be entered in any of a wide range of 
representations. 
thus one can enter at a low level with a digitized waveform or linear 
predictive parameters; or higher up with a phonetic representation 
that includes detailed pitch and duration specification at the phoneme level; 
or with a phonetic text or plain text adorned with prosodic markers; 
or at the very top with plain text as it would appear in a book. 
a heavy price in naturalness and intelligibility is paid by moving up 
.ul 
any 
of these levels \(em and this is just as true at the top of the figure as 
at the bottom. 
.sh "9.1  deriving prosodic features" 
.pp 
if you really need to start with plain text, 
some very difficult problems present themselves. 
the text should be understood, first of all, and then decisions need to be 
made about how it is to be interpreted. 
for an excellent speaker \(em like an actor \(em these decisions will be artistic, 
at least in part. 
they should certainly depend upon the opinion and attitude of the speaker, 
and his perception of the structure and progress of the dialogue. 
very little is known about this upper level of speech synthesis from text. 
in practice it is almost completely ignored \(em and the speech is at most 
barely intelligible, and certainly uncomfortable to listen to. 
hence anybody contemplating building or using a speech output system which 
starts from something close to plain text should consider carefully whether some extra 
semantic information can be coded into the initial utterances to help with 
prosodic interpretation. 
only rarely is this impossible \(em and reading machines for the blind are 
a prime example of a situation where arbitrary, unannotated, texts 
must be read. 
.rh "intonation analysis." 
one distinction which a program can usefully try 
to make is between basically rising 
and basically falling pitch contours.  it is often said that pitch rises on 
a question and falls on a statement, but if you listen to speech you will 
find this to be a gross oversimplification.  it normally 
falls on statements, certainly; but it falls as often as it rises on questions. 
it is more accurate to say that pitch rises on "yes-no" questions 
and falls on other utterances, although this rule is still only a rough guide. 
a simple test which operates lexically on the input text is to determine 
whether a sentence is a question by looking at the  
punctuation mark at its end, and then to examine the first word. 
if it is a "wh"-word like "what", "which", "when", "why" (and also "how") 
a falling contour is likely to fit. 
if not, the question is probably a yes-no one, and the contour 
should rise. 
such a crude rule will certainly not be very accurate 
(it fails, for example, when the "wh"-word is embedded in a phrase as in 
"at what time are you going?"), but at least it provides a starting-point. 
.pp 
an air of finality is given to an utterance when it bears a definite 
fall in pitch, dropping to a rather low value at the end. 
this should accompany the last intonation unit in an utterance 
(unless it is a yes-no question). 
however, a rise-fall contour such as halliday's tone group 5 (figure 8.5) 
can easily be used in utterance-final position by one person 
in a conversation \(em 
although it would be unlikely to terminate the dialogue altogether. 
a new topic is frequently introduced by a fall-rise contour \(em such as 
halliday's tone group 4 \(em and this often begins a paragraph. 
.pp 
determining the type of pitch contour is only one part of 
intonation assignment.  there are really three separate problems: 
.lb 
.np 
dividing the utterance into tone groups 
.np 
choosing the tonic syllable, or major stress point, of each one 
.np 
assigning a pitch contour to each tone group. 
.le 
let us continue to use the halliday notation for intonation, which was introduced 
in simplified form in the previous chapter. 
moreover, assume that the foot boundaries can be placed correctly \(em 
this problem will be discussed in the next subsection. 
then a scheme which considers only the lexical form of the utterance 
and does not attempt to "understand" it (whatever that means) is as follows: 
.lb 
.np 
place a tone group boundary at every punctuation mark 
.np 
place the tonic at the first syllable of the last foot in a tone group 
.np 
use contour 4 for the first tone group in a paragraph and contour 1 
elsewhere, except for a yes-no question which receives contour 2. 
.le 
.rf 
.nr x0 \w'from scarborough to whitby\0\0\0\0'+\w'4  ^  from /scarborough to /*whitby is a' 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta \w'from scarborough to whitby\0\0\0\0\0\0'u 
plain text	text adorned with prosodic markers 
\l'\n(x0u\(ul' 
.sp 
from scarborough to whitby is a	4 ^ from /scarborough to /*whitby is a 
very pleasant journey, with	1\- very /pleasant /*journey with 
very beautiful countryside.	1\- very /beautiful /*countryside ... 
in fact the yorkshire coast is	1+ ^ in /fact the /yorkshire /coast is 
\0\0\0\0lovely,	\0\0\0\0/*lovely 
all along, ex-	1+ all a/*long ex 
cept the parts that are covered	_4 cept the /parts that are /covered 
\0\0\0\0in caravans of course; and	\0\0\0\0in /*caravans of /course and 
if you go in spring,	4 if you /go in /*spring 
when the gorse is out,	4 ^ when the /*gorse is /out 
or in summer,	4 ^ or in /*summer 
when the heather's out,	4 ^ when the /*heather's /out 
it's really one of the most	13 ^ it's /really /one of the /most 
\0\0\0\0delightful areas in the	\0\0\0\0de/*lightful /*areas in the 
whole country.	1 whole /*country 
.sp 
the moorland is	4 ^ the /*moorland is 
rather high up, and	1 rather /high /*up and 
fairly flat \(em a	1 fairly /*flat a 
sort of plateau.	1 sort of /*plateau ... 
at least,	1 ^ at /*least 
it isn't really flat,	13 ^ it /*isn't /really /*flat 
when you get up on the top;	\-3 ^ when you /get up on the /*top 
it's rolling moorland	1 ^ it's /rolling /*moorland 
cut across by steep valleys.  but	1 cut across by /steep /*valleys but 
seen from the coast it's	4 seen from the /*coast it's ... 
"up there on the moors", and you	1 up there on the /*moors and you 
always think of it as a	_4 always /*think of it as a 
kind of tableland.	1 kind of /*tableland 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 9.2  example of intonation and rhythm analysis (from halliday, 1970)" 
.[ 
halliday 1970 course in spoken english: intonation 
.] 
.pp 
these extremely crude and simplistic rules are really the most that one can do 
without subjecting the utterance to a complicated semantic analysis. 
in statistical terms, they are actually remarkably effective. 
table 9.2 shows part of a spontaneous monologue which was transcribed by 
halliday and appears in his teaching text on intonation 
(halliday, 1970, p 133). 
.[ 
halliday 1970 course in spoken english: intonation 
.] 
among the prosodic markers are some that were not introduced in chapter 8. 
firstly, each tone group has secondary contours which are identified 
by "1+", "1\-" (for tone group 1), and so on. 
secondly, the mark "..." is used to indicate a pause which disrupts 
the speech rhythm. 
notice that its positioning belies the advice of the old elocutionists: 
.br 
.ev2 
.in 0 
.lb 
.fi 
a comma stops the voice while we may privately tell 
.ni 
.ul 
one, 
a semi-colon 
.ul 
two; 
a colon 
.ul 
three:\c 
  and a period 
.ul 
four. 
.br 
.nr x0 \w'\fione,\fr a semi-colon \fitwo;\fr a colon \fithree:\fr  and a period \fifour.'-\w'(mason,\fr 1748)' 
.ni 
\h'\n(x0u'(mason, 1748) 
.nf 
.le 
.br 
.ev 
thirdly, compound tone groups such as "13" appear which contain 
.ul 
two 
tonic syllables. 
this differs from a simple concatenation of tone groups 
(with contours 1 and 3 in this case) because the second is in some sense subsidiary to 
the first. 
typically it forms an adjunct clause, while the first clause gives the 
main information.  halliday provides many examples, such as 
.lb 
.ni 
/jane goes /shopping in /*town /every /*friday 
.ni 
/^ i /met /*arthur on the /*train. 
.le 
but he does not comment on the 
.ul 
acoustic 
difference between a compound tone group and a concatenation of simple ones \(em 
which is, after all, the information needed for synthesis. 
a final, minor, difference between halliday's scheme and that outlined earlier 
is that he compels tone group boundaries to occur at the beginning 
of a foot. 
.rf 
.nr x0 3.3i+1.3i+\w'complete' 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta 3.3i +1.3i 
	excerpt in	complete 
	table 9.2	passage 
\l'\n(x0u\(ul' 
.sp 
number of tone groups	25	74 
.sp 
number of boundaries correctly	19 (76%)	47 (64%) 
placed 
.sp 
number of boundaries incorrectly	\00	\01 (\01%) 
placed 
.sp 
number of tone groups having a	22 (88%)	60 (81%) 
tonic syllable at the beginning 
of the final foot 
.sp 
number of tone groups whose	17 (68%)	51 (69%) 
contours are correctly assigned 
\l'\n(x0u\(ul' 
.sp 
number of compound tone groups	\02 (\08%)	\06 (\08%) 
.sp 
number of secondary intonation	\07 (28%)	13 (17%) 
contours 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 9.3  success of simple intonation assignment rules" 
.pp 
applying the simple rules given above to the text of table 9.2 leads to 
the results in the first column of table 9.3. 
three-quarters of the foot boundaries are flagged by 
punctuation marks, with no extraneous ones being included. 
88% of tone groups have a tonic syllable at the start of the final foot. 
however, the compound tone groups each have two tonic syllables, 
and of course only the second one is predicted by the final-foot rule. 
assigning intonation contours on the extremely simple basis of using 
contour 4 for the first tone group in a paragraph, and contour 1 thereafter, 
also seems to work quite well.  secondary contours such as "1+" and "1\-" 
have been mapped into the appropriate primary contour (1, in this case) 
for the present purpose, and compound tone groups have been assigned the first 
contour of the pair. 
the result is that 68% of contours are given correctly. 
.pp 
in order to give some idea of the reliability of these figures, the results 
for the whole passage transcribed by halliday \(em of which table 9.2 is an 
excerpt \(em are shown in the second column of table 9.3.  although it 
looks as though the rules may have been slightly lucky with the excerpt, 
the general trends are the same, with 65% to 80% of features being assigned 
correctly. 
it could be argued, though, that the complete text is punctuated fairly liberally by 
present-day standards, so that the tone-group boundary rule is unusually 
successful. 
.pp 
these results are really astonishingly good, considering the crudeness of 
the rules.  however, they should be interpreted with caution. 
what is missed by the rules, although appearing to comprise only 
20% to 35% of the features, is certain to include the important, 
information-bearing, and variety-producing features that give the utterance 
its liveliness and interest. 
it would be rash to assume that all tone-group boundaries, 
all tonic positions, and all intonation contours, are equally 
important for intelligibility and naturalness. 
it is much more likely that the rules predict a 
default pattern, while most information is borne by deviations from 
them. 
to give an engineering analogy, it may be as though the carrier waveform 
of a modulated transmission is being simulated, instead of the 
information-bearing signal! 
certainly the utterance will, if synthesized with intonation given by these 
rules, sound extremely dull and repetitive, mainly because of the 
overwhelming predominance of tone group 1 and the universal placement 
of tonic stress on the final foot. 
.pp 
there are certainly many different ways to orate any particular text, 
and that given by halliday and reproduced in table 9.2 is only one possible 
version. 
however, it is fair to say that the default intonation discussed above 
could only occur naturally under very unusual circumstances \(em such as 
a petulant child, unwilling and sulky, having been forced to read aloud. 
this is hardly how we want our computers to speak! 
.rh "rhythm analysis." 
consider now how to decide where foot boundaries should be placed 
in english text. 
clearly semantic considerations sometimes play a part in this \(em one could 
say 
.lb 
/^ is /this /train /going /*to /london 
.le 
instead of the more usual 
.lb 
/^ is /this /train /going to /*london 
.le 
in circumstances where the train might be going 
.ul 
to 
or 
.ul 
from 
london. 
such effects are ignored here, although it is worth noting in passing that the 
rogue words will often be marked by underscoring or italicizing 
(as in the previous sentence). 
if the text is liberally underlined, semantic analysis may 
be unnecessary for the purposes of rhythm. 
.pp 
a rough and ready rule for placing foot boundaries is to insert one before 
each word which is not in a small closed set of "function words". 
the set includes, for example, "a", "and", "but", "for", "is", "the", "to". 
if a verb or adjective begins with a prefix, the boundary should be moved 
between it and the root \(em but not for a noun. 
this will give the distinction between 
.ul 
con\c 
vert (noun) and con\c 
.ul 
vert 
(verb), 
.ul 
ex\c 
tract and ex\c 
.ul 
tract, 
and for many north american speakers, 
will help to distinguish 
.ul 
in\c 
quiry from in\c 
.ul 
quire. 
however, detecting prefixes by a simple splitting algorithm is dangerous. 
for example, "predate" is a verb with stress on what appears to be a prefix, 
contrary to the rule; while the "pre" in "predator" is not a prefix \(em at 
least, it is not pronounced as the prefix "pre" normally is. 
moreover, polysyllabic words like "/diplomat", "dip/lomacy", "diplo/matic"; 
or "/telegraph", "te/legraphy", "tele/graphic" cannot be handled on such a simple 
basis. 
.pp 
in 1968, a remarkable work on english sound structure was published 
(chomsky and halle, 1968) which proposes a system of rules to transform 
english text into a phonetic representation in terms of distinctive features, 
with the aid of a lexicon. 
.[ 
chomsky halle 1968 
.] 
a great deal of attention is paid to stress, and rules are given which 
perform well in many tricky cases. 
.pp 
it uses the american system of levels of stress, marking 
so-called primary stress with a superscript 1, secondary stress with a 
superscript 2, and so on. 
the superscripts are written on the vowel of the stressed 
syllable:  completely unstressed syllables receive no annotation. 
for example, the sentence "take john's blackboard eraser" is written 
.lb 
ta\u2\dke jo\u3\dhn's bla\u1\dckboa\u5\drd era\u4\dser. 
.le 
in foot notation this utterance 
is 
.lb 
/take /john's /*blackboard e/raser. 
.le 
it undoubtedly contains less information than the stress-level version. 
for example, the second syllable of "blackboard" and the first one of "erase" 
are both unstressed, although the rhythm rules given in chapter 8 
will cause them 
to be treated differently because they occupy different places in the 
syllable pattern of the foot. 
"take", "john's", and the second syllable of "erase" are all non-tonic 
foot-initial syllables and hence are not distinguished in the notation; 
although the pitch contours schematized in figure 8.9 will give them different 
intonations. 
.pp 
an indefinite number of levels of stress can be used.  for example, according 
to the rules given by chomsky and halle, the word "sad" in 
.lb 
my friend can't help being shocked at anyone who would fail to consider 
his sad plight 
.le 
has level-8 stress, the final two words being annotated 
as "sa\u8\dd pli\u1\dght". 
however, only the first few levels are used regularly, and 
it is doubtful whether acoustic distinctions are made in speech 
between the weaker ones. 
.pp 
chomsky and halle are concerned to distinguish between such utterances as 
.lb 
.ni 
bla\u2\dck boa\u1\drd-era\u3\dser    ("board eraser that is black") 
.ni 
bla\u1\dckboa\u3\drd era\u2\dser     ("eraser for a blackboard") 
.ni 
bla\u3\dck boa\u1\drd era\u2\dser    ("eraser of a black board"), 
.le 
and their stress assignment rules do indeed produce each version when 
appropriate. 
in foot notation the distinctions can still be made: 
.lb 
.ni 
/black /*board-eraser/ 
.ni 
/*blackboard e/raser/ 
.ni 
/black /*board e/raser/ 
.le 
.pp 
the rules operate on a grammatical derivation tree 
of the text. 
for instance, input for the three examples would be written 
.lb 
.ni 
[\dnp\u[\da\u black ]\da\u [\dn\u[\dn\u board]\dn\u 
[\dn\u eraser ]\dn\u]\dn\u]\dnp\u 
.ni 
[\dn\u[\dn\u[\da\u black ]\da\u [\dn\u board ]\dn\u]\dn\u [\dn\u eraser ]\dn\u]\dn\u 
.ni 
[\dn\u[\dnp\u[\da\u black ]\da\u [\dn\u board ]\dn\u]\dnp\u [\dn\u eraser ]\dn\u]\dn\u, 
.le 
representing the trees shown in figure 9.2. 
.fc "figure 9.2" 
here, n stands for a noun, np for a noun phrase, and a for an adjective. 
these categories appear explicitly as nodes in the tree. 
in the linearized textual representation they are used to label 
brackets which represent the tree structure. 
an additional piece of information which is needed is the lexical entry for 
"eraser", which would show that it has only one accented 
(that is, potentially stressed) syllable, namely, the second. 
.pp 
consider now how to account for stress in prefixed and 
suffixed words, and those polysyllabic ones with more than one potential 
stress point. 
for these, the morphological structure must appear in the input. 
.pp 
now 
.ul 
morphemes 
are well-defined minimal units of grammatical analysis from which a word 
may be composed. 
for example,  [went]\ =\ [go]\ +\ [ed]  is 
a morphemic decomposition, where "[ed]" denotes the 
past-tense morpheme. 
this representation is not particularly suitable for speech synthesis 
for the obvious reason that the result bears no phonetic resemblance to 
the input. 
what is needed is a decomposition into 
.ul 
morphs, 
which occur only when the lexical or phonetic representation of a word may 
easily be segmented into parts. 
thus  [wanting]\ =\ [want]\ +\ [ing]  and  [bigger]\ =\ [big]\ +\ [er]  are 
simultaneously morphic and morphemic decompositions. 
notice that in the second example, a rule about final consonant doubling has 
been applied at the lexical level (although it is not needed in 
a phonetic representation):  this comes into the sphere 
of "easy" segmentation. 
contrast this with  [went]\ =\ [go]\ +\ [ed]  which 
is certainly not an easy segmentation and hence a 
morphemic but not a morphic decomposition. 
but between these extremes there are some difficult 
cases:  [specific]\ =\ [specify]\ +\ [ic]  is probably morphic 
as well as morphemic, but it is not clear 
that  [galactic]\ =\ [galaxy]\ +\ [ic]  is. 
.pp 
assuming that the input is given as a derivation tree with morphological 
structure made explicit, chomsky and halle present rules which assign stress 
correctly in nearly all cases.  for example, their rules give 
.lb 
.ni 
[\da\u[\dn\u incident ]\dn\u + al]\da\u  \(em>  i\u2\dncide\u1\dntal; 
.le 
and if the stem is marked by  [\ds\u\ ...\ ]\ds\u  in prefixed words, 
they can deduce 
.lb 
.ni 
[\dn\u tele [\ds\u graph ]\ds\u]\dn\u		\(em>  te\u1\dlegra\u3\dph 
.ni 
[\dn\u[\dn\u tele [\ds\u graph ]\ds\u]\dn\u y ]\dn\u	\(em>  tele\u1\dgraphy 
.ni 
[\da\u[\dn\u tele [\ds\u graph ]\ds\u]\dn\u ic ]\da\u	\(em>  te\u3\dlegra\u1\dphi\u2\dc. 
.le 
.pp 
there are two rules which account for the word-level stress 
on such examples:  the "main stress" 
rule and the "alternating stress" rule. 
in essence, the main stress rule emphasizes the last strong syllable 
of a stem. 
a syllable is "strong" either if it contains one of a class of so-called 
"long" vowels, or if there is a cluster of two or more consonants 
following the vowel; otherwise it is "weak". 
(if you are exceptionally observant you will notice that this strong\(emweak 
distinction has been used before, when discussing the rhythm of feet in 
syllables.)  thus the verb "torment" receives stress on the second syllable, 
for it is a strong one. 
a noun like "torment" is treated as being derived from the corresponding verb, 
and the rule assigns stress to the verb first and then modifies it for the noun. 
the second, "alternating stress", rule gives some stress to alternate 
syllables of polysyllabic words like "form\c 
.ul 
al\c 
de\c 
.ul 
hyde\c 
". 
.pp 
it is quite easy to incorporate the word-level rules into a computer 
program which uses feet rather than stress levels as the basis for prosodic 
description. 
a foot boundary is simply placed before the primary-stressed (level-1) syllable, 
except for function words, which do not begin a foot. 
the other stress levels should be ignored, 
except that for slow, deliberate speech, secondary (level-2) stress is 
mapped into a foot boundary too, if it precedes the primary stress. 
there is also a rule which reduces vowels in unstressed 
syllables. 
.pp 
the stress assignment rules can work on phonemic script, as well as english. 
for example, starting from the phonetic 
form  [\d\v\u\ \c 
.ul 
aa\ s\ t\ o\ n\ i\ sh\ \c 
]\dv\u, 
the stress assignment rules 
produce  \c 
.ul 
aa\ s\ t\ o\u1\d\ n\ i\ sh\ ;\c 
  the 
vowel reduction rule 
generates  \c 
.ul 
uh\ s\ t\ o\u1\d\ n\ i\ sh\ ;\c 
  and 
the foot conversion process 
gives  \c 
.ul 
uh\ s/t\ o\ n\ i\ sh. 
this appears to provide a fairly reliable algorithm for foot boundary 
placement. 
.rh "speech synthesis from concept." 
i argued earlier that in order to derive prosodic features 
of an utterance from text it 
is necessary to understand its role in the dialogue, its semantics, 
its syntax, and \(em as we have just seen \(em its morphological structure. 
this is a very tall order, and the problem of natural language comprehension 
by machine is a vast research area in its own right. 
however, in many applications requiring speech output, 
utterances are generated by the computer from internally stored data 
rather than being read aloud from pre-prepared text. 
then the problem of comprehending text may be evaded, for 
presumably the language-generation module can provide a semantic, 
syntactic, and even morphological decomposition of the utterance, 
as well as some indication of its role in the dialogue 
(that is, why it is necessary to say it). 
.pp 
this forms the basis of the appealing notion of "speech synthesis from concept". 
it has some advantages over speech generation from text, and in principle 
should provide more natural-sounding speech. 
every word produced by the system can have a complete lexical entry which 
shows its morphological decomposition and potential stress points. 
the full syntactic history of each utterance is known. 
the chomsky-halle rules described above can therefore be used to place 
foot boundaries accurately, without the need for a complex parsing program 
and without the risk of having to make guesses about unknown words. 
.pp 
however, it is not clear how to take advantage of any semantic information 
which is available.  ideally, it should be possible to place tone group 
boundaries and tonic stress points, and assign intonation contours, in 
a natural-sounding way. 
but look again at the example text of table 9.2 and imagine that you have 
at your disposal as much semantic information as is needed. 
it is 
.ul 
still 
far from obvious how the intonation features could be assigned! 
it is, in the ultimate analysis, interpretive and stylistic 
.ul 
choices 
that add variety and interest to speech. 
.pp 
take the problem of determining pitch contours, for instance. 
some of them may be explicable. 
contour 4 on 
.lb 
.ni 
except the parts that are covered in caravans of course 
.le 
is due to its being a contrastive clause, for it presents 
essentially new information. 
similarly, the succession 
.lb 
.ni 
if you go in spring 
.ni 
when the gorse is out 
.ni 
or in summer 
.ni 
when the heather's out 
.le 
could be considered contrastive, being in the subjunctive voice, and 
this could explain why contour 4's were used. 
but this is all conjecture, and it is difficult to apply throughout the 
passage. 
halliday (1970) explains the contexts in which each tone group is typically 
used, but in an extremely high-level manner which would be impossible 
to embody directly in a computer program. 
.[ 
halliday 1970 course in spoken english: intonation 
.] 
at the other end of the spectrum, computer systems for written 
discourse production do not seem to provide the subtle information needed 
to make intonation decisions (see, for example, davey, 1978, for a fairly 
complete description of such a system). 
.[ 
davey 1978 
.] 
.pp 
one project which uses such a method for generating speech has been 
described (young and fallside, 1980). 
.[ 
young fallside 1980 
.] 
although some attention is paid to rhythm, the intonation contours 
which are generated are disappointingly repetitive and lacking in 
richness. 
in fact, very little semantic information is used to assign contours; really 
just that inferred by the crude punctuation-driven method described 
earlier. 
.pp 
the higher-level semantic problems associated with speech output were 
studied some years go under the 
title "synthetic elocution" (vanderslice, 1968). 
.[ 
vanderslice 1968 
.] 
a set of rules was generated and tested by hand on a sample passage, 
the first part of which is shown in table 9.4. 
however, no attempt was made to formalize the rules in a computer program, 
and indeed it was recognized that a number of important questions, 
such as the form of the semantic information assumed at the input, 
had been left unanswered. 
.rf 
.nr x0 \w'\0\0  psychologist   '+\w'emphasis assigned because of antithesis with  ' 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta \w'\0\0  psychologist   'u 
\l'\n(x0u\(ul' 
.sp 
human experience and human behaviour are accessible to 
observation by everyone.  the psychologist tries to bring 
them under systematic study.  what he perceives, however, 
anyone can perceive; for his task he requires no microscope 
or electronic gear. 
.sp2 
\0\0  word	comments 
\l'\n(x0u\(ul' 
.sp 
\01  human	special treatment because paragraph-initial 
\04  human	accent deleted because it echoes word 1 
13  psychologist	emphasis assigned because of antithesis with 
	"everyone" 
17  them	anaphoric to "human experience and human 
	behaviour" 
19  systematic	emphasis assigned because of contrast with 
	"observation" 
20  study	emphasis? \(em text is ambiguous whether 
	"observation" is a kind of study that is 
	nonsystematic, or an activity contrasting 
	with the entire concept of "systematic study" 
21  what	increase in pitch for "what he perceives" 
	because it is not the subject 
22  he	accented although anaphoric to word 13 
	because of antithesis with word 25 
24  however	decrease in pitch because it is parenthetical 
25  anyone	emphasized by antithesis with word 22 
27  perceive	unaccented because it echoes word 23, 
	"perceives" 
\0\0  ;	semicolon assigns falling intonation 
30  task	unaccented because it is anaphoric with 
	"tries to bring them under systematic study" 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 9.4  sample passage and comments pertinent to synthetic elocution" 
.pp 
the comments in the table, which are selected and slightly edited versions 
of those appearing in the original work (vanderslice, 1968), are intended 
as examples of the nature and subtlety of the prosodic influences which 
were examined. 
.[ 
vanderslice 1968 
.] 
the concepts of "accent" and "emphasis" are used; these relate to stress 
but are not easy to define precisely in our tone-group terminology. 
fortunately we do not need an exact characterization of them for the present 
purpose. 
roughly speaking, "accent" encompasses both foot-initial stress and 
tonic stress, whereas "emphasis" is something more than this, 
typically being realized by the fall-rise or rise-fall contours of 
halliday's tone groups 4 and 5 (figure 8.5). 
.pp 
particular attention is paid to anaphora and antithesis (amongst other things). 
the first term means the repetition of a word or phrase in the text, 
and is often applied to pronoun references. 
in the example, the word "human" is repeated in the first few words; 
"them" in the second sentence refers to "human experience and human 
behaviour"; "he" in the third sentence is the previously-mentioned 
psychologist; and "task" is anaphoric with "tries to bring them under 
systematic study". 
other things being equal, anaphoric references are unaccented. 
in our terms this means that they certainly do not receive tonic stress 
and may not even receive foot stress. 
.pp 
antithesis is defined as the contrast of ideas expressed by parallelism of 
strongly contrasting words or phrases; and the second element taking part 
in it is generally emphasized. 
"psychologist" in the passage is an antithesis of "everyone"; 
"systematic" and possibly "study" of "observation". 
thus 
.lb 
.ni 
/^ the psy/*chologist 
.le 
would probably receive intonation contour 4, since it is also introducing 
a new actor; while 
.lb 
.ni 
/tries to /bring them /under /system/*matic /study 
.le 
could receive contour 5. 
"he" and "everyone" are antithetical; not only does the latter receive 
emphasis but the former has its accent restored \(em for otherwise 
it would have been removed because of anaphora with "psychologist". 
hence it will certainly begin a foot, possibly a tonic foot. 
.pp 
a factor that does not affect the sample passage is the accentuation 
of unusual syllables of similar words to bring out a contrast. 
for example, 
.lb 
.ni 
he went 
.ul 
out\c 
side, not 
.ul 
in\c 
side. 
.le 
although this may seem to be just another facet of antithesis, 
vanderslice points out that it is phonetic rather than structural 
similarity that is contrasted: 
.lb 
.ni 
i said 
.ul 
de\c 
plane, not 
.ul 
com\c 
plain. 
.le 
this introduces an interesting interplay between the phonetic and 
prosodic levels. 
.pp 
anaphora and antithesis provide an ideal domain for speech synthesis from 
concept. 
determining them from plain text is a very difficult problem, 
requiring a great deal of real-world knowledge. 
the first has received some attention in the field of natural language 
understanding. 
finding pronoun referents is an important problem for language translation, 
for their gender is frequently distinguished in, say, french where it is not 
in english. 
examples such as 
.lb 
.ni 
i bought the wine, sat on a table, and drank it 
.ni 
i bought the wine, sat on a table, and broke it 
.le 
have been closely studied (wilks, 1975); for if they were to be translated 
into french the pronoun "it" would be rendered differently in each case 
(\c 
.ul 
le 
vin, 
.ul 
la 
table). 
.[ 
wilks 1975 an intelligent analyzer and understander of english 
.] 
.pp 
in spoken language, emphasis is used to indicate the referent of a pronoun 
when it would not otherwise be obvious. 
vanderslice gives the example 
.lb 
.ni 
bill saw john across the room and he ran over to him 
.ni 
bill saw john across the room and 
.ul 
he 
ran over to 
.ul 
him, 
.le 
where the emphasis reverses the pronoun referents 
(so that john did the running). 
he suggests accenting a personal pronoun whenever the true 
antecedent is not the same as the "unmarked" or default one. 
unfortunately he does not elaborate on what is meant by "unmarked". 
does it mean that the referent cannot be predicted from 
knowledge of the words alone \(em as in the second example above? 
if so, this is a clear candidate for speech synthesis from concept, 
for the distinction cannot be made from text!  
.sh "9.2  pronunciation" 
.pp 
english pronunciation is notoriously irregular. 
a poem by charivarius, the pseudonym of a dutch high school teacher 
and linguist g.n.trenite (1870\-1946), surveys the problems in an amusing 
way and is worth quoting in full. 
.br 
.ev2 
.in 0 
.lb "nnnnnnnnnnnnnnnn" 
.ul 
              the chaos 
.sp2 
.ne4 
dearest creature in creation 
studying english pronunciation, 
.in +5n 
i will teach you in my verse 
sounds like corpse, corps, horse and worse. 
.ne4 
.in -5n 
it will keep you, susy, busy, 
make your head with heat grow dizzy; 
.in +5n 
tear in eye your dress you'll tear. 
so shall i!  oh, hear my prayer: 
.ne4 
.in -5n 
pray, console your loving poet, 
make my coat look new, dear, sew it. 
.in +5n 
just compare heart, beard and heard, 
dies and diet, lord and word. 
.ne4 
.in -5n 
sword and sward, retain and britain, 
(mind the latter, how it's written). 
.in +5n 
made has not the sound of bade, 
say \(em said, pay \(em paid, laid, but plaid. 
.ne4 
.in -5n 
now i surely will not plague you 
with such words as vague and ague, 
.in +5n 
but be careful how you speak: 
say break, steak, but bleak and streak, 
.ne4 
.in -5n 
previous, precious; fuchsia, via; 
pipe, shipe, recipe and choir; 
.in +5n 
cloven, oven; how and low; 
script, receipt; shoe, poem, toe. 
.ne4 
.in -5n 
hear me say, devoid of trickery; 
daughter, laughter and terpsichore; 
.in +5n 
typhoid, measles, topsails, aisles; 
exiles, similes, reviles; 
.ne4 
.in -5n 
wholly, holly; signal, signing; 
thames, examining, combining; 
.in +5n 
scholar, vicar and cigar, 
solar, mica, war and far. 
.ne4 
.in -5n 
desire \(em desirable, admirable \(em admire; 
lumber, plumber; bier but brier; 
.in +5n 
chatham, brougham; renown but known, 
knowledge; done, but gone and tone, 
.ne4 
.in -5n 
one, anemone; balmoral, 
kitchen, lichen; laundry, laurel; 
.in +5n 
gertrude, german; wind and mind; 
scene, melpemone, mankind; 
.ne4 
.in -5n 
tortoise, turquoise, chamois-leather, 
reading, reading; heathen, heather. 
.in +5n 
this phonetic labyrinth 
gives:  moss, gross; brook, brooch; ninth, plinth. 
.ne4 
.in -5n 
billet does not end like ballet; 
bouquet, wallet, mallet, chalet; 
.in +5n 
blood and flood are not like food, 
nor is mould like should and would. 
.ne4 
.in -5n 
banquet is not nearly parquet, 
which is said to rime with darky 
.in +5n 
viscous, viscount; load and broad; 
toward, to forward, to reward. 
.ne4 
.in -5n 
and your pronunciation's o.k. 
when you say correctly:  croquet; 
.in +5n 
rounded, wounded; grieve and sieve; 
friend and fiend, alive and live 
.ne4 
.in -5n 
liberty, library; heave and heaven; 
rachel, ache, moustache; eleven. 
we say hallowed, but allowed; 
people, leopard; towed, but vowed. 
.in +5n 
mark the difference moreover 
between mover, plover, dover; 
.ne4 
.in -5n 
leeches, breeches; wise, precise; 
chalice, but police and lice. 
.in +5n 
camel, constable, unstable, 
principle, discipline, label; 
.ne4 
.in -5n 
petal, penal and canal; 
wait, surmise, plait, promise; pal. 
.in +5n 
suit, suite, ruin; circuit, conduit, 
rime with:  "shirk it" and "beyond it"; 
.ne4 
.in -5n 
but it is not hard to tell 
why it's pall, mall, but pall mall. 
.in +5n 
muscle, muscular; goal and iron; 
timber, climber; bullion, lion; 
.ne4 
.in -5n 
worm and storm; chaise, chaos, chair; 
senator, spectator, mayor. 
.in +5n 
ivy, privy; famous, clamour 
and enamour rime with "hammer". 
.ne4 
.in -5n 
pussy, hussy and possess, 
desert, but dessert, address. 
.in +5n 
golf, wolf; countenants; lieutenants 
hoist, in lieu of flags, left pennants. 
.ne4 
.in -5n 
river, rival; tomb, bomb, comb; 
doll and roll, and some and home. 
.in +5n 
stranger does not rime with anger, 
neither does devour with clangour. 
.ne4 
.in -5n 
soul, but foul; and gaunt, but aunt; 
font, front, won't; want, grand and grant; 
.in +5n 
shoes, goes, does.  now first say:  finger, 
and then; singer, ginger, linger. 
.ne4 
.in -5n 
real, zeal; mauve, gauze and gauge; 
marriage, foliage, mirage, age. 
.in +5n 
query does not rime with very, 
nor does fury sound like bury. 
.ne4 
.in -5n 
dost, lost, post; and doth, cloth, loth; 
job, job; blossom, bosom, oath. 
.in +5n 
though the difference seems little 
we say actual, but victual; 
.ne4 
.in -5n 
seat, sweat; chaste, caste; leigh, eight, height; 
put, nut; granite but unite. 
.in +5n 
reefer does not rime with deafer, 
feoffer does, and zephyr, heifer. 
.ne4 
.in -5n 
dull, bull; geoffrey, george; ate, late; 
hint, pint; senate, but sedate. 
.in +5n 
scenic, arabic, pacific; 
science, conscience, scientific. 
.ne4 
.in -5n 
tour, but our, and succour, four; 
gas, alas and arkansas! 
.in +5n 
sea, idea, guinea, area, 
psalm, maria, but malaria. 
.ne4 
.in -5n 
youth, south, southern; cleanse and clean; 
doctrine, turpentine, marine. 
.in +5n 
compare alien with italian. 
dandelion with battalion, 
.ne4 
.in -5n 
sally with ally, yea, ye, 
eye, i, ay, aye, whey, key, quay. 
say aver, but ever, fever, 
neither, leisure, skein, receiver. 
.in +5n 
never guess \(em it is not safe; 
we say calves, valves, half, but ralf. 
.ne4 
.in -5n 
heron, granary, canary; 
crevice and device and eyrie; 
.in +5n 
face, preface, but efface, 
phlegm, phlegmatic; ass, glass, bass; 
.ne4 
.in -5n 
large, but target, gin, give, verging; 
ought, out, joust and scour, but scourging; 
.in +5n 
ear, but earn; and wear and tear 
do not rime with "here", but "ere". 
.ne4 
.in -5n 
seven is right, but so is even; 
hyphen, roughen, nephew, stephen; 
.in +5n 
monkey, donkey; clerk and jerk; 
asp, grasp, wasp; and cork and work. 
.ne4 
.in -5n 
pronunciation \(em think of psyche - 
is a paling, stout and spikey; 
.in +5n 
won't it make you lose your wits, 
writing groats and saying "groats"? 
.ne4 
.in -5n 
it's a dark abyss or tunnel, 
strewn with stones, like rowlock, gunwale, 
.in +5n 
islington and isle of wight, 
housewife, verdict and indict. 
.ne4 
.in -5n 
don't you think so, reader, rather 
saying lather, bather, father? 
.in +5n 
finally:  which rimes with "enough", 
though, through, plough, cough, hough or tough? 
.ne4 
.in -5n 
hiccough has the sound of "cup", 
my advice is ... give it up! 
.le "nnnnnnnnnnnnnnnn" 
.br 
.ev 
.rh "letter-to-sound rules." 
despite such irregularities, it is surprising how much can be done 
with simple letter-to-sound rules. 
these specify phonetic equivalents of word fragments and single letters. 
the longest stored fragment which matches the current word is translated, 
and then the same strategy is adopted on the remainder of the word. 
table 9.5 shows some english fragments and their pronunciations. 
.rf 
.nr x0 1.5i+\w'pronunciation  ' 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta 1.5i 
fragment	pronunciation 
\l'\n(x0u\(ul' 
.sp 
-p-	\fip\fr 
-ph-	\fif\fr 
-phe|	\fif ee\fr 
-phe|s	\fif ee z\fr 
-phot-	\fif uh u t\fr 
-place|-	\fip l e i s\fr 
-plac|i-	\fip l e i s i\fr 
-ple|ment-	\fip l i m e n t\fr 
-plie|-	\fip l aa i y\fr 
-post	\fip uh u s t\fr 
-pp-	\fip\fr 
-pp|ly-	\fip l ee\fr 
-preciou-	\fip r e s uh\fr 
-proce|d-	\fip r uh u s ee d\fr 
-prope|r-	\fip r o p uh r\fr 
-prov-	\fip r uu v\fr 
-purpose-	\fip er p uh s\fr 
-push-	\fip u sh\fr 
-put	\fip u t\fr 
-puts	\fip u t s\fr 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 9.5  word fragments and their pronunciations" 
.pp 
it is sometimes important to specify that a rule applies only when 
the fragment is matched at the beginning or end of a word. 
in the table "-" means that other fragments can precede or follow this 
one. 
the "|" sign is used to separate suffixes from a word stem, 
as will be explained 
shortly. 
.pp 
an advantage of the longest-string search strategy is that it is easy 
to account for exceptions simply by incorporating them into the fragment 
table. 
if they occur in the input, the complete word will automatically be 
matched first, before any fragment of it is translated. 
the exception list of complete words can be surprisingly small for 
quite respectable performance. 
table 9.6 shows the entire dictionary for an excellent early pronunciation 
system written at bell laboratories (mcilroy, 1974). 
.[ 
mcilroy 1974 
.] 
some of the words are notorious exceptions in english, while others are 
included simply because the rules would run amok on them. 
notice that the exceptions are all quite short, with only a few of them 
having more than two syllables. 
.rf 
.nr x1 0.9i+0.9i+0.9i+0.9i+0.9i+0.9i 
.nr x1 (\n(.l-\n(x1)/2 
.in \n(x1u 
.ta 0.9i +0.9i +0.9i +0.9i +0.9i 
a	doesn't	guest	meant	reader	those 
alkali	doing	has	moreover	refer	to 
always	done	have	mr	says	today 
any	dr	having	mrs	seven	tomorrow 
april	early	heard	nature	shall	tuesday 
are	earn	his	none	someone	two 
as	eleven	imply	nothing	something	upon 
because	enable	into	nowhere	than	very 
been	engine	is	nuisance	that	water 
being	etc	island	of	the	wednesday 
below	evening	john	on	their	were 
body	every	july	once	them	who 
both	everyone	live	one	there	whom 
busy	february	lived	only	thereby	whose 
copy	finally	living	over	these	woman 
do	friday	many	people	they	women 
does	gas	maybe	read	this	yes 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 9.6  exception table for a simple pronunciation program" 
.pp 
special action has to be taken with final "e"'s. 
these lengthen and alter the quality 
of the preceding vowel, so that "bit" becomes "bite" and so on. 
unfortunately, if the word has a suffix the "e" must be detected even though 
it is no longer final, as in "lonely", and it is even dropped sometimes 
("biting") \(em otherwise these would be pronounced "lonelly", "bitting". 
to make matters worse the suffix may be another word:  we do not 
want "kiteflying" to have an extra syllable which rhymes with "deaf"! 
although simple procedures can be developed to take care of common 
word endings like "-ly", "-ness", "-d", it is difficult to decompose 
compound words like "wisecrack" and "bumblebee" reliably \(em but this must 
be done if they are not to be articulated with three syllables instead of two. 
of course, there are exceptions to the final "e" rule. 
many common words ("some", "done", "[live]\dv\u") disobey the rule by not 
lengthening the main vowel, while in other, rarer, ones ("anemone", 
"catastrophe", "epitome") the final "e" is actually pronounced. 
there are also some complete anomalies ("fete"). 
.pp 
mcilroy's (1974) system is a superb example of a robust program which takes 
a pragmatic approach to these problems, accepting that they will never be 
fully solved, and which is careful to degrade 
gracefully when stumped. 
.[ 
mcilroy 1974 
.] 
the pronunciation of each word is found by a succession of increasingly 
desperate trials: 
.lb 
.np 
replace upper- by lower-case letters, strip punctuation, and try again; 
.np 
remove final "-s", replace final "ie" by "y", and try again; 
.np 
reject a word without a vowel; 
.np 
repeatedly mark any suffixes with "|"; 
.np 
mark with "|" probable morph divisions in compound words; 
.np 
mark potential long vowels indicated by "e|", 
and long vowels elsewhere in the word; 
.np 
mark voiced medial "s" as in "busy", "usual"; 
replace final "-s" if stripped; 
.np 
scanning the word from left to right, apply letter-to-sound rules 
to word fragments; 
.np 
when all else fails spell the word, punctuation and all 
(burp on letters for which no spelling rule exists). 
.le 
.rf 
.nr x0 \w'| ment\0\0\0'+\w'replace final ie by y\0\0\0'+\w'except when no vowel would remain in  ' 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta \w'| ment\0\0\0'u +\w'replace final ie by y\0\0\0'u 
suffix	action	notes and exceptions 
\l'\n(x0u\(ul' 
.sp 
s	strip off final s	except in context us 
\&'	strip off final ' 
ie	replace final ie by y 
e	replace final e by e	when it is the only vowel in a word 
	(long "e") 
 
| able	place suffix mark as	except when no vowel would remain in 
| ably	shown	the rest of the word 
e | d 
e | n 
e | r 
e | ry 
e | st 
e | y 
| ful 
| ing 
| less 
| ly 
| ment 
| ness 
| or 
 
| ic	place suffix mark as 
| ical	shown and terminate 
e |	final e processing 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 9.7  rules for detecting suffixes for final 'e' processing" 
.pp 
table 9.7 shows the suffixes which the program recognizes, with some comments 
on their processing. 
multiple suffixes are detected and marked in words like 
"force|ful|ly" and "spite|ful|ness". 
this allows silent "e"'s to be spotted even when they occur far back in a 
word. 
notice that the suffix marks are available to the word-fragment 
rules of table 9.5, and are frequently used by them. 
.pp 
the program has some 
.ul 
ad hoc 
rules for dealing with compound words like "race|track", "house|boat"; 
these are applied as well as normal suffix splitting so that multiple 
decompositions like "pace|make|r" can be accomplished. 
the rules look for short letter sequences which do not 
usually appear in monomorphemic words. 
it is impossible, however, to detect every morph boundary 
by such rules, and the program inevitably makes mistakes. 
examples of boundaries which go undetected are 
"edge|ways", "fence|post", "horse|back", "large|mouth", "where|in"; 
while boundaries are incorrectly inserted into "comple|mentary", 
"male|volent", "prole|tariat", "pame|la". 
.pp 
we now seem to have presented two opposing points of view on the pronunciation 
problem. 
charivarius, the dutch poet, shows that an enormous number of 
exceptional words exist; whereas mcilroy's program makes do with a tiny 
exception dictionary. 
these views can be reconciled by noting that most of charivarius' words 
are relatively uncommon. 
mcilroy tested his program against the 2000 most frequent words in a large 
corpus (kucera and francis, 1967), 
and found that 97% were pronounced correctly if word frequencies were 
taken into account. 
.[ 
kucera francis 1967 
.] 
(the notion of "correctness" is of course a rather subjective one.)  however, 
he estimated that on the remaining words the success rate was only 88%. 
.pp 
the system is particularly impressive in that it is prepared to say 
anything:  if used, for example, on source programs in a high-level 
computer language it will say the keywords and pronouncable 
identifiers, spell the other identifiers, and even give the names of special 
symbols (like +, <, =) correctly! 
.rh "morphological analysis." 
the use of letter-to-sound rules provides a cheap and fast technique 
for pronunciation \(em the fragment table and exception dictionary for the 
program described above occupy only 11 kbyte of storage, and can easily 
be kept in solid-state read-only memory. 
it produces reasonable results if careful attention is paid to rules 
for suffix-splitting. 
however, it is inherently limited because it is not possible in general 
to detect compound words by simple rules which operate on the lexical 
structure of the word. 
.pp 
compounds can only be found reliably by using a morph dictionary. 
this gives the added advantage that syntactic information 
can be stored with the morphs to assist with rhythm assignment according 
to the chomsky-halle theory. 
however, it was noted earlier that morphs, unlike the grammatically-determined 
morphemes, are not very well defined from a linguistic point of view. 
some morphemic decompositions are obviously not morphic because the 
constituents do not in any way resemble the final word; 
while others, where the word is simply a concatenation 
of its components, are clearly morphic. 
between these extremes lies a hazy region where what one considers 
to be a morph depends upon how complex one is prepared to make the 
concatenation rules. 
the following description draws on techniques used in a project at mit 
in which a morph-based pronunciation system has been implemented 
(lee, 1969; allen, 1976). 
.[ 
lee 1969 
.] 
.[ 
allen 1976 synthesis of speech from unrestricted text 
.] 
.pp 
estimates of the number of morphs in english vary from 10,000 to 30,000. 
although these seem to be very large numbers, they are considerably less 
than the number of words in the language. 
for example, webster's 
.ul 
new collegiate dictionary 
(7'th edition) contains about 100,000 entries. 
if all forms of the words were included, this number would probably 
double. 
.pp 
there are several classes of morphs, with restrictions on the combinations 
that occur. 
a general word has prefixes, a root, and suffixes, as shown in figure 9.3; 
only the root is mandatory. 
.fc "figure 9.3" 
suffixes usually perform a grammatical role, affecting the 
conjugation of a verb or declension of a noun; or transforming one 
part of speech into another 
("-al" can make a noun into an adjective, while "-ness" performs the reverse 
transformation.)  other 
suffixes, such as "-dom" or "-ship", only apply to certain parts of 
speech (nouns, in this case), but do not change the grammatical 
role of the word.  such suffixes, and all prefixes, alter the meaning 
of a word. 
.pp 
some root morphs cannot combine with other morphs but always stand 
alone \(em for instance, "this". 
others, called free morphs, can either occur on their own or combine 
with further morphs to form a word. 
thus the root "house" can be joined on either side by another root, 
such as "boat", 
or by a suffix such as "ing". 
a third type of root morph is one which 
.ul 
must 
combine with another morph, like "crimin-", "-ceive". 
.pp 
even with a morph dictionary, decomposing a word into a sequence 
of morphs is not a trivial operation. 
the process of lexical concatenation often results in a 
minor change in the constituents. 
how big this change is allowed to be governs the morph system being used. 
for example, allen (1976) gives three concatenation rules:  a 
final "e" can be omitted, as in 
.ta 1.1i 
.lb 
.ni 
give + ing	\(em>  giving; 
.le 
the last consonant of the root can be doubled, as in 
.lb 
.ni 
bid + ing	\(em>  bidding; 
.le 
or a final "y" can change to an "i", as in 
.lb 
.ni 
handy + cap	\(em>  handicap. 
.[ 
allen 1976 synthesis of speech from unrestricted text 
.] 
.le 
if these are the only rules permitted, the morph dictionary will 
have to include multiple versions of some suffixes. 
for example, the plural morpheme [-s] needs to be represented both by 
"-s" and "-es", to account for 
.lb 
.ni 
pea + s	\(em>  peas 
.le 
and 
.lb 
.ni 
baby + es	\(em>  babies  (using the "y" \(em> "i" rule). 
.le 
this would not be necessary if a  "y" \(em> "ie"  rule were included too. 
similarly, the morpheme [-ic] will include morphs 
"-ic" and "-c"; the latter to cope with 
.lb 
.ni 
specify + c	\(em>  specific    (using the "y" \(em> "i" rule). 
.le 
furthermore, non-morphemic roots such as "galact" need to be included because 
the concatenation rules do not capture the transformation 
.lb 
.ni 
galaxy + ic	\(em>  galactic. 
.le 
there is clearly a trade-off between the size of the morph dictionary 
and the complexity of the concatenation rules. 
.pp 
since a text-to-speech system is presented with already-concatenated 
morphs, it must be prepared to reverse the effects of the concatenation 
rules to deduce the constituents of a word. 
when two morphs combine with any of the three rules given above, 
the changes in spelling occur only in the lefthand one. 
therefore the word is best scanned in a right-to-left direction to 
split off the morphs starting with suffixes, as mcilroy's program does. 
if the procedure fails at any point, one of the three rules is 
hypothesized, its effect is undone, and splitting continues. 
for example, consider the word 
.lb 
.ni 
grasshoppers	<\(em  grass + hop + er + s 
.le 
(lee, 1969). 
.[ 
lee 1969 
.] 
the "-s" is detected first, then "-er"; these are both stored in 
the dictionary as suffixes. 
the remainder, "grasshopp", cannot be decomposed and does not appear 
in the dictionary. 
so each of the rules above is hypothesized in turn, and the 
result investigated.  (the "y" \(em> "i" rule is obviously not 
applicable.)  when 
the final-consonant-doubling rule is considered, the sequence 
"grasshop" is investigated. 
"shop" could be split off this, but then the unknown morph "gras" 
would result. 
the alternative, to remove "hop", leaves a remainder "grass" which 
.ul 
is 
a free morph, as desired. 
thus a unique and correct decomposition is obtained. 
notice that the procedure would fail if, for example, "grass" had 
been inadvertently omitted from the dictionary. 
.pp 
sometimes, several seemingly valid decompositions present themselves 
(allen, 1976). 
.[ 
allen 1976 synthesis of speech from unrestricted text 
.] 
for example: 
.lb 
.ni 
scarcity	<\(em  scar + city 
.ni 
	<\(em  scarce + ity  (using final-"e" deletion) 
.ni 
	<\(em  scar + cite + y  (using final-"e" deletion) 
.ni 
resting	<\(em  rest + ing 
.ni 
	<\(em  re + sting 
.ni 
biding	<\(em  bide + ing  (using final-"e" deletion) 
.ni 
	<\(em  bid + ing 
.ni 
unionized	<\(em  un + ion + ize + d 
.ni 
	<\(em  union + ize + d 
.ni 
winding	<\(em  [wind]\dn\u + ing 
.ni 
	<\(em  [wind]\dv\u + ing. 
.le 
the last distinction is important because the pronunciation of "wind" 
depends on whether it is a noun or a verb. 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.pp 
several sources of information can be used to resolve these ambiguities. 
the word structure of figure 9.3, together with the division of root 
morphs into bound and free ones, may eliminate some possibilities. 
certain letter sequences (such as "rp") do not appear at the beginning 
of a word or morph, and others never occur at the end. 
knowledge of these sequences can reject some unacceptable 
decompositions \(em or perhaps more importantly, can enable intelligent guesses 
to be made in cases where a constituent morph has been omitted from the 
dictionary. 
the grammatical function of suffixes allows suffix sequences to be 
checked for compatibility. 
the syntax of the sentence, together with suffix knowledge, can 
rule out other combinations. 
semantic knowledge will occasionally be necessary (as in the "unionized" 
and "winding" examples above \(em compare a "winding road" with a "winding 
blow"). 
finally, allen (1976) suggests that a preference structure on composition 
rules can be used to resolve ambiguity. 
.[ 
allen 1976 synthesis of speech from unrestricted text 
.] 
.pp 
once the morphological structure has been determined, 
the rest of the pronunciation 
process is relatively easy. 
a phonetic transcription of each morph may be stored in the morph dictionary, 
or else letter-to-sound rules can be used on individual morphs. 
these are likely to be quite successful because final-"e" processing can be 
now be done with confidence:  there are no hidden final "e"'s in the middle 
of morphs. 
in either case the resulting phonetic transcriptions of the individual morphs 
must be concatenated to give the transcription of the complete word. 
although some contextual modification has to be accounted for, 
it is relatively straightforward and easy to predict. 
for example, the plural morphs "-s" and "-es" can be realized phonetically 
by 
.ul 
uh\ z, 
.ul 
s, 
or 
.ul 
z 
depending on context. 
similarly the past-tense suffix "-ed" may be rendered as 
.ul 
uh\ d, 
.ul 
t, 
or 
.ul 
d. 
the suffixes "-ion" and "-ure" sometimes cause modification of the previous 
morph:  for example 
.lb 
.ni 
act + ion  \(em>  \c 
.ul 
a k t\c 
  + ion  \(em>  \c 
.ul 
a k sh uh n. 
.le 
.pp 
the morph dictionary does not remove the need for a lexicon of exceptional 
words. 
the irregular final-"e" words mentioned earlier ("done", "anemone", "fete") 
need to be treated on an individual basis, 
as do words such as "quadruped" which have misleading endings 
(it should not be decomposed as "quadrup|ed"). 
.rh "pronunciation of languages other than english." 
text-to-speech systems for other languages have been reported in 
the literature. 
(for example, french, esperanto, 
italian, russian, spanish, and german are covered 
by lesmo 
.ul 
et al, 
1978; o'shaughnessy 
.ul 
et al, 
1981; sherwood, 1978; 
mangold and stall, 1978). 
.[ 
lesmo 1978 
.] 
.[ 
o'shaughnessy lennig mermelstein divay 1981 
.] 
.[ 
sherwood 1978 
.] 
.[ 
mangold stall 1978 
.] 
generally speaking, these present fewer difficulties than does english. 
esperanto is particularly easy because each letter in its orthography 
has only one sound, making the pronunciation problem trivial. 
moreover, stress in polysyllabic words always occurs on the penultimate 
syllable. 
.pp 
it is tempting and often sensible when designing a synthesis system for 
english to use an utterance representation somewhere between phonetics and 
ordinary spelling. 
this may happen in practice even if it is not intended:  a user, finding 
that a given word is pronounced incorrectly, will alter the spelling to 
make it work. 
the word english spelling alphabet (dewey, 1971), amongst others (haas, 1966), 
is a simplified and apparently natural scheme which was developed by the 
spelling reform movement. 
.[ 
dewey 1971 
.] 
.[ 
haas 1966 
.] 
it maps very simply on to a phonetic representation, just like esperanto. 
however, it can provide little help with the crucial problem of stress 
assignment, except perhaps by explicitly indicating reduced vowels. 
.sh "9.3  discussion" 
.pp 
this chapter has really only touched the tip of a linguistic iceberg. 
i have given some examples of representations, rules, algorithms, 
and exceptions, to make the concepts more tangible; but a whole mass of 
detail has been swept under the carpet. 
.pp 
there are two important messages that are worth reiterating once more. 
the first is that the representation of the input \(em that is, 
whether it be a "concept" 
in some semantic domain, a syntactic description of an utterance, a 
decomposition into morphs, plain text or some contrived re-spelling of it \(em 
is crucial to the quality of the output. 
almost any extra information about the utterance can be taken into account 
and used to improve the speech. 
it is difficult to derive such information if it is not provided explicitly, 
for the process of climbing the tree from text to semantic representation is 
at least as hard as descending it to a phonetic transcription. 
.pp 
secondly, simple algorithms perform remarkably well \(em witness the 
punctuation-driven intonation assignment scheme, and word fragment rules 
for pronunciation. 
however, the combined degradation contributed by several imperfect 
processes is likely to impair speech quality very seriously. 
and great complexity is introduced when these simple algorithms are 
discarded in favour of more sophisticated ones. 
there is, for example, a world of difference between a pronunciation 
program that copes with 97% of common words and one that deals correctly 
with 99% of a random sample from a dictionary. 
.pp 
some of the options that face the system designer are recapitulated in 
figure 9.4. 
.fc "figure 9.4" 
starting from text, one can take the simple approach of lexically-based 
suffix-splitting, letter-to-sound rules, and prosodics derived 
from punctuation, to generate a phonetic transcription. 
this will provide a cheap system which is relatively easy to implement 
but whose speech quality will probably not be acceptable to any but the 
most dedicated listener 
(such as a blind person with no other access to reading material). 
.pp 
the biggest improvement in speech quality from such a system would 
almost certainly come from more intelligent prosodic 
control \(em particularly of intonation. 
this, unfortunately, is also by far the most difficult to make unless 
intonation contours, tonic stresses, and tone-group boundaries are hand-coded 
into the input. 
to generate the appropriate information from text one has to climb to the 
upper levels in figure 9.4 \(em and even when these are reached, the problems 
are by no means over. 
still, let us climb the tree. 
.pp 
for syntax analysis, part-of-speech information is needed; and for this 
the grammatical roles of individual words in the text must be ascertained. 
a morph dictionary is the most reliable way to do this. 
a linguist may prefer to go from morphs to syntax by way of morphemes; 
but this is not necessary for the present purpose. 
just the information that 
the morph "went" is a verb can be stored in the dictionary, instead 
of its decomposition  [went]\ =\ [go]\ +\ [ed]. 
.pp 
now that we have the morphological structure of the text, stress assignment rules 
can be applied to produce more accurate speech rhythms. 
the morph decomposition will also allow improvements to be made to the 
pronunciation, particularly in the case of silent "e"'s in compound words. 
but the ability to assign intonation has hardly been improved at all. 
.pp 
let us proceed upwards. 
now the problems become really difficult. 
a semantic representation of the text is needed; but what exactly does this 
mean? 
we certainly must have 
.ul 
morphemic 
knowledge, for now the fact that "went" is a derivative of "go" 
(rather than any other verb) becomes crucial. 
very well, let us augment the morph dictionary with morphemic information. 
but this does not attack the problem of semantic representation. 
we may wish to resolve pronoun references to help assign stress. 
parts of the problem are solved in principle 
and reported in the artificial intelligence 
literature, but if such an ability is incorporated into the speech 
synthesis system it will become enormously complicated. 
in addition, we have seen that knowledge of antitheses in the text will greatly 
assist intonation assignment, but procedures for extracting this 
information constitute a research topic in their own right. 
.pp 
now step back and take a top-down approach. 
what could we do with this semantic understanding and knowledge of the structure 
of the discourse if we had it? 
suppose the input were a "concept" in some as yet undetermined representation. 
what are the 
.ul 
acoustic 
manifestations of such high-level features as anaphoric references or 
antithetical comparisons, 
of parenthetical or satirical remarks, 
of emotions:  warmth, sarcasm, sadness and despair? 
can we program the art of elocution? 
these are good questions.  
.sh "9.4  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.sh "9.5  further reading" 
.pp 
books on pronunciation give surprisingly little help in designing 
a text-to-speech procedure. 
the best aid is a good on-line dictionary and flexible software to 
search it and record rules, examples, and exceptions. 
here are some papers that describe existing systems. 
.lb "nn" 
.\"ainsworth-1974-1 
.]- 
.ds [a ainsworth, w.a. 
.ds [d 1974 
.ds [t a system for converting text into speech 
.ds [j ieee trans audio and electroacoustics 
.ds [v au-21 
.ds [p 288-290 
.nr [p 1 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
.in-2n 
.\"colby-1978-2 
.]- 
.ds [a colby, k.m. 
.as [a ", christinaz, d. 
.as [a ", and graham, s. 
.ds [d 1978 
.ds [k * 
.ds [t a computer-driven, personal, portable, and intelligent speech prosthesis 
.ds [j computers and biomedical research 
.ds [v 11 
.ds [p 337-343 
.nr [p 1 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
.in-2n 
.\"elovitz-1976-3 
.]- 
.ds [a elovitz, h.s. 
.as [a ", johnson, r.w. 
.as [a ", mchugh, a. 
.as [a ", and shore, j.e. 
.ds [d 1976 
.ds [k * 
.ds [t letter-to-sound rules for automatic translation of english text to phonetics 
.ds [j ieee trans acoustics, speech and signal processing 
.ds [v assp-24 
.ds [n 6 
.ds [p 446-459 
.nr [p 1 
.ds [o december 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
.in-2n 
.\"kooi-1978-4 
.]- 
.ds [a kooi, r. 
.as [a " and lim, w.c. 
.ds [d 1978 
.ds [t an on-line minicomputer-based system for reading printed text aloud 
.ds [j ieee trans systems, man and cybernetics 
.ds [v smc-8 
.ds [p 57-62 
.nr [p 1 
.ds [o january 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
.in-2n 
.\"umeda-1975-5 
.]- 
.ds [a umeda, n. 
.as [a " and teranishi, r. 
.ds [d 1975 
.ds [k * 
.ds [t the parsing program for automatic text-to-speech synthesis developed at the electrotechnical laboratory in 1968 
.ds [j ieee trans acoustics, speech and signal processing 
.ds [v assp-23 
.ds [n 2 
.ds [p 183-188 
.nr [p 1 
.ds [o april 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
.in-2n 
.\"umeda-1976-6 
.]- 
.ds [a umeda, n. 
.ds [d 1976 
.ds [k * 
.ds [t linguistic rules for text-to-speech synthesis 
.ds [j proc ieee 
.ds [v 64 
.ds [n 4 
.ds [p 443-451 
.nr [p 1 
.ds [o april 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 1 journal-article 
.in+2n 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "10  designing the man-computer dialogue" 
.ds rt "the man-computer dialogue 
.ds cx "principles of computer speech 
.pp 
interactive computers are being used more and more by non-specialist people 
without much previous computer experience. 
as processing costs continue to decline, the overall expense of providing 
highly interactive systems 
becomes increasingly dominated by terminal and communications equipment. 
taken together, these two factors highlight the need for easy-to-use, 
low-bandwidth interactive terminals that make maximum use of the existing 
telephone network for remote access. 
.pp 
speech output can provide versatile feedback from a computer at very low 
cost in distribution and terminal equipment.  it is attractive from several 
points of view. 
terminals \(em telephones \(em are invariably in place already. 
people without experience of computers are accustomed to their use, 
and are not intimidated by them. 
the telephone network is cheap to use and extends all over the world. 
the touch-tone keypad (or a portable tone generator) 
provides a complementary data input device which will do for many 
purposes until the technology of speech recognition becomes better developed 
and more widespread. 
indeed, many applications \(em especially information retrieval ones \(em need 
a much smaller bandwidth from user to computer than in the reverse direction, 
and voice output combined with restricted keypad entry provides a good match 
to their requirements. 
.pp 
there are, however, severe problems in implementing natural and useful 
interactive systems using speech output. 
the eye can absorb information at a far greater rate than can the ear. 
you can scan a page of text in a way which has no analogy in auditory terms. 
even so, it is difficult to design a dialogue which allows you to search 
computer output visually at high speed. 
in practice, scanning a new report is often better done at your desk 
with a printed copy than at a computer terminal with a viewing program 
(although this is likely to change in the near future). 
.pp 
with speech, the problem of organizing output becomes even harder. 
most of the information we learn using our ears is presented in a 
conversational way, either in face-to-face discussions or over the telephone. 
verbal but non-conversational presentations, as in the 
university lecture theatre, are known to be a rather inefficient way 
of transmitting information. 
the degree of interaction is extremely high even in a telephone conversation, 
and communication relies heavily on speech gestures such as hesitations, 
grunts, and pauses; on prosodic features such as intonation, pitch range, 
tempo, and voice quality; and on conversational gambits such as interruption 
and long silence. 
i emphasized in the last two chapters the rudimentary state of knowledge 
about how to synthesize 
prosodic features, and the situation is even worse 
for the other, paralinguistic, phenomena. 
.pp 
there is also a very special problem with voice output, namely, the transient 
nature of the speech signal. 
if you miss an utterance, it's gone. 
with a visual display unit, at least the last few interactions usually remain 
available. 
even then, it is not uncommon to look up beyond the top of the screen and 
wish that more of the history was still visible! 
this obviously places a premium on a voice response system's 
ability to repeat utterances. 
moreover, the dialogue designer must do his utmost to ensure that the user 
is always aware of the current state of the interaction, 
for there is no opportunity to refresh the memory by glancing at earlier 
entries and responses. 
.pp 
there are two separate aspects to the man-computer interface in a voice 
response system. 
the first is the relationship between the system and the end user, 
that is, the "consumer" of the synthesized dialogue. 
the second is the relationship between the system and the applications 
programmer who creates the dialogue. 
these are treated separately in the next two sections. 
we will have more to say about the former aspect, 
for it is ultimately more important to more people. 
but the applications programmer's view is important, too; for without him 
no systems would exist! 
the technical difficulties in creating synthetic dialogues 
for the majority of voice systems probably 
explain why speech output technology is still greatly under-used. 
finally we look at techniques for using small keypads such as those on 
touch-tone telephones, 
for they are an essential part of many voice response systems. 
.sh "10.1  programming principles for natural interaction" 
.pp 
special attention must be paid to be details of the man-machine interface 
in speech-output systems. 
this section summarizes experience of human factors considerations 
gained in developing the remote 
telephone enquiry service described in chapter 1 (witten and madams, 1977), 
which employs an ordinary touch-tone keypad for input in conjunction with 
synthetic voice response. 
.[ 
witten madams 1977 telephone enquiry service 
.] 
most of the principles which emerged were the result of natural evolution 
of the system, and were not clear at the outset. 
basically, they stem from the fact that speech is both more intrusive 
and more ephemeral than writing, and so they are applicable in general to 
speech output information retrieval systems with keyboard or even voice 
input. 
be warned, however, that they are based upon casual observation and 
speculation rather than empirical research. 
there is a desperate need for proper studies of user psychology in speech 
systems. 
.rh "echoing." 
most alphanumeric input peripherals echo on a character-by-character basis. 
although one can expect quite a high proportion of mistakes with 
unconventional keyboards, especially when entering alphabetic data on a 
basically numeric keypad, audio character echoing is distracting and annoying. 
if you type "123" and the computer echoes 
.lb 
.ni 
"one ... two ... three" 
.le 
after the individual key-presses, it is liable to divert your 
attention, for voice output is much more intrusive than a purely visual "echo". 
.pp 
instead, an immediate response to a completed input line is preferable. 
this response can take the form or a reply to a query, or, if successive 
data items are being typed, confirmation of the data entered. 
in the latter case, it is helpful if the information can be generated in 
the same way that the user himself would be likely to verbalize it. 
thus, for example, when entering numbers: 
.lb 
.nr x0 \w'computer:' 
.nr x1 \w'user:' 
.ni 
user:\h'\n(x0u-\n(x1u' "123#"	(# is the end-of-line character) 
.ni 
computer: "one hundred and twenty-three." 
.le 
for a query which requires lengthy processing, the input should be 
repeated in a neat, meaningful format to give the user a chance to abort 
the request. 
.rh "retracting actions." 
because commands are entered directly without explicit confirmation, 
it must always be easy for the user to revoke his actions. 
the utility of an "undo" command is now commonly recognized for 
any interactive system, and it becomes even more important in speech 
systems because it is easier for the user to lose his place in the 
dialogue and so make errors. 
.rh "interrupting." 
a command which interrupts output and returns to a known state 
should be recognized at every level of the system. 
it is essential that voice output be terminated immediately, 
rather than at the end of the utterance. 
we do not want the user to live in fear of the system embarking on 
a long, boring monologue that is impossible to interrupt! 
again, the same is true of interactive dialogues which do not use speech, 
but becomes particularly important with voice response because it takes 
longer to transmit information. 
.rh "forestalling prompts." 
computer-generated prompts must be explicit and frequent enough 
to allow new users to understand what they are expected to do. 
experienced users will "type ahead" quite naturally, 
and the system should suppress unnecessary prompts under these conditions 
by inspecting the input buffer before prompting. 
this allows the user to concatenate frequently-used commands into chunks whose 
size is entirely at his own discretion. 
.pp 
with the above-mentioned telephone enquiry service, for example, 
it was found that people often took advantage of the prompt-suppression 
feature to enter their 
user number, password, and required service number as a single keying 
sequence. 
as you becomes familiar with a service you quickly and easily learn to 
forestall expected prompts by typing ahead. 
this provides a very natural way for the system to adapt itself automatically 
to the experience of the user. 
new users will naturally wait to be prompted, and proceed through the dialogue 
at a slower and more relaxed pace. 
.pp 
suppressing unnecessary prompts is a good idea in any interactive system, 
whether or not it uses the medium of speech \(em although it is hardly ever done 
in conventional systems. 
it is particularly important with speech, however, because an unexpected 
or unwanted 
prompt is quite distracting, and it is not so easy to ignore it as it is 
with a visual display. 
furthermore, speech messages usually take longer to present 
than displayed ones, so that the user is distracted for more time. 
.rh "information units." 
lengthy computer voice responses are inappropriate for conveying information, 
because attention wanders if one is not actively involved in the conversation. 
a sequential exchange of terse messages, each designed to dispense one 
small unit of information, forces the user to take a meaningful part in the 
dialogue. 
it has other advantages, too, allowing a higher degree of input-dependent 
branching, and permitting rapid recovery from errors. 
.pp 
the following example from the "acidosis program", an audio response system 
designed to help physicians to diagnose acidosis, is a good example 
of what 
.ul 
not 
to do. 
.lb 
"(chime) a value of six-point-zero-zero has been entered for ph. 
this value is impossible. 
to continue the program, enter a new value for ph in the range 
between six-point-six and eight-point-zero 
(beep dah beep-beep)"  (smith and goodwin, 1970). 
.[ 
smith goodwin 1970 
.] 
.le 
the use of extraneous noises (for example, a "chime" heralds an error message, 
and a "beep dah beep-beep" requests data input in the form 
<digit><point><digit><digit>) 
was thought necessary in the acidosis program to keep the user awake 
and help him with the format of the interaction. 
rather than a long monologue like this, 
it seems much better to design a sequential interchange of terse messages, 
so that the caller can be guided into a state where he can rectify his error. 
for example, 
.lb 
.nf 
.ne11 
.nr x0 \w'computer:' 
.nr x1 \w'caller:' 
caller:\h'\n(x0u-\n(x1u' "6*00#" 
computer: "entry out of range" 
caller:\h'\n(x0u-\n(x1u' "6*00#"  (persists) 
computer: "the minimum acceptable ph value is 6.6" 
caller:\h'\n(x0u-\n(x1u' "9*03#" 
computer: "the maximum acceptable ph value is 8.0" 
.fi 
.le 
this dialogue allows a rapid exit from the error situation in the likely 
event that the entry has simply been mis-typed. 
if the error persists, the caller is given just one piece of information 
at a time, and forced to continue to play an active role in the interaction. 
.rh "input timeouts." 
in general, input timeouts are dangerous, because they introduce apparent 
acausality in the system seen by the user. 
a case has been reported where a user became "highly agitated and refused 
to go near the terminal again after her first timed-out prompt. 
she had been quietly thinking what to do and the terminal suddenly 
interjecting and making its 
own suggestions was just too much for her" (gaines and facey, 1975). 
.[ 
gaines facey 1975 
.] 
.pp 
however, voice response systems lack the satisfying visual feedback 
of end-of-line on termination of an entry. 
hence a timed-out reminder is appropriate if a delay occurs after some 
characters have been entered. 
this requires the operating system to support a character-by-character mode 
of input, rather than the usual line-by-line mode. 
.rh "repeat requests." 
any voice response system must support a universal "repeat last utterance" 
command, because old output does not remain visible. 
a fairly sophisticated facility is desirable, as repeat requests are 
very frequent in practice. 
they may be due to a simple inability to understand a response, 
to forgetting what was said, or to distraction of attention \(em which is 
especially common with office terminals. 
.pp 
in the telephone enquiry service two distinct commands were employed, 
one to repeat the last utterance in case of misrecognition, 
and the other to summarize the current state of the interaction 
in case of distraction. 
for the former, it is essential to avoid simply regenerating an utterance 
identical with the last. 
some variation of intonation and rhythm is needed to prevent an annoying, 
stereotyped response. 
a second consecutive repeat request should trigger a paraphrased reply. 
an error recovery sequence could be used which presented the misunderstood 
information in a different way with more interaction, but experience 
indicates that this is of minor importance, especially if information units 
are kept small anyway. 
to summarize the current state of the interaction in response to the second 
type of repeat command necessitates the system maintaining a model of 
the user. 
even a poor model, like a record of his last few transactions and their 
results, is well worth having. 
.rh "varied speech." 
synthetic speech is usually rather dreary to listen to. 
successive utterances with identical intonations should be carefully avoided. 
small changes in speaking rate, pitch range, and mean pitch level, 
all serve to add variety. 
unfortunately, little is known at present about the role of intonation in 
interactive dialogue, although this is an active research area and 
new developments can be expected (for a detailed report of a recent 
research project relevant to this topic see brown 
.ul 
et al, 
1980). 
.[ 
brown currie kenworthy 1980 
.] 
however, even random variations in certain parameters of the pitch contour 
are useful to relieve the tedium of repetitive intonation patterns. 
.sh "10.2  the applications programming environment" 
.pp 
the comments in the last section are aimed at the applications programmer 
who is designing the dialogue and constructing the interactive system. 
but what kind of environment should 
.ul 
he 
be given to assist with this work? 
.pp 
the best help the applications programmer can have is a speech generation 
method which makes it easy for him to enter new utterances and modify 
them on-line in cut-and-try attempts to render the man-machine dialogue 
as natural as possible. 
this is perhaps the most important advantage of synthesizing speech by rule 
from a textual representation. 
if encoded versions of natural utterances are stored, it becomes quite 
difficult to make minor modifications to the dialogue in the light of 
experience with it, for a recording session must be set up 
to acquire new utterances. 
this is especially true if more than one voice is used, or if the 
voice belongs to a person who cannot be recalled quickly by the programmer 
to augment the utterance library. 
even if it is his own voice there will still be delays, for recording 
speech is a real-time job which usually needs a stand-alone processor, 
and if data compression is used a substantial amount of computation will 
be needed before the utterance is in a useable form. 
.pp 
the broad phonetic input required by segmental speech synthesis-by-rule 
systems is quite suitable for utterance representation. 
utterances can be entered quickly from a standard computer terminal, 
and edited as text files. 
programmers must acquire skill in phonetic transcription, 
but this is a small inconvenience. 
the art is easily learned in an interactive situation where the effect 
of modifications to the transcription can be heard immediately. 
if allophones must be represented explicitly in the input then the 
programmer's task becomes considerably more complicated because of the 
combinatorial explosion in trial-and-error modifications. 
.pp 
plain text input is also quite suitable. 
a significant rate of error is tolerable if immediate audio feedback 
of the result is available, so that the operator can adjust his text 
to suit the pronunciation idiosyncrasies of the program. 
but it is acceptable, and indeed preferable, if prosodic features are 
represented explicitly in the input rather than being assigned automatically 
by a computer program. 
.pp 
the application of voice response to interactive computer dialogue is 
quite different to the problem of reading aloud from text. 
we have seen that a major concern with reading machines is how to glean 
information about intonation, rhythm, emphasis, tone of voice, and so on, 
from an input of ordinary english text. 
the significant problems of semantic processing, utilization of pragmatic 
knowledge, and syntactic analysis do not, fortunately, arise in interactive 
information retrieval systems. 
in these, the end user is communicating with a program which has been 
created by a person who knows what he wants it to say. 
thus the major difficulty is in 
.ul 
describing 
the prosodic features rather than 
.ul 
deriving 
them from text. 
.pp 
speech synthesis by rule is a subsidiary process to the main interactive 
procedure. 
it would be unwise to allow 
the updating of resonance parameter tracks to be interrupted by 
other calls on the system, and so the synthesis process needs to be executed 
in real time. 
if a stand-alone processor is used for the interactive dialogue, it may 
be able to handle the synthesis rules as well. 
in this case the speech-by-rule program could be a library procedure, 
if the system is implemented in a compiled language. 
an interesting alternative with an interpretive-language implementation, 
such as basic, is to alter the language interpreter to add a new 
command, "speak", which simply transfers a string representing an utterance 
to an asynchronous process which synthesizes it. 
however, there must be some way for an intepreted program to abort the 
current synthesis in the event of an interrupt signal from the user. 
.pp 
if the main computer system is time-shared, the synthesis-by-rule 
procedure is best executed by an independent processor. 
for example, a 16-bit microcomputer controlling a hardware 
formant synthesizer has been used to run the 
isp system in real time without too much difficulty (witten and abbess, 1979). 
.[ 
witten abbess 1979 
.] 
an important task is to define an interface between the two which 
allows the main process to control relevant aspects of the prosody of 
the speech in a way which is appropriate to the state of the interaction, 
without having to bother about such things as matching the intonation contour 
to the utterance and the details of syllable rhythm. 
halliday's notation appears to be quite suitable for this purpose. 
.pp 
if there is only one synthesizer on the system, there will be no 
difficulty in addressing it. 
one way of dealing with multiple synthesizers is to treat them as 
assignable devices in the same way that non-spooling peripherals 
are in many operating systems. 
notice that the data rate to the synthesizer is quite low 
if the utterance is represented as text with prosodic markers, 
and can easily be handled by a low-speed asynchronous serial line. 
.pp 
the votrax ml-i synthesizer which is discussed in the next chapter has an 
interface which interposes it between a visual display unit and the serial 
port that connects it to the computer. 
the vdu terminal can be used quite normally, except that a special sequence 
of two control characters will cause votrax to intercept the following 
message up to another control character, and interpret it as speech. 
the fact that the characters which specify the spoken message do not appear 
on the vdu screen means that the operation is invisible to the user. 
however, this transparency can be inhibited by a switch on the synthesizer 
to allow visual checking of the sound-segment character sequence. 
.pp 
votrax buffers up to 64 sound segments, which is sufficient to generate 
isolated spoken messages. 
for longer passages, it can be synchronized with the constant-rate 
serial output using the modem control lines of the serial interface, 
together with appropriate device-driving software. 
.pp 
this is a particularly convenient interfacing technique in cases when the 
synthesizer should always be associated with a certain terminal.  
as an example of how it can be used, 
one can arrange files each of whose lines contain a printed message, 
together with its votrax equivalent bracketed by the appropriate 
control characters. 
when such a file is listed, or examined with an editor program, the lines 
appear simultaneously in spoken and typed english. 
.pp 
if a phonetic representation is used for utterances, with real-time 
synthesis using a separate process (or processor), it is easy for 
the programmer to fiddle about with the interactive dialogue to get 
it feeling right. 
for him, each utterance is just a textual string which 
can be stored as a string constant within his program just as a vdu prompt 
would be.  he can edit it as part of his program, and "print" it to 
the speech synthesis device to hear it. 
there are no more technical problems to developing an interactive dialogue 
with speech output than there are for a conventional interactive program. 
of course, there are more human problems, and the points discussed 
in the last section should always be borne in mind. 
.sh "10.3  using the keypad" 
.pp 
one of the greatest advantages of speech output from computers is the 
ubiquity of the telephone network and the possibility of using it without 
the need for special equipment at the terminal. 
the requirement for input as well as output obviously presents something of a problem 
because of the restricted nature of the telephone keypad. 
.pp 
figure 10.1 shows the layout of the keypad. 
.fc "figure 10.1" 
signalling is achieved by dual-frequency tones. 
for example, if key 7 is pressed, sinusoidal components at 852\ hz and 1209\ hz 
are transmitted down the line. 
during the process of dialling these are received by the telephone exchange 
equipment, which assembles the digits that form a number and attempts to route 
the call appropriately. 
once a connection is made, either party is free to press keys if desired 
and the signals will be transmitted to the other end, 
where they can be decoded by simple electronic circuits. 
.pp 
dial telephones signal with closely-spaced dial pulses. 
one pulse is generated for a "1", two for a "2", and so on. 
(obviously, ten pulses are generated for a "0", rather than none!)  unfortunately, 
once the connection is made it is difficult to signal with dial pulses. 
they cannot be decoded reliably at the other end because the telephone 
network is not designed to transmit such low frequencies. 
however, hand-held tone generators can be purchased for use with dial 
telephones. 
although these are undeniably extra equipment, and one purpose of using speech 
output is to avoid this, they are very cheap and portable compared with other 
computer terminal equipment. 
.pp 
the small number of keys on the telephone pad makes it rather difficult 
to use for communicating with computers. 
provision is made for 16 keys, but only 12 are implemented \(em the others 
may be used for some military purposes. 
of course, if a separate tone generator is used then advantage can be taken 
of the extra keys, but this will introduce incompatibility with those 
who use unmodified touch-tone phones. 
more sophisticated terminals are available which extend the keypad \(em such 
as the displayphone of northern telecommunications. 
however, they are designed as a complete communications terminal and 
contain their own visual display as well. 
.rh "keying alphabetic data." 
figure 10.2 shows the near-universal scheme for overlaying alphabetic letters 
on to the telephone keypad. 
.fc "figure 10.2" 
since more than one symbol occupies each key, it is obviously necessary 
to have multiple keystrokes per character if the input sequence is to be 
decodable as a string of letters. 
one way of doing this is to depress the appropriate button the number of 
times corresponding to the position of the letter on it. 
for example, to enter the letter "l" the user would key the "5" button 
three times in rapid succession. 
keying rhythm must be used to distinguish the four entries "j\ j\ j", 
"j\ k", "k\ j", and "l", unless one of the bottom three buttons is used 
as a separator. 
a different method is to use "*", "0", and "#" as shift keys to indicate whether 
the first, second, or third letter on a key is intended. 
then "#5" would represent "l". 
alternatively, the shift could follow the key instead of preceding it, 
so that "5#" represented "l". 
.pp 
if numeric as well as alphabetic information may be entered, a mode-shift 
operation is commonly used to switch between numeric and alphabetic modes. 
.pp 
the relative merits of these three methods, multiple depressions, shift 
key prefix, and shift key suffix, have been investigated 
experimentally (kramer, 1970). 
.[ 
kramer 1970 
.] 
the results were rather inconclusive. 
the first method seemed to be slightly inferior in terms of user accuracy. 
it seemed that preceding rather than following shifts gave higher accuracy, 
although this is perhaps rather counter-intuitive and may have been 
fortuitous. 
the most useful result from the experiments was that users exhibited 
significant learning behaviour, and a training period of at least two hours 
was recommended. 
operators were found able to key at rates of at least three to four 
characters per second, and faster with practice. 
.pp 
if a greater range of characters must be represented then the coding problem 
becomes more complex. 
figure 10.3 shows a keypad which can be used for entry of the full 64-character 
standard upper-case ascii alphabet (shew, 1975). 
.[ 
shew 1975 
.] 
.fc "figure 10.3" 
the system is intended for remote vocabulary updating in a phonetically-based 
speech synthesis system. 
there are three modes of operation:  numeric, alphabetic, and symbolic. 
these are entered by "##", "**", and "*0" respectively. 
two function modes, signalled by "#0" and "#*", allow some 
rudimentary line-editing and monitor facilities to be incorporated. 
line-editing commands include character and line delete, and two kinds of 
read-back commands \(em one tries to pronounce the words in a line 
and the other spells out the characters. 
the monitor commands allow the user to repeat the effect of the last input line 
as though he had entered it again, to order the system to read back the 
last complete output line, and to query time and system status. 
.rh "incomplete keying of alphanumeric data." 
it is obviously going to be rather difficult for the operator to key 
alphanumeric information unambiguously on a 12-key pad. 
in the description of the telephone enquiry service in chapter 1, 
it was mentioned that single-key entry can be useful for alphanumeric data 
if the ambiguity can be resolved by the computer. 
if a multiple-character entry is known to refer to an item on a given 
list, the characters can be keyed directly according to the coding scheme 
of figure 10.2. 
.pp 
under most circumstances no ambiguity will arise. 
for example, table 10.1 shows the keystrokes that would be entered for the 
first 50 5-letter words in an english dictionary. 
only two clashes occur \(em between " adore" and "afore", and 
"agate" and "agave". 
.rf 
.nr x2 \w'abeam  'u 
.nr x3 \w'00000#    'u 
.nr x0 \n(x2u+\n(x3u+\n(x2u+\n(x3u+\n(x2u+\n(x3u+\n(x2u+\n(x3u+\n(x2u+\w'00000#'u 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta \n(x2u +\n(x3u +\n(x2u +\n(x3u +\n(x2u +\n(x3u +\n(x2u +\n(x3u +\n(x2u 
\l'\n(x0u\(ul' 
.sp 
aback	22225#	abide	22433#	adage	23243#	adore	23673#	after	23837# 
abaft	22238#	abode	22633#	adapt	23278#	adorn	23676#	again	24246# 
abase	22273#	abort	22678#	adder	23337#	adult	23858#	agape	24273# 
abash	22274#	about	22688#	addle	23353#	adust	23878#	agate	24283# 
abate	22283#	above	22683#	adept	23378#	aeger	23437#	agave	24283# 
abbey	22239#	abuse	22873#	adieu	23438#	aegis	23447#	agent	24368# 
abbot	22268#	abyss	22977#	admit	23648#	aerie	23743#	agile	24453# 
abeam	22326#	acorn	22676#	admix	23649#	affix	23349#	aglet	24538# 
abele	22353#	acrid	22743#	adobe	23623#	afoot	23668#	agony	24669# 
abhor	22467#	actor	22867#	adopt	23678#	afore	23673#	agree	24733# 
\l'\n(x0u\(ul' 
.in 0 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.fg "table 10.1  keying equivalents of some words" 
as a more extensive example, in a dictionary of 24,500 words, just under 2,000 
ambiguities (8% of words) were discovered. 
such ambiguities would have to be resolved interactively by the system explaining 
its dilemma, and asking the user for a choice. 
notice incidentally that although the keyed sequences do not have the same 
lexicographic order as the words, 
no extra cost will be associated with the table-searching 
operation if the dictionary is stored in inverted form, with each legal 
number pointing to its english equivalent or equivalents. 
.pp 
a command language syntax is also a powerful way of disambiguating 
keystrokes entered. 
figure 10.4 shows the keypad layout for a telephone voice calculator 
(newhouse and sibley, 1969). 
.[ 
newhouse sibley 1969 
.] 
.fc "figure 10.4" 
this calculator provides the standard arithmetic operators, 
ten numeric registers, a range of pre-defined mathematical functions, 
and even the ability for a user to enter his own functions over the 
telephone. 
the number representation is fixed-point, with user control (through a system 
function) over the precision. 
input of numbers is free format. 
.pp 
despite the power of the calculator language, the dialogue is defined 
so that each keystroke is unique in context and never has to be disambiguated 
explicitly by the user. 
table 10.2 summarizes the command language syntax in an informal and rather 
heterogeneous notation. 
.rf 
.nr x0 1.3i+1.7i+\w'some functions do not need the <value> part'u 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta 1.3i +1.7i 
\l'\n(x0u\(ul' 
construct	definition	explanation 
\l'\n(x0u\(ul' 
.sp 
<calculation>		a sequence of <operation>s followed by a 
		call to the system function  \fie  x  i  t\fr 
.sp 
<operation>	<add> or <subtract> or 
	<multiply> or <divide> or 
	<function> or <clear> or 
	<erase> or <answer> or 
	<display-last> or <display> or 
	<repeat> or <cancel> 
.sp 
<add>	+  <value>  #  or  +  #  <function> 
.sp 
<subtract> 
<multiply>		similar to <add> 
<divide> 
.sp 
<value>	<numeric-value>  or  \firegister\fr <single-digit> 
.sp 
<numeric-value>		a sequence of keystrokes like 
		1  .  2  3  4  or  1  2  3  .  4  or  1  2  3  4 
.sp 
<function>	\fifunction\fr <name>  #  <value>  # 
		some functions do not need the <value> part 
.sp 
<name>		a sequence of keystrokes like 
		\fis  i  n\fr  or  \fie  x  i  t\fr  or  \fim  y  f  u  n  c\fr 
.sp 
<clear>	\ficlear register\fr <single-digit>  # 
		clears one of the 10 registers 
.sp 
<erase>	\fierase\fr  #	undoes the effect of the last operation 
.sp 
<answer>	\fianswer register\fr <single-digit>  # 
		reads the contents of a register 
.sp 
<display-last> 
<display>		these provide "repeat" facilities 
<repeat> 
.sp 
<cancel>		aborts the current utterance 
\l'\n(x0u\(ul' 
.in 0 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.fg "table 10.2  syntax for a telephone calculator" 
a calculation is a sequence of operations followed by an exit function call. 
there are twelve different operations, one for each button on the keypad. 
actually, two of them \(em 
.ul 
cancel 
and 
.ul 
function 
\(em share the same key so that "#" can be reserved for use as a 
separator; but the context ensures that they cannot be confused by the system. 
.pp 
six of the operations give control over the dialogue. 
there are three different "repeat" commands; a command (called 
.ul 
erase\c 
) 
which undoes the effect of the last operation; 
one which reads out the value of a register; 
and one which aborts the current utterance. 
four more commands provide the basic arithmetic operations of add, 
subtract, multiply, and divide. 
the operands of these may be keyed literal numbers, or register values, 
or function calls. 
a further command clears a register. 
.pp 
it is through functions that the extensibility of the language is achieved. 
a function has a name (like sin, exit, myfunc) which is keyed with an 
appropriate single-key-per-character sequence (namely 746, 3948, 693862 
respectively). 
one function, define, allows new ones to be entered. 
another, loop, repeats sequences of operations. 
test incorporates arithmetic testing. 
the details of these are not important:  what is interesting is the evident 
power of the calculator. 
.pp 
for example, the keying sequence 
.lb 
.ni 
5  #  1  1  2  3  #  2  1  .  2  #  9  #  6  #  2  1  .  4  # 
.le 
would be decoded as 
.lb 
.ni 
.ul 
clear\c 
  +  123  \-  1.2  \c 
.ul 
display  erase\c 
  \-  1.4. 
.le 
one of the difficulties with such a tight syntax is that almost any sequence 
will be intepreted as a valid calculation \(em syntax errors are nearly 
impossible. 
thus a small mistake by the user can have a catastrophic effect on the 
calculation. 
here, however, speech output gives an advantage over conventional 
character-by-character echoing 
on visual displays. 
it is quite adequate to echo syntactic units as they are decoded, instead 
of echoing keys as they are entered. 
it was suggested earlier in this chapter that confirmation of entry 
should be generated in the same way that the user would be likely to 
verbalize it himself. 
thus the synthetic voice could respond to the above keying sequence as 
shown in the second line, except that the 
.ul 
display 
command would also state the result 
(and possibly summarize the calculation so far). 
numbers could be verbalized as "one hundred and twenty-three" 
instead of as "one ... two ... three". 
(note, however, that this will make it necessary to await the "#" terminator 
after numbers and function names before they can be echoed.) 
.sh "10.4  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.sh "10.5  further reading" 
.pp 
there are no books which relate techniques of man-computer dialogue 
to speech interaction. 
the best i can do is to guide you to some of the standard works on 
interactive techniques. 
.lb "nn" 
.\"gilb-1977-1 
.]- 
.ds [a gilb, t. 
.as [a " and weinberg, g.m. 
.ds [d 1977 
.ds [t humanized input 
.ds [i winthrop 
.ds [c cambridge, massachusetts 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
this book is subtitled "techniques for reliable keyed input", 
and considers most aspects of the problem of data entry by 
professional key operators. 
.in-2n 
.\"martin-1973-2 
.]- 
.ds [a martin, j. 
.ds [d 1973 
.ds [t design of man-computer dialogues 
.ds [i prentice-hall 
.ds [c englewood cliffs, new jersey 
.nr [t 0 
.nr [a 1 
.nr [o 0 
.][ 2 book 
.in+2n 
martin concerns himself with all aspects of man-computer dialogue, 
and the book even contains a short chapter on  the use of 
voice response systems. 
.in-2n 
.\"smith-1980-3 
.]- 
.ds [a smith, h.t. 
.as [a " and green, t.r.g.(editors) 
.ds [d 1980 
.ds [t human interaction with computers 
.ds [i academic press 
.ds [c london 
.nr [t 0 
.nr [a 0 
.nr [o 0 
.][ 2 book 
.in+2n 
a recent collection of contributions on man-computer systems and programming 
research. 
.in-2n 
.le "nn" 
.eq 
delim $$ 
.en 
.ch "11  commercial speech output devices" 
.ds rt "commercial speech output devices 
.ds cx "principles of computer speech 
.pp 
this chapter takes a look at four speech output peripherals that are 
available today. 
it is risky in a book of this nature to descend so close to the technology 
as to discuss particular examples of commercial products, 
for such information becomes dated very quickly. 
nevertheless, having covered the principles of various types of speech 
synthesizer, and the methods of driving them from widely differing utterance 
representations, it seems worthwhile to see how these principles are 
embodied in a few products actually on the market. 
.pp 
developments in electronic speech devices are moving so fast that it is 
hard to keep up with them, and the newest technology today will undoubtedly 
be superseded next year. 
hence i have not tried to choose examples from the very latest technology. 
instead, this chapter discusses synthesizers which exemplify rather different 
principles and architectures, in order to give an idea of the range of options 
which face the system designer. 
.pp 
three of the devices are landmarks in the commercial adoption of speech 
technology, and have stood the test of time. 
votrax was introduced in the early 1970's, and has been re-implemented 
several times since in an attempt to cover different market sectors. 
the computalker appeared in 1976. 
it was aimed primarily at the burgeoning computer hobbies market. 
one of its most far-reaching effects was to stimulate the interest of 
hobbyists, always eager for new low-cost peripherals, in speech synthesis; 
and so provide a useful new source of experimentation and expertise 
which will undoubtedly help this heretofore rather esoteric discipline to 
mature. 
computalker is certainly the longest-lived and probably still the most 
popular hobbyist's speech synthesizer. 
the texas instruments speech synthesis chip brought speech output technology to the 
consumer. 
it was the first single-chip speech synthesizer, and is still the biggest 
seller. 
it forms the heart of the "speak 'n spell" talking toy which appeared in 
toyshops in the summer of 1978. 
although talking calculators had existed several years before, they were 
exotic gadgets rather than household toys. 
.sh "11.1  formant synthesizer" 
.pp 
the computalker is a straightforward implementation of a serial formant 
synthesizer. 
a block diagram of it is shown in figure 11.1. 
.fc "figure 11.1" 
in the centre is the main vocal tract path, with three formant filters 
whose resonant frequencies can be controlled individually. 
a separate nasal branch in parallel with the oral one is provided, 
with a nasal formant of fixed frequency. 
it is less important to allow for variation of the nasal formant 
frequency than it is for the oral ones, because the size and 
shape of the nasal tract is relatively fixed. 
however, it is essential to control the nasal amplitude, in particular to turn 
it off during non-nasal sounds. 
computalker provides independent oral and nasal amplitude parameters. 
.pp 
unvoiced excitation can be passed through the main vocal tract 
through the aspiration amplitude control ah. 
in practice, the voicing amplitudes av and an will probably always be zero when ah 
is non-zero, for physiological constraints prohibit simultaneous voicing 
and aspiration. 
a second unvoiced excitation path passes through a fricative formant filter 
whose resonant frequency can be varied, and has its amplitude independently 
controlled by af. 
.rh "control parameters." 
table 11.1 summarizes the nine parameters which drive computalker. 
.rf 
.nr x0 \w'address0'+\w'fundamental frequency of voicing00'+\w'0 bits0'+\w'logarithmic00'+\w'0000\-00000 hz' 
.nr x1 (\n(.l-\n(x0)/2 
.in \n(x1u 
.ta \w'000'u \w'address0'u +\w'fundamental frequency of voicing00'u +\w'0 bits0'u +\w'logarithmic00'u 
address	meaning	width		\0\0\0range 
\l'\n(x0u\(ul' 
.sp 
\00	av	amplitude of voicing	8 bits 
\01	an	nasal amplitude	8 bits 
\02	ah	amplitude of aspiration	8 bits 
\03	af	amplitude of frication	8 bits 
\04	fv	fundamental frequency of voicing	8 bits	logarithmic	\0\075\-\0\0470 hz 
\05	f1	formant 1 resonant frequency	8 bits	logarithmic	\0170\-\01450 hz 
\06	f2	formant 2 resonant frequency	8 bits	logarithmic	\0520\-\04400 hz 
\07	f3	formant 3 resonant frequency	8 bits	logarithmic	1700\-\05500 hz 
\08	ff	fricative resonant frequency	8 bits	logarithmic	1700\-14000 hz 
\09		not used 
10		not used 
11		not used 
12		not used 
13		not used 
14		not used 
15	sw	audio on-off switch	1 bit 
\l'\n(x0u\(ul' 
.in 0 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.fg "table 11.1  computalker control parameters" 
four of them control amplitudes, while the others control frequencies. 
in the latter case the parameter value is logarithmically related to 
the actual frequency of the excitation (fv) or resonance (f1, f2, f3, ff). 
the ranges over which each frequency can be controlled is shown in the table. 
an independent calibration of one particular computalker has shown that 
the logarithmic specifications are met remarkably well. 
.pp 
each parameter is specified to computalker as an 8-bit number. 
parameters are addressed by a 4-bit code, and so a total of 12 bits 
is transferred in parallel to computalker from the computer 
for each parameter update. 
parameters 9 to 14 are unassigned ("reserved for future expansion" is 
the official phrase), and the last parameter, sw, governs the position of 
an audio on-off switch. 
.pp 
computalker does not contain a clock that is accessible to the user, 
and so the timing of parameter updates is entirely up to the host computer. 
typically, a 10\ msec interval between frames is used, 
with interrupts generated by a separate timer. 
in fact the frame interval can be anywhere between 2\ msec and 50\ msec, 
and can be changed to alter the rate of speaking. 
however, it is rather naive to view fast speech as slow 
speech speeded up by a linear time compression, for in human 
speech production the rhythm changes and elisions occur in a rather 
more subtle way. 
thus it is not particularly useful to be able to alter the frame rate. 
.pp 
at each interrupt, the host computer transfers values for all of the nine 
parameters to computalker, a total of 108 data bits. 
in theory, perhaps, it is only necessary to transmit those parameters 
whose values have changed; but in practice all of them should be updated 
regardless. 
this is because the parameters are stored for the duration of the frame 
in analogue sample-and-hold devices.  essentially, the parameter value 
is represented as the charge on a capacitor. 
in time \(em and it takes only a short time \(em the values drift. 
although the drift over 10\ msec is insignificant, it becomes very 
noticeable over longer time periods. 
if parameters are not updated at all, the result is a 
"whooosh" sound up to maximum amplitude, in a period of a second or two. 
hence it is essential that computalker be serviced by the computer regularly, 
to update all its parameters. 
the audio on-off switch is provided so that the computer can turn off 
the sound directly if another program, which does not use the device, 
is to be run. 
.rh "filter implementation." 
it is hard to get definite information on the implementation 
of computalker. 
because it is a commercial device, circuit diagrams are not published. 
it is certainly an analogue rather than a digital implementation. 
the designer suggests that a configuration like that of figure 11.2 is used 
for the formant filters (rice, 1976). 
.[ 
rice 1976 byte 
.] 
.fc "figure 11.2" 
control is obtained over the resonant frequency by varying the resistance 
at the bottom in sympathy with the parameter value. 
the middle two operational amplifiers can be modelled by a resistance 
$-r/k$ in the forward path, where k is the digital control value. 
this gives the circuit in figure 11.3, which can be analysed to obtain 
the transfer function 
.lb 
.eq 
- ~ k over {r~r sub 1 c sub 2 c sub 3} ~ . ~ {r sub 2 c sub 2 ~s ~+~1} over 
{ s sup 2 ~+~~ 
( 1 over {r sub 3 c sub 3} ~+~ {k r sub 2} over {r~r sub 1 c sub 3})~s ~~+~ 
k over {r~r sub 1 c sub 2 c sub 3}} ~ . 
.en 
.le 
.fc "figure 11.3" 
.pp 
this expression has a dc gain of \-1, and the denominator is similar to those 
of the analogue formant resonators discussed in chapter 5. 
however, unlike them the transfer function has a numerator which creates 
a zero at 
.lb 
.eq 
s~~=~~-~ 1 over {r sub 2 c sub 2} ~ . 
.en 
.le 
if  $r sub 2 c sub 2$  is sufficiently small, this zero will have 
negligible effect at audio frequencies, and the filter has 
the following parameters: 
.lb 
centre frequency:    $~ mark 
1 over {2 pi}~~( k over {r~r sub 1 c sub 2 c sub 3} ~ ) sup 1/2$  hz 
.sp 
bandwidth:$lineup 
1 over {2 pi}~~( 1 over {r sub 3 c sub 3}~+~ 
{k r sub 2} over {r~r sub 1 c sub 3} ~ )$  hz. 
.le 
.pp 
note first that the centre frequency is proportional to the square root of 
the control value $k$. 
hence a non-linear transformation must be implemented on the control 
signal, after d/a conversion, to achieve the required logarithmic relationship 
between parameter value and resonant frequency. 
the formant bandwidth is not constant, as it should be (see chapter 5), 
but depends upon the control value $k$. 
this dependency can be minimized by selecting component values such that 
.lb 
.eq 
{k r sub 2} over {r~r sub 1 c sub 3}~~<<~~1 over {r sub 3 c sub 3} 
.en 
.le 
for the largest value of $k$ which can occur. 
then the bandwidth is solely determined by the time constant  $r sub 3 c sub 3$. 
.pp 
the existence of the zero can be exploited for the fricative resonance. 
this should have zero dc gain, and so the component values for the fricative 
filter should make the time-constant  $r sub 2 c sub 2$  large enough to place 
the zero sufficiently near the frequency origin. 
.rh "market orientation." 
as mentioned above, computalker is designed for the computer hobbies market. 
figure 11.4 shows a photograph of the device. 
.fc "figure 11.4" 
it plugs into the s\-100 bus which has been a 
.ul 
de facto 
standard for hobbyists for several years, and has recently been adopted 
as a standard by the institute of electrical and electronic engineers. 
this makes it immediately accessible to many microcomputer systems. 
.pp 
an inexpensive synthesis-by-rule program, which runs on 
the popular 8080 microprocessor, is available to drive computalker. 
the input is coded in a machine-readable version of the standard phonetic 
alphabet, similar to that which was introduced in chapter 2 (table 2.1). 
stress digits may appear in the transcription, and the program caters for 
five levels of stress. 
the punctuation mark at the end of an utterance has some effect on pitch. 
the program is perhaps remarkable in that it occupies only 6\ kbyte of storage 
(including phoneme tables), and runs on an 8-bit microprocessor 
(but not in real time). 
it is, however, 
.ul 
un\c 
remarkable in that it produces rather poor speech. 
according to a demonstration cassette, 
"most people find the speech to be readily intelligible, 
especially after a little practice listening to it," 
but this seems extremely optimistic. 
it also cunningly insinuates that if you don't understand it, you yourself 
may share the blame with the synthesizer \(em after all, 
.ul 
most 
people do! 
nevertheless, computalker has made synthetic speech accessible to a large 
number of home computer users. 
.sh "11.2  sound-segment synthesizer" 
.pp 
votrax was the first fully commercial speech synthesizer, and at the time of 
writing is still the only off-the-shelf speech output 
peripheral (as distinct from reading machine) which is aimed 
specifically at synthesis-by-rule rather than storage of parameter tracks 
extracted from natural utterances. 
figure 11.5 shows a photograph of the votrax ml-i. 
.fc "figure 11.5" 
.pp 
votrax accepts as input a string of codes representing sound segments, 
each with additional bits to control the duration and pitch of the segment. 
in the earlier versions (eg model vs-6) there are 63 sound segments, specified 
by a 6-bit code, and two further bits accompany each segment to provide a 
4-level control over pitch. 
four pitch levels are quite inadequate to generate acceptable intonation 
contours for anything but isolated words spoken in citation form. 
however, a later model (ml-i) uses an 8-level pitch specification, 
as well as a 4-level duration qualifier, 
associated with each sound segment. 
it provides a vocabulary of 80 sound segments, together with an additional 
code which allows local amplitude modifications and extra duration alterations 
to following segments. 
a further, low-cost model (vs-k) is now available which plugs in to the s\-100 
bus, and 
is aimed primarily at 
computer hobbyists. 
it provides no pitch control at all and is therefore 
quite unsuited to serious voice response applications. 
the device has recently been packaged as an lsi circuit (model sc\-01), 
using analogue switched-capacitor filter technology. 
.pp 
one point where the ml-i scores favourably over other speech synthesis 
peripherals is the remarkably convenient engineering of its 
computer interface, which was outlined in the previous chapter. 
.pp 
the internal workings of votrax are not divulged by the manufacturer. 
figure 11.6 shows a block diagram at the level of detail that they supply. 
.fc "figure 11.6" 
it seems to be essentially a formant synthesizer with analogue function 
generators and parameter smoothing circuits that provide transitions between 
sound segments. 
.rh "sound segments." 
the 80 segments of the high-range ml-i model 
are summarized in table 11.2. 
.fc "table 11.2" 
they are divided into phoneme classes according to the 
classification discussed in chapter 2. 
the segments break down into the following categories. 
(numbers in parentheses are the corresponding figures for vs-6.) 
.lb "00 (00) " 
.ni "00 (00) " 
11 (11) vowel sounds which are representative of the phonological 
vowel classes for english 
.ni "00 (00) " 
\09 \0(7) vowel allophones, with slightly different sound qualities from the 
above 
.ni "00 (00) " 
20 (15) segments whose sound qualities are identical to the segments above, but with 
different durations 
.ni "00 (00) " 
22 (22) consonant sounds which are representative of the phonological 
consonant classes for english 
.ni "00 (00) " 
11 \0(6) consonant allophones 
.ni "00 (00) " 
\04 \0(0) segments to be used in conjunction with unvoiced plosives to increase 
their aspiration 
.ni "00 (00) " 
\02 \0(2) silent segments, with different pause durations 
.ni "00 (00) " 
\01 \0(0) very short silent segment (about 5\ msec). 
.le "00 (00) " 
somewhat under half of the 80 elements 
can be put into one-to-one correspondence with the phonemes of english; 
the rest are either allophonic variations or additional sounds which can 
sensibly be combined with certain phonemes in certain contexts. 
the votrax literature, and consequently votrax users, persists in calling 
all elements "phonemes", and this can cause considerable confusion. 
i prefer to use the term "sound segment" instead, reserving "phoneme" for its 
proper linguistic use. 
.pp 
the rules which votrax uses for transitions between sound segments are not 
made public by the manufacturer, and are embedded in encapsulated circuits 
in the hardware. 
they are clearly very crude. 
the key to successful encoding of utterances is to use the many 
non-phonemic segments in an appropriate way as transitions between the main 
segments which represent phonetic classes.  this is a tricky process, and 
i have heard of one commercial establishment giving up in despair at the 
extreme difficulty of generating the utterances it wanted. 
it probably explains the proliferation of letter-to-sound rules for 
votrax which have been developed in research laboratories 
(colby 
.ul 
et al, 
1978; elovitz 
.ul 
et al, 
1976; mcilroy, 1974; sherwood, 1978). 
.[ 
colby christinaz graham 1978 
.] 
.[ 
elovitz 1976 ieee trans acoustics speech and signal processing 
.] 
.[ 
mcilroy 1974 
.] 
.[ 
sherwood 1978 
.] 
nevertheless, with luck, skill, and especially persistence, 
excellent results can be 
obtained.  the ml-i manual (votrax, 1976) contains a list of about 625 words and short phrases, 
and they are usually clearly recognizable. 
.[ 
votrax 1976 
.] 
.rh "duration and pitch qualifiers." 
each sound segment has a different duration. 
table 11.2 shows the measured duration of the segments, although no 
calibration data is given by votrax. 
as mentioned earlier, a 2-bit number accompanies each segment to modify 
its duration, and 
this was set to 3 (least duration) for the measurements. 
the qualifier has a multiplicative effect, shown in table 11.3. 
.rf 
.nr x1 (\w'rate qualifier'/2) 
.nr x2 (\w'in table 11.2 by'/2) 
.nr x0 \n(x1+2i+\w'00'+\n(x2 
.nr x3 (\n(.l-\n(x0)/2 
.in \n(x3u 
.ta \n(x1u +2i 
\l'\n(x0u\(ul' 
.sp 
.nr x2 (\w'multiply duration'/2) 
rate qualifier		\0\0\h'-\n(x2u'multiply duration 
.nr x2 (\w'in table 11.2 by'/2) 
		\0\0\h'-\n(x2u'in table 11.2 by 
\l'\n(x0u\(ul' 
.sp 
	3	1.00 
	2	1.11 
	1	1.22 
	0	1.35 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 11.3  effect of the 2-bit per-segment rate qualifier" 
.pp 
as well as the 2-bit rate qualifier, each sound segment is accompanied by 
a 3-bit pitch specification.  this provides a linear control over fundamental 
frequency, and table 11.4 shows the measured values. 
.rf 
.nr x1 (\w'pitch specifier'/2) 
.nr x2 (\w'pitch (hz)'/2) 
.nr x0 \n(x1+1.5i+\n(x2 
.nr x3 (\n(.l-\n(x0)/2 
.in \n(x3u 
.ta \n(x1u +1.5i 
\l'\n(x0u\(ul' 
.sp 
pitch specifier	\h'-\n(x2u'pitch (hz) 
\l'\n(x0u\(ul' 
.sp 
	0	\057.5 
	1	\064.1 
	2	\069.4 
	3	\075.8 
	4	\080.6 
	5	\087.7 
	6	\094.3 
	7	100.0 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 11.4  effect of the 3-bit per-segment pitch specifier" 
the quantization interval varies from 
one to two semitones. 
votrax interpolates pitch from phoneme to phoneme in a highly satisfactory 
manner, and this permits surprisingly sophisticated intonation contours 
to be generated considering the crude 8-level quantization. 
.pp 
the notation in which the votrax manual defines utterances 
gives duration qualifiers and pitch specifications as digits 
preceding the sound segment, and separated from it by a slash (/). 
thus, for example, 
.lb 
14/thv 
.le 
defines the sound segment thv with duration qualifier 1 (multiplies the 
70\ msec duration of table 11.2 by 1.22 \(em from table 11.3 \(em to give 85\ msec) 
and pitch specification 4 (81 hz). 
this representation of a segment is transformed into two ascii characters before transmission 
to the synthesizer. 
.rh "converting a phonetic transcription to sound segments." 
it would be useful to have a computer procedure to produce a specification for 
an utterance in terms of votrax sound segments from a standard phonetic 
transcription. 
this could remove much of the tedium from utterance preparation 
by incorporating the contextual rules given in the votrax manual. 
starting with a phonetic transcription, each phoneme should be converted 
to its default votrax representative. 
the resulting "wide" votrax transcription must be 
transformed into a "narrow" one by application of contextual rules. 
separate rules are needed for 
.lb 
.np 
vowel clusters (diphthongs) 
.np 
vowel transitions (ie consonant-vowel and vowel-consonant, 
where the vowel segment is altered) 
.np 
intervocalic consonants 
.np 
consonant transitions (ie consonant-vowel and vowel-consonant, 
where the consonant segment is altered) 
.np 
consonant clusters 
.np 
stressed-syllable effects 
.np 
utterance-final effects. 
.le 
stressed-syllable effects (which include 
extra aspiration for unvoiced stops beginning stressed syllables) 
can be applied only if stress markers are included in the phonetic 
transcription. 
.pp 
to specify a rule, it is necessary to give a 
.ul 
matching part 
and a 
.ul 
context, 
which define at what points in an utterance it is applicable, and a 
.ul 
replacement part 
which is used to replace the matching part. 
the context can be specified in mathematical set notation using curly brackets. 
for example, 
.lb 
{g sh w k} oo		iu oo 
.le 
states that the matching part oo is replaced by iu oo, after a g, sh, w, or k. 
in fact, allophonic variations of each sound segment 
should also be accepted as valid context, so this rule will also replace oo 
after .g, ch, .w, .k, or .x1 (table 11.2 gives allophones of each segment). 
.pp 
table 11.5 gives some rules that have been used for this purpose. 
.fc "table 11.5" 
they were derived from careful study of the hints given in the 
ml-i manual (votrax, 1976). 
.[ 
votrax 1976 
.] 
classes such as "voiced" and "stop-consonant" in the context specify sets 
of sound segments in the obvious way. 
the beginning of a stressed syllable is marked in the input by ".syll". 
parentheses in the replacement part have a significance which is explained in 
the next section. 
.rh "handling prosodic features." 
we know from chapter 8 the vital importance of prosodic features 
in synthesizing lifelike speech. 
to allow them to be assigned to votrax utterances, an intermediate 
output from a prosodic analysis program like isp can be used. 
for example, 
.lb 
1  \c 
.ul 
dh i s  i z  /*d zh aa k s  /h aa u s; 
.le 
which specifies "this is jack's house" in a declarative intonation with 
emphasis on the "jack's", can be intercepted in the following form: 
.lb 
\&.syll 
.ul 
dh\c 
\ 50\ (0\ 110) 
.ul 
i\c 
\ 60 
.ul 
s\c 
\ 90\ (0\ 99) 
.ul 
i\c 
\ 60 
.ul 
z\c 
\ 60\ (50\ 110) 
\&.syll 
.ul 
d\c 
\ 50\ (0\ 110) 
.ul 
zh\c 
\ 50 
.ul 
aa\c 
\ 90 
.ul 
k\c 
\ 120\ (10\ 90) 
.ul 
s\c 
\ 90 
\&.syll 
.ul 
h\c 
\ 60 
.ul 
aa\c 
\ 140 
.ul 
u\c 
\ 60 
.ul 
s\c 
\ 140 
^\ 50\ (40\ 70) . 
.le 
syllable boundaries, pitches, and durations have been assigned by the 
procedures given earlier (chapter 8). 
a number always follows each phoneme to specify its duration 
(in msec). 
pairs of numbers in parentheses define a pitch specification at some 
point during the preceding phoneme:  the first number of the pair defines 
the time offset of the specification from the beginning 
of the phoneme, while the second gives the pitch itself (in hz). 
this form of utterance specification can then be passed to a votrax 
conversion procedure. 
.pp 
the phonetic transcription is converted 
to votrax sound segments using the method described above.  the "wide" votrax 
transcription is 
.lb 
\&.syll thv i s i z .syll d zh ae k s .syll h ae oo s pa0 ; 
.le 
which is transformed to the following "narrow" one according to the rules 
of table 11.5: 
.lb 
\&.syll thv i s i z .syll d j (ae eh3) k s .syll h1 (ah1 .uh2) (o u) 
s pa0 . 
.le 
the duration and pitch specifications are preserved by the transformation 
in their original positions in the string, although they are not shown above. 
the next stage uses them to expand the transcription by adjusting 
the segments to have durations as close as possible to the specifications, and 
computing pitch numbers to be associated with each phoneme. 
.pp 
correct duration-expansion can, in general, require a great amount of 
computation. 
associated with each sound segment is a set of elements with the same sound quality 
but different durations, formed by attaching each of the four duration 
qualifiers of table 11.3 to the segment and any others which are 
sound-equivalents to it.  for example, the segment z has the duration-set 
.lb 
{3/z   2/z   1/z   0/z} 
.le 
with durations 
.lb 
{ 70   78   85   95} 
.le 
msec respectively, where the initial numerals denote the duration qualifier. 
the segment i has the much larger duration-set 
.lb 
{3/i2   2/i2   1/i2   0/i2   3/i1   2/i1   1/i1   0/i1   3/i   2/i   1/i   0/i} 
.le 
with durations 
.lb 
{ 58   64   71   78   83   92   101   112   118   131   144   159}, 
.le 
because segments i1 and i2 are sound-equivalents to it. 
duration assignment is a matter of selecting elements from the 
duration-set whose total duration is as close as possible to that desired 
for the segment. 
it happens that votrax deals sensibly with concatenations of more than one 
identical plosive, suppressing the stop burst on all but the last. 
although the general problem of approximating durations in 
this way is computationally demanding, a simple recursive exhaustive search 
works in a reasonable amount of time because the desired duration is usually 
not very much greater than the longest member of the duration-set, and so 
the search terminates quite quickly. 
.pp 
at this point, the role of the parentheses which appear on the right-hand side 
of table 11.5 becomes apparent.  because durations are only associated with 
the input phonemes, which may each be expanded into several votrax 
segments, it is necessary to keep track of the segments which have descended 
from a single phoneme. 
target durations are simply spread equally across any parenthesized groups 
to which they apply. 
.pp 
having expanded durations, mapping pitches on to the sound segments is 
a simple matter.  the isp system for formant synthesizers (chapters 7 and 8) 
uses linear interpolation between pitch specifications, and the frequency which 
results for each sound segment needs to be converted to a votrax specification 
using the information in table 11.4. 
.pp 
after applying these procedures to the example utterance, it becomes 
.lb 
14/thv  14/i1  03/s  14/i1  04/z  04/d  04/j  33/ae  33/eh3  \c 
02/k  02/k  02/s  02/h1  01/ah2  01/.uh2  31/o2  31/u1  01/s  \c 
10/s  30/pa0  30/pa0  . 
.le 
in several places, shorter sound-equivalents have been substituted 
(i1 for i, ah2 for ah1, o2 for o, and u1 for u), while doubling-up also occurs 
(in the k, s, and pa0 segments). 
.pp 
the speech which results from the use of these procedures with the 
votrax synthesizer sounds remarkably similar to that generated by the 
isp system which uses 
parametrically-controlled synthesizers.  formal evaluation experiments have 
not been undertaken, but it seems clear from careful listening that it would 
be rather difficult, and probably pointless, to evaluate the votrax conversion 
algorithm, for the outcome would be completely dominated by the success of the 
original pitch and rhythm assignment procedures. 
.sh "11.3  linear predictive synthesizer" 
.pp 
the first single-chip speech synthesizer was introduced by 
texas instruments (ti) in the summer of 1978 (wiggins and brantingham, 1978). 
.[ 
wiggins brantingham 1978 
.] 
it was a remarkable development, combining recent advances in signal processing 
with the very latest in vlsi technology. 
packaged in the speak 'n spell toy (figure 11.7), it was a striking demonstration 
of imagination and prowess in integrated electronics. 
.fc "figure 11.7" 
it gave ti a long lead over its competitors and surprised many experts 
in the speech field. 
.eq 
delim @@ 
.en 
overnight, it seemed, digital speech technology had descended from 
research laboratories with their expensive and specialized equipment into 
a $50.00 consumer item. 
.eq 
delim $$ 
.en 
naturally ti did not sell the chip separately but only as part of their 
mass-market product; nor would they make available information on how to 
drive it directly. 
only recently when other similar devices appeared on the market did they 
unbundle the package and sell the chip. 
.rh "the speak 'n spell toy." 
the ti chip (tmc0280) uses the linear predictive method of synthesis, 
primarily because of the ease of the speech analysis procedure and the known 
high quality at low data rates. 
speech researchers, incidentally, sometimes scoff at what they perceive to be 
the poor quality of the toy's speech; but considering the data rate 
used (which averages 1200 bits per second of speech) it is remarkably good. 
anyway, i have never heard a child complain! \(em although it is not uncommon 
to misunderstand a word. 
two 128\ kbit read-only memories are used in the toy to hold data for about 
330 words and phrases \(em lasting between 3 and 4 minutes \(em of speech. 
at the time (mid-1978) these memories were the largest that were available 
in the industry. 
the data flow and user dialogue are handled by a microprocessor, 
which is the fourth lsi circuit in the photograph of figure 11.8. 
.fc "figure 11.8" 
.pp 
a schematic diagram of the toy is given in figure 11.9. 
.fc "figure 11.9" 
it has a small display which shows upper-case letters. 
(some teachers of spelling hold that the lack of lower case destroys 
any educational value that the toy may have.)  it 
has a full 26-key alphanumeric keyboard with 14 additional control keys. 
(this is the toy's achilles' heel, for the keys fall out after extended use. 
more recent toys from ti use an improved keyboard.)  the 
keyboard is laid out alphabetically instead of in qwerty order; possibly 
missing an opportunity to teach kids to type as well as spell. 
an internal connector permits vocabulary expansion with up to 14 more 
read-only memory chips. 
controlling the toy is a 4-bit microprocessor (a modified tms1000). 
however, the synthesizer chip does not receive data from the processor. 
during speech, it accesses the memory directly and only returns control 
to the processor when an end-of-phrase marker is found in the data stream. 
meanwhile the processor is idle, and cannot even be interrupted from the 
keyboard. 
moreover, in one operational mode ("say-it") the toy embarks upon a long 
monologue and remains deaf to the keyboard \(em it cannot even be turned off. 
any three-year-old will quickly discover that a sharp slap solves the problem! 
a useful feature is that the device switches itself off if unused for more 
than a few minutes. 
a fascinating account of the development of the toy from the point of view 
of product design and market assessment has been published 
(frantz and wiggins, 1981). 
.[ 
frantz wiggins 1981 
.] 
.rh "control parameters." 
the lattice filtering method of linear predictive synthesis (see chapter 6) 
was selected because of its good stability properties and guaranteed 
performance with small word sizes. 
the lattice has 10 stages. 
all the control parameters are represented as 10-bit fixed-point numbers, 
and the lattice operates with an internal precision of 14 bits (including 
sign). 
.pp 
there are twelve parameters for the device:  ten reflection coefficients, 
energy, and pitch. 
these are updated every 20\ msec. 
however, if 10-bit values were stored for each, a data rate of 120 bits 
every 20\ msec, or 6\ kbit/s, would be needed. 
this would reduce the capacity of the two read-only memory chips to well 
under a minute of speech \(em perhaps 65 words and phrases. 
but one of the desirable properties of the reflection coefficients 
which drive the lattice filter is that they are amenable to quantization. 
a non-linear quantization scheme is used, with the parameter data addressing 
an on-chip quantization table to yield a 10-bit coefficient. 
.pp 
table 11.6 shows the number of bits devoted to each parameter. 
.rf 
.in+0.3i 
.ta \w'repeat flag00'u +1.3i +0.8i 
.nr x0 \w'repeat flag00'+1.3i+\w'00'+(\w'size (10-bit words)'/2) 
\l'\n(x0u\(ul' 
.nr x1 (\w'bits'/2) 
.nr x2 (\w'quantization table'/2) 
.nr x3 0.2m 
parameter	\0\h'-\n(x1u'bits	\0\0\h'-\n(x2u'quantization table 
.nr x2 (\w'size (10-bit words)'/2) 
		\0\0\h'-\n(x2u'size (10-bit words) 
\l'\n(x0u\(ul' 
.sp 
energy	\04	\016	\v'\n(x3u'_\v'-\n(x3u'\z4\v'\n(x3u'_\v'-\n(x3u'  energy=0 means 4-bit frame 
pitch	\05	\032 
repeat flag	\01	\0\(em	\z1\v'\n(x3u'_\v'-\n(x3u'\z0\v'\n(x3u'_\v'-\n(x3u'  repeat flag =1 means 10-bit frame 
k1	\05	\032 
k2	\05	\032 
k3	\04	\016 
k4	\04	\016	\z2\v'\n(x3u'_\v'-\n(x3u'\z8\v'\n(x3u'_\v'-\n(x3u'  pitch=0 (unvoiced) means 28-bit frame 
k5	\04	\016 
k6	\04	\016 
k7	\04	\016 
k8	\03	\0\08 
k9	\03	\0\08 
k10	\03	\0\08	\z4\v'\n(x3u'_\v'-\n(x3u'\z9\v'\n(x3u'_\v'-\n(x3u'  otherwise 49-bit frame 
	__	___ 
.sp 
	49 bits	216 words 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in-0.3i 
.fg "table 11.6  bit allocation for speak 'n spell chip" 
there are 4 bits for energy, and 5 bits for pitch and the first two 
reflection coefficients. 
thereafter the number of bits allocated to reflection coefficients decreases 
steadily, for higher coefficients are less important for intelligibility 
than lower ones. 
(note that using a 10-stage filter is tantamount to allocating 
.ul 
no 
bits to coefficients higher than the tenth.)  with a 
1-bit "repeat" flag, whose role is discussed shortly, the frame size 
becomes 49 bits. 
updated every 20\ msec, this gives a data rate of just under 2.5\ kbit/s. 
.pp 
the parameters are expanded into 10-bit numbers by a separate quantization 
table for each one. 
for example, the five pitch bits address a 32-word look-up table which 
returns a 10-bit value. 
the transformation is logarithmic in this case, the lowest pitch being 
around 50 hz and the highest 190 hz. 
as shown in table 11.6, a total of 216 10-bit words suffices to hold all 
twelve quantization tables; and they are implemented on the synthesizer 
chip. 
to provide further smoothing of the control parameters, 
they are interpolated linearly from one frame to the next at eight points 
within the frame. 
.pp 
the raw data rate of 2.5\ kbit/s is reduced to an average of 1200\ bit/s 
by further coding techniques. 
firstly, if the energy parameter is zero the frame is silent, 
and no more parameters are transmitted (4-bit frame). 
secondly, if the "repeat" flag is 1 all reflection coefficients are held 
over from the previous frame, giving a constant filter but with the ability 
to vary amplitude and pitch (10-bit frame). 
finally, if the frame is unvoiced (signalled by the pitch value being zero) 
only four reflection coefficients are transmitted, because the ear is 
relatively insensitive to spectral detail in unvoiced speech (28-bit frame). 
the end of the utterance is signalled by the energy bits all being 1. 
.rh "chip organization." 
the configuration of the lattice filter is shown in figure 11.10. 
.fc "figure 11.10" 
the "two-multiplier" structure (chapter 6) is used, so the 10-stage filter 
requires 19 multiplications and 19 additions 
per speech sample. 
(the last operation in the reverse path at the bottom is not needed.)  since 
a 10\ khz sample rate is used, just 100\ $mu$sec are available for each 
speech sample. 
a single 5\ $mu$sec adder and a pipelined multiplier are implemented on 
the chip, and multiplexed among the 19 operations. 
the latter begins a new multiplication every 5\ $mu$sec, and finishes it 
40\ $mu$sec later. 
these times are within the capability of p-channel mos technology, 
allowing the chip to be produced at low cost. 
the time slot for the 20'th, unnecessary, filter multiplication is used 
for an overall gain adjustment. 
.pp 
the final analogue signal is produced by an 8-bit on-chip d/a converter 
which drives a 200 milliwatt speaker through an impedance-matching 
transformer. 
these constitute the necessary analogue low-pass desampling filter. 
.pp 
figure 11.11 summarizes the organization of the synthesis chip. 
.fc "figure 11.11" 
serial data enters directly from the read-only memories, although a control 
signal from the processor begins synthesis and another signal is returned 
to it upon termination. 
the data is decoded into individual parameters, which are used to address 
the quantization tables to generate the full 10-bit parameter 
values. 
these are interpolated from one frame to the next. 
the lower part of the figure shows the speech generation subsystem. 
an excitation waveform for voiced speech is stored in read-only 
memory and read out repeatedly at a rate determined by the pitch. 
the source for unvoiced sounds is hard-limited noise provided by a digital 
pseudo-random bit generator. 
the sound source that is used depends on whether the pitch value is zero 
or not:  notice that this precludes mixed excitation for voiced fricatives 
(and the sound is noticeably poor in words like "zee"). 
a gain multiplication is performed before the signal is passed through the 
lattice synthesis filter, described earlier. 
.sh "11.4  programmable signal processors" 
.pp 
the ti chip has a fixed architecture, and is destined forever 
to implement the same vocal tract model \(em a 10'th order lattice filter. 
a more recent device, the programmable digital signal processor 
(caldwell, 1980) from telesensory systems allows more flexibility 
in the type of model. 
.[ 
caldwell 1980 
.] 
it can serve as a digital formant synthesizer or a linear predictive 
synthesizer, and the order of model (number of formants, in the former case) 
can be changed. 
.pp 
before describing the pdsp, it is worth looking at an earlier microprocessor 
which was designed for digital signal processing. 
some industry observers have said that this processor, the intel 2920, 
is to the analogue design engineer what the first microprocessor was to 
the random logic engineer way back in the mists of time (early 1970's). 
.rh "the 'analogue microprocessor'." 
the 2920 is a digital microprocessor. 
however, it contains an on-chip d/a converter, which can be used in 
successive approximation fashion for a/d conversion under program control, 
and its architecture is designed to aid digital signal processing calculations. 
although the precision of conversion is 9 bits, internal arithmetic is 
done with 25 bits to accomodate the accumulation of round-off errors in 
arithmetic operations. 
an on-chip programmable read-only memory holds a 192-instruction program, 
which is executed in sequence with no program jumps allowed. 
this ensures that each pass through the program takes the same time, 
so that the analogue waveform is regularly sampled and processed. 
.pp 
the device is implemented in n-channel mos technology, which makes it 
slightly faster than the pmos speak 'n spell chip. 
at its fastest operating speed each instruction takes 400 nsec. 
the 192-instruction program therefore executes in 78.6\ $mu$sec, corresponding 
to a sampling rate of almost 13\ khz. 
thus the processor can handle signals with a bandwidth of 6.5\ khz \(em ample 
for high-quality speech. 
however, a special eop (end of program) instruction is provided which 
causes an immediate jump back to the beginning. 
hence if the program occupies less than 192 instructions, faster sampling 
rates can be used. 
for example, a single second-order formant resonance 
requires only 14 instructions and so can 
be executed at over 150\ khz. 
.pp 
despite this speed, the 2920 is only marginally capable of synthesizing 
speech. 
table 11.7 gives approximate numbers of instructions needed to do some 
subtasks for speech generation (hoff and li, 1980). 
.[ 
hoff li 1980 software makes a big talker 
.] 
.rf 
.nr x0 \w'parameter entry and data distribution0000'+\w'00000' 
.nr x1 \w'instructions' 
.nr x2 (\n(.l-\n(x0)/2 
.in \n(x2u 
.ta \w'parameter entry and data distribution0000'u 
\l'\n(x0u\(ul' 
.sp 
task	\0\0\0\0\0\h'-\n(x1u'instructions 
\l'\n(x0u\(ul' 
.sp 
parameter entry and data distribution	35\-40 
glottal pulse generation	\0\0\0\08 
noise generation	\0\0\011 
lattice section	\0\0\020 
formant filter	\0\0\014 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.in 0 
.fg "table 11.7  2920 instruction counts for typical speech subsystems" 
the parameter entry and data distribution procedure 
collects 10 8-bit parameters from a serial input stream, at a frame rate of 
100 frames/s. 
the parameter data rate is 8\ kbit/s, and the routine assumes that the 
2920 performs each complete cycle in 125\ $mu$sec to generate sampled speech 
at 8\ khz. 
therefore one bit of parameter data is accepted on every cycle. 
the glottal pulse program generates an asymmetrical triangular waveform 
(chapter 5), while the noise generator uses a 17-bit pseudo-random feedback 
shift register. 
about 30% of the 192-instruction program memory is consumed by these 
essential tasks. 
a two-multiplier lattice section takes 20 instructions, 
and so only six sections can fit into the remaining program space. 
it may be possible to use two 2920's to implement a complete 10 or 12'th 
order lattice, but the results of the first stage must be passed to the 
second by transmitting analogue or digital data between each of the 
2920's analogue ports \(em not a terribly satisfactory method. 
.pp 
since a formant filter occupies only 14 instructions, up to nine of them 
would fit in the program space left after the above-mentioned essential 
subsystems. 
although other necessary house-keeping tasks may reduce this number 
substantially, 
it does seem possible to implement a formant synthesizer on a single 2920. 
.rh "the programmable digital signal processor." 
whereas the 2920 is intended for general signal-processing jobs, 
telesensory systems' pdsp 
(programmable digital signal processor) is aimed specifically at speech 
synthesis. 
it comprises two separate chips, a control unit and an arithmetic unit. 
to build a synthesizer these must be augmented with external memory 
and a d/a converter, arranged in a configuration like that of figure 11.12. 
.fc "figure 11.12" 
.pp 
the control unit accepts parameter data from a host computer, one byte at a time. 
the data is temporarily held in buffer memory before being serialized and passed 
to the arithmetic unit. 
notice that for the 2920 we assumed that parameters were presented 
to the chip already serialized and precisely timed:  the pdsp control unit 
effectively releases the host from this high-speed real-time operation. 
but it does more. 
it generates both a voiced and an unvoiced excitation source and passes them 
to the arithmetic unit, to relieve the latter of the general-purpose 
programming required for both these tasks and allow its instruction set 
to be highly specialized for digital filtering. 
.pp 
the arithmetic unit has rather a peculiar structure. 
it accomodates only 16 program steps and can execute the full 16-instruction 
program at a rate of 10\ khz. 
the internal word-length is 18 bits, but coefficients and the digital output 
are only 10 bits. 
each instruction can accomplish quite a lot of work. 
figure 11.13 shows that there are four separate blocks of store in addition 
to the program memory. 
.fc "figure 11.13" 
one location of each block is automatically associated with each program step. 
thus on instruction 2, for example, two 18-bit scratchpad registers ma(2) 
and mb(2), and two 10-bit coefficient registers a1(2) and a2(2), are 
accessible. 
in addition five general registers, curiously numbered r1, r2, r5, r6, r7, 
are available to every program step. 
.pp 
each instruction has five fields. 
a single instruction loads all the general registers and simultaneously 
performs two multiplications and up to three additions. 
the fields specify exactly which operands are involved in these operations. 
.pp 
the instructions of the pdsp arithmetic unit are really very powerful. 
for example, a second-order digital formant resonator requires only 
two program steps. 
a two-multiplier lattice stage needs only one step, and 
a complete 12-stage lattice filter can be implemented in the 16 steps available. 
an important feature of the architecture is that it 
is quite easy to incorporate more than one 
arithmetic unit into a system, with a single control unit. 
intermediate data can be transferred digitally between arithmetic units 
since the d/a converter is off-chip. 
a four-multiplier normalized lattice (chapter 6) with 12 stages can be implemented 
on two arithmetic units, as can a lattice filter which incorporates zeros 
as well as poles, and a complex series/parallel formant synthesizer 
with a total of 12 resonators whose centre frequencies and bandwidths 
can be controlled independently (klatt, 1980). 
.[ 
klatt 1980 
.] 
.pp 
how this device will fare in actual commercial products is yet to be seen. 
it is certainly much more sophisticated than the ti speak 'n spell chip, 
and a complete system will necessitate a much higher chip count and consequently 
more expense. 
telesensory systems are committed to producing a text-to-speech 
system based upon it 
for use both in a reading machine for the blind and as a text-input 
speech-output computer peripheral. 
.sh "11.5  references" 
.lb "nnnn" 
.[ 
$list$ 
.] 
.le "nnnn" 
.bp 
.ev2 
.ta \w'\fisilence\fr 'u +\w'.eh100'u +\w'(used to change amplitude and duration)00'u +\w'00000000000test word'u 
.nr x0 \w'\fisilence\fr '+\w'.eh100'+\w'(used to change amplitude and duration)00'+\w'00000000000test word' 
\l'\n(x0u\(ul' 
.sp 
.nr x1 (\w'votrax'/2) 
.nr x2 (\w'duration (msec)'/2) 
.nr x3 \w'test word' 
	\h'-\n(x1u'votrax		\0\h'-\n(x2u'duration (msec)	\h'-\n(x3u'test word 
\l'\n(x0u\(ul' 
.sp 
.nr x3 \w'hid' 
\fii\fr	i		118	\h'-\n(x3u'hid 
	i1	(sound equivalent of i)	\083 
	i2	(sound equivalent of i)	\058 
	i3	(allophone of i)	\058 
	.i3	(sound equivalent of i3)	\083 
	ay	(allophone of i)	\065 
.nr x3 \w'head' 
\fie\fr	eh		118	\h'-\n(x3u'head 
	eh1	(sound equivalent of eh)	\070 
	eh2	(sound equivalent of eh)	\060 
	eh3	(allophone of eh)	\060 
	.eh2	(sound equivalent of eh3)	\070 
	a1	(allophone of eh)	100 
	a2	(sound equivalent of a1)	\095 
.nr x3 \w'had' 
\fiaa\fr	ae		100	\h'-\n(x3u'had 
	ae1	(sound equivalent of ae)	100 
.nr x3 \w'hod' 
\fio\fr	aw		235	\h'-\n(x3u'hod 
	aw2	(sound equivalent of aw)	\090 
	aw1	(allophone of aw)	143 
.nr x3 \w'hood' 
\fiu\fr	oo		178	\h'-\n(x3u'hood 
	oo1	(sound equivalent of oo)	103 
	iu	(allophone of oo)	\063 
.nr x3 \w'hud' 
\fia\fr	uh		103	\h'-\n(x3u'hud 
	uh1	(sound equivalent of uh)	\095 
	uh2	(sound equivalent of uh)	\050 
	uh3	(allophone of uh)	\070 
	.uh3	(sound equivalent of uh3)	103 
	.uh2	(allophone of uh)	\060 
.nr x3 \w'hard' 
\fiar\fr	ah1		143	\h'-\n(x3u'hard 
	ah2	(sound equivalent of ah1)	\070 
.nr x3 \w'hawed' 
\fiaw\fr	o		178	\h'-\n(x3u'hawed 
	o1	(sound equivalent of o)	118 
	o2	(sound equivalent of o)	\083 
	.o	(allophone of o)	178 
	.o1	(sound equivalent of .o)	123 
	.o2	(sound equivalent of .o)	\090 
.nr x3 \w'who d' 
\fiuu\fr	u		178	\h'-\n(x3u'who'd 
	u1	(sound equivalent of u)	\090 
.nr x3 \w'heard' 
\fier\fr	er		143	\h'-\n(x3u'heard 
.nr x3 \w'heed' 
\fiee\fr	e		178	\h'-\n(x3u'heed 
	e1	(sound equivalent of e)	118 
\fir\fr	r		\090 
	.r	(allophone of r)	\050 
\fiw\fr	w		\083 
	.w	(allophone of w)	\083 
\l'\n(x0u\(ul' 
.sp3 
.ce 
table 11.2  votrax sound segments and their durations 
.bp 
\l'\n(x0u\(ul' 
.sp 
.nr x1 (\w'votrax'/2) 
.nr x2 (\w'duration (msec)'/2) 
.nr x3 \w'test word' 
	\h'-\n(1u'votrax		\0\h'-\n(x2u'duration (msec)	\h'-\n(x3u'test word 
\l'\n(x0u\(ul' 
.sp 
\fil\fr	l		105 
	l1	(allophone of l)	105 
\fiy\fr	y		103 
	y1	(allophone of y)	\083 
\fim\fr	m		105 
\fib\fr	b		\070 
\fip\fr	p		100 
	.ph	(aspiration burst for use with p)	\088 
\fin\fr	n		\083 
\fid\fr	d		\050 
	.d	(allophone of d)	\053 
\fit\fr	t		\090 
	dt	(allophone of t)	\050 
	.s	(aspiration burst for use with t)	\070 
\fing\fr	ng		120 
\fig\fr	g		\075 
	.g	(allophone of g)	\075 
\fik\fr	k		\075 
	.k	(allophone of k)	\080 
	.x1	(aspiration burst for use with k)	\068 
\fis\fr	s		\090 
\fiz\fr	z		\070 
\fish\fr	sh		118 
	ch	(allophone of sh)	\055 
\fizh\fr	zh		\090 
	j	(allophone of zh)	\050 
\fif\fr	f		100 
\fiv\fr	v		\070 
\fith\fr	th		\070 
\fidh\fr	thv		\070 
\fih\fr	h		\070 
	h1	(allophone of h)	\070 
	.h1	(allophone of h)	\048 
\fisilence\fr	pa0		\045 
	pa1		175 
	.pa1		\0\05 
 
	.pa2 (used to change amplitude and duration)	\0\0\- 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.sp3 
.ce 
table 11.2  (continued) 
.bp 
.ta 0.8i +2.6i +\w'(ah1 .uh2)  (o u)000'u 
.nr x0 0.8i+2.6i+\w'(ah1 .uh2)  (o u)000'+\w'; i uh  \- here' 
\l'\n(x0u\(ul' 
.sp 
vowel clusters 
	eh i	a1 ay	; e i  \- hey 
	uh oo	o u	; uh u  \- ho 
	ae i	(ah1 eh3) i	; aa i  \- hi 
	ae oo	(ah1 .uh2) (o u)	; aa u  \- how 
	aw i	(o uh) e	; o i  \- hoi 
	i uh	e i	; i uh  \- here 
	eh uh	(eh a1) eh	; e uh  \- hair 
	oo uh	oo uh	; u uh  \- poor 
	y u	y1 (iu u) 
.sp 
vowel transitions 
	{f m b p} o	(.o1 o) 
	{l r} eh	(eh3 eh) 
	{b k t d r} uh	(uh3 uh) 
	{t d} a1	(eh3 a1) 
	{t d} aw	(ah1 aw) 
	{w} i	(i3 i) 
	{g sh w k} oo	(iu oo) 
	ay {k g t d}	(ay y) 
	e {m t}	(e y) 
	i {m t}	(i y) 
	e {l}	(i3 uh) 
	eh {r n s d t}	(eh eh3) 
	i {r t}	(i i3) 
	ae {s n}	(ae eh) 
	ae {k}	(ae eh3) 
	a1 {r}	(a1 eh1) 
	ah1 {r p k}	(ah1 uh) 
	ah1 {zh}	(ah1 eh3) 
.sp 
intervocalics 
	{voiced} t {voiced}	dt 
.sp 
consonant transitions 
	l {eh}	l1 
	h {u oo iu}	h1 
\l'\n(x0u\(ul' 
.sp3 
.ce 
table 11.5  contextual rules for votrax sound segments 
.bp 
\l'\n(x0u\(ul' 
.sp 
consonant clusters 
	b {stop-consonant}	(b pa0) 
	p {stop-consonant}	(p pa0) 
	d {stop-consonant}	(d pa0) 
	t {stop-consonant}	(t pa0) 
	dt {stop-consonant}	(t pa0) 
	g {stop-consonant}	(g pa0) 
	k {stop-consonant}	(k pa0) 
	{d t} r	(.x1 r) 
	k r	.k (.x1 r) 
	{consonant} r	.r 
	{consonant} l	l1 
	k w	.k .w 
	d zh	d j 
	t sh	t ch 
.sp 
initial effects 
	{.syll} p {vowel}	(p .ph) 
	{.syll} k {vowel}	(k .h1) 
	{.syll} t {vowel}	(t .s) 
	{.syll} l	l1 
	{.syll} h {u oo o aw ah1}	h1 
.sp 
terminal effects 
	e {pa0}	(e y) 
\l'\n(x0u\(ul' 
.ta 0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i +0.8i 
.sp3 
.ce 
table 11.5  (continued) 
.ev 
#! rnews 1312 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!strath-cs!jml 
from: jml@cs.strath.ac.uk (joseph mclean) 
newsgroups: sci.math 
subject: the extendability of digit sequences into primes 
message-id: <753@stracs.cs.strath.ac.uk> 
date: 2 dec 87 10:36:33 gmt 
reply-to: jml@cs.strath.ac.uk (joseph mclean) 
organization: comp. sci. dept., strathclyde univ., scotland. 
lines: 19 
 
is the following conjecture reasonable and/or provable? : 
 
given a sequence of digits, starting with a non-zero digit, of arbitrary 
but finite length, is it always possible to extend this sequence by 
appending more digits, in such a way as to form a prime? 
 
e.g. the sequence 1 can be extended into a prime in an infinite number 
of ways, as in 13, 17, 19, 101, 1231, 1579, etc (there an infinite 
number of primes beginning with a 1 by bertrand's postulate). 
however, it is far more difficult to try and locate a prime which 
starts with the sequence 1528296922945708 (although at least one is known). 
 
my personal opinion is that the conjecture is reasonable, simply because 
one can keep adding digits at the end and checking for primality ad 
infinitum, and the law of averages will do the rest. of course this is 
totally groundless mathematically, so can anyone provide a heuristic 
argument with more weight? 
 
        jml, the mad mathematician. 
#! rnews 3077 
path: alberta!mnetor!uunet!husc6!psuvax1!burdvax!bigburd!fritzson 
from: fritzson@bigburd.prc.unisys.com (richard fritzson) 
newsgroups: comp.editors 
subject: re: lisp environments (structure vs. text editors) 
message-id: <3375@bigburd.prc.unisys.com> 
date: 14 dec 87 02:11:18 gmt 
references: <487@pt.cs.cmu.edu> <460@cresswell.quintus.uucp> <499@pt.cs.cmu.edu> 
sender: news@bigburd.prc.unisys.com 
organization: unisys corporation, paoli research center; paoli, pa 
lines: 56 
 
in article <499@pt.cs.cmu.edu> ralphw@ius2.cs.cmu.edu (ralph hyre) writes: 
>in article <460@cresswell.quintus.uucp> pds@quintus.uucp (peter schachte) writes: 
>>text editors cannot simulate structure editors.  they can do a rather 
>>feeble job of it.  text editors fall down when context information is 
> 
>i disagree - a programmable text editor can do anything you want.  this is 
>because it's programmable.  whether you're happy with the performance or a 
 
sure it can do anything. the best way for a programmable text editor to 
simulate a structure editor would be for it to build an internal  
representation (or structure) or what was really being edited and then  
use its text manipulating primitives to show the user the effect of his  
editing commands on the structure that is "really" being edited. now you've 
shown that mocklisp (for example) is a language in which you can implement 
a structure editor. i doubt if it is the best way to do it though. 
 
>>...for example:  a structure editor can supply different commands, different 
>>facilities, for editing comments and code. 
>seems like there's the potential here for moby modefulness.  i can't see 
>why i would want different commands when i edit code compared with comments. 
 
i don't know about "commands", but common lisp comments are nothing 
like common lisp code (much to the shame of common lisp). i want the 
characters i type in as comments treated differently than those i type in  
as parts of s-expressions. 
 
>my interest is in an pseudo-wysiwyg editor which gives you the option 
>of entering/editing text without formatting attributes, then optionally  
>displaying the text with them. <...>this sort of decoupling between editing a 
>document and a representation of a document could even be used to great 
>advantage in many environments: 
 
you're right. an editor which is really editing the structure underlying 
the visual presentation of it is a useful thing.  
 
>	a program code editor might actually be showing you variable names, 
>	statements, and s-expressions while it is really writing the p-code 
>	(or .lbin file) on the fly. 
>	this could result in 'instant' language interpreter facilities and  
>	fast compilers. 
>	[i admit that this might be hairy to program in mocklisp.] 
 
but it is one of the reasons xerox structure editor fans are fans. 
 
>[disclaimer: i've never used a 'structure editor'  
 
no offense intended, but i could tell. if you write any lisp you should 
look for an opportunity to try sedit on a d-machine. 
 
 
 
 
--  
	-rich fritzson 
	 arpa: fritzson@prc.unisys.com 
	 uucp: {sdcrdcf,psuvax1,cbmvax}!burdvax!fritzson 
#! rnews 3135 
path: alberta!mnetor!uunet!husc6!cmcl2!brl-adm!umd5!ames!sdcsvax!sdcc6!loral!dml 
from: dml@loral.uucp (dave lewis) 
newsgroups: rec.arts.movies 
subject: re: live action amber films 
summary: use zelazny's descriptions! 
message-id: <1496@loral.uucp> 
date: 14 dec 87 06:41:04 gmt 
references: <349@morningdew.bbn.com> <2620001@hpcvlx.hp.com> 
reply-to: dml@loral.uucp (dave lewis) 
followup-to: rec.arts.movies 
distribution: na 
organization: loral instrumentation, san diego 
lines: 59 
 
in article <2620001@hpcvlx.hp.com> markc@hpcvlx.hp.com (mark cook) writes: 
>>/ hpcvlx:rec.arts.movies / dkovar@lf-server-2.bbn.com (david kovar) /  7:07 am  dec  9, 1987 / 
>> 
>>  well, someone else was wondering who would be the actors in a tolkien 
>>film which brought to mind a favorite question of mine from a few years 
>>back: who would play the parts of a amber film? i used to have the 
 
>>corwin: mel gibson 
 
jonathan pryce. from "something wicked this way comes". 
 
>  even better, how about timothy dalton (james bond isn't the only thing he 
 
>>brand: (who's the guy from kiss who was in runaway?) 
 
>  you mean gene simmons.  well, he could play the part but he has to look like 
 
  no way. brand is "a figure both like bleys and myself. my features, though 
smaller, my eyes, bleys' hair. there was a quality of both strength and weak- 
ness, questing and abandonment about him." this is corwin speaking, of course. 
 
  and bleys is "a fiery bearded, flame-crowned man, dressed all in red and 
orange, mainly of silk stuff, and he held a sword in his right hand and a 
glass of wine in his left, and the devil himself danced behind his eyes, as 
blue as flora's, or eric's. his chin was slight, but the beard covered it." 
 
  i can't think of anyone offhand for either part, but i nominate gene simmons 
to play caine: "then came the swarthy, dark-eyed countenance of caine, dressed 
all in satin that was black and green, wearing a dark three-cornered hat set 
at a rakish angle, a green plume of feathers trailing down the back." (yeah, 
i got "nine princes in amber" lying right next to the keyboard here) 
 
  random: "a wily-looking little man, with a sharp nose and a laughing mouth 
and a shock of straw-colored hair." how about dudley moore (with his hair 
bleached, of course). 
 
  dierdre: "a black-haired girl with [flora's] blue eyes, and her hair hung 
long and she was dressed all in black, with a girdle of silver about her 
waist." lee meriwether or kate jackson. 
 
  fiona: "with hair like bleys or brand, [corwin's] eyes, and a complexion 
like mother of pearl.  ann-margret! 
 
  that's all for now; if people are interested i can type in the whole 2-1/2 
pages of descriptions so we'll really have something to argue over. 
 
------------------------------- 
          dave lewis    loral instrumentation   san diego 
 
  hp-sdd --\     ihnp4 --\ 
  sdcrdcf --\      bang --\   kontron -\ 
  csndvax ---\   calmasd -->-->!crash --\ 
  celerity --->------->!sdcsvax!sdcc3 --->--->!loral!dml  (uucp) 
  dcdwest ---/                 gould9 --/ 
 
  "i'm alive and he's dead and that's the way i wanted it." 
   -- corwin, about borel 
 
------------------------------- 
#! rnews 2421 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!strath-cs!jim 
from: jim@cs.strath.ac.uk (jim reid) 
newsgroups: comp.mail.headers 
subject: re: rfc976 vs. the real world... 
message-id: <754@stracs.cs.strath.ac.uk> 
date: 2 dec 87 12:51:51 gmt 
references: <18533@amdahl.amdahl.com> 
reply-to: jim@cs.strath.ac.uk 
organization: comp. sci. dept., strathclyde univ., scotland. 
lines: 40 
 
in article <18533@amdahl.amdahl.com> tron@uts.amdahl.com (ronald s. karr) writes: 
>some introduction: 
>however, we have conflicting ideas concerning what to do with sender 
>addresses in headers.  we do, now, support the idea that a pure !-path 
>coming in can be left as a !-path, with the current hostname prepended 
>(this is optional and is a function of the destination).  however, 
>should i ever produce, in mail originated locally, a from: line in the 
>following form? 
> 
>	from: localhost!username 
 
the answer is perhaps. in an ideal world, everyone will adhere to one 
standard for mail headers - rfc822 possibly, but x.400 is more likely. 
until that glorious day arrives (if it ever does), mailers at the mail 
'gateways' between networks will have little option but to munge 
addresses because of incompatible mail headers and addressing formats. 
 
what you mail system should do is rewrite mail headers into the 
appropriate form for transmission to a given host. in short, if your 
uucp neighbours only understand bang-style addresses, you mailer should 
only present bang-style paths to these sites. if some sites understand 
rfc822 (user@host.domain), then you should send them rfc822 style mail. 
what would be less easy for the mailer is separating your bang-stlye 
uucp neighbours from those who understand rfc822. 
 
the best mailers (mmdf or sendmail - no flames please!) take an input 
address, convert it to a canonical form and then rewrite the address in 
the appropriate style for the message transfer agent. this is the most 
sensible way of dealing with hybrid addresses like a!b@c. [does that 
mean send by uucp to a for relaying to user b on host c or does it mean 
send to c for them to relay to user b on uucp host a? then what if c 
(or a) doesn't like addresses with '!' (or '@') signs in them?] 
 
		jim 
--  
arpa:	jim%cs.strath.ac.uk@ucl-cs.arpa, jim@cs.strath.ac.uk 
uucp:	jim@strath-cs.uucp, ...!seismo!mcvax!ukc!strath-cs!jim 
janet:	jim@uk.ac.strath.cs 
 
"janet domain ordering is swapped around so's there'd be some use for rev(1)!" 
#! rnews 3873 
path: alberta!mnetor!uunet!husc6!cmcl2!brl-adm!umd5!ames!sdcsvax!sdcc6!loral!dml 
from: dml@loral.uucp (dave lewis) 
newsgroups: rec.arts.sf-lovers 
subject: re: one more long-gone show 
summary: what s. f. movies should be 
keywords: questor 
message-id: <1497@loral.uucp> 
date: 14 dec 87 06:45:22 gmt 
references: <1672@bsu-cs.uucp> 
reply-to: dml@loral.uucp (dave lewis) 
followup-to: rec.arts.sf-lovers 
distribution: na 
organization: loral instrumentation, san diego 
lines: 64 
 
in article <1672@bsu-cs.uucp> cfchiesa@bsu-cs.uucp (christopher f. chiesa) writes: 
>anyone remember a movie called _the_questor_tapes_ ?  basic premise: gov't 
>project constructs an android according to eccentric scientist's specs; and- 
 
>c.chiesa 
 
  yea, verily, i recall the questor tapes. i've forgotten the scientist's 
name, but he was a very rich and secretive genius known for several major 
advances in robotics and cybernetics. about 2 years previous to the start 
of the movie, he had disappeared, leaving only a partially completed project 
he called questor. much of the work was complete, including a small fusion 
reactor, most of the brain, and a lot of the support machinery. he also left 
a big mag tape of programs, which some government idiot had partially erased 
while trying to decode it. questor, when activated, did nothing; the team 
that assembled him figured it was because of the bad tape. 
 
  late that night, questor got up, used the 'finishing' molds to give himself 
human features, and walked out. the scientist had known one member of the 
questor-assembly team and put his name and address on the program tape; by 
good fortune it had survived the attempted decoding. questor knows only that 
he must find `a boat' -- other details have been erased. 
 
  the government catches up with them in a playground and some fool shoots 
questor. apparently the shock knocks some bits loose because when he sees 
a jungle gym that looks like noah's ark he remembers, "the boat, the boat 
of legend. [whatsisname] is waiting for me there." he also remembers that 
if he doesn't find the scientist within about two days, his fusion power 
supply is programmed to overload and blow up. 
 
  they patch him up and he leads them a merry chase to mt. ararat where he 
finds his creator in a cave hidden by a force barrier/hologram projection. 
there is a long row of metallic slabs suspended about a meter above the 
floor; on each lies a defunct robot. each one wears clothing from a time 
far earlier than the next. questor's creator lies on the second to last 
slab, still conscious but unable to move. 
 
  these robots have been watching over the human race for more than ten 
thousand years. each one lasts two hundred years, then builds his successor. 
questor's predecessor was brought to an early end by some combination of 
pollution and radiation exposure; he has provided questor with extra 
shielding so he will last the full two centuries. 
 
  questor is the last. by the end of his term, the human race will have 
reached a point where we can make our own decisions without guidance. 
the robots were placed here by some advanced aliens to see us through our 
racial childhood, to allow us a chance to mature and achieve whatever 
potential we have. 
 
  the questor tapes was an excellent movie, one makers of more recent films 
should take a lesson from. very few other movies have impressed me as much 
as "2001: a space odyssey" and "the questor tapes". they show up the likes 
of"close encounters of the third kind" and "e.t." for the vapid silliness 
they are. 
 
------------------------------- 
          dave lewis    loral instrumentation   san diego 
 
  hp-sdd --\     ihnp4 --\ 
  sdcrdcf --\      bang --\   kontron -\ 
  csndvax ---\   calmasd -->-->!crash --\ 
  celerity --->------->!sdcsvax!sdcc3 --->--->!loral!dml  (uucp) 
  dcdwest ---/                 gould9 --/ 
 
------------------------------- 
#! rnews 1384 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: rec.arts.sf-lovers 
subject: re: m. john harrison 
message-id: <1560@brahma.cs.hw.ac.uk> 
date: 2 dec 87 18:20:17 gmt 
references: <1950@charon.unm.edu> 
reply-to: jack@cs.glasgow.ac.uk (jack campin) 
organization: pisa project, glesga yoonie 
lines: 23 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
 
 
 
[ignore the above address and use my signature] 
 
 
by far the best thing i have read by mjh is a long short story called 
"running down", about a man with unwanted psychic powers that cause things 
to malfunction, decay and fall apart around him. it is set in a britain 
in the near future of when the story was written (i.e. about now) in which 
the whole society reflects a similar dingy, pointless chaos - remarkably 
like britain after 8 years of thatcher, in fact. 
he's very good at describing that sort of situation - his novel "the centauri 
device" does it at length, though his suggested political solution is bloody 
stupid. his understanding of anarchism is about on a level with robert anton 
wilson's. 
 
- jack 
 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 1188 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: rec.music.classical 
subject: re: tippett 
message-id: <1561@brahma.cs.hw.ac.uk> 
date: 2 dec 87 18:38:20 gmt 
references: <1950@bath63.ux63.bath.ac.uk> 
reply-to: jack@cs.glasgow.ac.uk (jack campin) 
organization: pisa project, glesga yoonie 
lines: 15 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
 
 
[ignore the above email address and use my signature] 
tippett moved on a long way musically after "a child of our time". 
i believe his masterpiece is the triple concerto for violin, viola and cello. 
there is a wonderful recording of it by pauk, imai and kirschbaum with the lso 
under davis. 
a problem i find with a lot of his music is the silly words. the man really 
shouldn't have tried writing his own libretti that often. 
i believe he's got another opera in the pipeline, due for its premiere in the 
next few months. 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 894 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!jg 
from: jg@eagle.ukc.ac.uk (j.grant) 
newsgroups: comp.sys.mac 
subject: the spinning watch cursor 
message-id: <4023@eagle.ukc.ac.uk> 
date: 3 dec 87 14:59:09 gmt 
reply-to: jg@ukc.ac.uk (j.grant) 
organization: computing lab, university of kent at canterbury, uk. 
lines: 11 
 
ok - i've changed my spinning watch back into the lovely sand-timer 
(remember the good old days?);  i've changed the curs resource in the 
finder and also in the system so that i have various quantities 
of sand in the top & bottom, but there is still a watch lurking! 
 
more precisely, where does the watch that says 9 o'clock live, as 
now i get the magic watch followed by the sand1->7, then the watch 
again as the cycle repeats.  this only happens in the finder, so i 
suspect that there must be a watch lurking elsewhere, but where? 
 
ps. system 4.2b(5?) & finder 6.0 (mac 512ke) 
#! rnews 3539 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!csnjr 
from: csnjr@its63b.ed.ac.uk (nick rothwell) 
newsgroups: rec.music.synth,rec.music.makers 
subject: casio mg500, roland mt-32, midi bug? [long] 
summary: where's the midi bug in this lot?: 
keywords: mg500 mt-32 midi 
message-id: <805@its63b.ed.ac.uk> 
date: 3 dec 87 13:10:56 gmt 
reply-to: nick%ed.lfcs@uk.ac.ucl.cs.nss (nick rothwell) 
organization: lfcs, university of edinburgh 
lines: 46 
xref: alberta rec.music.synth:1879 rec.music.makers:1070 
 
last weekend a friend and i strolled into a music shop and ended up playing 
with the new casio mg500 midi guitar linked into a roland mt-32. i don't 
play guitar, and was just along for the curiosity, but i've got a few comments 
to make and a question about what i consider to be a midi bug in one of the 
instruments. 
   firstly - the performance of the mg500. i wasn't actually playing it (i was 
just pushing buttons on the mt-32 instead), but i was impressed with its 
speed and tracking ability - it was fast and followed pitch accurately, 
responding to pitch bend and so on; it generally sounded pretty tight. 
there were a couple of things i didn't like - but maybe it's a generic 
weakness of all guitar-to-midi systems. firstly, the guitar transmits 
velocity information (hit the string harder -> louder/brighter note), but 
gives no control (other than pitch-bend) once a note's sounding - there's 
nothing equivalent to aftertouch/modulation so once a note sounds you're 
at the mercy of the synth until you stop the string. 
point two - you've got six strings, so you can only sound six synth voices. 
this is probably obvious, but playing a guitar patch through midi doesn't 
sound like a real guitar, because each touch of a string retriggers the voice 
on that string, sometimes in a rather distracting way. on a real (classical) 
guitar you have the resonance of the soundbox to hang on to notes so you 
aren't aware of this (i presume - comments?) 
now for what is (in my opinion) a midi bug! play two different notes on 
two strings and you get two voices - ok so far. play the same note on two 
different strings and you get one voice. humm. play two different notes on 
two strings and slide one note up to the other, and one of the voices is 
chopped off. i think this is a bug - something somewhere doesn't want to 
the same note more than once. needless to say, this completely screws up 
a number of guitar chords. 
   we mentioned this to the guy in the shop. he seemed convinced that it's 
a problem with the midi spec. itself - if you play a keyboard synth, you 
have to release the middle c key to play it again, don't you? i think this 
is a load of dingos kidneys - if i send my d-50 two separate middle c 
note on messages, then i'll get two voices cycling through the envelopes at 
middle c pitch. this is what happens with the sustain pedal on, as well. 
   what's the verdict, net people? i think the guy was wrong (quite adamant, 
but wrong...) and there's a bug in one of the boxes. i suspect the mg500. 
if the mt-32 is anything like the d-50, then it doesn't care about playing 
the same note twice. (a quick note in passing that synths with less voices 
(juno106 for instance) often won't double a voice, in an attempt to play 
chords properly without running out.) 
--  
nick rothwell,	laboratory for foundations of computer science, edinburgh. 
		nick%lfcs.ed.ac.uk@nss.cs.ucl.ac.uk 
		<atlantic ocean>!mcvax!ukc!lfcs!nick 
~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ 
"nothing's forgotten. nothing is ever forgotten."   - herne 
#! rnews 1505 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!bath63!pes 
from: pes@ux63.bath.ac.uk (smee) 
newsgroups: comp.sys.atari.st 
subject: re: resource file question 
keywords: resource mwc rcs .rsc dri c 
message-id: <1963@bath63.ux63.bath.ac.uk> 
date: 3 dec 87 10:33:26 gmt 
references: <1592@wiley.uucp> 
reply-to: pes@ux63.bath.ac.uk (smee) 
organization: aucc c/o university of bath 
lines: 19 
 
 
you might try looking to see if k-resource is still available (by kuma software, 
who else?).  it's been out a long while.  it's now available bundled with some 
of the metacomco stuff (in particular the new lattice c) but i believe that 
kuma still do it separately as well.  don't have a clue what it costs, but 
must be cheaper than a new compiler. 
 
it produces (by switch option) appropriate 'include' type files for c, 
fortran, and 2 other languages which i've conveniently forgotten -- in 
addition to the expected .rsc file.  will also produce a 'non-specific 
structured description' file (they say, i've never tried this) which is 
alleged to be pretty easy to massage into an appropriate 'include' for 
any unsupported language you might like. 
 
the documentation is written in a bit of a 'too-folksy' style for my liking, 
but the program is pretty intuitive to use which makes up for some of that. 
it does, however, assume that you have some sort of a clue as to what the 
various resource items/flags mean and do -- it doesn't teach you how to use 
rsc files or what they mean, but rather gives a handle for making them. 
#! rnews 1258 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!neil 
from: neil@cs.hw.ac.uk (neil forsyth) 
newsgroups: comp.sys.atari.st 
subject: bug in bets test gulam 
keywords: none 
message-id: <1562@brahma.cs.hw.ac.uk> 
date: 3 dec 87 09:46:32 gmt 
organization: computer science, heriot-watt u., scotland 
lines: 28 
 
 
i think i have found a bug in the latest version of gulam. 
 
         alias test 'echo $<' 
 
produces a couple of spurious charcters on the input line. 
 
         $<%& 
 
the characters are usually above $80. the alpha version didn't do this. 
i just delete them by backspacing anyway. 
 
         echo $< 
 
by itself works fine. 
 
------------------------------------------------------------------------------- 
"i think all right thinking people in this country are sick and tired of being 
told that ordinary decent people are fed up in this country with being sick and 
tired. i'm certainly not and i'm sick and tired of being told that i am!" 
- monty python 
 
 neil forsyth                           janet:  neil@uk.ac.hw.cs 
 dept. of computer science              arpa:   neil@cs.hw.ac.uk 
 heriot-watt university                 uucp:   ..!ukc!cs.hw.ac.uk!neil 
 edinburgh 
 scotland 
------------------------------------------------------------------------------- 
#! rnews 1009 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: comp.sys.mac 
subject: re: how strong of a magnet? 
message-id: <1564@brahma.cs.hw.ac.uk> 
date: 3 dec 87 18:59:42 gmt 
references: <9554@shemp.ucla.edu> 
reply-to: jack@cs.glasgow.ac.uk (jack campin) 
organization: pisa project, glesga yoonie 
lines: 12 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
 
 
[ignore the above email address and use my signature] 
this may be an foaf story (urban folklore) but i have heard that the mag-lev 
train at birmingham airport lets enough field into the passenger compartment 
to wipe floppies. 
then again, i have also heard that story about ordinary underground railways 
and it certainly isn't true of them. 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 988 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!csan 
from: csan@its63b.ed.ac.uk (andie) 
newsgroups: comp.sys.atari.st 
subject: re: resource file question 
keywords: kuma 
message-id: <808@its63b.ed.ac.uk> 
date: 3 dec 87 23:08:12 gmt 
references: <1592@wiley.uucp> <1298@saturn.ucsc.edu> 
reply-to: csan@its63b.ed.ac.uk (andie) 
organization: computer science department, edinburgh university 
lines: 14 
 
in article <1298@saturn.ucsc.edu> koreth@ssyx.ucsc.edu (steven grimm) writes: 
> 
>kuma software makes the best resource editor i've seen.  it's called 
>"k-resource" and is a really friendly, well-thought-out piece of software. 
> 
i am in total agreement here. i use it in preference to any others i have. 
 
andie ness . department of computer science ,edinburgh university. 
 
arpa:  csan%ed.itspna@nss.cs.ucl.ac.uk   uucp:  ...!uunet!mcvax!ukc!itspna!csan 
                   	janet: csan@uk.ac.ed.itspna 
 
% these are my own views and any resemblance to any coherent reasoning is 
% probably a typo. 
#! rnews 852 
path: alberta!mnetor!uunet!mcvax!ukc!stc!idec!howellg 
from: howellg@idec.stc.co.uk (gareth howell) 
newsgroups: rec.ham-radio.packet,comp.protocols.tcp-ip 
subject: needed: kiss for tnc220 
message-id: <869@idec.stc.co.uk> 
date: 1 dec 87 09:05:59 gmt 
organization: icl network systems, stevenage, herts. uk 
lines: 12 
xref: alberta rec.ham-radio.packet:767 comp.protocols.tcp-ip:1918 
 
i have a pacomm tnc220 on which i want to run kiss and thence the ka9q 
tcp/ip package.  unfortunately i don't have a kiss for the tnc. 
can anybody help.  i would prefer the co-resident bootstrap with a 
downloaded kiss module if possible. 
ta gareth 
==== 
 
--  
gareth howell  <howellg@idec.stc.co.uk>  g6kvk @ io91vx 
icl ns pnbc, england, sg1 1yb    tel:+44 (0)438 738294 
howellg%idec%ukc@mcvax.uucp, mcvax!ukc!idec!howellg@uunet.uu.net 
g6kvk @ g4spv (uk packet 144.650mhz) 
#! rnews 710 
path: alberta!mnetor!uunet!mcvax!ukc!stc!hilda 
from: hilda@tcom.stc.co.uk ( jeff tracey ) 
newsgroups: rec.arts.sf-lovers 
subject: thunderbirds are go!!! 
keywords: fab 
message-id: <1503@arran.tcom.stc.co.uk> 
date: 2 dec 87 10:54:39 gmt 
organization: stc telecoms, london n11 1hb. 
lines: 14 
 
a few quick trivia questions on thunderbirds :- 
 
1) does anybody know what the phrase 'fab' stands for ???  
 
2) what's the first mission that international rescue accomplished ? 
 
3) what's the butler's name on the island and who is his daughter ?  
 
 
regards, 
 
steve hillyer.  <hilda@tcom.stc.co.uk> || ...uunet!mcvax!ukc!stc!hilda 
stc telecommunications, oakleigh rd south, london n11 1hb.  
phone : +44 1 368 1234 x3358 
#! rnews 1159 
path: alberta!mnetor!uunet!mcvax!ukc!stc!btnix!crouch 
from: crouch@btnix.axion.bt.co.uk (chris rouch) 
newsgroups: comp.os.vms 
subject: callable tpu? 
keywords: tpu callable editor 
message-id: <632@btnix.axion.bt.co.uk> 
date: 3 dec 87 11:33:58 gmt 
organization: british telecom research labs, martlesham heath, ipswich, uk 
lines: 17 
 
i read somewhere that there is a callable version of edt, available by using 
edt$edit(...). does anyone know if there is a similar function for the tpu 
editor and/or other commands such as mail, print etc. if somebody could 
also point me in the direction of the vms manual which contains this 
information (assuming there is one), i would be very grateful. 
 
		chris rouch 
 
-------------------------------------------------------------------------------- 
vax to vax (uucp)       crouch@axion.bt.co.uk (...!ukc!btnix!crouch) 
desk to desk            rt3124, 310 sstf, 
			british telecom research laboratories, 
			martlesham heath, ipswich, ip5 7re, uk. 
voice to voice          +44 473 646093 
 
	"ours is not to look back, ours to continue the crack." 
-------------------------------------------------------------------------------- 
#! rnews 1090 
path: alberta!mnetor!uunet!mcvax!ukc!stc!pete 
from: pete@tcom.stc.co.uk (peter kendell) 
newsgroups: rec.music.classical 
subject: durufle virgin seeks advice 
message-id: <483@stc-f.tcom.stc.co.uk> 
date: 3 dec 87 11:50:35 gmt 
organization: stc telecoms, london n11 1hb. 
lines: 25 
 
 
	being curious, as the name was completely new to me, i borrowed  
	the hyperion cd of durufle's requiem from my local public  
	library. i enjoyed it very much and would like to find out more 
	about him, so :- 
 
	- what else has he written? (i believe he's not been very prolific) 
	 
	- what else has been recorded? 
	 
	- is his other work similar to the requiem; it is better, worse or 
	  just different? 
 
	- i thought i heard a holst influence; is this typical? 
 
	- are there other 20th century composers in a similar vein that i 
	  should try? 
 
	 
	 
--  
------------------------------------------------------------------------------ 
|		  peter kendell <pete@tcom.stc.co.uk>	        	     | 
|				...{uunet!}mcvax!ukc!stc!pete		     | 
------------------------------------------------------------------------------ 
#! rnews 1235 
path: alberta!mnetor!uunet!mcvax!ukc!stc!praxis!gauss!drb 
from: drb@praxis.co.uk (david brownbridge) 
newsgroups: comp.unix.wizards 
subject: re: //host vs "mount point" 
message-id: <1606@newton.praxis.co.uk> 
date: 3 dec 87 12:42:36 gmt 
references: <648@tut.cis.ohio-state.edu> <1668@tut.cis.ohio-state.edu> <38c15248.4580@hi-csc.uucp> <9559@mimsy.uucp> <411@pt.cs.cmu.edu> 
sender: nobody@praxis.co.uk 
reply-to: drb%praxis.uucp@ukc.ac.uk(david brownbridge) 
organization: praxis systems plc, bath, uk 
lines: 19 
 
in article <411@pt.cs.cmu.edu> jgm@k.gp.cs.cmu.edu (john myers) writes: 
>just to add to the confusion, let me put in a plug in for the carnegie-mellon 
>university computer science department's syntax: 
> 
>/../host 
 
we built a system which also allowed super-super-roots and so on ad infinitum. 
 
 /../nearbyhost 
 /../../othersite/host 
 /../../../othercountry/anothersite/host 
 
"/.." makes sense to me which is why i promoted it as the "university of 
newcastle upon tyne computing laboratory's syntax" :-) some old-timers must 
remember the "newcastle connection" distributed unix system which lindsay 
marshall and i wrote in 1981-2. 
 
"not for the iron fist but for the helping hand"  
[billy bragg/oyster band "between the wars"] 
#! rnews 1785 
path: alberta!mnetor!uunet!mcvax!ukc!stc!datlog!slxsys!jpp 
from: jpp@slxsys.specialix.co.uk (john pettitt) 
newsgroups: comp.unix.xenix 
subject: re: smail2.5 
summary: smail on xenix without writing new programs 
keywords: at last, a 'real' mailer for xenix (are you listening sco) :-) 
message-id: <106@slxsys.specialix.co.uk> 
date: 3 dec 87 06:44:07 gmt 
references: <484@rel.eds.com> 
reply-to: jpp@slxsys.uucp (john pettitt) 
organization: specialix international, london, uk. 
lines: 27 
 
in article <484@rel.eds.com> bob@rel.eds.com (bob leffler) writes: 
>during the last several weeks there have been numerous solutions posted to 
>the net to resolved the interface problem with xenix and smail 2.5.  i 
>have tried all the solutions that i am aware of and my conclusion for the 
>best approach is a combination of two. 
 
	lots of stuff about how to install smail deleted. 
 
i have just installed smail 2.5 on xenix 386.  the solution i used 
here was to replace /usr/lib/mail/execmail with a link to (copy of) 
/bin/smail.  i also moved the old sco execmail to execmail.sco and used 
it as the local delivery agent.  the above will not work as it stands 
because the command syntax for execmail is not the same as smail. this 
can be corrected by swapping the meaning of the -f and -f switches in 
smail (main.c and defs.h).   the local delivery macro in defs.h should 
be set to give /usr/lib/mail/execmail.com -f from to.   with this 
setup you get the sco mailer (mailx) and smail with both from and from: 
lines correct.  also as execmail is still used for 'local' delivery 
micnet (sco's rs232 "lan") still works. 
 
 
 
 
--  
john pettitt g6kcq, cix jpettitt, voice +44 1 398 9422 
uucp:  ...uunet!mcvax!ukc!pyrltd!slxsys!jpp  (jpp@slxsys.co.uk) 
disclaimer: i don't even own a cat to share my views ! 
#! rnews 1287 
path: alberta!mnetor!uunet!mcvax!lambert 
from: lambert@cwi.nl (lambert meertens) 
newsgroups: sci.math 
subject: re: least-squares fitting 
message-id: <135@piring.cwi.nl> 
date: 5 dec 87 14:41:10 gmt 
references: <1823@culdev1.uucp> 
organization: cwi, amsterdam 
lines: 28 
 
in article <1823@culdev1.uucp> drw@culdev1.uucp (dale worley) writes: 
) is is known how to perform least-squares fitting where the "error" is 
) the perpendicular distance between the point and the line? 
 
this least-squares fit still passes through the "center of gravity" of the 
data points, so assume that the data has been reduced such that the 
averages of the x- and y-coordinates are both zero.  let the equation of 
the line to be determined be 
 
    x*(sin phi) - y*(cos phi) = 0, 
 
that is, it is the line making an angle phi with the x-axis.  put 
 
    xx = sum_i x[i]^2, 
    xy = sum_i x[i]*y[i], 
    yy = sum_i y[i]^2. 
 
then tan(2*phi) = 2*xy/(xx-yy). 
 
this gives two solutions for phi.  take the one such that the point 
(xx-yy, 2*xy) lies on the ray through the origin with angle 2*phi. 
(remark.  it is possible to solve the coefficients for x and y 
algebraically, without going through the arctan routine, but it is harder 
then to get the signs correct.) 
 
--  
 
lambert meertens, cwi, amsterdam; lambert@cwi.nl 
#! rnews 852 
path: alberta!mnetor!uunet!mcvax!inria!imag!bordier 
from: bordier@imag.uucp (jerome bordier) 
newsgroups: comp.sys.mac 
subject: re: arabic wordprocessing / publishing 
message-id: <2285@imag.uucp> 
date: 4 dec 87 10:24:35 gmt 
reply-to: bordier@imag.uucp (jerome bordier) 
organization: imag, university of grenoble, france 
lines: 14 
 
"winsoft", a small firm developping and selling software for the macintosh, 
has made "wintext", a word processor fully compatible with the "arabic 
macintosh+" (you have to obtain the arabic keyboard distributed by apple). 
their address is: 
	winsoft 
	34 boulevard de l'esplanade 
	38000 grenoble   france 
phone no.:   76.87.56.01 
 
--  
jerome bordier   laboratoire structures discretes  institut imag 
		 b.p.68 - 38402 saint martin d'heres cedex   france 
e.mail: 
bordier@imag.imag.fr   or   {uunet.uu.net|mcvax}!imag!bordier 
#! rnews 1182 
path: alberta!mnetor!uunet!mcvax!inria!rouaix 
from: rouaix@inria.uucp (francois rouaix) 
newsgroups: comp.sys.amiga 
subject: popcli iii another bug 
keywords: left-amiga-esc timing 
message-id: <587@inria.uucp> 
date: 5 dec 87 17:45:19 gmt 
organization: inria, rocquencourt. france 
lines: 20 
 
 
	well, it seems there is another bug in popcli iii. 
	just try  
		1> run popcli 30 
	and then press left-amiga-esc: the drive (where c: is) spins for 
	a moment and nothing happens. 
	the new 'screen-blanker' works all right but the automatic launch 
	is defeated. 
	same for values of 10 and 40 seconds. 
	i didn't have time to figure out the limit value for which popcli will 
	work (it works with default value and 240s). 
	anyway, despite i *love* the new feature (let's keep the secret :-), 
	i'd rather have the old screen-blanker : at least i can sleep while 
	the amiga is still on and working, and also it won't eat cpu-time i 
	need for ray-tracing !! 
--  
 
*- francois rouaix                    /       when the going gets tough,     * 
*- usenet:rouaix@inria.inria.fr     \/            the guru goes meditating...* 
*  sysop of sgt. flam's lonely amigas club. (33) (1) 39-55-84-59 (videotext) * 
#! rnews 539 
path: alberta!mnetor!uunet!husc6!uwvax!rutgers!lll-lcc!ames!sdcsvax!ucsdhub!hp-sdd!ncr-sd!crash!pnet01!hhaller 
from: hhaller@pnet01.cts.com (harry haller) 
newsgroups: comp.dcom.modems 
subject: re: facsimile on pc 
message-id: <2140@crash.cts.com> 
date: 14 dec 87 04:36:13 gmt 
sender: news@crash.cts.com 
organization: people-net [pnet01], el cajon, ca 
lines: 4 
 
there is a board you can plug into the backplane that purports to give you 
full fax capability with editing. of course, i forget the name, but if you 
look in the literature... 
() 
#! rnews 1436 
path: alberta!mnetor!uunet!husc6!uwvax!rutgers!lll-lcc!ames!sdcsvax!ucsdhub!hp-sdd!ncr-sd!crash!pnet01!dm 
from: dm@pnet01.cts.com (dan melson) 
newsgroups: rec.aviation 
subject: re: arsa transition phraseology 
message-id: <2141@crash.cts.com> 
date: 14 dec 87 06:16:11 gmt 
sender: news@crash.cts.com 
organization: people-net [pnet01], el cajon, ca 
lines: 21 
 
the question was asked why an arsa controller might want to know your 
destination. 
 
actually, what they really want to know is where you're going *now*, like 
'direct pmd' or 'following i5 northbound' (i have *no* idea of what type of 
airspace that will take you through at any given altitude) or whatever course, 
heading, or whatever you intend to take through the arsa. 
 
now, if you're going to get flight following, the controller is going to want 
to know your complete route of flight for which you want flight following, 
so that it can be entered into the machine and the autumated handoffs can be 
used between sectors and facilities. 
 
as for why, that's very simple.  for purposes of calling traffic, which i 
consider to be sufficient, if no one else does.  the same reason the 
controller at the vfr tower asks your direction of departure.  if nothing 
else, the controller can always tell the left downwind departures 'traffic a 
(whatever) reported 6 se for a left base entry', or whatever is appropriate. 
 
my opinions only! 
                                              dm 
#! rnews 2759 
path: alberta!mnetor!uunet!mcvax!diku!iesd!jacob 
from: jacob@iesd.uucp (jacob stergaard b{kke) 
newsgroups: comp.ai 
subject: job search, comp. eng. 
summary: i'm looking for a job 
keywords: job, computer. eng., computer. sci., m.s. 
message-id: <152@iesd.uucp> 
date: 2 dec 87 13:20:07 gmt 
reply-to: jacob@iesd.uucp (jacob \stergaard b{kke) 
organization: dept. of comp. sci., aalborg university, denmark (student) 
lines: 69 
 
i'm looking for a job in computer engineering to begin around july 
1988. i'm getting my master of science in computer engineering june 
1988 and at present holding a degree equal to bs in electronic 
engineering. my bs studies have included: 
	 
	computer hardware (hands-on knowledge with mc68k), 
	analog electronic  
	control engineering (analog and digital control) 
 
my ms studies have included: 
 
	software development (man-machine interface, what people want 
			      from programs)  
	compiler construction (an expertsystem shell)  
	program environment (for ccs programming)  
	distributed operating systems (in unix) 
 	compiler mapping object-orinted language on parallel computers 
 
furthermore i do have experience in conventional programming (pascal, 
c, postscript, unix (awk, shell-scripts(c-shell) and yacc/lex) (and basic)), 
functional programming (lisp and ml) and logical programming (prolog) 
and knowledge about object-oriented programming. and i 
have also attended courses in vlsi design, databases, etc. i have been 
working with cdc under nos/telex, vax 11/750 under ultrix, sun 3 under 
sun os 4.3 (unix), macintosh (lisa) under finder and ibm s36 under ibm 
property operating system.   
 
my spoken english is excellent and my written english is satisfactory, 
good knowledge of the scandinavian languages (danish (of course), 
swedish and norwegian), some speaking and reading knowledge of german 
and limited knowledge of french and spanish (and latin).  
 
i have 5 years experience in group project work in engineering and 
computer scinence areas, broad social interest, good health. 
 
my interest include computer hardware and software, operating system 
design, expertsystems, distributed, concurrency and teaching. 
 
i'm open on location (outside denmark) but i have relatives or other 
reasons to be especially intereted in: 
 
	canada (british colombia or toronto) 
	usa (new england or pacific coast) 
	pacific (new zealand or oceania) 
	thailand 
	scotland (highlands) 
 
i'll look forward to any reponds. 
 
		yours sincerely 
			 
			jacob baekke, denmark 
 
for further information: 
 
reply to:     	jacob@iesd.uucp, {...}!mcvax!diku!ised!jacob  or 
		  
at univ:	jacob baekke  
		s9d (in spring s10) 
		strandvejen 19 
		auc 
		dk--9000 aalborg 
		denmark 
 
private:	jacob baekke 
		davids alle 48 
		dk--9000 aalborg 
		denmark 
		tel. 45-(0)8102673 
#! rnews 2425 
path: alberta!mnetor!uunet!husc6!bbn!rochester!cornell!uw-beaver!uw-june!uw-entropy!dataio!suvax1!hirayama 
from: hirayama@suvax1.uucp (pat hirayama) 
newsgroups: rec.arts.anime 
subject: re: speed racer and the mach 5 
message-id: <810@suvax1.uucp> 
date: 14 dec 87 05:28:25 gmt 
references: <1103@jumbo.dec.com> 
organization: seattle university, seattle, wa. 
lines: 45 
 
in article <1103@jumbo.dec.com>, schubert@jumbo.dec.com (ann schubert) says: 
> posted: thu dec 10 15:26:21 1987 
>  
>  
>       this is a re-post from rec.arts.tv 
>  
>  
> in article <4540011@wdl1.uucp> (james y. nakamura) writes: 
>  
> i have a question about speed.  we can't figure out all the neato gadgets his 
> car had i think it went like: 
> 	1:	jacks that also made the car able to jump. 
> 	2:	??? 
> 	3:	saw blades that cut through stuff	 
> 	4:	closes off the top so the mach 5 becomes a sub.. 
> 	5:	homing pidgeon on a rope. 
>  
 
        don't forget the special treads which would appear on his tires 
        to allow for climbing up rough ground or driving near vertical. 
         
        every now and then, i remember that they would add a new option 
        (boy, don't you wish your friendly neighborhood dealership would 
         offer some of these for your car?).  unfortunately, it has been 
        many years since i last saw speed racer, but i do remember one  
        episode which added little winglets which would come out from under- 
        neath the doors.  this added a little gliding ability.  any one 
        else remember any? 
         
 
> also why did speed have a g on his shirt?  go doesn't really wash with me and 
> i don't know enough japanese to equate letters.  
>  
 
        i used to know this but i can't remember anymore, though i 
        suspect that it might have to do with the original name of 
        the character/title of the show in nihongo.  help anyone? 
 
******************************************************************************* 
*                                          --pat hirayama                     * 
*                                          --seattle university               * 
*                                                                             * 
* "yamato hasshin!" - kodai susumu                                            * 
*                                                                             * 
******************************************************************************* 
#! rnews 684 
path: alberta!mnetor!uunet!mcvax!inria!axis!matra!godefroy 
from: godefroy@matra.uucp (eric godefroy) 
newsgroups: comp.unix.wizards 
subject: 8 bits on a pseudo-tty 
message-id: <252@matra.matra.uucp> 
date: 3 dec 87 13:33:27 gmt 
reply-to: godefroy@matra.uucp (eric godefroy) 
organization: matra datasysteme 
lines: 9 
 
on 4.2 bsd, it seems difficult to set a pseudo-tty (ptyp / ttyp) in 
the pass8 mode. is it impossible really or how can i do that ? 
 
---------------------------------------------------------- 
 
 eric godefroy				uucp: mcvax!inria!matra!godefroy 
 matra datasysteme			tel:  (33-1) 30 58 98 00 
 1, av niepce				fax:  (33-1) 30 45 41 59 
 78180 montigny-le-bretonneux   france 
#! rnews 2663 
path: alberta!mnetor!uunet!husc6!bbn!rochester!cornell!uw-beaver!uw-june!uw-entropy!dataio!suvax1!hirayama 
from: hirayama@suvax1.uucp (pat hirayama) 
newsgroups: rec.arts.sf-lovers,rec.arts.anime 
subject: re: old tv shows 
message-id: <811@suvax1.uucp> 
date: 14 dec 87 05:54:39 gmt 
references: <4254@dandelion.ci.com> 
organization: seattle university, seattle, wa. 
lines: 40 
xref: alberta rec.arts.sf-lovers:9224 rec.arts.anime:249 
 
in article <4254@dandelion.ci.com>, david@dandelion.ci.com (david m. watson) says: 
> xref: suvax1 rec.arts.sf-lovers:7102 rec.arts.anime:235 
>  
>  
> i have foggy but pleasant memories of three other converted japanese 
> 	- (not anime, but...) ultraman! (was it: "hiyata! the beta capsule!"?) 
> 		he was a large silver "good-monster" with a red light 
> 		mounted on his chest that would blink whenever his batteries	 
> 		were getting low.  and in his valiant, exhausting fights 
> 		against the dinosaur types that frequently showed up to 
> 		menace the world, he almost always came close to running out! 
> 		and i remember a obligatory post-crisis trip to the jewelery 
> 		store for hiyata and friend! 
>  
> would anyone like to refresh my memory about any of these three? 
>  
       - ultraman was one of several incredibly popular shows in japan during 
         the late 60s/early 70s/early 80s.  actually, there were several shows 
         each featuring one or more of the "ultra" brothers, of whom ultraman 
         was the "leader/head/eldest (you get the idea)".  there was also 
         ultra 5 and a bunch of others which i can't remember and it would  
         take a long time to dig out the books.  there was something of a 
         revival when ultraman 80 (?) was released in japan.   
 
         of these, i believe that only the original ultraman was released 
         and dubbed for the american market. 
 
       - by the way, hayata would be the way to spell his name (though it 
         would be more accurately pronounced by you gaijin as "hiyata". 
          
       - of course, there is nary a trace of him now in japan.  programs 
         have this incredible tendency of grabbing hold of everyone, then 
         they drop it for something new.   
 
***************************************************************************** 
*                                          -pat hirayama                    * 
*                                          -seattle university              * 
*                                                                           * 
* > no messages or quotes right now <                                       * 
***************************************************************************** 
#! rnews 1910 
path: alberta!mnetor!uunet!mcvax!enea!tut!santra!nispa 
from: nispa@hutcs.hut.fi (tapani lindgren) 
newsgroups: comp.unix.wizards,comp.unix.questions 
subject: unattended dumps (bsd4.3) 
message-id: <9032@santra.uucp> 
date: 4 dec 87 15:19:19 gmt 
sender: news@santra.uucp 
followup-to: comp.unix.wizards 
organization: helsinki university of technology, finland 
lines: 28 
xref: alberta comp.unix.wizards:5739 comp.unix.questions:4767 
 
i have encountered a problem trying to make a shell script that would 
make incremental backups at nighttime without operator attendance. 
the problem results from dump(8) program requiring occasional 
responses from the operator through /dev/tty.  the script is 
run from another script, /usr/adm/daily, under cron control and has no 
controlling terminal, so it just hangs trying to read /dev/tty.  it would 
be ok if dump just aborted when facing a situation that would require 
operator intervention. the script should never hang in a loop under 
any circumstances, because /usr/adm/daily must do other things too 
and finish after a reasonable time. 
 
currently i have the dump script run a background subshell that sleeps for 
an hour and then kills the dump script (if it still runs) and all dump 
processes.  this is very complicated, however, and the watchdog process 
is almost 50% of the whole script.  it is also very slow - i would 
like it to stop immediately if it finds an error, report it to log file, 
rewind the tape, and let /usr/adm/daily continue its work. 
 
has anyone out there in the netland have any suggestions of what to do? 
can yes(1) somehow be piped to a program that reads /dev/tty? 
could dump(8) be modified to abort at errors without any questions? 
what kind of unattended backup systems do you have? 
 
--- 
tapani lindgren, helsinki univ. of technology, cs dept. 
internet:	nispa@hutcs.hut.fi 
uucp:		mcvax!santra!hutcs!nispa 
bitnet:		nispa%hutcs.uucp@fingate.bitnet 
#! rnews 2315 
path: alberta!mnetor!uunet!husc6!bbn!oberon!pollux.usc.edu!kurtzman 
from: kurtzman@pollux.usc.edu (stephen kurtzman) 
newsgroups: rec.food.cooking 
subject: re: cooking wines 
message-id: <5698@oberon.usc.edu> 
date: 14 dec 87 11:38:44 gmt 
references: <4628@pyr.gatech.edu> <10722@sri-unix.arpa> <2028@ttrdc.uucp> 
sender: nobody@oberon.usc.edu 
reply-to: kurtzman@pollux.usc.edu (stephen kurtzman) 
organization: university of southern california, los angeles, ca 
lines: 37 
 
in article <2028@ttrdc.uucp> levy@ttrdc.uucp (daniel r. levy) writes: 
> 
>2) (more seriously) i've seen bottles of "wine for cooking" that have had 
>   salt (and vinegar?) added.  these might be ok for sauces (yeah, the 
>   snootier gourmets wouldn't want anything to do with them) but they 
>   would obviously be horrible to drink. 
 
i think that these wines would be particularly bad for sauces that require 
wine as a major component and require reducing the wine. there are two 
reasons that come to mind: 
 
1) what is normally labeled as cooking wine is usually wine that is not good 
enough to sell as table wine. if the taste is not the best, reducing it will 
only concentrate its flaws. 
 
2) cooking wines contain salt. reducing a cooking wine will concentrate the 
salt. this could really ruin the sauce.  
 
there best reason i have seen for using a good wine to cook with was given 
by alexis bespaloff in the "new signet book of wine", which states 
 
 "furthermore, it is actually uneconomical to buy cheap wine for cooking. 
  say that an elaborate lobster dish calls for a spoonful or two of sherry 
  to heighten its flavor. a cook who runs out to buy a bottle of cheap 
  sherry will diminish the taste of an expensive and time-consuming dish with 
  a quarter's worth of wine. what's more, because the wine is a poor example 
  of its type, it may not be enjoyable to drink, so the spoonful of wine has, 
  in fact, cost the full price of the bottle." 
 
that is fairly sound reasoning. of course, the last sentence does not 
necessarily follow. you could keep the cheap wine around to diminish several 
meals. 
 
btw, i recommend the "new signet book of wine" to anyone who wants to learn 
more about wine. it is available for $4.50 as a paperback. quite a value 
when you compare it to the $20-or-more, glossy coffee-table wine books out 
on the market. 
#! rnews 1809 
path: alberta!mnetor!uunet!mcvax!enea!luth!d2c-usg 
from: d2c-usg@sm.luth.se (ulrik"rick"sandberg) 
newsgroups: rec.music.misc 
subject: re: yes and elp questions...... 
keywords: tales from topographic oceans 
message-id: <435@psi.luth.se> 
date: 4 dec 87 18:28:34 gmt 
references: <748@augusta.uucp> <434@psi.luth.se> 
reply-to: ulrik"rick"sandberg <d2c-usg@psi.luth.se> 
organization: university of lulea, sweden 
lines: 28 
uucp-path: {uunet,mcvax}!enea!psi.luth.se!d2c-usg 
 
 
in article <434@psi.luth.se> i wrote: 
>in article <748@augusta.uucp> bs@augusta.uucp (burch seymour) writes: 
>>been looking for tales on cd without success. to get to the point, is 
>>it (tales) on cd?   
> 
>one of my friends ordered it from a recordshop in gothenburg, but got 
>the answer that it was sold out. however, they didn't say that the 
>record isn't existing on cd. he was supposed to recieve it later. 
>any wiser of that? 
> 
 
correction: 
 
received is spelled received, not recieved. :-) 
 
my friend told me that they said "tales.. is not on cd." that's why he didn't 
get it. sorry for the confusing information. 
 
 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
~                                                                             ~ 
~  ulrik 'rick' sandberg  d2c-usg@luth.uucp (or)                              ~ 
~  computer technology	  d2c-usg@psi.luth.se (or)                            ~ 
~  university of lulea    {uunet,mcvax}!enea!psi.luth.se!d2c-usg              ~ 
~  sweden                                                                     ~ 
~  phone: (0920)-977 90 (home)       "i feel lost in the city..."             ~ 
~                                       --  jon anderson  --                  ~ 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
#! rnews 1128 
path: alberta!mnetor!uunet!husc6!rutgers!lll-lcc!pyramid!decwrl!cssaus.dec.com!bell 
from: bell@cssaus.dec.com (peter bell, sna-2, sydney) 
newsgroups: rec.music.classical 
subject: hogwood 
message-id: <8712141101.aa04882@decwrl.dec.com> 
date: 15 dec 87 05:23:00 gmt 
organization: digital equipment corporation 
lines: 15 
 
i have just finished singing (in choir) under hogwood, it was an experience. we 
sang schuberts mass in g, (as schubert wrote it, missing a few phrases of the 
credo). hogwood knew exactly what he wanted, and worked till we did it right. 
then as we tidied up the last few problems, he would let us sing through whole 
sections, then go back and point out all the problems. 
 
we also sang the messiah (not with hogwood unfortunately) the delight of 
those performances was elizabeth cambells singing "he was despised..." 
 
in this performance the two trumpeters waited off stage until just before their 
appearances in each half, the first trumpet parts were played by a large 
trumpeter (in nice to see that sydney musicains are not starving) on what 
looked like a very small valved trumpet (trumpet in f??). 
 
peter. 
#! rnews 1252 
path: alberta!mnetor!uunet!mcvax!dutrun!winffhp 
from: winffhp@dutrun.uucp (frits post and/or andrew glassner) 
newsgroups: comp.graphics 
subject: abstracts wanted 
keywords: ray tracing, abstracts 
message-id: <190@dutrun.uucp> 
date: 2 dec 87 09:14:55 gmt 
organization: delft university of technology,the netherlands 
lines: 21 
 
i am preparing a list of technical memos, technical notes, 
internal reports, and other such low-circulation documents 
that deal with ray tracing.  i'm interested in documents 
both large and small.  the documents need not be expressly 
about ray tracing; the criterion is that the information in 
the document be useful to ray tracing researchers in some way. 
 
if you have prepared such a document, please send me enough 
information to digest it.  that would at least include your 
name and organization, the document's title, perhaps a reference 
number, and (very important!) an abstract.   
 
all contributors will receive a complete copy of the final list. 
 
-andrew glassner 
  email until 15 december: uunet!mcvax!dutrun!frits 
  email after 15 december: glassner@unc.cs.edu  ,  unc!glassner 
--  
             ...mcvax!dutrun!frits     
             faculty of mathematics and informatics 
             delft university of technology 
#! rnews 593 
path: alberta!mnetor!uunet!mcvax!lambert 
from: lambert@cwi.nl (lambert meertens) 
newsgroups: sci.lang 
subject: re: acquiring native accents 
message-id: <136@piring.cwi.nl> 
date: 5 dec 87 22:56:44 gmt 
organization: cwi, amsterdam 
lines: 8 
 
when i speak english i hear no dutch accent in my voice.  but if my voice 
is recorded and played back to me i find the dutch accent unmistakable.  if 
this phenomenon is a general one, it goes a good deal towards explaining 
why adult learners of a new language do not fully master the native accent. 
 
--  
 
lambert meertens, cwi, amsterdam; lambert@cwi.nl 
#! rnews 6735 
path: alberta!mnetor!uunet!mcvax!philmds!leffe!janpo 
from: janpo@leffe.uucp (janpo) 
newsgroups: rec.music.misc 
subject: re: ideas for improving the debate (was: digital vs. analog music) 
summary: digital versus analog 
keywords: cds expensive audiophile equip. fourier analysis 
message-id: <43@leffe.uucp> 
date: 4 dec 87 13:55:04 gmt 
references: <574@ucdavis.ucdavis.edu> <522@altura.srcsip.uucp> <3051@batcomputer.tn.cornell.edu> 
organization: philips i&e dts eindhoven 
lines: 123 
 
 
 
1) mr. konar, press the 'n' key immediately! there's another arrogant 
   audiophile going to pollute the net with his view on the digital vs. 
   analog issue. 
 
2) i'm not very much acquainted with the news stuff on the net, but it 
   seems we don't receive the rec.audio newsgroup here in europe. can 
   something be done about that? 
 
3) now let me come to the point. 
   in article <3051@batcomputer.tn.cornell.edu> eacj@batcomputer.tn.cornell 
   (julian vrieslander) he writes: 
>konar than goes on to comment about the "arrogance" of audiophiles who still 
>prefer analog recordings to digital.  he says the issue should be laid to rest 
>, the implicit assumption being that the case has been proven that analog  
>recording is obsolete. 
 
>i for one think that the issue is still an open (and interesting) one, but i 
>am a bit surprised at how polarized and closed the recent comments to this 
>thread have been.   
 
i agree with him, so let me do my bit now. a technology not being perfect 
, or getting close to that, is still worth a discussion. remember that it 
took about a 100 years of thorough research from edison's first grammophone 
to the modern high quality turntables. don't expect digital audio to be 
perfect now only a few years after its introduction, no matter what the 
commercial guys say. they are only interested in your hard-earned $$$$. 
 
until now i have only been in the opportunity to make a good comparison 
between a high-end turntable and some first genaration. i'll summarize 
the pros and cons of which i think are important and which i can think of 
now. many of them are well known, others may not. 
 
pros of analog: 
- cheap records. 
- as john vrieslander mentioned: more real, more spatious, more delicate, 
  more emotionally involving. i won't try to find other words for this 
  description 'cause i can't think of a better one. unfortunately, this 
  can only be heard on good, say > $2k-$3k systems without an infinite 
  number of knobs, lights and other gadgets normally found in aeroplane 
  cockpits. 
 
cons of analog: 
- more hissy, rumble,scratches,sound degrading after many times of 
  playing the record. this counts less when you have good records 
  (japanese ones are most often excellent but hard to get now.) and take 
  good care of them. 
- no flat frequency response, especially at the low and high end. 
- phase distortion. 
- harmonic distortion increases with amplitude. 
 
pros of digital: 
- longer durability than records (?). less hissy, no rumble or ticks of 
  scratches. 
- almost no phase distortion, flat frequency response within the audio 
  range. 
- easy to use. 
- slightly (!) more dynamic. why only slightly? well, the 96 db dynamic 
  range theoretically possible with a cd is not very practical. in reality 
  it is compressed, as far as i know, to some 40-60 db depending on the 
  music (pop, jazz, classic) because: 
  a) no one wants to run continuously to his volume knob to adjust the 
     volume.if not compressed the music will either be banging through your  
     living room and of your neighbours or it will drown in the inevitable  
     background noise. 
  b) studio equipment has a dynamic range of less than, say, 70 to 80 db 
     when you assume the signal to noise ratio being equal to the dynamic 
     range. 
  c) sound gets to distorted at low levels. (see also cons) 
  d) a dynamic headroom of 10 db is desired. 
  with all this limitations the dynamic range of cd's is not much different 
  with that of a good record. 
- excellent bass response. deep and well defined. 
- very stable stereo image. 
 
cons of digital: 
- expensive records. 
- when listening to a cd, it seems as if there is no "space" around around 
  the instruments and voices. it sounds cold and not very lively. 
- first generation players and the cheaper cd players nowadays suffer from 
  very distorted high tones. they sound harsh. cymbals for instance sound 
  like someone is sawing them into pieces instead giving it a gentle hit 
  with a drum-stick. they do not sound crisp and clear. 
- distortion increases dramatically with lower amplitudes (!). it can be 
  more than 1.5 % at low levels. and it's a very nasty kind of distortion. 
- cd players produce (digital) noise above the audio range. this noise itself 
  can not be heard but other audio equipment may suffer from intermodulation 
  distortion which brings this noise back in the audio range.  
- many cd players, especially the first ones, do not seem to be very reliable 
  mechanically. 
- i've heard that digital audio recording is quite different from analog. 
  i mean in terms of how it has to be done properly. i don't mean the 
  equipment needed, that's quite obvious. not all studio crew seem to know 
  how to make a good digital recording. does anyone know more about that? 
 
well, this must be enough stuff to think and talk about. 
 
the above mentioned cons of digital audio may be overcome in the latest 
players but i have not had the opportunity until now to carefully listen 
to them and to compare them. according to some serious audio magazines 
available here in holland they seem to be improved. many top-of-the-line 
models now have separated power supplys for the digital and analog 
circuitry, opto-couplers between those circuits, an additional analog filter 
to filter out > 20 khz noise, 16 bit with with n times oversampling, stable 
and rigid chassis and improved error correction. all this may have solved 
(some) of the cons i mentioned but i'm not sure. players which have one or 
more of these improvements and thus may be of interest (at least for julian 
vrieslander and me) are: philips (magnavox in the usa i believe) cd 650 and 
cd 960, nakamichi, mission, meridian and if memory serves me well, acoustical 
research (or audio research. don't know anymore). the latter two may be 
difficult to get in the usa, they are made in the uk. no doubt that there 
are more good cd players but can't think of others now. these are the 
players i consider buying when normal lp's are no longer available. 
 
pooh! that was more than i intended to write but still far less than i can 
tell about this stuff. 
 
                                        kind regards from 
                                        jan postma 
 
 
and on the seventh day, god went surfing! 
#! rnews 1424 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!heiser 
from: heiser@ethz.uucp (gernot heiser) 
newsgroups: comp.emacs 
subject: setting terminal-emulator's environment 
keywords: gnu emacs function `terminal-emulator' 
message-id: <261@bernina.uucp> 
date: 5 dec 87 13:42:37 gmt 
reply-to: heiser@ethz.uucp (gernot heiser) 
organization: eth zuerich, switzerland 
lines: 18 
 
 
using the  gnu emacs terminal-emulator   to run interactive  programs  would be 
quite limited if the parent emacs  can't be used  for editing (when the program 
run under the emulator starts up an editor).  while some  programs  (like `rn') 
allow to explicitely specify the  editor, a general  solution would require  to 
specify `emacsclient'  in the `editor'   environment  variable of  the  process 
running under the terminal emulator. 
 
naturally this could be done by running  the  shell under the emulator, setting 
the   environment of  the shell, and  then running   the program  we are really 
interested  in.  a  better way  would be    to set  the   environment from  the 
`terminal-mode-hook'. is there any means to achieve this???? (i'm running gnu 
emacs version 18.49.) 
--  
gernot heiser                   phone:       +41 1/256 23 48 
integrated systems laboratory   csnet/arpa:  heiser%ifi.ethz.ch@relay.cs.net 
eth zuerich                     earn/bitnet: gridfile@czheth5a 
ch-8092 zuerich, switzerland    eunet/uucp:  {uunet,...}!mcvax!ethz!heiser 
#! rnews 1617 
path: alberta!mnetor!uunet!mcvax!enea!sommar 
from: sommar@enea.uucp (erland sommarskog) 
newsgroups: rec.music.misc 
subject: re: another net.question 
message-id: <2496@enea.uucp> 
date: 5 dec 87 16:46:48 gmt 
references: <251@ho7cad.att.com> 
reply-to: sommar@enea.uucp(erland sommarskog) 
followup-to: rec.music.misc 
organization: enea data svenska ab, sweden 
lines: 27 
 
p.clark (prc@ho7cad.att.com) writes: 
>	should a band play the entire new album when they do a concert? 
 
 
no, why should they? there may be songs on the album that are  
very good listening to at home, but just doesn't make it live, 
just as there are songs with the opposite character; good live,  
but just a bore on disc. 
 
deep purple and marillion and good example of extremes in both 
ends. when i saw d.p. in february this year, they played three  
of the ten songs from "the house of blue light", their latest  
album. that is a quite decent product, but i didn't miss those 
songs anyway. (i, and everyone else, would have been much more  
disappointed if they had left out "smoke on the water".)  
  marillion on the other hand; on the two tours they made after 
"misplaced childhood", they insisted on playing entire album 
as one long song. there are many parts on that album that just 
becomes dead passages where nothing happens when they are played 
live. ("bitter suite" and "blind curve" for instance.) marillion 
is no good live band, and playing obsolete material does not 
make things better. 
--  
erland sommarskog        
enea data, stockholm     
sommar@enea.uucp         
                   c, it's a 3rd class language, you can tell by the name. 
#! rnews 4410 
path: alberta!mnetor!uunet!mcvax!enea!sommar 
from: sommar@enea.uucp (erland sommarskog) 
newsgroups: rec.music.misc 
subject: re: more than yes 
message-id: <2502@enea.uucp> 
date: 5 dec 87 19:18:59 gmt 
references: <22034@ucbvax.berkeley.edu> 
reply-to: sommar@enea.uucp(erland sommarskog) 
followup-to: rec.music.misc 
organization: enea data svenska ab, sweden 
lines: 72 
 
grady toss (ebm@ernie.berkeley.edu) writes: 
>whenever this newsgroup gets around to discussing 70's/80's fusion (the 
>current go-round sparked by the proof that yes is best), the content 
>seems to be limited to the same 5 or 6 groups (yes, rush, elp, king 
>crimson, pink floyd, genesis, etc.).   
 
grady seems to be confusing the issue a bit here. he talks about fusion and  
the mentions groups that belong(ed) to the symphonic-rock genre. (i prefer 
that term instead of "progressive") for me "fusion" is a synonym with  
jazz-rock. anyway, that is more of question of semantics, the two genres  
have a lot in common. (the main difference maybe being that symphony-rock  
is european and fusion american.) 
 
the reason why these groups are being discussed the most is probably that 
they have gained the greatest commercial succes. this may or may not  
be correlated to the fact they are the best.  
 
>doesn't (didn't) anyone listen to 
>some of the (apparently) lesser-known fusion greats?  bands and artists 
>like arti + mestieri, brand x, arthur brown & kingdom come, egg, gilgamesh, 
>hatfield & the north, henry cow, alain markusfeld, national health, pfm, 
>quiet sun, return to forever, seventh wave, the soft machine, uk and 
>weather report.   
 
being quite fond of this kind of music, i feel obliged to comment. it's 
a real mixture grady presents and i must admit there are names i have  
never heard. anyway, i think he is a bit unfair, some of them have  
certainly been discussed on the net. for instance, i posted a discograhpy  
on brand x some month ago. some comments to the other names: 
  pfm (premiata forneria marconi) have been mentioned from time to time, 
the italian answer on genesis, which developed in a different way. now 
disbanded, i believe. one day or another may be i'll post a discography. 
  quiet sun. the band in which phil manzanera played before he joined 
roxy music. their "mainstream" is rather like jazz, but not mainstream. 
  seventh wave. this is the name i never expected to see on the net! i 
bought their "things to come" when i was 15 and i was really fond of it 
then. these days i don't find that amount of synthesizers so exciting as 
i did then. 
  wheather report. quite well-known. but really, you do only need "heavy 
wheather", the one with "birdland". may be some more, "mysterious traveller" 
perhaps, but then you'll find that they all sound the same. 
 
>as i said before, i find much of yes and elp to be very dull, and un- 
>affecting.  i like rush, though more live than on record.   
 
as you can guess, i don't share grady's view here. yes has made good 
music, yet never really touched my soul, probably due to their utterly 
stupid and semi-religious lyrics. "brain salad surgery" is a very good 
record, the rest of what elp have done is so-so. rush don't turn me on  
at all, on the other hand. the net discussion inspired me to try  
"a farewell to kings" (a random choice). may be i would have liked them  
10 years ago, but not today with those lyrics and that voice. 
 
>so, were yes, elp, pink floyd, king crimson, genesis and rush really "it" 
>as far as most progrock fans go, or did some of these "lesser known" artists 
>(and all the others i forgot or never knew) filter out to larger audiences? 
 
depends on how you define your terms here, but i can easily think  
of more groups, some of them succesful, some of them not, some of them 
good, some them not so good: 
kansas, saga, asia, jethro tull, roxy music, gentle giant, van der graaf 
generator, george duke, billy cobham, al dimeola, herbie hancock, dixie 
dregs, ange, (mahavishnu) john mclaughlin, santana, bill bruford etc 
  i think that most of these people have had their share of the discussion 
on the net. so to conclude, i do not really share grady's initial obser- 
vation. however some particular groups are certainly being over-discussed, 
namely rush, yes and recently also pink floyd. 
--  
erland sommarskog        
enea data, stockholm     
sommar@enea.uucp         
                   c, it's a 3rd class language, you can tell by the name. 
#! rnews 916 
path: alberta!mnetor!uunet!mcvax!enea!tut!santra!clinet!waldo 
from: waldo@clinet.fi (tuomas siltala) 
newsgroups: rec.music.synth 
subject: siel dk80 sequenceer 
keywords: how to use? 
message-id: <553@clinet.fi> 
date: 5 dec 87 21:36:23 gmt 
reply-to: waldo@clinet.uucp (tuomas siltala) 
organization: city lines oy, helsinki, finland 
lines: 17 
 
my friend bought a siel dk80 synthesizer and now he is wondering how 
the sequencer in that machine works. 
  
  
unfortunately we don't have any manuals for it. 
  
could somebody kindly send me information concerning this problem? 
  
thank you! 
  
------------------------------------------------------------------------------ 
  
  tuomas siltala                                 internet: waldo@clinet.fi 
  kalevankatu 51 b 37 
  sf-00180 helsinki, finland                     telephone: +358-0-6947735 
  
------------------------------------------------------------------------------ 
#! rnews 1655 
path: alberta!mnetor!uunet!mcvax!enea!luth!d2c-czl 
from: d2c-czl@sm.luth.se (caj zell) 
newsgroups: rec.music.misc 
subject: re: black sabbath songs 
message-id: <437@psi.luth.se> 
date: 6 dec 87 01:38:40 gmt 
references: <1208@gumby.wisc.edu> <3590@h.cc.purdue.edu> 
reply-to: caj zell <d2c-czl@psi.luth.se> 
organization: university of lulea, sweden 
lines: 25 
uucp-path: {uunet,mcvax}!enea!psi.luth.se!d2c-czl 
 
 
in article <3590@h.cc.purdue.edu> acu@h.cc.purdue.edu.uucp (floyd mcwilliams) 
writes: 
 
>	while we're talking about sabbath, does anyone know who does the 
>vocals on "solitute" (from the master of reality album) and "it's all right" 
>(from technical ecstasy)?  it sure doesn't sound like the oz... 
 
i would like to add another song:"swinging the chain" on _never say die!_. 
who the hell does the vocals here? 
 
by the way,has anybody heard the new album? 
 
 
      xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx 
      x                                                            x 
      x                                                            x 
      x   caj zell                 	 ________________________  x 
      x   university of lulea            :                      :  x 
      x   sweden                         : jazz is not dead,    :  x 
      x  				 : it just smells funny :  x 
      x   mail: d2c-czl@psi.luth.se	 : -frank zappa         :  x 
      x                                  :                      :  x 
      x                                  -----------------------:  x 
      x                                                            x 
      xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx 
#! rnews 760 
path: alberta!mnetor!uunet!mcvax!unido!gmdka!florin 
from: florin@gmdka.uucp 
newsgroups: comp.windows.x 
subject: c++ re-hacks of x11 include files - (nf) 
message-id: <2800001@gmdka.uucp> 
date: 3 dec 87 13:16:00 gmt 
lines: 14 
nf-id: #n:gmdka:2800001:000:458 
nf-from: gmdka!florin    dec  3 14:16:00 1987 
 
hi there, 
 
i'm actually working on c++ re-hacks of the x11 include files. 
there are some problems with xlib.h. in structures 
visual, xwindowattributes and xcolormapevent there are variables named 
``class'' and ``new'' which cause serious problems (c++ keywords) ! 
 
for the moment i've changed the names, but this is an awful hack. does anybody 
know a better solution ? 
 
     -- florin 
 
uucp:  ...!uunet!unido!gmdka!florin 
x.400: florin@karlsruhe.gmd.dbp.de 
#! rnews 4069 
path: alberta!mnetor!uunet!mcvax!ukc!reading!onion!riddle!domo 
from: domo@riddle.uucp (dominic dunlop) 
newsgroups: comp.unix.xenix,comp.sys.att,comp.sys.intel 
subject: how to load at&t 6300 plus packages to generic unix v.3 
summary: here's a shell script to do it for you 
keywords: intel, 386/ix, microport, prime 
message-id: <522@riddle.uucp> 
date: 4 dec 87 17:47:52 gmt 
reply-to: domo@riddle.uucp (dominic dunlop) 
followup-to: comp.unix.xenix 
organization: sphinx ltd., maidenhead, england 
lines: 106 
xref: alberta comp.unix.xenix:1170 comp.sys.att:1825 comp.sys.intel:379 
 
[if there's a microport newsgroup, it doesn't come here] 
 
				background 
 
at&t's generic unix v.3 for the 80386 (as sold in binary form by at&t, 
bell technologies, intel, interactive systems, microport, prime etc.) 
will run binaries created for unix v.2 on the 80286.  a large number of 
packages exists for at&t's 6300 plus, an 80286-based system running v.2. 
these can be run on 80386-based systems while you're waiting for 
software authors to come up with native 80386 ports of their products. 
 
				problem 
 
you are supposed to load packages onto your 6300 plus using the system's 
administration procedures.  these handle weird multi-volume cpio diskette 
sets, which are a pig to load unless you have the installation software. 
which you don't if you're trying to load the software onto an 80386-based 
system running 386/ix, microport, or whatever. 
 
				solution 
 
here's a shell script which does the job.  if you want to know the details, 
it reads 350k, starting at offset 9k, from each 360k diskette in the 
installation set, piping the result into cpio -c.  it the fires off the 
install program which should be part of the application package.  as the 
comments remark, there's not a lot of error checking, as it's essentially 
a quick hack.  also, testing is about at the ``worked twice in a row'' 
level.  despite all that, i hope it's useful to somebody out there. 
 
dominic dunlop 
domo@sphinx.co.uk  domo@riddle.uucp 
 
++++cut here++++++++cut here++++++++cut here++++++++cut here++++ 
: 
# load_script 
# 
#   shell script to load software packages delivered in at&t pc 
#   6300+ unix v.2 format on systems where the pc 6300+ 
#   installation procedure is not available (eg 386/ix). 
#   the script can be executed by any user who can read the raw 
#   diskette device.  however, the root password is requested 
#   before files are moved to their final destinations if this 
#   script is not run by the super-user. 
# 
#   note that this script does not check that sufficient space is 
#   available to load the package.  in general, your /usr file 
#   system should have at least (700 * diskettes_in_package) 
#   blocks free before installation.  note also that there is no 
#   check that the diskettes are in the correct format, or that 
#   they are inserted in the correct order. 
# 
# 871204 dfd	created 
 
# change the following device assignment if the 360kb raw 
# diskette device on your system has a different name. 
dev=${dev-/dev/rdsk/f0d9dt} 
 
if [ ! -r $dev -o ! -c $dev ] 
then 
	 cat << e_o_f 
can't read $dev.  check raw diskette device name and/or your 
access permissions. 
e_o_f 
exit 1 
fi 
 
cd /usr/tmp 
mkdir install 2>/dev/null 
cd install 
it="the first diskette of the package" 
 
trap "echo installation aborted.; rm -r /usr/tmp/install; exit 1" 2 15 
( 
	while echo "insert $it and hit return >\c" 1>&2  \ 
		&& read ans 
	do 
		it="next diskette" 
		echo "the following files are being loaded:" 1>&2 
		dd if=$dev ibs=1k obs=5k skip=9 count=350 2>/dev/null 
	done 
) | cpio -icvmudb 1>&2 
 
chmod +x install 
 
trap 2 15 
 
cat << e_o_f 
files read from diskettes.  you may remove the last diskette from 
the drive.  if you are not already logged in as the super-user, 
please enter the root password to continue with installation. 
e_o_f 
if su root -c ./install 
then 
	cat << e_o_f 
installation complete.  you should execute 
	rm -r /usr/tmp/install 
to remove installation scratch files at a convenient time. 
e_o_f 
else 
	cat << e_o_f 
installation failed.  to retry, 
	su 
	cd /usr/tmp/install 
	./install 
e_o_f 
fi 
#! rnews 1801 
path: alberta!mnetor!uunet!mcvax!ukc!reading!onion!bru-me!ralph 
from: ralph@me.brunel.ac.uk (ralph mitchell) 
newsgroups: comp.graphics,sci.space,sci.space.shuttle 
subject: re: 3d digitized shuttle data 
message-id: <338@pluto.me.brunel.ac.uk> 
date: 4 dec 87 09:49:43 gmt 
references: <509@otto.cvedc.uucp> 
reply-to: ralph@me.brunel.ac.uk (ralph mitchell) 
organization: brunel university, uxbridge, uk 
lines: 26 
xref: alberta comp.graphics:1381 sci.space:3674 sci.space.shuttle:445 
 
in article <509@otto.cvedc.uucp> billa@otto.uucp (bill anderson) writes: 
>in article <> apollo@ecf.toronto.edu (vince pugliese) writes: 
>> 
>>as well i will be include a very simple c program, hacked together by fellow group member 
>> [...] 
> 
>if anyone out there in netland converts this c program so that it can be 
>run on suns, please post the results of your work to the net. 
 
it has already been done.  the program should be in /usr/demo/src/shaded.c, 
the shuttle data is in /usr/demo/data/space.dat.  there are notes on running 
it in /usr/demo/readme.  the program displays 2 windows with cursor lines, to 
enable you to select the 3d viewpoint, and there's a pop-up menu for setting 
fill style and colour, &c.  for monochrome you need to select the "edges" (i 
think) fill style or it'll look pretty wierd.  also, if your display surface 
doesn't support hidden surface removal, you'll get a wireframe effect that 
can be confusing to the eye. 
 
/usr/demo/data also contains data files for an icosahedron, a pyramid, a 
ball and a klein bottle. 
 
-- 
 from:  ralph mitchell at brunel university, uxbridge, ub8, 3ph, uk 
 janet: ralph@uk.ac.brunel.cc	  arpa:  ralph%cc.brunel.ac.uk@cwi.nl 
 uucp:  ...ukc!cc.brunel!ralph   phone: +44 895 74000 x2561 
 "there's so many different worlds, so many different suns" -- dire straits 
#! rnews 1156 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!bob 
from: bob@its63b.ed.ac.uk (ercf08 bob gray) 
newsgroups: rec.arts.sf-lovers 
subject: re: space war blues (was re: gibson) 
message-id: <809@its63b.ed.ac.uk> 
date: 4 dec 87 12:49:58 gmt 
references: <8711211710.aa02986@decwrl.dec.com> 
reply-to: bob@its63b.ed.ac.uk (ercf08 bob gray) 
organization: i.t. school, univ. of edinburgh, u.k. 
lines: 17 
 
in article <8711211710.aa02986@decwrl.dec.com> boyajian@akov68.dec.com (jerry boyajian) writes: 
>(oh, before anyone asks the obvious question, the author was richard 
>lupoff, who is one of the best unknown science fiction writers around.) 
 
i find this statement hard to believe, based on the quality 
of his book "circumpolar". it is full of characters which 
barely qualify as two dimensional, offensive racial stereotypes 
and various other assorted characters whose collective iq doesn't get 
into double figures. i rated this book as -****. 
 
i cannot believe that someone who turned out such complete 
drivel could improve enough in other books to even qualify 
as average. 
 
i am however, willing to be surprised. what other books of 
his would people recommend? 
	bob. 
#! rnews 1599 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!bob 
from: bob@its63b.ed.ac.uk (ercf08 bob gray) 
newsgroups: sci.misc 
subject: re: grey goo that's too smart for its own good 
keywords: nanotechnology foresight drexler 
message-id: <810@its63b.ed.ac.uk> 
date: 4 dec 87 13:10:07 gmt 
references: <799@sbcs.sunysb.edu> <2698@drivax.uucp> <1063@sugar.uucp> <2411@watcgl.waterloo.edu> <1445@m-net.uucp> <1526@mmm.uucp> <2783@drivax.uucp> 
reply-to: bob@its63b.ed.ac.uk (ercf08 bob gray) 
organization: i.t. school, univ. of edinburgh, u.k. 
lines: 23 
 
in article <2783@drivax.uucp> macleod@drivax.uucp (macleod) writes: 
>in article <1526@mmm.uucp> cipher@mmm.uucp (andre guirard) writes: 
>>in article <1445@m-net.uucp> russ@m-net.uucp (russ cage) writes: 
>>>in <2411@watcgl.waterloo.edu> kdmoen@watcgl.waterloo.edu (doug moen) writes: 
>>>>[...]  if it *does* turn out to be possible to build grey goo, 
>>>>then by the time fabrication technology catches up, perhaps we can have 
>>>>a wide spectrum of goo killing techniques already available. 
> 
>goo seems almost inevitable. it should not be a big problem, of itself; 
>the definition of goo (for those not familiar with the problem) is that 
>of a nanomachine that will use any available energy and raw material to 
>reproduce itself periodically.  if it reproduces at 2x per year you have 
>one problem, relatively minor; if it reproduces at 512x per minute, you have  
>quite another. 
 
i can hear the squeals from the anti-nuclear type lobby already 
 
	can you prove it is safe? 
	campaign against the grey goo! 
	prevent nano-technology! 
 
and not a :-> in sight. 
	bob. 
#! rnews 3115 
path: alberta!mnetor!uunet!mcvax!ukc!cheviot!robert 
from: robert@cheviot.newcastle.ac.uk (robert stroud) 
newsgroups: comp.unix.wizards 
subject: re: //host vs "mount point" 
message-id: <2584@cheviot.newcastle.ac.uk> 
date: 4 dec 87 16:22:51 gmt 
references: <648@tut.cis.ohio-state.edu> <1668@tut.cis.ohio-state.edu> <38c15248.4580@hi-csc.uucp> <9559@mimsy.uucp> <411@pt.cs.cmu.edu> <6769@brl-smoke.arpa> 
reply-to: robert@cheviot (robert stroud) 
organization: computing laboratory, u of newcastle upon tyne, uk ne17ru 
lines: 62 
 
in article <6769@brl-smoke.arpa> gwyn@brl.arpa (doug gwyn (vld/vmb) <gwyn>) writes: 
>in article <411@pt.cs.cmu.edu> jgm@k.gp.cs.cmu.edu (john myers) writes: 
>>just to add to the confusion, let me put in a plug in for the carnegie-mellon 
>>university computer science department's syntax: 
>>/../host 
> 
>stolen from the newcastle connection. 
> 
>>"/.." is known as the "super-root".  it seems logically consistent to me... 
> 
>so, what is the result of 
>	$ cd /.. 
>	$ pwd 
 
/.. of course!! 
 
if you add directories above root (and remember that with the newcastle 
connection, /.. was just a directory rather than some mysterious  
"super-root") so that it is possible for your current directory to 
be in an uncle or cousin relationship with root (rather than a direct 
descendent), then you have to modify the pwd algorithm accordingly. 
 
pwd assumes that if you go up the tree with ".." enough times you will 
get to root. if your current directory is in a sideways relationship 
to root, this assumption will no longer be valid. 
 
the modified pwd algorithm should work like this: 
 
(1) go up the tree with .. from your current directory until you 
find / or reach the base of the tree (a directory which is its own 
parent). 
 
(2) if you didn't reach / in (1), then starting from / go up to 
the base of the tree with .. and prefix the appropriate number of 
/..'s to the string from (1). 
 
for example, after cd /../../c/d, step (1) will give /c/d and step (2) 
will give /../.. so the answer is /../../c/d. 
 
this is relatively straightforward to implement. i've made the necessary 
modifications to the system v /bin/pwd and sh (which has a built-in pwd) 
for use with a kernel implementation of the newcastle connection. 
 
the tricky bit is getting the shortest possible pathname. for example, 
if / corresponds to /../../a/b in the global naming tree, then after 
cd /../c, the modified pwd algorithm would give /../../a/c which is 
correct but redundant. (/../../a is the same as /.. if / is /../../a/b). 
 
this can be fixed if you keep a record of everywhere you visit in (1) and 
stop in (2) when you reach somewhere you've visited before, but since in 
an infinite naming tree this would require an infinite amount of storage 
and isn't very efficient in any case, it is easier to simply implement 
the algorithm given (which also requires an infinite amount of storage 
in the general case of course!) and ignore this problem. 
 
robert j stroud, 
computing laboratory, 
university of newcastle upon tyne. 
 
arpa robert%cheviot.newcastle@nss.cs.ucl.ac.uk 
uucp ...!ukc!cheviot!robert 
janet robert@newcastle.cheviot 
#! rnews 835 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!nott-cs!pyr1.cs.ucl.ac.uk!awylie 
from: awylie@pyr1.cs.ucl.ac.uk 
newsgroups: comp.sys.ibm.pc 
subject: re: standard date bug 
message-id: <39500002@pyr1.cs.ucl.ac.uk> 
date: 4 dec 87 13:58:00 gmt 
references: <7457@eddie.mit.edu> 
lines: 12 
nf-id: #r:eddie.mit.edu:7457:pyr1.cs.ucl.ac.uk:39500002:000:432 
nf-from: pyr1.cs.ucl.ac.uk!awylie    dec  4 13:58:00 1987 
 
 
i have a taiwanese xt clone with some strange bios and msdos 3.2 and the 
bug has annoyed me some time. this is not the 'subtle' bug mentioned in 
another reply, but a simple non-increment of the date at midnight. this 
wreaks havoc with make! 
   i shall try clockfix.sys tonight. thanks very much to the poster, his 
was the only really useful solution proposed. 
 
andrew wylie 
university of london computer centre 
 
awylie@uk.ac.ucl.cs 
#! rnews 847 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!bath63!sc_dra 
from: sc_dra@ux63.bath.ac.uk (dave allum) 
newsgroups: comp.sys.atari.st 
subject: hard disk optimisers 
summary: recommendations wanted 
message-id: <1972@bath63.ux63.bath.ac.uk> 
date: 4 dec 87 15:53:49 gmt 
reply-to: sc_dra@ux63.bath.ac.uk (dave allum) 
organization: swurcc, university of bath, u.k. 
lines: 13 
 
 
does anyone have any recommendations for and/or experience of hard disk 
optimisers for the st? 
 
the only ones i have come across are simon poole's dlii and michtron's 
tune up! (their exclamation mark, not mine). 
 
i have tried neither (dlii did some strange things with a ram disk i  
tested it on, and i'd rather not pay for tune up! until i have some 
favorable reports on it) and would be very interested in  anyone's 
experiences with the above or any other such beasts. 
 
thanks. 
#! rnews 1573 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!bob 
from: bob@its63b.ed.ac.uk (ercf08 bob gray) 
newsgroups: sci.physics 
subject: re: gr question 
message-id: <811@its63b.ed.ac.uk> 
date: 4 dec 87 17:31:49 gmt 
references: <4688@cit-vax.caltech.edu> <895@ubc-vision.uucp> 
reply-to: bob@its63b.ed.ac.uk (ercf08 bob gray) 
organization: i.t. school, univ. of edinburgh, u.k. 
lines: 28 
 
in article <895@ubc-vision.uucp> majka@ubc-vision.uucp (marc majka) writes: 
>would see the "poor fellow's" delta-t getting longer.  the poor fellow 
>crosses the absolute event horizon in a finite amount of (his) time. 
>the observer sees the poor fellow falling more and more slowly (while 
>also seeing him getting exponentially red-shifted) toward r=2m, but 
>never getting there.  i liked the presentation of this in my gr textbook: 
 
the observer, if he waited around long enough, would also 
see the black hole evaporate by hawkins' radiation. 
 
but, from the point of view of the observer, the "poor fellow" 
can never cross the event horizon before the hole evaporates 
away from under him. 
 
therefore, the "poor fellow" must observe one of two things. 
either he crosses the event horizon in a finite amount of 
time, or he will observe the black hole to vanish as he 
approaches. 
 
1. sets up a paradox, but 2. implies that anything falling 
into a black hole can't get into the black hole before it 
evaporates. i.e. the black hole can't form in the first 
place. it just get very close to it. 
 
 
would someone please comment on the above. i am sure i must 
be missing something. (i'm no physicist) 
	bob. 
#! rnews 2122 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!zen!frank 
from: frank@zen.uucp (frank wales) 
newsgroups: news.config 
subject: updated map entry for zen 
keywords: new host computer 
message-id: <787@zen.uucp> 
date: 3 dec 87 22:20:52 gmt 
organization: zengrange limited, leeds, england 
lines: 47 
 
 
it's a bit late  again,  we've been  running  the new system for about 3 
months now, but here is our updated map entry: 
 
#n	zen 
#s	hp 9000 model 840; hp-ux 1.1 (v.2) 
#o	zengrange limited 
#c	julian perry, frank wales 
#e	jules@zen.co.uk ...!mcvax!ukc!zen.co.uk!jules 
#t	+44 532 489048 
#p	greenfield road, leeds, west yorkshire, england, ls9 8db 
#l	01 31 22 w / 53 47 42 n 
#r 
# 
zen	hwcs(daily) 
 
 
who we are and what we do: 
 
as a company, we produce  custom  solutions  on  hand-held  and portable 
equipment,  primarily   customising   hewlett-packard   hand-helds.  for 
example, we recently installed almost 6 000 hp-71 hand-held computers as 
networked  terminals in 430 dhss offices as part of a document  tracking 
system developed by us to a dhss specification. 
 
we're not just a software  house, but also develop custom  packaging and 
electronics where necessary too.  our customers are primarily government 
departments  (here and abroad), but we have also  produced  products for 
individual sale through dealers (such as the zenwand-71 barcode wand for 
the hp-71, which span off of the dhss contract). 
 
although our products are almost exclusively  related to hand-helds, our 
expertise  stretches through to custom chip design and  mainframe-hosted 
software  packages  (mainly  under unix).  as a  consequence,  we regard 
ourselves as a solutions  house, rather than being specific to software, 
hardware, design or whatever. 
 
we have one  office [in  leeds],  have been  around for seven  years and 
employ over 40 people at present.  is that a reasonable summary? 
 
jules & frank 
 
julian perry               [ jules@zen.co.uk  ...!mcvax!ukc!zen.co.uk!jules ] 
frank wales                [ frank@zen.co.uk  ...!mcvax!ukc!zen.co.uk!frank ] 
system managers 
zengrange limited          phone: +44 532 489048 ext 217 
leeds, england. 
#! rnews 1158 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: rec.music.classical 
subject: re: re repeat repeating pieces 
message-id: <1567@brahma.cs.hw.ac.uk> 
date: 4 dec 87 18:18:28 gmt 
references: <8712011820.aa18589@decwrl.dec.com> 
reply-to: jack@cs.glasgow.ac.uk (jack campin) 
organization: pisa project, glesga yoonie 
lines: 13 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
 
 
[ignore the above email address and use my signature] 
i may have missed some of this thread, but i haven't heard anyone mention 
satie yet. his vexations for piano is meant to be repeated 840 times 
(it takes about 18 hours to perform). he also wrote some pieces of music 
to be played in particular spaces - "music for a boardroom" is one 
that comes to mind - which go round and round in circles. (i think that one 
would produce some #@$% aggressive board meetings). 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 1124 
path: alberta!mnetor!uunet!mcvax!ukc!stl!dww 
from: dww@stl.stc.co.uk (david wright) 
newsgroups: comp.os.vms 
subject: problem with vms 4.6 if your uvax has emulex cs02's 
message-id: <596@acer.stl.stc.co.uk> 
date: 4 dec 87 21:54:38 gmt 
reply-to: dww@stl.uucp (david wright) 
organization: stl,harlow,uk. 
lines: 16 
 
our system manager has reported that there is a problem with using emulex cs02 
qbus comms cards which are not at the latest revision level, under vms 4.6.    
these cards appeared to work fine under vms 4.5 and earlier. 
 
the emulex cs02 card, configured as two dhv-11 8-line muxs, gives phantom 
devices when running show device.   for example, txc0 to txc7 become txc0 to 
txc15.  there are problems in using the lines - for example control-y acts 
on the group of lines not just one!  there are other problems known to emulex.  
 
the solution is to upgrade the firmware prom on the card to at least 
revision p.  emulex may make a charge for this. 
 
--  
regards, 
        david wright           stl, london road, harlow, essex  cm17 9na, uk 
dww@stl.stc.co.uk <or> ...uunet!mcvax!ukc!stl!dww <or> psi%234237100122::dww 
#! rnews 384 
path: alberta!mnetor!uunet!mcvax!ukc!stc!root44!jgh 
from: jgh@root.co.uk (jeremy g harris) 
newsgroups: comp.sys.amiga 
subject: new kickstart 
keywords: kickstart workbench janus 
message-id: <489@root44.co.uk> 
date: 4 dec 87 19:05:27 gmt 
organization: root computers ltd., london, england 
lines: 3 
 
will the workbench-less kickstart initialise janus? 
--  
jeremy harris			jgh@root.co.uk 
#! rnews 1018 
path: alberta!mnetor!uunet!mcvax!unido!stollco!til 
from: til@stollco.uucp (tilgner) 
newsgroups: sci.astro 
subject: the current state of hubble constant? 
keywords: cosmology 
message-id: <142@stollco.uucp> 
date: 5 dec 87 18:32:42 gmt 
organization: stollmann gmbh, d 2000 hamburg 50 
lines: 17 
 
i am just preparing a 'semi-popular' lecture on how the 
value of the hubble constant is determined. 
 
as is generally 
known, the values of different authors fluctuates between 
ca. 50 to 100 km/(sec mpc). the latest discussion of this 
problem which i know of is m. rowan-robinson's book 
"the cosmological distance ladder" (freeman 1985). he 
advocates 67 km/(sec mpc) after a detailed discussion of 
the different distance indicators. 
 
now i would like to know: what is the current state of 
affairs? the responses of the advocates of the various 
values, for example by sandage & tammann or de vaucouleurs 
(= the grand old men of this topic)? somehow i missed 
their reactions. can anybody give me a hint via e-mail? 
i'll summarize. 
#! rnews 2734 
path: alberta!mnetor!uunet!mcvax!enea!ttds!draken!zap 
from: zap@draken.nada.kth.se (svante lindahl) 
newsgroups: comp.unix.wizards,comp.emacs 
subject: re: emacs csh alias 
message-id: <235@draken.nada.kth.se> 
date: 6 dec 87 07:00:31 gmt 
references: <10672@brl-adm.arpa> 
reply-to: zap@nada.kth.se (svante lindahl) 
followup-to: comp.emacs 
organization: the royal inst. of techn., stockholm 
lines: 49 
xref: alberta comp.unix.wizards:5741 comp.emacs:2402 
 
[warning: extensive inclusion, but i have included a new newsgroup in 
 the newsgroups-line, and directed followups to it (comp.emacs)] 
 
in article <10672@brl-adm.arpa> dsill@nswc-oas.arpa (dave sill) writes: 
>i've been trying to set up a c-shell (4.2 bsd) alias for emacs (gnu 
>17.64, not that it matters) which, when run the first time will 
>actually run emacs, but after suspending emacs with c-z, will bring 
>the background emacs job to the foreground.  the catch is that i'd 
>also like the alias to re-load emacs if i exit with c-x c-c.  simply 
>stated, i want an alias named "emacs" which will load emacs if it 
>isn't already loaded, but will foreground a background emacs if one 
>exists. 
> 
>i know i could do this with a script (if i assume the emacs job is 
>always job %1), but i'd prefer an alias since they're faster.  it 
>would be especially nice to determine which background job was the 
>emacs job and foreground *it*, instead of just assuming job %1. 
> 
>any ideas or alternate approaches?  should i just put up with the 
>occasional "fg: no such job." message? 
 
here is something which should do part of what you want. it doesn't 
accomplish to start a new emacs process if you exited the last one 
with c-x c-c - unless the first one had never been suspended! 
whenever you get "fg: no such job" just type ``i!!'', reinvoking the 
commandline prefixed with an "i", "iemacs" standing for "init emacs". 
 
alias emacs iemacs 
alias iemacs 'alias emacs remacs; "emacs" \!* ; alias emacs iemacs' 
alias remacs fg %emacs 
 
here we use a special version of suspend-emacs, that will look for a 
file ".emacs_pause" in the user's home directory when emacs is 
resumed. in this file suspend-emacs expects to find the current 
working directory and an optional "command line" that is parsed like 
the initial command line.  very useful! 
this could be done using "suspend-resume-hook", but the hook wasn't 
available in 17.?? when this was first implemented here. 
 
these are the aliases i use together with the special version of 
suspend-emacs. 
 
alias emacs iemacs 
alias remacs 'echo `pwd` \!* >\! ~/.emacs_pause ; %emacs' 
alias iemacs 'alias emacs remacs; "emacs" \!* ; alias emacs iemacs' 
alias kemacs 'alias emacs iemacs; remacs -kill' 
 
 
svante lindahl		zap@nada.kth.se		uunet!nada.kth.se!zap 
#! rnews 2721 
path: alberta!mnetor!uunet!mcvax!diku!iesd!jpc 
from: jpc@iesd.uucp (jens p. christensen) 
newsgroups: comp.unix.questions,comp.unix.wizards,sci.math.stat 
subject: problems with s statistical package 
summary: cannot make s work properly on sun-3 
keywords: s at&t sun-3 sunos 3.4 
message-id: <162@iesd.uucp> 
date: 5 dec 87 19:41:09 gmt 
reply-to: jpc@iesd.uucp (jens p. christensen) 
followup-to: comp.unix.questions 
organization: dept. of comp. sci., aalborg university, denmark 
lines: 58 
xref: alberta comp.unix.questions:4768 comp.unix.wizards:5742 sci.math.stat:213 
 
could anyone please shed light on a problem i have in compiling the s 
statistical package from at&t on our sun-3 system: 
 
system specifics: sun 3/260 under sunos 3.4 using the m4 macro 
processor supplied with the s system. s version date: fri feb 28 1986 
 
using the hints on compiling with bsd4.2 systems i only get apparently 
harmless warnings under the compilation. this could for example be: 
 
warning on line 84 of hcp.f: local variable i never used 
warning on line 96 of stems.f: statement cannot be reached 
f77: warning: file with unknown suffix (/usr/local/src/s/s/newfun/lib/grz) 
     passed to ld 
or 
"dprint.c", line 20: warning: illegal combination of pointer and integer, op = 
 
furthermore there are problems with the utility routine scandata.c, which 
fails with error: too many local variables. this is fixed by making the 
declaration of "table" global. not pretty, but it works. 
 
these are all the kinds of problems that appear during the 
compilation, and it *will* result in an executable, except.... 
the f...ing system doesn't even know how to add two numbers, as seen in 
the following: 
 
one-time initialization for new s user in /usr.mc68020/iesd/tap/jpc ... 
directories swork and sdata created 
> 1 + 2 
bad operator: + 
error in + 
>  
 
running the tests supplied with the system ($a/dotest all) will not 
give better results. this is an excerpt from $test/current/apply: 
 
> prefix("apply.")    # test of apply and multivariate stuff, some time-series 
> $random.seed_c(57,0,3,0,0,0,49,16,0,0,0,0)	# to initialize at same spot 
> matr_matrix(rnorm(100),20,5) 
invalid distribution: rnorm 
error in rnorm 
dumped 
> print(cm_apply(matr,2,"mean")); apply(matr,2,"var") 
apply.matr not found 
dumped 
 . 
 . 
and more depressing errors... 
why does the prefix command work, while the matr_matrix(rnorm... stuff don't? 
 
so, have *anybody* made this run on a sun system, and how did you do it? 
all suggestions or pointers to which direction i should go, are welcome. 
 
regards, 
--  
jens peter christensen                               jpc@iesd.uucp 
department of math. and computer science             {...}!mcvax!diku!iesd!jpc 
aalborg university centre 
denmark 
#! rnews 1496 
path: alberta!mnetor!uunet!mcvax!lambert 
from: lambert@cwi.nl (lambert meertens) 
newsgroups: sci.math.symbolic 
subject: bug in macsyma solve 
message-id: <137@piring.cwi.nl> 
date: 6 dec 87 21:50:53 gmt 
organization: cwi, amsterdam 
lines: 39 
 
this is unix macsyma release 309.2. 
 
(c1) x^12-12*x^11+48*x^10-40*x^9-193*x^8+392*x^7+44*x^6+8*x^5-977*x^4 
     -604*x^3+2108*x^2+4913; 
 
      12       11       10       9        8        7       6      5        4 
(d1) x   - 12 x   + 48 x   - 40 x  - 193 x  + 392 x  + 44 x  + 8 x  - 977 x 
                                                             3         2 
                                                      - 604 x  + 2108 x  + 4913 
 
(c2) solve(%); 
                      6       5       4        3        2 
(d2)          [0 = - x  + 12 x  - 47 x  + 188 x  - 527 x  - 4913] 
 
that looks wrong, but let's check if it factors (d1): 
 
(c3) part(%,1,2); 
                    6       5       4        3        2 
(d3)             - x  + 12 x  - 47 x  + 188 x  - 527 x  - 4913 
 
(c4) gcd(%,d1); 
 
(d4)                                   1 
 
no, it does not.  let's have a look at the real roots of (d1) and (d3): 
 
(c5) realroots(d1)$ %,numer; 
 
(d6) [x = - 1.960768669843674, x = - 1.544090360403061, x = 3.544090360403061, 
                                                         x = 3.960768669843674] 
(c7) realroots(d3)$ %,numer; 
 
(d8)           [x = 5.472395747900009, x = 7.766151040792465] 
 
way off. 
 
--  
 
lambert meertens, cwi, amsterdam; lambert@cwi.nl 
#! rnews 989 
path: alberta!mnetor!uunet!mcvax!unido!tub!actisb!bernd 
from: bernd@actisb.uucp (gunter nitzler) 
newsgroups: comp.sources.bugs 
subject: re: starchart printing problem 
message-id: <116@actisb.uucp> 
date: 6 dec 87 15:55:23 gmt 
references: <3554@ames.arpa> 
reply-to: bernd@actisb.uucp (bernd-gunter nitzler) 
organization: actis in berlin gmbh, w. germany 
lines: 19 
 
in article <3554@ames.arpa> yee@ames.uucp (peter e. yee) writes: 
>i compiled and ran the starchart program.  the starpost version prints out 
>the outline of the chart and the legend.  nothing more.  no stars, no planets, 
>no nebulas.  nothing.  is it just me, or has anyone else had this problem? 
 
i had the same problem and have found two bugs: 
 
in starchart.c, line 243 old: 
	char ras[2], .... 
new: 
	char ras[20], ... 
 
in starchart.c, line 757 old: 
	    sscanf(cbuf, "%*5s%f%f%f %[^\n]", &ra, &de, &sc, legend); 
new: 
	    sscanf(cbuf, "%*5s%lf%lf%lf %[^\n]", &ra, &de, &sc, legend); 
 
this two changes fixes the bugs. 
bernd. 
#! rnews 2244 
path: alberta!mnetor!uunet!mcvax!enea!tut!santra!jmunkki 
from: jmunkki@santra.uucp (juri munkki) 
newsgroups: comp.sys.mac 
subject: color copybits is too slow! 
keywords: mac ii color quickdraw animation speed optimization 
message-id: <9130@santra.uucp> 
date: 6 dec 87 21:13:10 gmt 
organization: helsinki university of technology, finland 
lines: 76 
 
 
i experimented with offscreen pixmaps today. it seems that color 
quickdraw is very flexible, but too slow for good animation. most of the 
overhead comes from color matching and conversion. i guess i could write 
my own color matching routine, but i think there should be a fast way to 
do a simple copy operation. 
 
in most painting programs the actual painting could be done on an 
offscreen bitmap with the same color table as the best gdevice. 
 
it takes about twice as much time to do a copybits in srccopy mode than 
it takes in the srcxor mode. below is a short program that draws to an 
offscreen pixmap and then copies it back to the screen. try different 
transfer modes and note the speed difference. the code is written in ls 
c 2.13. even srcxor, which is the fastest usable mode, is too slow for 
really high quality animation. 
 
how can it be done faster? 
 
#include <mactypes.h> 
#include <quickdraw.h> 
#include <color.h> 
#include <windowmgr.h> 
 
windowptr	onscreen; 
cgrafptr	offs; 
rgbcolor	temp; 
pixmapptr	offp; 
 
void	main() 
{ 
	int	i; 
	 
	initgraf(&theport);	initcursor(); 
	initfonts();		initwindows(); 
		 
	onscreen=getnewwindow(1000,0l,-1); 
 
	offs=(cgrafptr)newptr(sizeof(*offs)); 
 
	opencport(offs); 
	hlock(offs->portpixmap); 
	offp=*(offs->portpixmap); 
 
	setrect(&offp->bounds,0,0,256,256); 
	portsize(256,256); 
	offp->rowbytes=32768l+256; 
 
	offp->baseaddr=newptr(65536l); 
 
	eraserect(&offs->portrect); 
	temp.blue=65535; 
	temp.red=0; 
	temp.green=0; 
	rgbforecolor(&temp); 
	for(i=0;i<256;i+=4) 
	{	moveto(i,0); 
		lineto(255-i,255); 
	} 
 
	sysbeep(10); 
	hidecursor(); 
	for(i=100;i;i--) 
		copybits(&((grafptr)offs)->portbits,&onscreen->portbits, 
				 &offs->portrect,&offs->portrect,srcxor,0); 
	sysbeep(10); 
	while(!button()); 
} 
 
juri munkki 
jmunkki@santra.hut.fi 
jmunkki@fingate.bitnet 
lk-jmu@finhut.bitnet 
 
p.s. the window is longword aligned and a color table was copied from the 
     system file. 
#! rnews 617 
path: alberta!mnetor!uunet!mcvax!enea!chalmers!benke 
from: benke@chalmers.uucp (bengt-eric ericson) 
newsgroups: comp.sys.ibm.pc 
subject: re: warning! fastback may corrupt your hard disk! 
message-id: <2239@chalmers.uucp> 
date: 6 dec 87 21:16:48 gmt 
references: <703@vaxine.uucp> <3225@bnrmtv.uucp> <7024@sunybcs.uucp> 
reply-to: benke@chalmers.uucp (bengt-eric ericson) 
organization: dept. of cs, chalmers, sweden 
lines: 3 
keywords:computer shopper 
 
 
in some article in this group there is said something about 
"computer shopper". is this a magazine or what? please 
enlight us guys here in the land of polar bears. :-) 
#! rnews 2432 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!kjws 
from: kjws@eagle.ukc.ac.uk (k.j.w.smithers) 
newsgroups: comp.sys.amiga 
subject: re: a2090a hd controller 
message-id: <4038@eagle.ukc.ac.uk> 
date: 6 dec 87 14:46:00 gmt 
references: <5474@oberon.usc.edu> <6575@ccicpg.uucp> <2903@cbmvax.uucp> 
reply-to: kjws@ukc.ac.uk (k.j.w.smithers) 
organization: computing lab, university of kent at canterbury, uk. 
lines: 56 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
 
in article <2903@cbmvax.uucp> you write: 
> 
>this is one of the things that the updated hddisk device i announced 
>awhile ago (and will mail to people over usenet) fixes.  if you don't 
>have have a 2090 card, the software that comes with your 2090 is 
>the new driver, so it will work fine in overscan. 
>--  
>andy finkel		{ihnp4|seismo|allegra}!cbmvax!andy  
>commodore-amiga, inc. 
> 
 
i have an a2090 card and a csa68020/68881 board with no 32 bit ram. 
  
 they will not work together. (but both work seperately) 
 
i think the driver (hddisk) is dated  1986 , is this the latest driver? 
(if not could you please e-mail me the latest version) 
 
the problem is when i run binddrivers that task stops, (binddrivers 
never exits). it seems to fallover on a particular call to execbase. 
the last instruction (displayed by metascope) is  mov a2,(a0) 
 
if i move the hddisk from expansion draw , to hddisk.device in the 
devs draw, i can mount the harddisk (dh0:) , but when i do a 
cd dh0: , the cd command displays 'cant find dh0:' 
 
i am running morerows, 672*266 on a b2000 rev 4.0 board (pal) with 
2mbytes expansion ram , 2*3.5inch drives, and (hopefully) a2090 + 
20 mbyte hard disk, and a csa 68020/68881 board. 
 
i have also done the wire-link modification to the main b2000 board, 
as required by csa for the 68020 board on rev4.0 and later boards. 
 
slots are as follows :- 
 
     i  i  e  e  e  m  h     6 
     b  b  m  m  m  e  a     8 
     m  m  p  p  p  m  r     0 
           t  t  t  o  d     2 
	   y  y  y  r  d     0 
                    y  i     c 
                       s     p 
                       k     u 
 
   thanks in advance for any help 
		 
	kit smithers 
 
____________________________________________________________________________ 
   kit smithers			kjws@ukc.ac.uk 
				kjws@ukc.uucp 
				!mcvax!ukc!kjws 
 
the man who can not stay fast and hard at the same time ! 
live for ever, or die in the attempt. 
______________________________________________________________________________ 
#! rnews 1572 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!ajcd 
from: ajcd@its63b.ed.ac.uk (angus duggan, department of computer science, university of edinburgh,) 
newsgroups: rec.games.hack 
subject: pickup option - suggestion 
keywords: pickup hackoptions 
message-id: <813@its63b.ed.ac.uk> 
date: 6 dec 87 11:47:56 gmt 
reply-to: ajcd@its63b.ed.ac.uk (angus duggan) 
organization: i.t. school, univ. of edinburgh, u.k. 
lines: 23 
 
here's a suggestion for an improvement (at least i think it is :-) to the 
"pickup" option in nethack, which someone who is familiar with the source 
code might like to implement - 
 
make the "pickup" option a composite option like "packorder", and re-write 
the picking up code so that the types of objects specified will be 
automatically picked up. all other objects could still be picked up by ','. 
 
e.g. "pickup:?+/=!)"  would pick up scrolls, spellbooks, wands, rings, 
                                   potions, and weapons. 
 
this would be useful for those of us who don't like carrying hoards of 
gold around, and also to prevent picking up dead cockatrices while still 
picking up other objects. 
 
btw, does anyone know what the options "null" and "news" do? 
--  
angus duggan, department of computer science, university of edinburgh, 
james clerk maxwell building, the king's buildings, mayfield road, 
edinburgh, eh9 3jz, scotland, u.k. 
janet:  ajcd@uk.ac.ed.ecsvax  arpa: ajcd%ecsvax.ed.ac.uk@cs.ucl.ac.uk 
usenet: ajcd@ecsvax.ed.ac.uk  uucp: ...!seismo!mcvax!ukc!ecsvax.ed.ac.uk!ajcd 
bitnet: psuvax1!ecsvax.ed.ac.uk!ajcd or ajcd%ecsvax.ed.ac.uk@earn.rl.ac.uk 
#! rnews 4243 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!simon 
from: simon@its63b.ed.ac.uk (ecsc68 s brown cs) 
newsgroups: comp.lang.c 
subject: re: stdio error detection 
message-id: <814@its63b.ed.ac.uk> 
date: 6 dec 87 17:35:07 gmt 
references: <10649@brl-adm.arpa> 
reply-to: simon%lfcs.ed.ac.uk@nss.cs.ucl.ac.uk (simon brown) 
organization: lfcs, university of edinburgh 
lines: 87 
 
in article <10649@brl-adm.arpa> dsill@nswc-oas.arpa (dave sill) writes: 
>>i used to be rather fond of c, but this error stuff is quite 
>>incredibly bad.  the problem isn't really the language; it's 
>>the libraries. 
> 
>rather than messing with errno, i think a new variable, say, liberr, 
>should be used.  an include file, say liberr.h, could contain macro 
>definitions for the various types of errors.  a macro named liberr 
>could also be defined in liberr.h so code could be written that would 
>take advantage of liberr if it was available or handle errors in the 
>usual way if it's not.  even better would be to have liberr be a 
>predefined macro like ansi, unix, vax, et cetera. 
> 
 
this still has the same problem as with "errno"- namely that you're trying 
to describe a general ``error condition'' using a single number! i'm told 
that vms (but it's a good idea for all that...) provides a stack of error  
values which allows a program to search backward to find out what the "real"  
error was, depending on what kind of detail is required. if you have several 
levels of library calls between you and the system call that failed, this 
can be extremely useful- it's not really much use having an error-value 
if you can't even tell what system call it came from (let alone what parameters 
were *passed* to that system call to cause it to fail!). 
 
a *decent* error-returning mechanism would describe: 
 
	1. what call (syscall or library call) failed. 
	   this could be a number- you could use something like internet 
	   addressing to put some kind of structure into it: 
		libc.stdio.fopen 
	2. why it failed. 
	   simple e-numbers will do for this (although i suppose they'd 
	   have to be grouped for different libraries): 
		e_stdio.e_cannot_open_file 
	3. what value it returned. 
		(file *)null 
	3. what parameters were passed to it. 
	   this is the most difficult one, because it would have to have 
	   some kind of idea as to the types involved. it could (i suppose) 
	   deal only with string types (and convert any other type into 
	   "printable" form by doing the equivalent of sprintf()'ing it). 
	   it also has to be a "list", which means it would probably have 
	   to be done using something like "argc,argv": 
		argc: 2 
		argv: "mumble.splat", "r" 
 
if the error is not "dealt with", then this information should propogate 
down (together with the info from the callee's failure), and so on... 
 
so, if you do a 
	fopen("mumble.splat","r") 
and it fails, then the following would be left on the stack (in some format 
or other) to be dealt with by some error-diagnosing function: 
 
	kernel.open: 
		param 1: "mumble.splat" [string] 
		param 2: 0 [int] 
		returns: -1 [int] 
		error: e_kernel.enoent 
	libc.stdio.fopen: 
		param 1: "mumble.splat" [string] 
		param 2: "r" [string] 
		returns: 0 [file *] 
		error: e_libc.e_stdio.e_cannot_open_file 
 
the error-diagnosing stuff could then print something *useful* such as 
	stdio fopen: couldn't open file "mumble.splat" for reading, because: 
	    kernel open: no file or directory "mumble.splat" 
 
(and of course the format of these messages could be user-configurable, so 
that noddies would just get the information they need, whereas people who 
understand what they're doing could get reams and reams of info- just by setting 
some environment parameter to the appropriate value). 
 
of course, all this stuff would have to be known by the compiler, and i'm sure 
it'd be dead slow to execute! 
 
--  
-------------------------------------------------- 
| simon brown                                    | 
| laboratory for foundations of computer science | 
| department of computer science                 | 
| university of edinburgh, scotland, uk.         | 
-------------------------------------------------- 
 uucp:  uunet!mcvax!ukc!lfcs!simon 
 arpa:  simon%lfcs.ed@nss.cs.ucl.ac.uk      "life's like that, you know" 
 janet: simon@uk.ac.ed.lfcs 
#! rnews 665 
path: alberta!mnetor!uunet!mcvax!henk 
from: henk@cwi.nl (henk schouten) 
newsgroups: rec.games.board 
subject: diplomacy 
keywords: pbm 
message-id: <138@piring.cwi.nl> 
date: 7 dec 87 08:36:16 gmt 
organization: cwi, amsterdam 
lines: 9 
 
a local group is going to start a diplomacy game by mail. we have 
only few players so i would like to take part in the game myself. 
to do so, i would like to have the moves evaluated by a 
program. before writing such a program myself, i would like to 
ask if anyone has or knows of such a program in the public 
domain, preferrably written in c. code or pointers to it will be 
greatly appreciated. 
				henk schouten 
				..!nl!cwi!henk 
#! rnews 1298 
path: alberta!mnetor!uunet!mcvax!varol 
from: varol@cwi.nl (varol akman) 
newsgroups: sci.crypt 
subject: re: nsa advertisment 
summary: somewhat naive, huh? 
message-id: <139@piring.cwi.nl> 
date: 7 dec 87 08:59:02 gmt 
references: <4781@cit-vax.caltech.edu> 
organization: cwi, amsterdam 
lines: 22 
 
palmer@tybalt.caltech.edu.uucp (david palmer) writes: 
>i just read a magazine add seeking people to work at the nsa (pg. 80r of 
>dec. 1987 ieee spectrum) 
>the graphic is 10,000,0... (100 zeros) written on three lines.  the first 
>paragraph of the text reads: 
>	you're looking at a "googol." ten raised to the 100th power. 
>	one followed by 100 zeros.  counting 24 hours a day, you would 
>	need 120 years to reach a googol.  two lifetimes.  it's a 
>	number that's impossible to grasp.  a number beyond our imagination. 
>... material deleted ... 
 
this strikes me as quite odd.  i mean, if something can be done in two lifetimes 
then, darn it, it is well within my imagination. 
if it can be done within 20 lifetimes 
i can still grasp how difficult it should be.  a real difficult thing would 
be something that takes say 10^100 lifetimes. 
 
in short, i find the above ad quite naive.  nsa guys should probably 
have something better than this for the inspring encryption student. 
what do you say? 
 
-varol akman 
#! rnews 1520 
path: alberta!mnetor!uunet!mcvax!prlb2!ronse 
from: ronse@prlb2.uucp (christian ronse) 
newsgroups: sci.math 
subject: re: least-squares fitting 
summary: see duda & hart, chapter 9, for a solution 
keywords: ``eigenvector line fitting'' 
message-id: <387@prlb2.uucp> 
date: 7 dec 87 09:22:11 gmt 
references: <1823@culdev1.uucp> <528@amethyst.ma.arizona.edu> 
organization: philips research laboratory, brussels 
lines: 21 
 
from article <528@amethyst.ma.arizona.edu> by hdunne@amethyst.ma.arizona.edu: 
< in article <1823@culdev1.uucp> drw@culdev1.uucp (dale worley) writes: 
	[deleted ...] 
< }is is known how to perform least-squares fitting where the "error" is 
< }the perpendicular distance between the point and the line? 
< } 
< if the point is (x_i,y_i) and the line is y = a*x + b, then the square of the 
< perpendicular distance is [(y_i - a*x_i - b)^2]/(1 + a^2) (assuming the line 
< isn't vertical). taking the sum of the squared distances and setting the 
< partial derivatives wrt. a and b equal to zero, you get the same equations  
< for a and b as you get from the usual least-squares procedure. 
 
see the book ``pattern classification and scene analysis'' by r.o. duda & p.e. 
hart, chapter 9. section 9.2.1 introduces the usual least square fitting 
(``minimum-squared-error line fitting''), and 9.2.2 the one asked by dale 
(``eigenvector line fitting''). there the problem is solved. 
 
christian ronse		maldoror@prlb2.uucp 
{uunet|philabs|mcvax|...}!prlb2!{maldoror|ronse} 
 
	stat rosa pristina nomine, nomina nuda tenemus 
#! rnews 977 
path: alberta!mnetor!uunet!mcvax!ukc!stl!stc!idec!camcon!mb 
from: mb@camcon.uucp (mike bell) 
newsgroups: comp.sys.ibm.pc 
subject: re: neat voice|gag program 
summary: how does helpme work? 
message-id: <1107@titan.camcon.uucp> 
date: 2 dec 87 14:25:07 gmt 
references: <3692@uwmcsd1.uucp> 
distribution: all 
organization: cambridge consultants ltd., cambridge, uk 
lines: 15 
 
in article <3692@uwmcsd1.uucp>, cmaag@csd4.milw.wisc.edu  
(posting to comp.binaries.ibm.pc)  says: 
 
> here is a neat little program i found on a local bbs.  it uses the speaker 
> to generate a very-realistic (the best i've heard on a pc!) voice that 
> says something to the effect of "help!  i'm locked in this computer! 
> let me out! help!".   
 
i just played it, and was much impressed. given the rudimentary 
nature of ibm pc's, can anybody explain how it achieves its 
effect? 
--  
---------------		uucp:  ...mcvax!ukc!camcon!mb 
-- mike bell --		or:    mb%camcon.uucp 
---------------		phone: +44 223 358855 
#! rnews 710 
path: alberta!mnetor!uunet!mcvax!ukc!stl!stc!idec!camcon!mb 
from: mb@camcon.uucp (mike bell) 
newsgroups: comp.sources.bugs 
subject: re: v12i071:  starchart program (minor correction) 
message-id: <1114@titan.camcon.uucp> 
date: 4 dec 87 15:48:15 gmt 
references: <1110@artemis3.camcon.uucp> 
organization: cambridge consultants ltd., cambridge, uk 
lines: 10 
 
in article <1110@artemis3.camcon.uucp>, mb@camcon.uucp (mike bell) says: 
> 	(problem found on sun 4.3 bsd unix) 
 
sorry, that should have been sun release 3.4 of 4.2 bsd... (well it 
was correct within an order of magnitude:-) 
 
--  
---------------		uucp:  ...mcvax!ukc!camcon!mb 
-- mike bell --		or:    mb%camcon.uucp 
---------------		phone: +44 223 358855 
#! rnews 2447 
path: alberta!mnetor!uunet!mcvax!tuvie!rcvie 
from: rcvie@tuvie (elin forsch.z.) 
newsgroups: comp.lang.c 
subject: re: autoincrement question 
message-id: <548@tuvie> 
date: 7 dec 87 10:00:58 gmt 
references: <1507@ogcvax.uucp> 
organization: tu vienna edp-center, vienna, austria 
lines: 58 
 
in article <1507@ogcvax.uucp>, schaefer@ogcvax.uucp (barton e. schaefer) writes: 
> (i realize this might be similar to another question asked recently, but ...) 
>  
> another student here at ogc recently came to me with a question about the 
> c autoincrement operator.  the following program is representative of the 
> code he wrote, which did not do what he expected: 
>  
>     struct foo { struct foo *tmp; char junk[32]; } foolist[4]; 
>  
>     main () 
>     { 
> 	struct foo *bar; 
>  
> 	bar = foolist; 
> 	/* do something with bar */ 
> 	bar->tmp = bar++;		/* this is the problem line */ 
> 	/* do something else */ 
>     } 
>  
 
this is really dangerous programming. the points where the left and where the 
right "bar" are evaluated are implementation defined. the problem is similar to 
another one, which a friend of mine had some time ago. he tried to pack as much 
as possible into the control part of a while loop using the following statement: 
 
while (a[i]=b[i++]) 
  ; 
 
things were even worse here, as the program behaved even differently depending 
on whether it was compiled with the optimization option or not. non optimized 
everything worked as expected but in the optimized version only for the first 
assignment "i" was incremented after the assignment, for all the following 
assignments it was incremented after the evaluation of "b[i]" but before the  
assignment. nevertheless this behaviour was in the sense of both k&r and ansi. 
the only thing you can trust on, is that the *operand* of the increment 
operator is evaluated before its incrementation. one way to achieve the desired 
behaviour is, as you suggested yourself, to write: 
 
> what he really wanted was the equivalent of 
> 	bar->tmp = bar; 
> 	bar++; 
 
and not (for the same reasons stated above): 
 
> 	(bar++)->tmp = bar; 
 
if there is any necessity to have the whole semantic in one *expression*, use 
the comma operator, as 
 
bar->tmp = bar, bar++; 
 
this operator *guarantees* the sequential evaluation of its operands from 
left to right. 
 
in real life: dipl.ing. dietmar weickert 
              alcatel austria - elin research center 
              floridusg. 50 
          a - 1210 vienna / austria 
#! rnews 1822 
path: alberta!mnetor!uunet!mcvax!steven 
from: steven@cwi.nl (steven pemberton) 
newsgroups: comp.sys.atari.st 
subject: re: alcyon c bug n++ 
message-id: <140@piring.cwi.nl> 
date: 7 dec 87 14:59:48 gmt 
references: <8712051307.aa12109@ucbvax.berkeley.edu> 
reply-to: steven@cwi.nl (or try mcvax!steven.uucp) 
organization: cwi, amsterdam 
lines: 38 
 
for people interested, here are a couple of bugs in the alcyon 
compiler that we've been hitting our heads against for the last few 
weeks: 
 
	1) the compiler doesn't seem able to cope with nested 
	   initialisations. for instance, a struct with an array in 
	   the middle: 
		static struct foo table[] = { 
			{ ...... {.....} ......}, 
			... 
		} 
	   the compiler complains about mismatched braces. 
	   cure: 'unwrap' the struct declaration, so it's all at the 
		 same level. 
 
	2) in a construct like 
		bar *p = (expression1, expression2); 
	   the result of expression2 gets coerced to int, and then 
	   back to bar *, meaning basically that you get bombs on the 
	   screen when you try to use p, due to a wrong address. 
	   cure: use 
		bar *p = (expression1, (bar *) expression2); 
 
	3) we believe that 'complicated' initialisations to auto 
	   variables in functions (for instance where the 
	   initialisation involves a call to another function) often 
	   come out wrong. however, by this point, we despaired, and 
	   stopped using the compiler, so we never followed up on it. 
 
i might point out that we're trying to compile a big program: 30,000 
lines of c, so just trying to trace bug 2 took us a lot of time. 
 
by the way, just for interest: to compile the lot from scratch, using 
a ram disk for temporaries would take 4 hours. when we reinitialised 
the disk partition, and copied the files back, a recompile only took 
1.5 hours! 
 
steven pemberton, cwi, amsterdam; steven@cwi.nl 
#! rnews 1265 
path: alberta!mnetor!uunet!mcvax!mhres!jv 
from: jv@mhres.mh.nl (johan vromans) 
newsgroups: comp.sys.hp 
subject: re: syslogd on hp-ux 
summary: i have one 
message-id: <1495@mhres.mh.nl> 
date: 7 dec 87 12:19:02 gmt 
references: <641@ucdavis.ucdavis.edu> 
sender: jv@mhres.mh.nl 
reply-to: jv@mhres.mh.nl (johan vromans) 
organization: multihouse n.v., the netherlands 
lines: 20 
 
in article <641@ucdavis.ucdavis.edu> arons@iris.ucdavis.edu (tom arons) writes: 
>has anyone successfully ported syslog(3) and syslogd from 4.2 or 
>4.3 bsd to hp-ux 5.3 running on a 9000 series 300? 
> 
>it doesn't look like it would be too hard to do, but i don't want to 
>reinvent the wheel. 
 
i once implemented a syslogd for hp-ux using message queues. i have posted 
it to comp.sources.unix some time ago, but i can mail it if you cannot find 
it. 
 
features: (almost) bsd compatible, no network support, runs as a daemon, 
communicates with message queues. 
if no daemon is running, calling 'syslog' is effectivily a no-op. 
i have used it when i tried to get sendmail running. 
 
 
 
--  
johan vromans                              | jv@mh.nl via european backbone 
multihouse n.v., gouda, the netherlands    | uucp: ..{uunet!}mcvax!mh.nl!jv 
"it is better to light a candle than to curse the darkness" 
#! rnews 1036 
path: alberta!mnetor!uunet!mcvax!botter!wundt!michael 
from: michael@wundt.psy.vu.nl (m.a.m. michael) 
newsgroups: comp.sys.mac 
subject: address for update of versaterm requested 
message-id: <164@wundt.psy.vu.nl> 
date: 7 dec 87 16:30:39 gmt 
reply-to: michael@psy.vu.nl.uucp (m.a.m. felt) 
organization: vu psychologie, amsterdam 
lines: 24 
 
!!!!!!!!!!!!!!!!!!!!!!!!! 
please reply via e-mail. 
!!!!!!!!!!!!!!!!!!!!!!!!! 
 
when i purchased versaterm 2+ years ago i didn't bother to register. 
now i wish i had. it's about time for an update. 
 
the manual lists the address: 
peripherals computers & supplies inc 
2232 perkiomen avenue 
mt. penn, pa 19606 
 
is this still current (other versaterm users)? 
 
in either case, an e-mail reply will be appreciated. 
the dealer (i bought it from) here is still selling 
the same version of two years ago. (1.42) 
 
thanks, michael felt 
--  
michael felt	psychology dept, vrije universiteit, amsterdam, netherlands 
internet:	michael@psy.vu.nl 
uucp:		...!mcvax!vupsy!michael , michael@vupsy.uucp 
applelink:	hol0038 
#! rnews 600 
path: alberta!mnetor!uunet!mcvax!inria!axis!alastair 
from: alastair@axis.fr (alastair adamson) 
newsgroups: comp.text 
subject: to break or not to break 
summary: br command in [nt]roff 
message-id: <348@axis.fr> 
date: 7 dec 87 08:33:25 gmt 
organization: axis digital, paris 
lines: 9 
 
i have long wondered at the ubiquitous [nt]roff request 
	'br 
found in the mm macros and elsewhere. could someone 
please elucidate the use of the break request with 
the no-break command character ' used? 
 
thanks in advance, alastair adamson, 
	alastair@axis.fr 
	axis digital, 135 rue d'aguesseau, 92100, boulogne, france 
#! rnews 8193 
path: alberta!mnetor!uunet!mcvax!botter!ast 
from: ast@cs.vu.nl (andy tanenbaum) 
newsgroups: comp.os.minix 
subject: new program: treecmp.c 
message-id: <1774@botter.cs.vu.nl> 
date: 7 dec 87 20:53:16 gmt 
reply-to: ast@cs.vu.nl (andy tanenbaum) 
organization: vu informatica, amsterdam 
lines: 321 
 
 
i have written a program to recursively compare the contents of two given 
directories, file for file.  the program descends the tree and reports about 
files that are missing or different.  some day, if i ever get around to 
producing v1.3 of minix, i will make a tree of the current version next to 
the v1.2 tree, and then run this program to get a list of all files that 
are different.  then i can make diff listings etc.  in reality, the reason 
i wrote it however, is that i had just copied my minix tree from one part 
of the disk to another, and i wanted to make sure nothing was forgotten. 
i am sure there are other uses as well.    one could no doubt write a shell 
script to do this same thing, or perhaps use find, but this program is 
much faster, being able to compare two 8 megabyte trees in about 12 
minutes on a z-248. 
 
please post any bugs you find. 
 
andy tanenbaum (ast@cs.vu.nl) 
 
----------------------------- treecmp.c --------------------------------- 
/* treecmp - compare two trees		author: andy tanenbaum */ 
 
/* this program recursively compares two trees and reports on differences. 
 * it can be used, for example, when a project consists of a large number 
 * of files and directories.  when a new release (i.e., a new tree) has been 
 * prepared, the old and new tree can be compared to give a list of what has 
 * changed.  the algorithm used is that the first tree is recursively 
 * descended and for each file or directory found, the corresponding one in 
 * the other tree checked.  the two arguments are not completely symmetric 
 * because the first tree is descended, not the second one, but reversing 
 * the arguments will still detect all the differences, only they will be 
 * printed in a different order.  the program needs lots of stack space 
 * because routines with local arrays are called recursively. the call is 
 *    treecmp [-v] dir1 dir2 
 * the -v flag (verbose) prints the directory names as they are processed. 
 */ 
 
#include <stat.h> 
 
#define bufsize 4096		/* size of file buffers */ 
#define maxpath 128		/* longest acceptable path */ 
#define direntlen 14		/* number of characters in a file name */ 
 
struct dirstruct {		/* layout of a directory entry */ 
  unsigned inum; 
  char fname[direntlen]; 
}; 
 
struct stat stat1, stat2;	/* stat buffers */ 
 
char buf1[bufsize];		/* used for comparing bufs */ 
char buf2[bufsize];		/* used for comparing bufs */ 
 
int verbose;			/* set if mode is verbose */ 
 
main(argc, argv) 
int argc; 
char *argv[]; 
{ 
  char *p; 
 
  if (argc < 3 || argc > 4) usage(); 
  p = argv[1]; 
  if (argc == 4) { 
	if (*p == '-' && *(p+1) == 'v')  
		verbose++; 
	else 
		usage(); 
  } 
 
  if (argc == 3) 
	compare(argv[1], argv[2]); 
  else 
	compare(argv[2], argv[3]); 
 
  exit(0); 
} 
 
compare(f1, f2) 
char *f1, *f2; 
{ 
/* this is the main comparision routine.  it gets two path names as arguments 
 * and stats them both.  depending on the results, it calls other routines 
 * to compare directories or files. 
 */ 
 
  int type1, type2; 
 
  if (stat(f1, &stat1)  < 0) { 
	printf("cannot stat %s\n", f1); 
	return; 
  } 
 
  if (stat(f2, &stat2)  < 0) { 
	printf("missing file: %s\n", f2); 
	return; 
  } 
 
  /* examine the types of the files. */ 
  type1 = stat1.st_mode & s_ifmt; 
  type2 = stat2.st_mode & s_ifmt; 
  if (type1 != type2) { 
	printf("type diff: %s and %s\n", f1, f2); 
	return; 
  } 
 
  /* the types are the same. */ 
  switch(type1) { 
	case s_ifreg:	regular(f1, f2); 
			break; 
 
	case s_ifdir:	directory(f1, f2); 
			break; 
 
	case s_ifchr: 
	case s_ifblk:	break; 
 
	default:	printf("unknown file type %o\n", type1); 
  } 
  return; 
} 
 
regular(f1, f2) 
char *f1, *f2; 
{ 
/* compare to regular files.  if they are different, complain. */ 
 
  int fd1, fd2, n1, n2, i; 
  unsigned bytes; 
  long count; 
  char *p1, *p2; 
 
  if (stat1.st_size != stat2.st_size) { 
	printf("size diff: %s and %s\n", f1, f2); 
	return; 
  } 
 
  /* the sizes are the same.  we actually have to read the files now. */ 
  fd1 = open(f1, 0); 
  if (fd1 < 0) { 
	printf("cannot open %s for reading\n", f1); 
	return; 
  } 
 
  fd2 = open(f2, 0); 
  if (fd2 < 0) { 
	printf("cannot open %s for reading\n", f2); 
	return; 
  } 
 
  count = stat1.st_size; 
  while (count > 0l) { 
	bytes = (unsigned) (count > bufsize ? bufsize : count);	/* rd count */ 
	n1 = read(fd1, buf1, bytes); 
	n2 = read(fd2, buf2, bytes); 
	if (n1 != n2) { 
		printf("length diff: %s and %s\n", f1, f2); 
		close(fd1); 
		close(fd2); 
		return; 
	} 
 
	/* compare the buffers. */ 
	i = n1; 
	p1 = buf1; 
	p2 = buf2; 
	while (i--) { 
		if (*p1++ != *p2++) { 
			printf("file diff: %s and %s\n", f1, f2); 
			close(fd1); 
			close(fd2); 
			return; 
		} 
	} 
	count -= n1; 
  } 
  close(fd1); 
  close(fd2); 
} 
 
directory(f1, f2) 
char *f1, *f2; 
{ 
/* recursively compare two directories by reading them and comparing their 
 * contents.  the order of the entries need not be the same. 
 */ 
 
  int fd1, fd2, n1, n2, ent1, ent2, i, used1 = 0, used2 = 0; 
  char *dir1buf, *dir2buf; 
  char name1buf[maxpath], name2buf[maxpath]; 
  struct dirstruct *dp1, *dp2; 
  unsigned dir1bytes, dir2bytes; 
  extern char *malloc(); 
 
  /* allocate space to read in the directories */ 
  dir1bytes = (unsigned) stat1.st_size; 
  dir1buf = malloc(dir1bytes); 
  if (dir1buf == 0) { 
	printf("cannot process directory %s: out of memory\n", f1); 
	return; 
  } 
 
  dir2bytes = (unsigned) stat2.st_size; 
  dir2buf = malloc(dir2bytes); 
  if (dir2buf == 0) { 
	printf("cannot process directory %s: out of memory\n", f2); 
	free(dir1buf); 
	return; 
  } 
 
  /* read in the directories. */ 
  fd1 = open(f1, 0); 
  if (fd1 > 0) n1 = read(fd1, dir1buf, dir1bytes); 
  if (fd1 < 0 || n1 != dir1bytes) { 
	printf("cannot read directory %s\n", f1); 
	free(dir1buf); 
	free(dir2buf); 
	if (fd1 > 0) close(fd1); 
	return; 
  } 
  close(fd1); 
 
  fd2 = open(f2, 0); 
  if (fd2 > 0) n2 = read(fd2, dir2buf, dir2bytes); 
  if (fd2 < 0 || n2 != dir2bytes) { 
	printf("cannot read directory %s\n", f2); 
	free(dir1buf); 
	free(dir2buf); 
	close(fd1); 
	if (fd2 > 0) close(fd2); 
	return; 
  } 
  close(fd2); 
 
  /* linearly search directories */ 
  ent1 = dir1bytes/sizeof(struct dirstruct); 
  dp1 = (struct dirstruct *) dir1buf; 
  for (i = 0; i < ent1; i++) { 
	if (dp1->inum != 0) used1++; 
	dp1++; 
  } 
 
  ent2 = dir2bytes/sizeof(struct dirstruct); 
  dp2 = (struct dirstruct *) dir2buf; 
  for (i = 0; i < ent2; i++) { 
	if (dp2->inum != 0) used2++; 
	dp2++; 
  } 
 
  if (verbose) printf("directory %s: %d entries\n", f1, used1); 
 
  /* check to see if any entries in dir2 are missing from dir1. */ 
  dp1 = (struct dirstruct *) dir1buf; 
  dp2 = (struct dirstruct *) dir2buf; 
  for (i = 0; i < ent2; i++) { 
	if (dp2->inum == 0 || strcmp(dp2->fname, ".") == 0 ||  
		strcmp(dp2->fname, "..") == 0) { 
			dp2++; 
			continue; 
	} 
	check(dp2->fname, dp1, ent1, f1); 
	dp2++; 
  } 
 
  /* recursively process all the entries in dir1. */ 
  dp1 = (struct dirstruct *) dir1buf; 
  for (i = 0; i < ent1; i++) { 
	if (dp1->inum == 0 || strcmp(dp1->fname, ".") == 0 ||  
		strcmp(dp1->fname, "..") == 0) { 
			dp1++; 
			continue; 
	} 
	if (strlen(f1) + direntlen >= maxpath) { 
		printf("path too long: %s\n", f1); 
		free(dir1buf); 
		free(dir2buf); 
		return; 
	} 
	if (strlen(f2) + direntlen >= maxpath) { 
		printf("path too long: %s\n", f2); 
		free(dir1buf); 
		free(dir2buf); 
		return; 
	} 
	 
	strcpy(name1buf, f1); 
	strcat(name1buf, "/"); 
	strncat(name1buf, dp1->fname, direntlen); 
	strcpy(name2buf, f2); 
	strcat(name2buf, "/"); 
	strncat(name2buf, dp1->fname, direntlen); 
  
	/* here is the recursive call to process an entry. */ 
	compare(name1buf, name2buf);	/* recursive call */ 
	dp1++; 
  } 
 
  free(dir1buf); 
  free(dir2buf); 
} 
 
check(s, dp1, ent1, f1) 
char *s; 
struct dirstruct *dp1; 
int ent1; 
char *f1; 
{ 
/* see if the file name 's' is present in the directory 'dirbuf'. */ 
  int i; 
 
  for (i = 0; i < ent1; i++) { 
	if (strncmp(dp1->fname, s, direntlen) == 0) return; 
	dp1++; 
  } 
  printf("missing file: %s/%s\n", f1, s); 
} 
 
usage() 
{ 
  printf("usage: treecmp [-v] dir1 dir2\n"); 
  exit(0); 
} 
#! rnews 1196 
path: alberta!mnetor!uunet!mcvax!prlb2!kulcs!kdv 
from: kdv@kulcs.uucp (karel de vlaminck) 
newsgroups: comp.text 
subject: laserprinters for troff on ncr tower 
message-id: <1066@kulcs.uucp> 
date: 7 dec 87 19:18:01 gmt 
reply-to: kdv@kulcs.uucp () 
organization: katholieke universiteit leuven, dept. computer science 
lines: 22 
 
 
1) we want to connect a laserprinter for use with troff 
on a ncr tower system. has anyone experience with this? 
 
2) we will have access to a kyocera f-1000 or f-1200 laser printer. 
does anyone know about the existence of a filter for the 
troff output to the laserprinter (which uses 'prescribe'). 
 
3) this laserprinter also has an hp laserjet plus emulation. 
another solution would then be to use a troff output filter 
for the hp laserjet.  so i will ask the same question 
about the existence for this filter. 
 
please mail responses directly to me. if there are usefull 
responses, i will post a summary to the net. 
 
karel de vlaminck 
 
                                | k. u. leuven 
  kdv@kulcs.uucp                | department of computer science 
  or ...!mcvax!prlb2!kulcs!kdv  | celestijnenlaan 200 a 
  phone:  +(32) 16-200656 x3565 | b-3030 leuven (heverlee), belgium 
#! rnews 685 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!solaris!wyle 
from: wyle@solaris.ifi.ethz.ch@relay.cs.net (mitchell wyle) 
newsgroups: comp.unix.questions,comp.text 
subject: scribe, gml 
keywords: generalized mark-up languages, scribe 
message-id: <194@a14a.solaris.ifi.ethz.ch@relay.cs.net> 
date: 7 dec 87 17:14:05 gmt 
organization: sot sun cluster, eth zuerich 
lines: 7 
xref: alberta comp.unix.questions:4769 comp.text:1344 
 
where can i buy scribe?  are there other implementations of 
a standard markup language on bsd unix?  what is scribe? 
 
please respond via e-mail; if there are enough "me too's," 
i'll post. 
 
-mitch wyle  (wyle@solaris.uucp |  wyle@ethz.uucp  | ...!cernvax!ethz!wyle 
#! rnews 1896 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!simon 
from: simon@its63b.ed.ac.uk (ecsc68 s brown cs) 
newsgroups: comp.unix.wizards 
subject: re: setting process groups 
message-id: <815@its63b.ed.ac.uk> 
date: 7 dec 87 10:30:32 gmt 
references: <1765@unc.cs.unc.edu> <910@mcgill-vision.uucp> <1261@saturn.ucsc.edu> <3134@psuvax1.psu.edu> <2990@hcr.uucp> 
reply-to: simon@lfcs.ed.ac.uk (simon brown) 
organization: lfcs, university of edinburgh 
lines: 29 
 
in article <2990@hcr.uucp>  writes: 
>actually svid setpgrp() has an "extra feature" that berkeley setpgrp(getpid()) 
>does not have - it detaches the process from its controlling terminal.  this 
>does tend to make it "difficult" to create a pipeline attached to your terminal 
>but with its own process group. 
 
well, you can do that by making each such pipeline belong to it's own sxt 
device, and have all these sxt's multiplexed onto your *real* terminal. 
instant job-control! 
 
btw, svr2 (and 3?) setpgrp() doesn't fully detach a process from its  
controlling tty if this process has already done a setpgrp() previously 
(as is the case for a login-shell -- this comes from init and getty). 
what it does in this case is to "partially" detach -- so that if you try  
to set up a new controlling terminal, it's not actually a controlling terminal  
at all -- things like terminal-generated signals don't get sent to the process. 
presumably this is just a cretinous bug, and not something more sophisticated. 
 
 
--  
-------------------------------------------------- 
| simon brown                                    | 
| laboratory for foundations of computer science | 
| department of computer science                 | 
| university of edinburgh, scotland, uk.         | 
-------------------------------------------------- 
 uucp:  uunet!mcvax!ukc!lfcs!simon 
 arpa:  simon%lfcs.ed@nss.cs.ucl.ac.uk      "life's like that, you know" 
 janet: simon@uk.ac.ed.lfcs 
#! rnews 1126 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!adrian 
from: adrian@cs.hw.ac.uk (adrian hurt) 
newsgroups: rec.arts.sf-lovers 
subject: re: ncc, uss, klingons, etc... 
summary: she was a klingon 
message-id: <1568@brahma.cs.hw.ac.uk> 
date: 7 dec 87 10:33:54 gmt 
references: <8712011928.aa04370@topaz.rutgers.edu> <1632@bsu-cs.uucp> <19321@teknowledge-vaxc.arpa> 
organization: computer science, heriot-watt u., scotland 
lines: 15 
 
in article <19321@teknowledge-vaxc.arpa>, hshiffma@teknowledge-vaxc.arpa (hank shiffman) writes: 
>  
> why do you think she was a klingon?  as i recall, she looked human. 
> you weren't assuming that she was a klingon just because she had 
> something going with the christoper lloyd character, were you?  for 
> shame! 
 
in the book of the film, valkris was definitely a klingon, out to do something 
valiant to redeem her family's honour. she became very friendly with another 
alien on board that ship because of that alien's warrior traditions. 
--  
 "keyboard? tis quaint!" - m. scott 
 
 adrian hurt			     |	janet:  adrian@uk.ac.hw.cs 
 uucp: ..!ukc!cs.hw.ac.uk!adrian     |  arpa:   adrian@cs.hw.ac.uk 
#! rnews 1332 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!adrian 
from: adrian@cs.hw.ac.uk (adrian hurt) 
newsgroups: rec.games.frp 
subject: re: star wars:  the rpg 
summary: pictures 
message-id: <1569@brahma.cs.hw.ac.uk> 
date: 7 dec 87 10:42:12 gmt 
references: <1570@cup.portal.com> <13450021@acf4.uucp> <1676@cup.portal.com> <1799@cup.portal.com> 
organization: computer science, heriot-watt u., scotland 
lines: 21 
 
in article <1799@cup.portal.com>, nightstalker@cup.portal.com writes: 
>  
> hi!  does anyone know if the force skills can be learned by any pc like 
> a smuggler or outlaw for example, or can they only be taught to the 
> jedi classes and npcs?  thank you. 
>    jason wallace 
>  
 
any character may learn the force skills from a master, and the rulebook even 
encourages players using the jedi characters to do some teaching, provided that 
the pupil hasn't got any dark side points. remember, luke skywalker was a 
"brash pilot" type until obi-wan (ob1? :-) got to him. 
 
now for my question. there are some really nice pictures in the rulebook. can i 
get separate copies of these? they would be great posters, especially the 
imperial navy recruiting poster and the r2 advert. 
--  
 "keyboard? tis quaint!" - m. scott 
 
 adrian hurt			     |	janet:  adrian@uk.ac.hw.cs 
 uucp: ..!ukc!cs.hw.ac.uk!adrian     |  arpa:   adrian@cs.hw.ac.uk 
#! rnews 1047 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!bob 
from: bob@its63b.ed.ac.uk (ercf08 bob gray) 
newsgroups: rec.arts.sf-lovers 
subject: re: klingon females 
message-id: <816@its63b.ed.ac.uk> 
date: 7 dec 87 12:36:36 gmt 
references: <8712042225.aa03829@topaz.rutgers.edu> <3490@hoptoad.uucp> 
reply-to: bob@its63b.ed.ac.uk (ercf08 bob gray) 
organization: i.t. school, univ. of edinburgh, u.k. 
lines: 13 
 
in article <3490@hoptoad.uucp> tim@hoptoad.uucp (tim maroney) writes: 
>i like the fact that the klingons are portrayed as sexist scumbags, but it 
>disturbs me that all major sentient races except humans and romulans put 
>women in a subservient role (klingons, vulcans, ferrengi).  it almost seems 
>as if we are being told that female subservience is part of the natural 
>order of sentience.  there are no major female-dominated sentient races, two 
>semi-egalitarian races, and three male-dominated races, a clear imbalance in 
>favor of male dominance. 
 
then who was t'pau supposed to be? 
 
she was vulcan, and very obviously in charge of things. 
	bob. 
#! rnews 1313 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!bob 
from: bob@its63b.ed.ac.uk (ercf08 bob gray) 
newsgroups: rec.arts.sf-lovers 
subject: re: max headroom 
message-id: <817@its63b.ed.ac.uk> 
date: 7 dec 87 13:10:09 gmt 
references: <82*quale@si.uninett> <3333@ihlpl.att.com> 
reply-to: bob@its63b.ed.ac.uk (ercf08 bob gray) 
distribution: rec.arts.sf-lovers 
organization: i.t. school, univ. of edinburgh, u.k. 
lines: 18 
 
in article <3333@ihlpl.att.com> barth@ihlpl.uucp (barth richards) writes: 
>the problem is that the first few episodes were *re*made by an american 
>production company for broadcast on abc (not the australian abc).  as i 
>understand it, the first abc run of six shows (winter/spring of 1987) were 
>all reworkings of episodes already done by the british.  the second run 
>(fall 1987) were stories newly developed by the american producers. 
 
sorry, there was only ever one original max headroom 
programme. that was a one-off tv film made by the bbc. 
any episodes beyond the original story did not originate 
with the bbc, although maxs' creators may have been involved. 
 
max then re-appeared on channel 4 as host of a chat show for two 
short seasons. (interviewing guest stars about their views 
on golf, music, life and, most importantly, golf :->) 
 
he then crossed the atlantic to be re-made by abc. 
	bob. 
#! rnews 1152 
path: alberta!mnetor!uunet!mcvax!ukc!warwick!jeff 
from: jeff@warwick.uucp (jeff smith) 
newsgroups: comp.lang.c++ 
subject: cfront runs too fast (and fix) 
keywords: cfront fix 
message-id: <586@ubu.warwick.uucp> 
date: 7 dec 87 14:49:10 gmt 
organization: computer science, warwick university, uk 
lines: 27 
 
if you can persuade cfront to finish in less than a second with the 
+s option on, then the calculation of the number of lines processed 
per second generates a divide-by-zero! on a sun-3 with 1.2.1, 
typing 
        cfront +s </dev/null 
will demonstrate the problem. 
 
fix main.c thus: 
 
		fprintf(stderr,"real time delay %ld: %d lines per second\n", 
#ifdef	cfronttoofastfix 
			stop_time-start_time, 
			stop_time-start_time > 0 ? 
				nline/(stop_time-start_time) : nline); 
#else	!cfronttoofastfix 
			stop_time-start_time, nline/(stop_time-start_time) ); 
#endif	cfronttoofastfix 
		fflush(stderr); 
 
 
jeff 
warwick!jeff 
 
ps. does anyone have a fix to simpl.c for the null dereference 
on pfct f = pfct(pptr(q->tp)->typ) caused by the pointer to member function 
problem? the problem's been noted a couple of times in comp.lang.c++, by 
paul calder and others.. 
#! rnews 1114 
path: alberta!mnetor!uunet!mcvax!ukc!warwick!strgh 
from: strgh@daisy.warwick.ac.uk (j e h shaw) 
newsgroups: rec.music.misc 
subject: re: more than yes (really egg) 
message-id: <357@daisy.warwick.ac.uk> 
date: 7 dec 87 17:57:56 gmt 
references: <22034@ucbvax.berkeley.edu> <19826@yale-celray.yale.uucp> 
reply-to: strgh@daisy.warwick.ac.uk (j e h shaw) 
organization: computing services, warwick university, uk 
lines: 14 
 
---------- 
egg released at least one other album before `civil surface', i think it 
was called `the polite force'.  they were very good. 
 
their drummer (clive brooks?) joined the groundhogs. 
their bassist (mont campbell?) played sometimes with some of the other 
  canterbury scene people: national health, u.k. or similar (mid 70's). 
their organist, dave stewart, became a pop star (`it's my party'), and 
  also played with national health, hatfield & the north, etc. 
 
apologies for any wrong names - the above is all based on memory. 
--  
j.e.h.shaw  department of statistics, university of warwick, coventry cv4 7al 
$$\times\times\qquad\top\gamma\alpha\omega\exists\qquad{\odot\odot\atop\smile}$$ 
#! rnews 1231 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!icdoc!qmc-cs!nickd 
from: nickd@cs.qmc.ac.uk (nick dunlavey) 
newsgroups: comp.cog-eng 
subject: touch-screen research 
message-id: <348@sequent.cs.qmc.ac.uk> 
date: 4 dec 87 10:52:55 gmt 
references: <19@gollum.columbia.ncr.com> <290@rd1632.dayton.ncr.com> 
reply-to: nickd@qmc.ac.uk (nick dunlavey) 
organization: sch of c+it, thames polytechnic, woolwich, london, uk 
lines: 19 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
distribution: 
 
keywords: 
 
 
i know that the cegb (for those outside the uk, this is the 
uk's central electricity generating board) has done some work 
on this in the scientific services department in its 
north-eastern region.  a report was produced called: 
 
"a touch-sensitive screen as an interface for on-line control", 
by sutherland, pringle and carlin. 
 
it documents the use of an upgraded vt103 in a power station 
for operator control. 
--  
------------- 
nick dunlavey                 arpa: nickd@cs.qmc.ac.uk    (gw: cs.ucl.edu) 
school of computing & it      uucp: nickd@qmc-cs.uucp 
thames polytechnic            tel:  01-854 2030 ext 339 
wellington street 
woolwich                      thanks to queen mary college for 
london                        net access 
se18 6pf 
#! rnews 1563 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!adrian 
from: adrian@cs.hw.ac.uk (adrian hurt) 
newsgroups: rec.arts.sf-lovers 
subject: re: st:tng posters 
summary: tolerance, please 
message-id: <1570@brahma.cs.hw.ac.uk> 
date: 7 dec 87 13:24:11 gmt 
references: <5226@zen.berkeley.edu> 
organization: computer science, heriot-watt u., scotland 
lines: 27 
 
in article <5226@zen.berkeley.edu>, iverson@cory.berkeley.edu (tim iverson) writes: 
>  
> ...			not only that, but these article made no mention of 
> st:tng in the subject line or header, so i couldn't kill them easily. 
>  
> ...					the simple fact is that there is 
> newsgroup for all of you to communicate in, and if the rest of us wanted to 
> listen, then we would. 
>  
  
oh no, not again. remember last time, when the number of articles complaining 
about st articles outnumbered the articles concerned (and every other single 
type of article as well)? 
 
there is a st group, but not for "all of us". some of us can't get at it. but 
your point about headers is valid. in the interests of preventing flame war iii 
i suggest that those of us who wish to put st (and dr. who, etc) articles here 
make sure that "st" (or dr. who, etc) or some similar warning appears in the 
header. and those who wish to complain about such postings should also always 
put some clear warning in the header, so those of us who aren't interested can 
kill their articles easily. 
 
--  
 "keyboard? tis quaint!" - m. scott 
 
 adrian hurt			     |	janet:  adrian@uk.ac.hw.cs 
 uucp: ..!ukc!cs.hw.ac.uk!adrian     |  arpa:   adrian@cs.hw.ac.uk 
#! rnews 782 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: comp.os.misc 
subject: incorporating processes into file systems 
message-id: <1572@brahma.cs.hw.ac.uk> 
date: 7 dec 87 20:36:40 gmt 
organization: computer science, heriot-watt u., scotland 
lines: 9 
 
i believe there has been at least one os that manages the naming of 
processes and files in the same way - so 'ps' would become yet another 
option to 'ls'. i forget which. can anyone enlighten me? references? 
 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 1538 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: sci.physics,rec.games.programmer,comp.sys.mac 
subject: simulating relativistic motion 
keywords: relativity, graphics, flight simulators 
message-id: <1573@brahma.cs.hw.ac.uk> 
date: 7 dec 87 21:00:08 gmt 
organization: computer science, heriot-watt u., scotland 
lines: 18 
xref: alberta sci.physics:2410 rec.games.programmer:44 comp.sys.mac:10006 
 
a long time ago i read about a program developed at mit that produced 
images of the way ordinary scenes (a street) would look at speeds nearing 
c. i don't know if it used a plotter or calligraphic display, but it was 
so long ago that whatever it did should surely be possible now in real time 
on a mac or equivalent. does anything like that exist? - a sort of flight 
simulator for cosmic ray particles, that would let you define a scene 
with a 3d graphics editor and then look at it at various fractions of c. 
(colour would be a nice optional extra). the mit program produced weirdly 
drooping lampposts. 
more ambitiously: what about general relativity? here i am thinking about 
some of the descriptions in kaufmann's "the cosmic frontiers of general 
relativity" about how the world would look from near a black hole. 
 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 737 
path: alberta!mnetor!uunet!mcvax!enea!kuling!nicke 
from: nicke@kuling.uucp (niclas holm) 
newsgroups: comp.lang.c++ 
subject: anyone ported c++ to unisys 50xx ? 
message-id: <569@kuling.uucp> 
date: 6 dec 87 16:33:36 gmt 
reply-to: nicke@kuling.uucp (niclas holm) 
organization: dept. of computer systems, uppsala university, sweden 
lines: 7 
 
i am interested in running c++ on a unisys 50xx (read ncr tower ..). 
has someone successfully ported it, or need i do it myself ? 
 
--  
 niclas f. holm    |  uucp:  nicke@kuling ({seismo!mcvax}!enea!kuling!nicke) 
 idrottsg. 21 ii   |   or    nicke@umecs  ({seismo!mcvax}!enea!umecs!nicke)  
 s-753 35 uppsala  |  phone: +46 - 18 13 36 
 sweden            |            famous last words: look, no hands! 
#! rnews 1584 
path: alberta!mnetor!uunet!mcvax!ukc!stc!datlog!slxsys!jpp 
from: jpp@slxsys.specialix.co.uk (john pettitt) 
newsgroups: comp.sys.ibm.pc 
subject: re: anyone have info on "multilink"? 
summary: get it from: tsl, atlanta ga. 
keywords: remote modem multilink 
message-id: <108@slxsys.specialix.co.uk> 
date: 7 dec 87 20:01:09 gmt 
references: <167@iisat.uucp> 
reply-to: jpp@slxsys.uucp (john pettitt) 
organization: specialix international, london, uk. 
lines: 31 
 
in article <167@iisat.uucp> iis@iisat.uucp (paul gauthier) writes: 
>i am trying to locate information on a program called mutlilink. i have 
>heard that it permits one to run software on an ibm from a remote (dumb) 
>terminal. is this correct? does anyone know of other software that will 
>accomplish the same? any and all help would be appreciated. thank you. 
 
multilink will allow several serial screens to run dos programs. 
 
more info from: 
	the software link 
	3577 parkway lane 
	atlanta  ga 30092 
	(404) 448 5465 
 
they also have a product call pc-mos that does the same thing on 
386 boxes.   
 
other software that lets you run multi user dos includes qnx, 
concurrent dos (from digital research - remember cp/m :-), 
xenix (vp/ix comming soon), unix v (isc and microport, with 
vp/ix and locus merge respectivly). 
 
disclaimer: i don't sell any of the above - just write serial 
driver's for them - not easy in some cases :-( 
	 
 
 
--  
john pettitt - 144.5 mhz: g6kcq, cix: jpettitt,  voice: +44 1 398 9422 
uucp:  ...uunet!mcvax!ukc!pyrltd!slxsys!jpp  (jpp@slxsys.specialix.co.uk) 
disclaimer: i don't even own a cat to share my views ! 
#! rnews 1792 
path: alberta!mnetor!uunet!mcvax!targon!wim 
from: wim@targon.uucp (wim c. j. van eerdt) 
newsgroups: comp.lang.c++ 
subject: bug bug? solved (?) 
keywords: inline local variables 
message-id: <367@targon.uucp> 
date: 8 dec 87 09:22:14 gmt 
reply-to: wim@targon.uucp (wim c. j. van eerdt) 
organization: nixdorf computer bv., osp, p.o. box 29,vianen, the netherlands 
lines: 34 
 
as long as the department does not have an uucp-feed, 
you can e-mail me, the poster. 
success! 
 
	wim van eerdt                   e-mail: mcvax!targon!wim 
	osp, nixdorf computer bv, postbus 29, 4130 ea vianen 
	nederland. tel.: +31 3473 62211. 
 
----------------news article got:------------------------------------- 
author: gerard van dorth 
subject:  bug bug? solved (?) 
keywords: inline local variables 
 
> ... redeclaration of "_au2__xt_val_global" 
 
the conditional statement on the lines 161/162 "if ( base == block  && 
	n->lex_level < ( (pfct(expand_fn->tp)->memof) ? 3 : 2 ) )" 
in file expand.c has to be changed in: 
"if (  base == block && n->lex_level < 'function-defined-in-class' ? 3 : 2  )". 
 
for a function defined in a class the lex_level is raised by the curly brace 
of the class itself. not only member functions (memof = member of) can be 
defined inline, friends can also. 
(note that funny declarations of local variables did appear in case a member 
function which needs locals is declared inline but not defined in the class 
itself). 
 
the most simple way to tell whether a function is defined in a class is the 
use of a global variable (the more globals the more fun), set and reset  
(embracing the first loop) in the routine classdef::simpl() in file simpl.c 
--  
	wim van eerdt                   e-mail: mcvax!targon!wim 
	osp, nixdorf computer bv, postbus 29, 4130 ea vianen 
	nederland. tel.: +31 3473 62211. 
#! rnews 1196 
path: alberta!mnetor!uunet!mcvax!unido!infbs!hild 
from: hild@infbs 
newsgroups: rec.music.classical 
subject: re: k. u. k. - (nf) 
message-id: <24200003@infbs.uucp> 
date: 7 dec 87 10:26:00 gmt 
references: <19123@amdahl.uucp> 
lines: 17 
nf-id: #r:amdahl:19123:infbs:24200003:000:873 
nf-from: infbs!hild    dec  7 11:26:00 1987 
 
this is only partly true. 
 
"k.u.k." is short for "kaiserlich und koeniglich", that's right. 
but it has nothing to do with the king of prussia. 
 
at the time "k.u.k." was used, the king of austria was also the 
king of hungary and the emperor of "oestreich-ungarn" (austria and 
hungary. when thinking of k.u.k., i have the picture of 
kaiser franz josef, a fatherly man who kept his nation in a long 
period of prosperous (sp?) peace, especially good for the arts. 
 
btw, otto von bismarck is remembered as a man who united germany 
(with an iron hand, that's true), which at that time was divided 
into many small parts, all of them having a duke, different legislation 
and borders between them. this meant having to pay customs very often, 
thus disallowing free trade, which in turn was necessary for the 
upcoming industrial revolution. so you might regard ovb a good statesman. 
#! rnews 1564 
path: alberta!mnetor!uunet!mcvax!nikhefh!t68 
from: t68@nikhefh.uucp (jos vermaseren) 
newsgroups: comp.sys.atari.st 
subject: re: folderxxxxx 
summary: foldrxxx may not do the job either. 
message-id: <410@nikhefh.uucp> 
date: 8 dec 87 10:44:50 gmt 
references: <637@aucs.uucp> 
organization: nikhef-h, amsterdam (the netherlands). 
lines: 22 
 
in article <637@aucs.uucp>, 870646c@aucs.uucp (barry comer) writes: 
> after i posted my message about the gemboot prg. not working properly, i 
> received a message stating that gemboot will not work properly with the new roms,well he also stated that there is a prg. call something like "foldrxxx.tos", 
> will this prg. work with the new roms? if it will do the trick could someone 
> that has it please sent it to me in a reply msg. please do not send it via 
> the binaries section i will never get it.  
> thanx in advance 
> barry 
 
foldrxxx starts up with a little table of rom versions and corresponding 
to each version an address. at that address it inserts a list of memory 
pieces to be used. if you use new rom's these addresses have been changed 
so you cannot use foldrxxx unless you figure out the new address you need 
and substitute the necessary information into the binary of foldrxxx ( or 
a disassembly ). on the other hand: the new version of the roms for the 
mega has a much larger ospool from which these memory blocks are taken. 
it used to be 6000 bytes, but the new size is 16000 bytes. i don't know 
whether this makes foldrxxx superfluous. maybe allan pratt can comment 
on that. 
 
jos vermaseren 
t68@nikhefh.uucp 
#! rnews 793 
path: alberta!mnetor!uunet!mcvax!nikhefk!marcel 
from: marcel@nikhefk.uucp (marcel corbeek) 
newsgroups: rec.music.classical 
subject: question 
message-id: <291@nikhefk.uucp> 
date: 8 dec 87 11:19:26 gmt 
reply-to: marcel@nikhefk.uucp (marcel corbeek) 
organization: nikhef-k, amsterdam (the netherlands). 
lines: 15 
 
in the film "once upon a time in america" an ouverture of rossini is played. 
is there anyone who can tell me which one this is ? 
 
marcel corbeek,			arpanet : marcel@nikhefk.uucp 
nikhef-k, amsterdam.		bitnet  : v59u0002@hasara11.bitnet 
home address : 
aletta jacobsstraat 48, 
1628 np hoorn, 
the netherlands. 
marcel corbeek,			arpanet : marcel@nikhefk.uucp 
nikhef-k, amsterdam.		bitnet  : v59u0002@hasara11.bitnet 
home address : 
aletta jacobsstraat 48, 
1628 np hoorn, 
the netherlands. 
#! rnews 2545 
path: alberta!mnetor!uunet!mcvax!prlb2!ronse 
from: ronse@prlb2.uucp (christian ronse) 
newsgroups: sci.math 
subject: re: putnam exam (spoiler) 
summary: another proof for the x<25 solution 
keywords: putnam 
message-id: <388@prlb2.uucp> 
date: 8 dec 87 10:03:24 gmt 
references: <16863@topaz.rutgers.edu> <16864@topaz.rutgers.edu> <3482@husc6.harvard.edu> 
organization: philips research laboratory, brussels 
lines: 69 
 
in article <3482@husc6.harvard.edu>, elkies@huma1.harvard.edu (noam elkies) writes: 
< [problem a-6 of the 48th annual w.l.putnam contest, dec. 5, 1987: ] 
< >> for each positive integer n, let a(n) be the number of zeros in the 
< >> base 3 representation of n.  for which positive real numbers x does 
< >> the series 
< >>  
< >> 			 inf 
< >> 			-----	x^a(n) 
< >> 			\	------ 
< >> 			/	 n^3 
< >> 			----- 
< >> 			n = 1 
< >>  
< >> converge? 
 
> actually the correct interval of convergence is x<25.  indeed, in the  
> partial sum corresponding to 3^k<=n<3^(k+1), the coefficients n^(-3) are 
> within a factor of 27 of 27^(-k), and the sum of x^a(n) is easily seen to 
> be 2(x+2)^k, so by comparison with the geometric series sum(r^k,k,0,inf) 
> with r=(x+2)/27 we find that the series converges if and only if r<1, 
> i.e. x<25. 
 
this is correct, but the way the proof is written is not easy to understand. i 
give below another proof. 
 
for n>0 let 
 
t(n) = x^a(n)/n^3	and 	u(n) = t(3n) + t(3n+1) + t(3n+2) 
 
and for k>=0 let 
 
z(k) = sum {n=3^k to 3^(k+1)-1} t(n) 
 
we have 
 
z(k+1)	= sum {n=3^(k+1) to 3^(k+2)-1} t(n) 
	= sum {n=3^k to 3^(k+1)-1} [t(3n) + t(3n+1) + t(3n+2)] 
	= sum {n=3^k to 3^(k+1)-1} u(n) 
 
let us compare u(n) to t(n). we have a(3n)=a(n)+1 and a(3n+1)=a(3n+2)=a(n). 
thus 
 
u(n) = x^[a(n)+1]/(3n)^3 + x^a(n)/(3n+1)^3 + x^a(n)/(3n+2)^3 
 
and so u(n) has as upper bound 
 
x^a(n) * (x+2)/(3n)^3 = t(n) * (x+2)/27 
 
and as lower bound 
 
x^a(n) * (x+2)/(3n+2)^3 = t(n) * (x+2)/(3+2/n)^3 
 
in other words u(n) = t(n) * (x+2)/(27+e(n)), where e(n)<(3+2/n)^3-27 tends to 
0 when n tends to infinity. it follows then that 
 
z(k+1)= z(k)*(x+2)/(27+f(k)) 
 
where f(k)<(3+2/3^k)^3-27 tends to 0 for n tending to infinity. 
 
now the series is the sum of all z(k). thus for x>25 we have z(k+1)>z(k) for k 
large enough, and the series diverges; for x<25 we have z(k+1)< r * z(k) (with 
r=(x+2)/27<1) for every k, and the series converges. for x=25 the series 
diverges too (i think so), because z(k+1)/z(k) tends to 1 for k tending to 
infinity. 
 
christian ronse		maldoror@prlb2.uucp 
{uunet|philabs|mcvax|...}!prlb2!{maldoror|ronse} 
 
		time is mona lisa 
#! rnews 1248 
path: alberta!mnetor!uunet!mcvax!botter!star!sater 
from: sater@cs.vu.nl (hans van staveren) 
newsgroups: comp.dcom.lans,comp.sys.ibm.pc 
subject: need info on hardware western digital ethercard plus 
keywords: moron suppliers, ethernet, ibm pc's 
message-id: <608@sater.cs.vu.nl> 
date: 8 dec 87 14:11:10 gmt 
organization: v.u. informatica, amsterdam, the netherlands 
lines: 18 
xref: alberta comp.dcom.lans:906 comp.sys.ibm.pc:9572 
 
we recently acquired some western digital ethercard plus cards for ibm pc's. 
we were planning to write minix drivers for them and we wanted the hardware 
documentation from the supplier. we were indeed promised that. 
however, as one might expect, we only got the documentation that stated 
where to plug in the cable, and we are more interested in which io-ports there 
are, and what they do. our supplier is not very helpful at the moment. 
 
we will continue to nag our supplier, but in the meantime, does anyone have 
the hardware info on this board? 
we know there is a natsemi dp8390 on there, and we have the datasheet on that 
one, but there should also be an ethernet address rom, plus some other things 
on the board. 
 
as they say, thanks in advance. 
 
				hans van staveren 
				vrije universiteit 
				amsterdam, holland 
#! rnews 742 
path: alberta!mnetor!uunet!mcvax!nikhefk!marcel 
from: marcel@nikhefk.uucp (marcel corbeek) 
newsgroups: rec.music.synth 
subject: question 
message-id: <292@nikhefk.uucp> 
date: 8 dec 87 15:59:15 gmt 
reply-to: marcel@nikhefk.uucp (marcel corbeek) 
organization: nikhef-k, amsterdam (the netherlands). 
lines: 15 
 
is there anybody who can give me some information about the wersi 
stageperformer? 
 
marcel corbeek,			arpanet : marcel@nikhefk.uucp 
nikhef-k, amsterdam.		bitnet  : v59u0002@hasara11.bitnet 
home address : 
aletta jacobsstraat 48, 
1628 np hoorn, 
the netherlands. 
marcel corbeek,			arpanet : marcel@nikhefk.uucp 
nikhef-k, amsterdam.		bitnet  : v59u0002@hasara11.bitnet 
home address : 
aletta jacobsstraat 48, 
1628 np hoorn, 
the netherlands. 
#! rnews 1193 
path: alberta!mnetor!uunet!mcvax!targon!wim 
from: wim@targon.uucp (wim c. j. van eerdt) 
newsgroups: comp.lang.c++ 
subject: another c++ problem, solved (?) 
message-id: <368@targon.uucp> 
date: 8 dec 87 15:33:45 gmt 
reply-to: wim@targon.uucp (wim c. j. van eerdt) 
organization: nixdorf computer bv., osp, p.o. box 29,vianen, the netherlands 
lines: 27 
 
i did get yet another file from my colleague gerard. 
as in other articles stated send he is not reachable by e-mail. 
i shall forward your mail! 
success and have fun! 
 
		wim 
--------fix--------------------------------------------------------- 
author: gerard van dorth 
subject:  another c++ problem, solved (?) 
 
> yet another crazy c++ problem 
> ... 
> the below code is a generalization of a problem we are seeing with c++ 
> ... 
 
substitute the line 
		pfct f = pfct(pptr(q->tp)->typ); 
in routine call::simpl of the file simpl.c by 
		ptype pt = q->tp; 
		while (pt->base == type) pt = pbase(pt)->b_name->tp; 
		pfct f = pfct(pptr(pt)->typ);	// for basic type only. 
 
(simpl(e) turns out to be hard). 
--  
	wim van eerdt                   e-mail: mcvax!targon!wim 
	osp, nixdorf computer bv, postbus 29, 4130 ea vianen 
	nederland. tel.: +31 3473 62211. 
#! rnews 1046 
path: alberta!mnetor!uunet!mcvax!cogpsi!tom 
from: tom@cogpsi.uucp (tom vijlbrief) 
newsgroups: comp.unix.wizards 
subject: re: unattended dumps (bsd4.3) 
message-id: <327@cogpsi.uucp> 
date: 8 dec 87 15:51:57 gmt 
references: <9032@santra.uucp> 
reply-to: tom@cogpsi.uucp (tom vijlbrief) 
organization: tno institute for perception, soesterberg, the netherlands 
lines: 21 
 
in article <9032@santra.uucp> nispa@hutcs.hut.fi (tapani lindgren) writes: 
>can yes(1) somehow be piped to a program that reads /dev/tty? 
>could dump(8) be modified to abort at errors without any questions? 
 
if you want dump to read the output from e.g. yes(1) 
then you'll have to use a pty(4). 
 
you should arrange that this pty is the control terminal of the 
dump program and then write (redirect) the output of yes(1) to the pty. 
 
setting the control terminal of dump is done by writing a program which: 
 
a) removes the association with its control terminal by: 
 
   ioctl(f, tiocnotty, 0); 
 
b) opens the pty. 
 
c) exec's the dump program. 
 
the above applies to berkeley unix 4.x 
#! rnews 1034 
path: alberta!mnetor!uunet!mcvax!botter!ark!maart 
from: maart@cs.vu.nl (maarten litmaath) 
newsgroups: comp.unix.wizards 
subject: re: emacs csh alias -- better solution than the first posted (2) 
summary: this time really faster 
keywords: this time really faster 
message-id: <1160@ark.cs.vu.nl> 
date: 8 dec 87 16:55:49 gmt 
references: <brl-adm.10672> <1508@ogcvax.uucp> <1159@ark.cs.vu.nl> 
reply-to: maart@cs.vu.nl (maarten litmaath) 
organization: vu informatica, amsterdam 
lines: 17 
 
of course the alias had to be: 
 
alias emacs \ 
'jobs > /tmp/jobs; grep emacs /tmp/jobs > /dev/null && fg %?emacs || /bin/emacs' 
                                                           ^         ^^^^^ 
                                                           !         !!!!! 
or 
 
      !! 
      vv 
alias em \ 
'jobs > /tmp/jobs; grep emacs /tmp/jobs > /dev/null && fg %emacs || emacs' 
 
sorry. 
--  
time flies like an arrow, fruit flies |maarten litmaath @ free u amsterdam: 
like an orange.      (seen elsewhere) |maart@cs.vu.nl, mcvax!botter!ark!maart 
#! rnews 691 
path: alberta!mnetor!uunet!mcvax!botter!ark!maart 
from: maart@cs.vu.nl (maarten litmaath) 
newsgroups: comp.unix.wizards 
subject: re: emacs csh alias -- better solution than the first posted 
summary: faster 
keywords: faster 
message-id: <1159@ark.cs.vu.nl> 
date: 8 dec 87 15:41:32 gmt 
references: <brl-adm.10672> <1508@ogcvax.uucp> 
reply-to: maart@cs.vu.nl (maarten litmaath) 
organization: vu informatica, amsterdam 
lines: 7 
 
alias emacs \ 
'jobs > /tmp/jobs; grep emacs /tmp/jobs > /dev/null && fg %emacs || emacs' 
 
btw, long live vi! 
--  
time flies like an arrow, fruit flies |maarten litmaath @ free u amsterdam: 
like an orange.      (seen elsewhere) |maart@cs.vu.nl, mcvax!botter!ark!maart 
#! rnews 987 
path: alberta!mnetor!uunet!mcvax!mhres!jv 
from: jv@mhres.mh.nl (johan vromans) 
newsgroups: comp.unix.questions 
subject: re: ucb 2.9 lisp goes illegal 
summary: sysmac.sml? rt-11 
message-id: <1498@mhres.mh.nl> 
date: 8 dec 87 21:16:13 gmt 
references: <10712@brl-adm.arpa> 
organization: multihouse n.v., the netherlands 
lines: 12 
 
in article <10712@brl-adm.arpa> paaaaar%calstate.bitnet@cunyvm.cuny.edu writes: 
>we are trying to make lisp run on an 11/24 (yes they still exist) 
>what is sysmac.sml, for instance? 
 
that reminds me to the goold old days, when pdp-11's ran only rsx, 
rt-11 or rsts. sysmac.sml is a macro library, which contains the definitions 
for the rt-11 "programmed requests" (nowadays known as system calls). 
don't think it's equivalent exists on unix ... 
--  
johan vromans                              | jv@mh.nl via european backbone 
multihouse n.v., gouda, the netherlands    | uucp: ..{uunet!}mcvax!mh.nl!jv 
"it is better to light a candle than to curse the darkness" 
#! rnews 6100 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!srp 
from: srp@ethz.uucp (scott presnell) 
newsgroups: rec.games.hack,comp.sources.d 
subject: re: compilation of nethack 2.2 
keywords: aaargh. 
message-id: <262@bernina.uucp> 
date: 8 dec 87 06:13:59 gmt 
references: <9714@shemp.ucla.edu> 
reply-to: srp@bernina.uucp (scott presnell) 
organization: chem. dept., swiss federal inst. of tech. (eth-zurich) 
lines: 211 
xref: alberta rec.games.hack:1746 comp.sources.d:1578 
 
in article <9714@shemp.ucla.edu> claus@cs.ucla.edu (claus giloi) writes: 
 
>i just downloaded nethack 2.2 from the net and compiled it on my at 
>at home. 
>there were only a few small problems, then it came to linking the  
>monster. an executable was produced, but i get a "stack overflow"  
>error when i try to run the 350k executable, and changing the 
>value of (stack:) to outlandish figures (8000, 3fff) didn't change 
>that. someone out there must have gotten it to run, please tell me 
>what value you used to link it. (i am using msc 4.0) 
 
here's the makefile that i used to get nethack up under msc 4.0... nb: the 
cflags macro and the link command.  i was able to play a couple of levels 
without stack errors or hangups, however there are some problems, 
(everything seems to be identified, inventory not displayed correctly, 
color not quite right (but overall it works)) so i did not "install" it. 
 
"good luck, jim" 
 
scott presnell 						organic chemistry 
swiss federal institute of technology  (eth-zentrum) 
ch-8092 zurich, switzerland. 
uucp:seismo!mcvax!cernvax!ethz!srp (srp@ethz.uucp); bitnet:benner@czheth5a 
 
 
 
#	sccs id: @(#)makefile.pc	2.2	87/11/11 
# 	makefile for nethack (pc) version 1.0 written using 
#	microsoft(tm) "c" v3.0 or better. 
#  
# large memory model, register bug, remove stack probes: 
wizard= 
v = 22 
#cflags = -a$(model) -dregbug -dlint_args -dver=$v $(wizard) -ot -gs -gt100 
cflags = -nologo -a$(model) -dlint_args -dver=$v -ox -gt10 
cc = cl 
libs = 
lflags = 
model = l 
setargv = #$(lib)\$(model)setargv 
.suffixes: .exe .obj .c 
.c.obj:; cl $(cflags) -c $*.c 
.c.exe:; 
    cl $(cflags) -c $*.c 
    link $*.obj $(setargv), $@,, $(libs) $(lflags); 
 
# the game name 
game = hack.exe 
 
# the game directory 
gamedir = \h 
 
# all object modules 
objs = decl.obj apply.obj bones.obj cmd.obj do.obj dothrow.obj\ 
	do_name.obj do_wear.obj dog.obj dogmove.obj eat.obj end.obj \ 
	engrave.obj fight.obj fountain.obj hack.obj invent.obj \ 
	lev.obj main.obj makemon.obj mhitu.obj mklev.obj \ 
	mkmaze.obj mkobj.obj mkshop.obj mon.obj monmove.obj\ 
	monst.obj o_init.obj objnam.obj options.obj \ 
	pager.obj polyself.obj potion.obj pray.obj pri.obj prisym.obj\ 
	read.obj rip.obj rumors.obj save.obj \ 
	search.obj shk.obj shknam.obj sit.obj spell.obj steal.obj \ 
	termcap.obj timeout.obj topl.obj topten.obj track.obj trap.obj \ 
	tty.obj unix.obj u_init.obj vault.obj wield.obj \ 
	wizard.obj worm.obj worn.obj write.obj zap.obj \ 
	version.obj rnd.obj alloc.obj msdos.obj 
 
# the main target - you may want to try both of these alternatives. 
# 
$(game) : $(objs) 
#	link $(objs), $(game) /noig /stack:4000 /cp:1; 
	link $(objs), $(game) /noig /stack:10000 /seg:512; 
	 
 
#	variable auxilary files. 
# 
varaux = data rumors 
 
install : $(game) $(varaux) 
	- exepack $(game) $(gamedir)\$(game) 
	- exemod $(gamedir)\$(game) /max 1 
 
clean : 
	erase $(game) 
 
spotless: clean 
	erase *.obj 
	erase main.c 
	erase tty.c 
	erase unix.c 
 
srcs : 
	copy makefile \tmp 
	copy *.c \tmp 
	copy *.h \tmp 
	copy \local\make\make.doc \tmp 
	copy \local\make\make.ini \tmp 
	copy \bin\make.exe \tmp 
	cd \tmp 
	time 
	touch *.* 
	arc m hack$vs * *.* 
	cd $(cwd) 
 
 
#	other dependencies 
# 
rumorfiles= rumors.bas rumors.kaa rumors.mrx 
 
makedefs.exe:	makedefs.c alloc.obj config.h 
	cl -al makedefs.c alloc.obj 
 
 
rumors :  config.h $(rumorfiles) makedefs.exe 
	makedefs.exe -r 
 
data :  config.h data.bas makedefs.exe 
	makedefs.exe -d 
 
onames.h :  config.h objects.h makedefs.exe 
	makedefs.exe -o 
 
#	below is a kluge.  date.h should actually depend on any source 
#	module being changed. (but hack.h is close enough for most). 
# 
date.h :  hack.h makedefs.exe 
	makedefs.exe -d 
 
trap.h :  config.h makedefs.exe 
	makedefs.exe -t 
 
main.obj :  pcmain.c hack.h 
	$(cc) $(cflags) -fo$@ -c pcmain.c 
 
tty.obj :  pctty.c hack.h msdos.h 
	$(cc) $(cflags) -fo$@ -c pctty.c 
 
unix.obj :  pcunix.c hack.h mkroom.h 
	$(cc) $(cflags) -fo$@ -c pcunix.c 
 
decl.obj :  hack.h mkroom.h 
apply.obj :  hack.h edog.h mkroom.h 
bones.obj :  hack.h 
hack.obj :  hack.h 
cmd.obj :  hack.h func_tab.h 
do.obj :  hack.h 
do_name.obj :  hack.h 
do_wear.obj :  hack.h 
dog.obj :  hack.h edog.h mkroom.h 
dogmove.obj :  hack.h mfndpos.h edog.h mkroom.h 
dothrow.obj :  hack.h 
eat.obj :  hack.h 
end.obj :  hack.h 
engrave.obj :  hack.h 
fight.obj :  hack.h 
fountain.obj :  hack.h mkroom.h 
invent.obj :  hack.h wseg.h 
ioctl.obj :  config.h 
lev.obj :  hack.h mkroom.h wseg.h 
makemon.obj :  hack.h 
mhitu.obj :  hack.h 
mklev.obj :  hack.h mkroom.h 
mkmaze.obj :  hack.h mkroom.h 
mkobj.obj :  hack.h 
mkshop.obj :  hack.h mkroom.h eshk.h 
mon.obj :  hack.h mfndpos.h 
monmove.obj :  hack.h mfndpos.h 
monst.obj :  hack.h eshk.h 
msdos.obj : msdos.h 
o_init.obj :  config.h objects.h onames.h 
objnam.obj :  hack.h 
options.obj :  hack.h 
pager.obj :  hack.h 
polyself.obj : hack.h 
potion.obj :  hack.h 
pray.obj :  hack.h 
pri.obj :  hack.h 
prisym.obj :  hack.h wseg.h 
read.obj :  hack.h 
rip.obj :  hack.h 
rumors.obj :  hack.h 
save.obj :  hack.h 
search.obj :  hack.h 
shk.obj :  hack.h mfndpos.h mkroom.h eshk.h 
shknam.obj :  hack.h 
sit.obj : hack.h 
spell.obj :  hack.h 
steal.obj :  hack.h 
termcap.obj :  hack.h 
timeout.obj :  hack.h 
topl.obj :  hack.h 
topten.obj :  hack.h 
track.obj :  hack.h 
trap.obj :  hack.h edog.h mkroom.h 
u_init.obj :  hack.h 
vault.obj :  hack.h mkroom.h 
wield.obj :  hack.h 
wizard.obj :  hack.h 
worm.obj :  hack.h wseg.h 
worn.obj :  hack.h 
write.obj :  hack.h 
zap.obj :  hack.h 
version.obj :  hack.h date.h 
extern.h: config.h spell.h obj.h 
	touch extern.h 
hack.h: extern.h flag.h gold.h monst.h objclass.h rm.h trap.h you.h  
	touch hack.h 
objects.h:  config.h objclass.h 
	touch objects.h 
you.h: config.h onames.h permonst.h  
	touch you.h 
#! rnews 3561 
path: alberta!mnetor!uunet!mcvax!cernvax!jmg 
from: jmg@cernvax.uucp (jmg) 
newsgroups: comp.protocols.appletalk 
subject: kinetics/ncsa problems 
message-id: <581@cernvax.uucp> 
date: 8 dec 87 10:01:07 gmt 
reply-to: jmg@cernvax.uucp () 
organization: cern european laboratory for particle physics, ch-1211 geneva, switzerland 
lines: 58 
 
this is a bit of a flame, which i hope does not upset some people 
too much. i have tried sending the comments privately, but have had 
no reply. 
i got a kinetics internal ethernet interface for a mac se, plus the 
ethernet driver, test software and ncsa telnet version 1.12. 
in order to try out this software in a safe manner i created a mini- 
-ethernet with the mac and an ethernet monitor. am i glad that i did 
this! 
the test software, when run, tends to throw out a large number of 
broadcast packets in a very short space of time. sometimes one can 
control the frequency, other times not. at least one test threw out 
about 200 broadcast packets in much less than one second. if i had 
been on the real cern ethernet then a few hundred users would have 
had to deal with these! 
flame on 
when will people writing test software avoid the intensive use of 
broadcast packets? multicast would be slightly better, but even then 
the software should establish the address of those other computers 
with which it can run a test, and then address them directly. 
flame off (for a while) 
i then tried to run ncsa telnet. this also started out with about 
70 immediate broadcasts. these started out with a set of three 
types of broadcast: 
  1. arp with source ip address 0.0.0.255, looking for 0.0.0.127 
  2. something with type field 80f3 (what the hell is this?) 
  3. some other arp-type (type field 809b) with sender as 0.0.0.127 
these three are repeated about 20 times at intervals of about 
10 milliseconds (yes, milliseconds!). there are then a few more type 
809b broadcasts at reasonable (a few hundred milliseconds!) intervals 
before telnet starts to arp for the real host that i asked for. 
flame on 
why does software often insist on repeating packets at very short 
intervals on vey reliable lans (and have you seen the sun lately!)? 
flame off 
despite all the above, i waited for a quiet moment before connecting 
onto the real ethernet. i then tried telnet to our ultrix vax. 
immediate remark: keyboard in application mode does not work for us. 
i then thought to run the vt100 test program (which some of you might 
also have picked up off usenet). what a disaster: the emulation fails 
all over the place! 
never mind, let us see if i can connect to our ibm vm system. of course, 
i have to go via a spartacus knet, because there is no ncsa tn3270 
(is anyone working on this?). complete failure: spartacus has a bit of 
a peculiar telnet setup (though ultrix, bsd4.2 and ftp inc. telnet on 
a pc work fine) which seems to screw ncsa telnet. 
final try: go through an ibm 7171 front-end, which has 3270 to vt100 
built in. sort of works (using esc n for pf key n), but since the 
application keypad mode fails there is no way that i could get pa2 
for clear screen. merde (which the french will understand. 
flame on 
i know that ncsa is now at version 2.0. why did i get version 1.12 
from kinetics? (and why must only a kinetics agent modify their mac scsi 
box for a european power supply?). how do i get an updated version 
quickly (no, i cannot do anonymous ftp!). why have these simple tests 
never been reported before? etc. etc. 
flame off 
i would be delighted if someone could tell me that all the above problems 
are fixed in the current release! 
#! rnews 1102 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!wanner 
from: wanner@ethz.uucp (juerg wanner) 
newsgroups: rec.games.misc 
subject: re: the pawn help 
message-id: <263@bernina.uucp> 
date: 8 dec 87 14:48:50 gmt 
references: <2884@cbmvax.uucp> <2299@killer.uucp> <2910@cbmvax.uucp> 
reply-to: wanner@owf.uucp (juerg wanner) 
organization: owf ag, switzerland 
lines: 17 
keywords: 
 
 
in article <2910@cbmvax.uucp> daveb@cbmvax.uucp (dave berezowski) writes: 
>how does one assure that they get the chest?  wait around for kronos at the 
>beginning of the game after you've delivered the note? 
 
after delivering the note? hmmm... that might be too late. 
 
>i've been told that there is a bug in the game such that you must get to 
>the pedestal asap else the blue key won't be there (this is what has happended 
>to me).  if i do go to the pedestal first, will i miss the adventuer and 
>kronos?  ie. should i wait around for kronos, give the adventuer (with the 
>chest i guess), and then go for the blue key? 
 
i've neither encountered that bug, nor did i first get the key. there's a lot 
one can do before. 
 
 
juerg wanner 
#! rnews 2241 
path: alberta!mnetor!uunet!mcvax!nikhefk!paulm 
from: paulm@nikhefk.uucp (paul molenaar) 
newsgroups: comp.sys.mac 
subject: re: hypercard find 
summary: here's the solution (well...) 
message-id: <293@nikhefk.uucp> 
date: 8 dec 87 23:45:24 gmt 
references: <1262@runx.ips.oz> 
organization: nikhef-k, amsterdam (the netherlands). 
lines: 50 
 
in article <1262@runx.ips.oz>, clubmac@runx.ips.oz (macintosh users group) writes: 
>  
> i was asked this question by a guy on the weekend, and was unable to help 
> him.  any of you hypercard gurus able to answer?? 
>  
> "i want to have a background button which has a script that tries to find 
> an arbitrary text.  however, when i try it, it only finds the text in 
> background fields, not foreground.  the find works properly when you use 
> the message box.. how come?" 
>  
> jeff laing (where for art thou comp.sys.mac.hypercard?) 
>  
same problem here. i noticed that strange find bug too. my 
solution is a real kludge, but it works. 
 
instead of issuing the find command in script, type the find command 
with all the arguments into the message box and then (again 
from script) add a return. like: 
 
on mouseup 
   type "find" && quote & key & quote && "in background field id" && number & 
   return 
end mouseup 
 
this also makes the repeated find easier. 
 
i made a stack that needed a search option on partial keys. so i wanted 
hc to keep on looking when the user stated that the item found wasn't 
the right one. 
 
i made a script to do this (if interested i can mail/post it) that 
expects a second field for every field to be looked in. the item found 
is put in the second field (named something like showname). when 
the user says he wants to keep on searching, the next item found is 
compared to the contents of showname. if it's the same, my script 
says that 'it's all there is'. and cancels the search. otherwise 
a repeated search would be impossible. 
 
if you like i can upload the lot. to comp.sys.mac.hypercard maybe? 
 
to apple: 
why do you reply to all the easy answers in comp.sys.mac.hypercard 
bu happily skip all the possibly difficult ones? seems like 
the hypercard group chooses the easy way out. too many bugs in hc 
perhaps? 
--  
        paul molenaar 
 
	"just checking the walls" 
		- basil fawlty - 
#! rnews 704 
path: alberta!mnetor!uunet!mcvax!enea!tut!santra!kolvi!jku 
from: jku@kolvi.uucp (juha kuusama) 
newsgroups: comp.sys.ibm.pc 
subject: screen dump from hercules to laserjet wanted 
message-id: <31@kolvi.uucp> 
date: 8 dec 87 12:19:56 gmt 
reply-to: jku@kolvi.uucp (juha kuusama) 
organization: helsinki university of technology, finland 
lines: 10 
 
could some kind soul over there send me a program/a reference to a program, 
that would allow me to print a graphics dump from a hercules screen to a 
hp laserjet printer it should 
 
	a) not distort the image (circles as circles, not ovals) 
 
	b) send its output to a file (so i can import it to my text). 
 
-- 
juha kuusama, jku@kolvi.uucp ( ...!mcvax!tut!kolvi!jku ) 
#! rnews 1093 
path: alberta!mnetor!uunet!mcvax!enea!tut!santra!jmunkki 
from: jmunkki@santra.uucp (juri munkki) 
newsgroups: comp.sys.mac 
subject: re: development environment advice wanted 
keywords: development, macii debuggers 
message-id: <9206@santra.uucp> 
date: 8 dec 87 16:51:43 gmt 
references: <687@howtek.uucp> <3456@husc6.harvard.edu> 
reply-to: jmunkki@santra.uucp (juri munkki) 
organization: helsinki university of technology, finland 
lines: 16 
 
in article <3456@husc6.harvard.edu> singer@endor.uucp (think technologies) writes: 
>the current version of macsbug, version 5.5, works fine on a mac ii - 
>even disassembles 68020 and 68881 opwords, and works with or without 
and it slows down the 68881 by about 50%. can anyone else verify this? 
i moved to tmon mainly because it does not affect the speed of my mac. 
 
i hope none of the byte or mactutor benchmarks were run under macsbug. 
 
still, es works better in macsbug than it does in tmon. 
 
juri munkki 
jmunkki@santra.hut.fi 
jmunkki@fingate.bitnet 
lk-jmu@finhut.bitnet 
 
disclaimer: i'm just a freelance programmer, you shouldn't listen to me anyway. 
#! rnews 1288 
path: alberta!mnetor!uunet!mcvax!diku!rancke 
from: rancke@diku.uucp (hans rancke-madsen.) 
newsgroups: rec.games.frp 
subject: re: re: characters with two classes 
message-id: <3567@diku.uucp> 
date: 7 dec 87 15:31:25 gmt 
references: <26561s9s@psuvma> <81800077@uiucdcsp> 
organization: diku, u of copenhagen, dk 
lines: 23 
 
in article <81800077@uiucdcsp> jenks@uiucdcsp.cs.uiuc.edu writes: 
 
>                       the phb doesn't specifically forbid doing this 
>more than once, nor does it say what the "prime stat" is for paladinks, 
>rangers, monks, etc. 
 
i seem to recall having seen a statement like "since <one of 
those sub-classes  -  i forget which> has no prime requisite, 
you can't switch to/from it." the implication being that any of 
the sub-classes that require more than one minimum is out as 
regards dual-class characters. so you could be a "fighter-turned- 
magician" but not a "ranger-turned-magician". i think it was in 
one of the books, but i'm not certain. one thing you could do 
is to require 15 or 17 in all the requisites with minimums. 
that will restrict the number of assasin/illusionists!!! 
 
   hans rancke, university of copenhagen 
          ..mcvax!diku!rancke 
 
--=-=-=-=-=-=-=-=-=-=-=-=-=-=- 
 
- i hate it when people call me paranoid. 
  it makes me feel persecuted. 
#! rnews 456 
path: alberta!mnetor!uunet!mcvax!diku!iesd!torbennr 
from: torbennr@iesd.uucp (torben n. rasmussen) 
newsgroups: comp.sources.wanted 
subject: wanted: microemacs part 8 
message-id: <166@iesd.uucp> 
date: 7 dec 87 08:15:25 gmt 
reply-to: torbennr@neumann.uucp (torben n. rasmussen) 
organization: dept. of comp. sci., aalborg university, denmark 
lines: 7 
 
 
could someone please send me part 8 of the sources for microemacs. 
 
--  
 
 
				torben rasmussen (torbennr) 
#! rnews 1138 
path: alberta!mnetor!uunet!mcvax!diku!dde!jk 
from: jk@dde.uucp (jens kjerte) 
newsgroups: comp.sources.wanted,comp.text 
subject: sourcecode for dca2troff wanted. 
keywords: dca conversion. 
message-id: <277@aragorn.dde.uucp> 
date: 8 dec 87 09:11:32 gmt 
organization: dansk data elektronik a/s, herlev, denmark 
lines: 18 
xref: alberta comp.sources.wanted:2716 comp.text:1345 
 
 
	we are right now starting a project, that involves translating 
	ibm dca documents to and from a wordprocessing package. 
	a program called dca2troff was posted sometime ago. 
	this program, as the name says, was able to 
	convert from dca format to troff format. 
	would somebody having that source, please e-mail it to me. 
 
	other information about software regarding dca conversion, 
	public domain or not, would be appreciated.  
 
	thanks in advance 
 
--  
+---------------------------------------------------------------------------+ 
|   jens kjerte  @ dansk data elektronik a/s, systems software department   | 
|   e-mail:      ..!uunet!mcvax!diku!dde!jk  or  jk@dde.uucp                | 
+---------------------------------------------------------------------------+ 
#! rnews 1323 
path: alberta!mnetor!uunet!mcvax!diku!dde!ct 
from: ct@dde.uucp (claus tondering) 
newsgroups: sci.physics 
subject: maxwell's daemon 
message-id: <279@aragorn.dde.uucp> 
date: 8 dec 87 13:57:45 gmt 
organization: dansk data elektronik a/s, herlev, denmark 
lines: 26 
 
consider the following variant of maxwell's daemon: 
 
you have the following two items: 
    1) a metal block, 
    2) a bowl with a liquid. 
both items have the same temperature and are placed close together, they 
may, however, be thermally isolated from one another. 
 
now into the bowl you drop a very small magnet. the motion of the 
molecules in the liquid will cause the magnet to move slightly. this 
will induce a (very small) current in the metal block. this current will 
cause the temperature of the metal block to rise. the current will also 
try to stop the movements of the magnet; this will in turn slow down the 
motion of the molecules, and the liquid will cool. 
 
the result: the metal block will grow warmer and warmer, and the liquid 
will grow colder and colder. 
 
this contradicts the second law of thermodynamics, and has the "advantage" 
over maxwell's daemon that no intelligence is involved. 
 
what is wrong with the above argument? 
--  
claus tondering 
dansk data elektronik a/s, herlev, denmark 
e-mail: ct@dde.uucp   or  ...!uunet!mcvax!diku!dde!ct 
#! rnews 2476 
path: alberta!mnetor!uunet!mcvax!enea!sommar 
from: sommar@enea.uucp (erland sommarskog) 
newsgroups: rec.music.misc 
subject: swedish prog-rock (was re: more than yes) 
message-id: <2505@enea.uucp> 
date: 8 dec 87 23:22:11 gmt 
references: <19949@yale-celray.yale.uucp> 
reply-to: sommar@enea.uucp(erland sommarskog) 
followup-to: rec.music.misc 
organization: enea data svenska ab, sweden 
lines: 42 
 
no isn't that an obscure subject line? but i must correct my  
fellow-countryman here. 
 
bjorn lisper (lisper@yale-celray.uucp) writes: 
>bo hansson, to be correct. gee, i didn't know that he was known outside 
>sweden. this guy was a keyboard player who was active mainly in the late 
>sixties and early seventies. he is remembered for having made the very 
>first record for the first swedish independent non-profit label "silence". 
>unexpectedly the record became a hit and the income helped financing a lot 
>of records with early swedish prog-rock that would otherwise not have been 
>economically possible to make. thus his importance for swedish rock music 
>cannot be overestimated. 
 
so he is the one being guilty to it all. grr. you see, in sweden  
"progressive" music had nothing to do with the music. when we speak - 
or spoke at that time - of "progressive" groups, we talked of groups 
that played quite regular rock or pop. there were just one difference 
to the ordinary hit music, the lyrics. they were naive, trivial and  
uttermost boring political texts of a communistic nature. (which does 
not imply that they were paid by kgb or something.) i must admit i  
didn't listen to much to them, their proganda was too much for me. 
 
now, this kind of people dominated this non-profit companies that bjorn 
talked of. for them ideological purity was much more important than 
interesting than good music. not to be denied, *some* good music was  
actually released on silence and mnw (the other big non-profit), but  
also a lot of true crap. and i can easily imagine that groups with 
interesting music was refused beacuse they voted with the wrong party. 
(they would never have released yes, that are right wing if anything.) 
 
finally, i should admit that despite the poorness of silence, they 
had the most interesting music in sweden at that time. but that more 
gives an indication of bad the rest was. (abba, do you remember?) 
 
 
 
 
--  
erland sommarskog        
enea data, stockholm     
sommar@enea.uucp         
                   c, it's a 3rd class language, you can tell by the name. 
#! rnews 2310 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!forty2!poole 
from: poole@forty2.uucp (simon poole) 
newsgroups: comp.sys.atari.st 
subject: re: gemboot and the megas 
message-id: <122@forty2.uucp> 
date: 8 dec 87 14:19:44 gmt 
references: <608@aucs.uucp> <900@atari.uucp> 
reply-to: poole@forty2.uucp (simon poole) 
organization: exp. physics university zuerich 
lines: 39 
 
 
in article <900@atari.uucp> apratt@atari.uucp (allan pratt) writes: 
>in article <608@aucs.uucp>, 870646c@aucs.uucp (barry comer) says: 
>>  
>> hi all, well my mega2 just landed on my desk, really nice. i've got a question for all other mega owners using the hard disks, i have been using gemboot with 
>> my 1040st all along, when i boot up the mega two bombs appear then disappear 
>> after gemboot has done its thing. 
> 
>do not use gemboot.  use foldrxxx from atari.  hinstall should be available, 
>too... it makes your hard disk bootable (no "boot floppy" needed). 
> 
the lastest version of gemboot which was distributed something like 
half a year ago, allows you to set the location of the sole undocumented 
variable that konrad uses in gemboot. matter of fact i used gemboot 
without problems on one of the first mega's that arrived in switzerland 
after changing the gemboot startup file.  
 
>patches the appropriate location in the os.  in the case of the mega 
>roms, he actually added a pointer in the os header which points to 
>the necessary spot, so foldrxxx will work for all future rom releases. 
                                               ^^^^^^^^^^^^^^ 
didn't atari claim it was working on a new '40 folder bug'less os?                                
 
>even old tos rom users should probably not use gemboot... i certainly 
>wouldn't trust it, and with foldrxxx and hinstall available, you just 
>don't need it. 
hmmmm, as landon dyer once said (a long time ago) foldrxxx does not fix 
the other problem with gemdos management of the internal directory 
list (mutiple bad copies of the same block), gemboot does provide 
a workaround  for this problem (so i wouldn't trust foldrxxx) plus 
a lot of other nice things. 
 
 
                            simon poole 
                 uucp: ....mcvax!cernvax!forty2!poole 
                 bitnet:             k538915@czhrzu1a 
 
* 
***************when will atari annouce pc-6 to pc-10?**************** 
* 
#! rnews 1572 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!bob 
from: bob@its63b.ed.ac.uk (ercf08 bob gray) 
newsgroups: rec.arts.sf-lovers 
subject: re: blake's, all 7 of them! 
message-id: <818@its63b.ed.ac.uk> 
date: 8 dec 87 10:08:31 gmt 
references: <6320@ihlpa.att.com> <1572@cup.portal.com> <1372@aurora.uucp> 
reply-to: bob@its63b.ed.ac.uk (ercf08 bob gray) 
organization: i.t. school, univ. of edinburgh, u.k. 
lines: 28 
 
in article <1372@aurora.uucp> timelord@aurora.uucp (g. "murdock" helms) writes: 
>in article <1572@cup.portal.com>, isaac_k_rabinovitch@cup.portal.com writes: 
>> whoops.  after the star one episode, the actor who played 
>> blake got a job with the national shakespeare company, so blake essentially 
>> disappears until the "last" episode.   
> 
>the second travis, the one with the really thick cockney accent, 
>was spotted in the bbc movie "edge of darkness" recently broadcast 
>in california. 
 
something else to watch out for. the recently concluded 
series "knights of god" on independant television was 
notable only for having gareth thomas (blake himself) playing 
the part of the leader of a band of rebels trying to 
overthrow the harsh goverment sometime in the future uk. 
almost a reprise of his part as blake, but he isn't even 
one of the major characters. his name comes about eighth 
on the credits. 
 
now we know what he was doing while he was missing from 
blake's seven. :-> 
 
also look out for the second dr who, patrick troughton, in a 
supporting role. 
 
note: i do not recommend this series for any other reson 
than the above mentioned curiosity value. 
	bob 
#! rnews 2656 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!csnjr 
from: csnjr@its63b.ed.ac.uk (nick rothwell) 
newsgroups: comp.lang.lisp,comp.lang.scheme,comp.lang.misc 
subject: re: applicative languages?  anyone? 
keywords: ml interpreter typechecker 
message-id: <819@its63b.ed.ac.uk> 
date: 8 dec 87 12:40:13 gmt 
references: <1409@mind.uucp> <584@zippy.eecs.umich.edu> <1202@uoregon.uucp> 
reply-to: nick%ed.lfcs@uk.ac.ucl.cs.nss (nick rothwell) 
organization: lfcs, university of edinburgh 
lines: 37 
xref: alberta comp.lang.lisp:566 comp.lang.scheme:85 comp.lang.misc:886 
 
in article <1202@uoregon.uucp> markv@drizzle.uucp (mark vandewettering) writes: 
>in article <584@zippy.eecs.umich.edu> dwt@zippy.eecs.umich.edu (david west) writes: 
>>applicativity has its advantages, but it needs 
>>1) ... 
>>2) some syntactic means for preventing argumentsfrom getting unreadably 
>>   numerous just to pass something down to where it's finally used.  
> 
>	hmmm, not a bad idea.  i have just acquired "implementation of 
>	functional programming languages by simon l. peyton jones, and 
>	am much impressed by the depth/level of the text.  seeing as i 
>	have to do a final thesis/project sometime :-) i might be 
>	tempted to try a hand at an ml interpreter/compiler.  i would 
>	like to hear from anyone who is trying/has tried similar 
>	projects. 
 
ml gives you objects with modifiable state, so that you don't need to 
pass a state structure around with you. the disadvantage, of course, is 
that you smash the applicative behaviour of the language - 
whether it's worth it depends what you're trying to do. 
   another way around this is to use type abstraction. that way, your 
state structure is an abstract object with a few access functions to get 
at the bits you need. i've always used the former approach, so i don't know 
how far the latter approach gets you. it's quite possible to take non- 
applicative features like assignment and abstract over them to build 
structured objects with varying state, a la smalltalk perhaps. this isn't 
"dirty" functional programming - it's just using a functional language as if 
it were a language of a different kind. i recently dedicated a lecture to the 
structured use of side-effects in ml. 
   by the way, i have various little typecheckers and interpreters for tiny 
functional languages lying around on-line somewhere, if you're interested. 
all written in ml, of course. 
--  
nick rothwell,	laboratory for foundations of computer science, edinburgh. 
		nick%lfcs.ed.ac.uk@nss.cs.ucl.ac.uk 
		<atlantic ocean>!mcvax!ukc!lfcs!nick 
~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ 
"nothing's forgotten. nothing is ever forgotten."   - herne 
#! rnews 1368 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!csnjr 
from: csnjr@its63b.ed.ac.uk (nick rothwell) 
newsgroups: rec.music.synth 
subject: d-50, d-550, mt-32, ??? 
message-id: <820@its63b.ed.ac.uk> 
date: 8 dec 87 13:01:30 gmt 
references: <633@elxsi.uucp> <5470012@hplsla.hp.com> 
reply-to: nick%ed.lfcs@uk.ac.ucl.cs.nss (nick rothwell) 
organization: lfcs, university of edinburgh 
lines: 17 
 
in article <5470012@hplsla.hp.com> steveb@hplsla.hp.com (steve bye) writes: 
>the mt-32 is not a product of roland's professional music products group. 
>it is a product of their home keyboards (upscale toys) department.  it uses 
>technology develped for the d-50 and d-550.  there is no comparison in  
>actual ussuage between a d-550 and an mt-32. 
 
i recently read a report from a british music journalist visiting roland in 
japan. apparently (but *don't* quote me on this :-)) roland are working on 
a rack-mount box with the same sorts of features as the mt-32 but aimed a 
bit more at the pro market - presumably related to the mt-32 as the tx81z is 
to the fb01. i'm keeping my wallet closed and my eyes open... 
--  
nick rothwell,	laboratory for foundations of computer science, edinburgh. 
		nick%lfcs.ed.ac.uk@nss.cs.ucl.ac.uk 
		<atlantic ocean>!mcvax!ukc!lfcs!nick 
~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ 
"nothing's forgotten. nothing is ever forgotten."   - herne 
#! rnews 1563 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!icdoc!doc.ic.ac.uk!aw 
from: aw@doc.ic.ac.uk (andrew weeks) 
newsgroups: comp.emacs 
subject: uemacs 3.9 - function keys on suns 
message-id: <144@gould.doc.ic.ac.uk> 
date: 8 dec 87 17:16:50 gmt 
sender: aw@doc.ic.ac.uk 
reply-to: aw@doc.ic.ac.uk (andrew weeks) 
organization: dept. of computing, imperial college, london, uk. 
lines: 40 
 
i have implemented, as an extension to the "vt100" option, some extra 
code to allow uemacs to recognise the top, left and right function keys 
on sun 3 consoles.  ( i imagine they will work on sun 2s as well).  
 
these keys, except for the cursor keys (r8,r10,r12 & r14), return a 
string of the form <esc>[ followed by 3 digits followed by 'z'.  by 
interpreting the digits as an integer, and subtracting 128 to get a 
character, all the function keys can be made to simulate 'fn?' keys.  
which they return depends on how the sun keyboard is set up (with 
setkeys(1)).  
 
they won't work if you use sun-windows and have a .ttyswrc file. 
 
anyway - here are the diffs: 
 
*** input.c	mon nov 30 12:57:21 1987 
--- input.c.orig	mon nov 30 12:54:37 1987 
*************** 
*** 364,376 **** 
  #if	vt100 
  		if (c == '[' || c == 'o') { 
  			c = get1key(); 
! 			if ( c >= 'a' ) 
! 				return(spec | c); 
! 			c = c - 48; 
! 			c = (c*10) + get1key() - 48; 
! 			c = (c*10) + get1key() - 176; 
! 			get1key(); 
! 			return ( spec | c ); 
  		} 
  #endif 
  		return(meta | c); 
--- 364,370 ---- 
  #if	vt100 
  		if (c == '[' || c == 'o') { 
  			c = get1key(); 
! 			return(spec | c); 
  		} 
  #endif 
  		return(meta | c); 
#! rnews 1248 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!jam 
from: jam@comp.lancs.ac.uk (john a. mariani) 
newsgroups: rec.arts.sf-lovers 
subject: re: max headroom 
message-id: <454@dcl-csvax.comp.lancs.ac.uk> 
date: 8 dec 87 18:47:18 gmt 
references: <82*quale@si.uninett> <3333@ihlpl.att.com> 
reply-to: jam@comp.lancs.ac.uk (john a. mariani) 
distribution: rec.arts.sf-lovers 
organization: department of computing at lancaster university, uk. 
lines: 16 
 
having observed chat about the american max series and comparisons with the 
uk series, i would like to point out that we (in the 
uk) have only seen the pilot in 
terms of an action/adventure episode. our max series have really featured 
max as a video dj, and later as a talk show host. 
 
so, i have kept silent till now, but i reckon the action/adventure series 
you guys in the us of a are discussing must be worth watching! anyone care 
to hazard a guess as to why we in the uk don't get your max show; and 
do you get ours? 
 
--  
"you see me now a veteran of a thousand psychic wars .. " 
uucp:  ...!seismo!mcvax!ukc!dcl-cs!jam | darpa: jam%lancs.comp@ucl-cs 
janet: jam@uk.ac.lancs.comp   | post : university of lancaster, department of 
phone: +44 524 65201 ext 4467 |	computing, bailrigg, lancaster, la1 4yr, uk. 
#! rnews 1017 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: rec.music.classical 
subject: minimalist recorder music, anyone? 
message-id: <1575@brahma.cs.hw.ac.uk> 
date: 8 dec 87 19:29:14 gmt 
organization: computer science, heriot-watt u., scotland 
lines: 14 
 
what minimalist music is performable by a recorder consort? terry riley's 
in c is the one and only thing i've found so far (almost no published 
minimal music is available in the uk - i have drawn a virtually complete 
blank at every major library and music shop in scotland). 
 
i guess this resolves into two questions: does it exist, and if it does, 
can i get it? do glass et al have the same attitude to scores that at&t 
does to source code? 
 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 1165 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: comp.sys.mac 
subject: mathematical laser fonts 
keywords: font, logic, postscript, laser printer, symbols 
message-id: <1576@brahma.cs.hw.ac.uk> 
date: 8 dec 87 19:43:07 gmt 
organization: computer science, heriot-watt u., scotland 
lines: 21 
 
 
what mathematical laser fonts are available? 
 
what i need is: 
 
	- logic and theoretical computer science symbols (like the old ophir 
	  bitmap font, but with the squared-off set theory symbols used in 
	  domain theory); 
	   
	- symbols for the better known algebraic structures (n, z, q, a, r, c) 
	  (is there a font that looks like these do as usually printed?); 
	 
	- subscripts and superscripts with little enough leading not to 
	  sabotage inter-line spacing in programs like writenow; 
	   
	- maybe some of the more useful german capital letters. 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 1030 
path: alberta!mnetor!uunet!mcvax!ukc!cheviot!eas 
from: eas@cheviot.newcastle.ac.uk (edward scott) 
newsgroups: rec.arts.sf-lovers 
subject: re: obscure tv sf shows 
message-id: <2588@cheviot.newcastle.ac.uk> 
date: 8 dec 87 15:19:25 gmt 
references: <871201124327980.abwd@mars.ucc.umass.edu> <4100001@hpcllf.hp.com> 
reply-to: eas@cheviot (edward scott) 
organization: computing laboratory, u of newcastle upon tyne, uk ne17ru 
lines: 12 
 
in article <4100001@hpcllf.hp.com> jws@hpcllf.hp.com (john stafford x75743) writes: 
>re: ufo 
>   the wigs worn by the women on moonbase were of a purple hue and were 
>   described (at least in the books the followed the series if not 
>   actually on the air) as "anti-static wigs". 
 
about ten years ago i got a second hand copy of "ufo 1: flesh hunters" by 
robert miall. it is a warner paperback library edition, printed with  
permission from pan books (who presumably did the uk edition). i have't seen 
any since then. 
how many of these ufo novels were there? 
did robert miall write anything else? 
#! rnews 542 
path: alberta!mnetor!uunet!mcvax!ukc!stc!pete 
from: pete@tcom.stc.co.uk (peter kendell) 
newsgroups: rec.arts.sf-lovers 
subject: no more mel 
message-id: <488@stc-f.tcom.stc.co.uk> 
date: 8 dec 87 09:14:20 gmt 
organization: stc telecoms, london n11 1hb. 
lines: 7 
 
 
	hurrah, hurrah!! 
--  
------------------------------------------------------------------------------ 
|		  peter kendell <pete@tcom.stc.co.uk>	        	     | 
|				...{uunet!}mcvax!ukc!stc!pete		     | 
------------------------------------------------------------------------------ 
#! rnews 660 
path: alberta!mnetor!uunet!mcvax!ukc!stc!btnix!psanders 
from: psanders@btnix.axion.bt.co.uk (bob-cut maniac) 
newsgroups: comp.sys.mac 
subject: smalltalk wanted 
keywords: mac smalltalk 
message-id: <635@btnix.axion.bt.co.uk> 
date: 8 dec 87 12:53:54 gmt 
organization: british telecom research labs, martlesham heath, ipswich, uk 
lines: 10 
 
 
does anyone know of a pd smalltalk system for the mac ?? 
 
answers to me and i'll summarise on the net. 
 
paul. 
--  
e-mail (uucp)	psanders@axion.bt.co.uk (...!ukc!btnix!psanders) 
organisation	british telecom research laboratories, ipswich uk. 
"this mime of mortal life, in which we are apportioned roles we misinterpret..." 
#! rnews 628 
path: alberta!mnetor!uunet!mcvax!ukc!stc!root44!hrc63!trw 
from: trw@hrc63.co.uk (trevor wright marconi baddow) 
newsgroups: comp.sys.ibm.pc 
subject: m.magee automenu - any knowledge 
message-id: <475@hrc63.co.uk> 
date: 8 dec 87 10:39:57 gmt 
organization: gec hirst research centre, wembley, england. 
lines: 10 
 
 
we have seen a demo of a tiny ms-dos utility called automenu which 
makes building menus for pc users simple. we want to find who is the 
vendor of this utility, the cost, and any details of the command characters 
for the menu definition file. 
 
any help appreciated. 
 
trevor wright 
yc23%a.gec-mrc.co.uk@nss.cs.ucl.ac.uk 
#! rnews 2646 
path: alberta!mnetor!uunet!mcvax!ukc!stc!datlog!dlhpedg!cl 
from: cl@dlhpedg.co.uk (charles lambert) 
newsgroups: comp.lang.c 
subject: re: address of array 
message-id: <329@dlhpedg.co.uk> 
date: 8 dec 87 13:30:45 gmt 
references: <126@citcom.uucp> <163@mccc.uucp> <422@xyzzy.uucp> 
sender: news@dlhpedg.co.uk 
reply-to: cl@.co.uk (charles lambert) 
organization: fsg@data logic ltd, queens house, greenhill way, harrow, london. 
lines: 56 
 
in article <422@xyzzy.uucp> throopw@xyzzy.uucp (wayne a. throop) writes: 
>> pjh@mccc.uucp (peter j. holsberg) 
>> ok - perhaps you had better tell us neophytes what you mean by the 
>> address of an array! 
> 
>same as address of anything else.  it is an address which, when 
>indirected, yields an array, and when "n" is added to it, yields the 
>address of an array which is itself a member of an array "n" elements 
>away from the array yielded by an indirection. 
>  
> [ several abstruse observations ] 
> 
>what could be simpler? 
 
well, several other forms of explanation, i guess.  this one confused me, 
and i *understand* the address of an array. (just teasing) 
 
to put it another way.... 
 
any object, of any type (integer, structure, array, etc.), has an address. 
usually, if it is an object that occupies several words of memory, it is the 
address at which it begins. (compiler theorists may be itching to tell me it 
might mean something else entirely; let's keep this simple.)  the address of 
an object is the compiler's handle for manipulating it.   you think of an 
object by its name; the compiler "thinks" of it by its address. 
 
the "address of an array" is the address that the compiler uses to access 
that array and to calculate the position of any element in the array. 
 
in c,  the address of an array is the same as the address of its first 
element (array[0]).  if you want to set up a pointer to the array, you 
get its address simply by naming it. hence: 
 
	pa = array;	/* pa now contains the address of "array" */ 
 
which is exactly the same as 
 
	pa = &array[0]; /* "&" means "address of", so pa contains the 
				address of element [0] of "array" */ 
 
now this is a slight quirk in c - the name of the array being a synonym for 
its address;  for any other object (notably a struct) that is not true.  if 
you want the address of a structure you must write 
 
	ps = &mystruct;	/* not ps = mystruct */ 
 
so we get back to the discussion from whence we came: why can't we be 
consistent and get the address of an array by 
 
	pa = &array;	? 
 
to which the answer is:  you can, with some compilers. 
 
[further reading: the c programming language; kernighan & ritchie; pp.93-95] 
-------------------------- 
charles lambert 
#! rnews 1652 
path: alberta!mnetor!uunet!mcvax!unido!iaoobelix!vogt 
from: vogt@iaoobelix 
newsgroups: comp.sys.dec 
subject: bug in basic-plus for rsts v8.0? - (nf) 
message-id: <9900003@iaoobelix.uucp> 
date: 8 dec 87 18:36:00 gmt 
lines: 43 
nf-id: #n:iaoobelix:9900003:000:1342 
nf-from: iaoobelix!vogt    dec  8 19:36:00 1987 
 
i think i found a bug in basic-plus of rsts v8.0. the following program 
isn't working in the right way. i tried to read some records from a file 
and to store them in an array. but after i read and stored all records, 
the array was completely empty. 
 
> 10 on error goto 1000 
> 15 dim in$(100%) 
> 20 field #1%, 3% as a$, 20% as i$, 15% as q$ 
> 30 open 'foobar' as file #1%, recordsize 38% 
> 40 z% = 0% 
> 50 z% = z% + 1% 
> 60 get #15%, record z% 
> 70 in$(z%) = i$ 
> 75 print in$(z%) 
> 80 goto 50 
> 90 close #1% 
> 100 print in$(i%)  for i% = 1% to z% - 1% 
> 110 goto 32767 
> 1000 if err = 11 then resume 90 
> 1010 on error goto 0 
> 32767 end 
 
the outputs in line 75 are alright, but those in line 100 aren't. 
only blank lines appear there. 
 
i found out that if you change line 70 to 'in$(z%) = left$(i$, 20%)' 
- which does nearly nothing different - it works correctly. 
 
does anybody know a patch for this bug? or does anybody know how to 
avoid this in an other way? 
 
thanks in advance 
 
gerald vogt 
 
-------------------------------------------------------------------------- 
fraunhofer institut fuer arbeitswirtschaft und organisation 
holzgartenstrasse 17 
d-7000 stuttgart 1         uucp:   ...{uunet!unido,pyramid}!iaoobel!vogt 
w-germany 
 
phone: (w-germany) 711 6648191 
-------------------------------------------------------------------------- 
#! rnews 3127 
path: alberta!mnetor!uunet!mcvax!hafro!gst!gunnar 
from: gunnar@gst.uucp (gunnar stefnsson) 
newsgroups: sci.math 
subject: re: least-squares fitting 
message-id: <428@gst.uucp> 
date: 8 dec 87 15:25:35 gmt 
references: <1823@culdev1.uucp> <22191@cca.cca.com> <2301@utastro.uucp> 
reply-to: gunnar@gst.uucp (gunnar stefansson) 
organization: marine research institute, reykjavik 
lines: 56 
 
in article <2301@utastro.uucp> bill@astro.uucp (william h. jefferys) writes: 
>in article <22191@cca.cca.com> g-rh@cca.cca.com.uucp (richard harter) writes: 
>~in article <1823@culdev1.uucp> drw@culdev1.uucp (dale worley) writes: 
>~>the normal least-squares fitting of a line to a set of points in the 
>~>plane assumes that the x-coordinates of the points are known to be 
>~>exact, and the y-coordinates have all the error.  that is, chi^2 is 
>~>the sum of the squares of the distances from the points to the line in 
>~>a vertical direction.  this introduces assymetry between the 
>~>coordinates. 
>~> 
>~>is is known how to perform least-squares fitting where the "error" is 
>~>the perpendicular distance between the point and the line? 
> 
> 
>actually, if both coordinates have error, it is essential that this 
>fact be taken into account. if you fail to do this, the result will be 
>*biased* -- the slope will be systematically underestimated, and 
>this bias will not go to zero as you take more and more points 
 
hold on, isn't this statement a bit too strong? the answer to which method 
should be used ultimately depends on what the purpose of the estimations 
is.  
 
in fact, if the purpose is to estimate y for a given x, then ordinary 
least squares will do. in this case one is not really interested in 
getting the best estimates of the parameters but only in getting a good 
prediction. 
 
i claim that there are very few regression examples where one really 
cares whether or not the parameters are biased. in the large majority of 
cases one is much more interested in the goodness of prediction. in this 
case, one is interested in e[y|x]. so if we model this quantity as 
linear in x, then the ols estimates are blue. this will also give 
variances etc, all valid conditionally on x. 
 
it is my feeling that a lot of books overemphasize the so-called bias, 
since that is very often totally irrelevant.  for example, some 
textbooks talk about biased parameter estimates when some variables 
are missing in a multiple regression. in reality ols is estimating a 
better set of parameters than would the corresponding "unbiased" 
estimator (ols in this case will give an unbiased estimate of the best 
surface based on the reduced set of variables). certainly in this case, 
one can make a strong argument that all the talk about biasses is 
totally irrelevant. 
 
of course if the true purpose is to estimate parameters, e.g. to assess 
the effect of a change in x on y, then indeed one needs to worry a bit 
about the effects of x being random. 
 
gunnar 
 
--  
 
----------------------------------------------------------------------------- 
gunnar stefansson                       {mcvax,enea}!hafro!gunnar  
marine research institute, reykjavik    gunnar@hafro.uucp 
#! rnews 528 
path: alberta!mnetor!uunet!mcvax!unido!tub!ao 
from: ao@tub.uucp (arnfried ossen) 
newsgroups: comp.mail.misc 
subject: path to umass amherst 
message-id: <318@tub.uucp> 
date: 7 dec 87 13:29:49 gmt 
reply-to: ao@tub.uucp (arnfried ossen) 
organization: technical university of berlin, germany 
lines: 7 
 
anybody out there who knows the path to 
 
   university of massachusetts, amherst campus, coins department 
 
it should allow access from usenet or bitnet. 
 
arnfried, ao@tub.uucp, ao@db0tui6.bitnet, tu berlin, berlin, fed.rep.germany 
#! rnews 2902 
path: alberta!mnetor!uunet!mcvax!varol 
from: varol@cwi.nl (varol akman) 
newsgroups: sci.math 
subject: re:   computational geometry / finding segment intersections 
summary: try adaptive grid ... 
keywords: segment intersection 
message-id: <141@piring.cwi.nl> 
date: 9 dec 87 11:14:57 gmt 
references: <4369@sdcsvax.ucsd.edu> 
organization: cwi, amsterdam 
lines: 50 
 
<4369@sdcsvax.ucsd.edu> maiden@sdcsvax.ucsd.edu (vlsi layout project) writes: 
> 
>consider a path embedded into the cartesian plane, where for convenience 
>all vertices of the path are lattice points in the positive quadrant. 
>all edges are line segments. 
>so, the path will look like < (x1,y1) , (x2,y2) , ... , (xn,yn) >.   
>question:    what is the fastest method of determining *all* self- 
>	     intersections of this path? 
>this may have been beaten to death by computational geometers, so i'll 
>append some extra conditions: 
>suppose there are **many** vertices in the path, and that edges are 
>for the most part very short.    for example, there could be 10000 
>points in a 200 by 200 square, with most edges less than 3 units long. 
>furthermore, assume that there are not very many self-intersections 
>to be found.    now, what would the fastest method be???   any ideas 
>welcome. 
 
there are, as you've guessed several papers in computational geometry 
on line segment intersections.  you may look at the books by shamos 
and preparata, and also the book by edelsbrunner for references. 
 
my favorite method to solve your problem though is an excellent 
method invented by randolph franklin at rpi.  it is called ''adaptive 
grid'' and works as follows.  first you overlay a regular, say g by g 
integer grid on your scene.  then you enter your edges into respective 
cells of the grid  (similar to the bucketing idea!)  then you make a pass 
thru all the cells and find the intersections in each cell.  if an 
intersection falls on a grid cell boundary you should be careful to 
treat it so the integrity is kept intact. 
 
i'm not very good in describing things in a hurry (especially email) 
but let me tell that i've wide experience with this stuff and it works 
very well.  it is especially excellent for a scene made of short edges 
with a rather homogeneous distribution.  write me for details. 
also you may try franklin at franklin@csv.rpi.edu.  here is a short bibl. 
 
w.r. franklin  an exact hidden sphere algorithm that operates 
               in real time  comp. graphics and image proc. 15(4), 1981 
 
-------------  a linear time exact hidden surface algorithm siggraph'80 
 
------------- and v. akman a simple and efficient haloed line algorithm 
                           for hidden line elimination computer graphics 
                           forum, 1987 
 
-------------------------- adaptive grid for polyhedral visibility in 
                           object space: an implementation bjc 1987, to appear 
 
-varol akman 
cwi, amsterdam 
#! rnews 2392 
path: alberta!mnetor!uunet!mcvax!jack 
from: jack@cwi.nl (jack jansen) 
newsgroups: comp.os.misc,comp.unix.wizards 
subject: re: command interfaces 
message-id: <142@piring.cwi.nl> 
date: 9 dec 87 15:41:45 gmt 
references: <1257@boulder.colorado.edu> <6840002@hpcllmv.hp.com> <9555@mimsy.uucp> <798@rocky.stanford.edu> <432@cresswell.quintus.uucp> <3161@psuvax1.psu.edu> <5565@oberon.usc.edu> 
organization: amoeba project, cwi, amsterdam 
lines: 43 
xref: alberta comp.os.misc:339 comp.unix.wizards:5747 
 
in article <5565@oberon.usc.edu> blarson@skat.usc.edu (bob larson) writes: 
> [discussing primos wildcards versus unix wildcards] 
>for example, how would you do the equivelent of this in unix: 
> 
>cmpf *>old>@@.(c,h) == -report ==.+cmpf -file 
> 
>(explanation: compare all files in the old sub-directory ending in .c or 
>.h with the file of the same name in the current directory, and put 
>the output in the file of the same name with .cmpf appended.  non-files 
>(directories and segment directories) ending in .c or .h are ignored. 
>[i do prefer the output of diff -c to that of cmpf, but that isn't 
>what i'm talking about here.] 
 
uhm, yes, unfortunately i find the 'feature' quite unusable. 
i *never* come up with the correct sequence of == and @@, so i have to type 
the command three times before i get it right. (really retype, that is. 
'history mechanism' is something primos has never heard about). 
 
i definitely prefer 
for i in *.[ch]; do 
    diff old/$i $i >$i.diff 
done 
 
(and you can add an 'if [ -d $i ]' if you really care about directories 
ending in .c or .h. i don't, because i don't *have* directories ending 
in .c or .h). 
 
and, to continue some gripes on primos wildcards: 
- i would expect them to work *always*. i.e. if i do 
  type @@ 
  (type is primos echo) i would expect a list of all files, *not* '@@'. 
- if i want all arguments on one line, and i use [wild @@.tmp], and the 
  result doesn't fit in 80 characters, i do definitely not want it to truncate 
  it at eighty chars! i lost an important file that way: it was trying 
  to generate a list containing preciousfile.tmp, but, unfortunately, 
  the .tmp started at position 81. so, it removed preciousfile in stead. 
  sigh. 
   
sorry, there are some neat ideas in primos, but the command processor and 
it's wildcards is definitely *not* one of them. 
--  
	jack jansen, jack@cwi.nl (or jack@mcvax.uucp) 
	the shell is my oyster. 
#! rnews 1552 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!csbg 
from: csbg@its63b.ed.ac.uk (andie) 
newsgroups: comp.windows.news 
subject: windows and menus through the cps interface 
keywords: news windowing, menus, cps interface 
message-id: <821@its63b.ed.ac.uk> 
date: 9 dec 87 00:15:36 gmt 
reply-to: csbg@its63b.ed.ac.uk (bruce) 
organization: computer science department, edinburgh university 
lines: 26 
 
hi everybody ! 
 
i'm a final year student at edinburgh university and as part of my final 
year project i am using news to build up a document composition system. 
alas, i'm new to news and the news manual does seem to be rather sketchy, 
especially when it comes to using the cps interface. 
 
having had a look at the stuff that is floating around in this newsgroup 
i think that someone out there will be able to help me. 
 
point 1 : how can i control the litewin.ps and litemenu.ps packages through 
          the cps interface - especially, how do i get notification to the 
          c program that something is happening ? 
 
point 2 : this may be trivial, but when i create an overlay for the purposes 
          of rubber-banding, using the getclick family of operators, i can 
          never get the overlay to disappear again. what is happening and  
          how should it be done ? 
 
if these points have already been raised in the past then i will be happy to 
receive direct e-mail from anybody who can answer any part of the above 
queries. 
 
as they say: when the going gets tough, i get the hell out of it ! 
 
bruce gilmour (cs4 student at edinburgh university) 
#! rnews 1134 
path: alberta!mnetor!uunet!mcvax!botter!ast 
from: ast@cs.vu.nl (andy tanenbaum) 
newsgroups: comp.os.minix 
subject: re: problems with serial tty driver 
message-id: <1778@botter.cs.vu.nl> 
date: 9 dec 87 15:36:52 gmt 
references: <2314@encore.uucp> 
reply-to: ast@cs.vu.nl (andy tanenbaum) 
organization: vu informatica, amsterdam 
lines: 16 
 
in article <2314@encore.uucp> paradis@encore.uucp (jim paradis) writes: 
>is there some limit to how fast minix will take interrupts?  
>if one takes them too fast, will messages get lost? 
> 
if you try to force feed minix from an ethernet at 10 mbps it will probably 
drop stuff.  there is undoubtedly a limit on how many interrupts per second 
it can handle, but an at it should be over 1000 per second. 
 
the original tty driver was very carefully written to deal with exactly 
this issue.  when characters come in, they are buffered, even if it is 
not possible to send a message to the tty task.  this code is on lines 
3528 to 3552 of the book.  assuming you are still using this mechanism, 
you ought to be able to accept characters at say 2400 baud without losing 
any. 
 
andy tanenbaum (ast@cs.vu.nl) 
#! rnews 915 
path: alberta!mnetor!uunet!mcvax!botter!ast 
from: ast@cs.vu.nl (andy tanenbaum) 
newsgroups: comp.os.minix 
subject: p-h has minix in stock (finally) 
message-id: <1779@botter.cs.vu.nl> 
date: 9 dec 87 15:46:14 gmt 
reply-to: ast@cs.vu.nl (andy tanenbaum) 
organization: vu informatica, amsterdam 
lines: 11 
 
 
i talked to p-h yesterday.  version 1.2 of minix in 256k & 640k pc, 512k at,  
mag tape, and the ibm slipcase version with the abridged book are all 
in stock.  if it is of any consolation to the people who have had to wait 
and wait and wait, one of the corporate vice presidents was so unhappy 
about the poor service to customers that he fired the person who was in charge 
of managing the minix inventory.  he has been replaced by someone else who has  
clear instructions to make sure it doesn't go out of stock again.  they are now 
shipping to everyone whose order got backlogged. 
 
andy tanenbaum (ast@cs.vu.nl) 
#! rnews 841 
path: alberta!mnetor!uunet!mcvax!prlb2!lln-cs!gf 
from: gf@lln-cs.uucp (frank grognet) 
newsgroups: rec.games.misc,rec.games.frp,rec.games.board 
subject: wargaming! 
keywords: wargame,rule,figurine,game 
message-id: <796@lln-cs.uucp> 
date: 9 dec 87 15:19:13 gmt 
organization: computer science dept., louvain-la-neuve belgium 
lines: 11 
xref: alberta rec.games.misc:1150 rec.games.frp:1652 rec.games.board:543 
 
 
	i want to start wargaming but i don't know how! 
 
i won't be playing wargames on a board, but with 15mm or 25mm 
figurines. 
i would like to find addresses in europe (especially belgium) 
of good figurine manufacturers and also references to rule 
books for the napoleonic period. 
i am also interested in rules contained on the net or in files at 
other sites, if they exist! 
i anybody can help me, please reply to ..!mcvax!prlb2!lln-cs!gf 
#! rnews 1656 
path: alberta!mnetor!uunet!mcvax!nikhefk!frankg 
from: frankg@nikhefk.uucp (frank geerling) 
newsgroups: comp.sys.atari.st 
subject: re: the perfect ram disk 
keywords: ramdisk, resizeable, reset-survivable 
message-id: <294@nikhefk.uucp> 
date: 9 dec 87 19:53:23 gmt 
references: <427@dukempd.uucp> 
reply-to: frankg@nikhefk.uucp (frank geerling) 
organization: nikhef-k, amsterdam (the netherlands). 
lines: 42 
 
in article <427@dukempd.uucp> gpm@dukempd.uucp (guy metcalfe) writes: 
>i have mike's ramdisk v. .95, and like the idea of what it's trying to do. 
>it has a dialogue box as if it were resizable, but it's very buggy.  could 
>someone send me a later version that works like it's dialogue implies it 
>should.  what i would like best of all is an eternal ram disk that i can 
>size up and down as i see fit, but which sizes down without letting me  
>destroy any data i may have on the disk.  if anybody has and would send me 
>or knows where i could get such a beast, i would be grateful.  thanks. 
>--  
>	guy metcalfe                            gpm@dukempd.uucp   
 
 
please send it to me too, i also have mike's ramdisk and the resize doesn't 
work it doesn't return allocated memory when you resize to a smaller amount 
of memory. 
 
thanx in advance 
 
 
			   frank geerling 
			(frankg@nikhefk.uucp) 
 
 
usenet:		{seismo, philabs, decvax}!mcvax!frankg@nikhefk 
 
normal mail:	frank geerling 
		nikhef-k (digel) 
		postbus 4395 
		1009 aj amsterdam 
		the netherlands 
 
			   frank geerling 
			(frankg@nikhefk.uucp) 
 
 
usenet:		{seismo, philabs, decvax}!mcvax!frankg@nikhefk 
 
normal mail:	frank geerling 
		nikhef-k (pimu) 
		postbus 4395 
		1009 aj amsterdam 
		the netherlands 
#! rnews 2666 
path: alberta!mnetor!uunet!mcvax!prlb2!kulcs!luc 
from: luc@kulcs.uucp (luc van braekel) 
newsgroups: comp.lang.pascal 
subject: re: self-replicating programs? 
summary: here is a self-replicating pascal program 
message-id: <1070@kulcs.uucp> 
date: 9 dec 87 08:31:27 gmt 
references: <1400@tulum.swatsun.uucp> 
organization: kath.univ.leuven, comp. sc., belgium 
lines: 37 
 
in article <1400@tulum.swatsun.uucp>, hirai@swatsun (eiji "a.g." hirai) writes: 
> 	in our recent acm programming contest (regionals), one of the 
> problems was to write a self-replicating program.  that is, we had to 
> write a program whose output was itself, the source code.  no alterations 
> of the original code during execution was allowed (i think). 
> 	does anyone have any code for this problem?  we have one but 
> it looks inelegant.  i've also see bery bery short prolog code for this. 
> help, we are looking for good codes to study!  and yes, the contest is 
> over (we ain't cheating). 
 
here is a self-replicating pascal program i wrote a few years ago. 
the program looks dirty but it works ! 
 
program self (output);                                      
var i,j: integer;                                           
    a: array[1..8] of packed array[1..59] of char; begin    
  a[1] := 'program self (output);                                     '; 
  a[2] := 'var i,j: integer;                                          '; 
  a[3] := '    a: array[1..8] of packed array[1..59] of char; begin   '; 
  a[4] := 'for i := 1 to 3 do writeln(a[i]);                          '; 
  a[5] := 'for i := 1 to 8 do begin write(''  a['',i:0,''] := '',chr(39));'; 
  a[6] := 'for j := 1 to 59 do begin write(a[i][j]);if a[i][j]=chr(39)'; 
  a[7] := 'then write(a[i][j]) end; writeln(chr(39),'';'') end;         '; 
  a[8] := 'for i := 4 to 8 do writeln(a[i]) end.                      '; 
for i := 1 to 3 do writeln(a[i]);                           
for i := 1 to 8 do begin write('  a[',i:0,'] := ',chr(39)); 
for j := 1 to 59 do begin write(a[i][j]);if a[i][j]=chr(39) 
then write(a[i][j]) end; writeln(chr(39),';') end;          
for i := 4 to 8 do writeln(a[i]) end.                       
 
+-----------------------------------+------------------------------------+ 
| name   : luc van braekel          |  katholieke universiteit leuven    | 
| uucp   : luc@kulcs.uucp           |  department of computer science    | 
| bitnet : luc@blekul60.bitnet      |  celestijnenlaan 200 a             | 
| phone  : +(32) 16 20 0656 x3563   |  b-3030 leuven (heverlee)          | 
| telex  : 23674 kuleuv b           |  belgium                           | 
+-----------------------------------+------------------------------------+ 
#! rnews 1678 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!zu 
from: zu@ethz.uucp (urs zurbuchen) 
newsgroups: comp.sys.ibm.pc 
subject: re: oooh yeccheo. how does this one really work?!? 
message-id: <264@bernina.uucp> 
date: 9 dec 87 12:16:51 gmt 
references: <164300022@uiucdcsb> <412@wa3wbu.uucp> <13091@beta.uucp> <1269@phoenix.princeton.edu> 
reply-to: zu@bernina.uucp (urs zurbuchen) 
organization: eth zuerich, cs department, switzerland 
lines: 41 
 
in article <1269@phoenix.princeton.edu> rjchen@phoenix.princeton.edu (raymond juimong chen) writes: 
>in article <13091@beta.uucp> it was written: 
>what you'd probably want is something like 
> 
>autoexec.bat: 
>  doit 
> 
>doit.bat: 
>  copy \autoexec.ddd \autoexec.bat 
>  del \autoexec.ddd 
>  do other stuff 
>  reboot. 
> 
>autoexec.ddd: 
>  same as before 
 
you could the same thing without changing your autoexec.bat. with the solution 
presented above you will execute the same second version of autoexec.bat each 
time you reboot your machine (perhaps that's really what you want, but my 
imagination doesn't go that far. if so, just disregard this article). 
 
my solution: in the startup file you include the following: 
 
if exist <filename_like_gaga.gag_or_whatever_you_want_to_call_it> goto second 
<here included all the stuff you want executed when booted for the first time> 
echo gaga > <filename_like_gaga.gag_or_whatever_you_want_to_call_it> 
:second 
<now follows the rest of the story (i.e. your autoexec.ddd)> 
 
that's it. if you want to toggle between the two boot modes just add a line 
like: 
 
del <filename_like_gaga.gag_or_whatever_you_want_to_call_it> 
 
 
		i hope this will help anybody :-) 
 
			...urs 
 
 
uucp: ...seismo!mcvax!cernvax!ethz!zu 
#! rnews 420 
path: alberta!mnetor!uunet!mcvax!inria!irisa!michaud 
from: michaud@irisa.uucp (michaud franck insa bn205) 
newsgroups: comp.protocols.tcp-ip 
subject: virtual circuit 
keywords: tcp, socket 
message-id: <202@irisa.uucp> 
date: 9 dec 87 20:05:21 gmt 
organization: irisa, rennes (fr) 
lines: 7 
 
 
	i'd like to have a good definition of : 
- virtual circuit. 
 
 	if you have a good definition, send me a mail. 
		thanck you. 
	franck 
#! rnews 758 
path: alberta!mnetor!uunet!mcvax!enea!liuida!dat08 
from: dat08@butterix.liu.se 
newsgroups: rec.games.frp 
subject: re: new rules for ad&d 
message-id: <686@butterix.liu.se> 
date: 9 dec 87 03:53:09 gmt 
references: <26788s9s@psuvma> 
organization: cis dept, univ of linkoping, sweden 
lines: 11 
 
in article <26788s9s@psuvma> s9s@psuvma.bitnet (steven a. schrader) writes: 
>new rules for tsr.   [...] does anyone know when these rules will be out 
>and how much they will cost? 
 
according to harold johnson of tsr (at a local convention in sweden) the new 
rules will be out in 89. 
  
btw -- any reactions about the new (again!) gamma world? i haven't tried it 
yet but i like their idea of one-table-system for everything. 
  
per westling         dat08@majestix.liu.se 
#! rnews 968 
path: alberta!mnetor!uunet!mcvax!enea!tut!tolsun!reini 
from: reini@tolsun.oulu.fi (jukka reinikainen) 
newsgroups: comp.sys.ibm.pc,comp.sources.wanted 
subject: hercules graphic characters 
keywords: hercules, text, masm, msc 
message-id: <246@tolsun.oulu.fi> 
date: 8 dec 87 15:32:30 gmt 
organization: university of oulu, finland 
lines: 14 
xref: alberta comp.sys.ibm.pc:9576 comp.sources.wanted:2717 
 
 
  
help wanted: how to create text in hercules graphic mode? 
  
i have a program written in msc (parts coded with masm) which does 
quite nice things with grapichs but suffers lack of characters. 
according to my knowledge the only way to get characters in herc graphic 
mode is to draw them on screen by lightning a set of pixels, right? 
  
somebody *must* have written a program which draws characters and 
other symbols, so please help me.  c and/or asm sources and/or ideas 
will be *very* appreciated. 
  
       >      jukka reinikainen         reini@tolsun.oulu.fi       < 
#! rnews 935 
path: alberta!mnetor!uunet!mcvax!enea!liuida!andka 
from: andka@smidefix.liu.se (andreas k}gedal) 
newsgroups: rec.music.synth 
subject: yamaha clp - pf question 
keywords: yamaha pf85 clp300 
message-id: <687@smidefix.liu.se> 
date: 9 dec 87 15:36:48 gmt 
organization: cis dept, univ of linkoping, sweden 
lines: 13 
 
 
 i'm thinking of getting one of those new sampled pianos and would like 
to get som info. from the net and from my own experience in my local 
piano store, i've understood that the yamaha clavinova clp 300 is 
a pretty good choise. but i seem to remember a rumor about something 
called yamaha pf85 wich would be some kind of stageversion of the clp 300. 
has anyone seen it, played it, compared it with the clp 300? what are the 
differences in price, sound, keyboard? 
 
my local pianopusher here in sweden hadn't heard of it. is this because 
it is so new or because it is a local phenomenon in the states? 
 
    /andreas kagedal 
#! rnews 2816 
path: alberta!mnetor!uunet!mcvax!enea!ttds!draken!sics!erikn 
from: erikn@sics.se (erik nordmark) 
newsgroups: comp.unix.questions 
subject: re: need help with interprocess communications 
keywords: pipes, ptys, buffering, i/o 
message-id: <1639@sics.se> 
date: 9 dec 87 21:21:43 gmt 
references: <8117@steinmetz.steinmetz.uucp> 
reply-to: erikn@sics.uucp (erik nordmark) 
organization: swedish institute of computer science, kista 
lines: 60 
 
[[ i tried sending this as mail using different addresses, but failed! ]] 
 
in article <8117@steinmetz.steinmetz.uucp> you write: 
> 
> 
>i have tried using "fcntl(fd,f_setfl,fasync)" as well as setting up an 
>interrupt handler to handle sigio signals (via "sigvec(2)"), and this works 
>fine when i'm reading from the terminal, but does not seem to work at all 
>when i try it from a pipe. 
> 
> 
>well, the sigio handler works fine to detect input from places like stdin, but 
>never sees anything coming down the pipe.  when it gets invoked (generally 
>by me banging on the <return> key causing an interrupt from stdin), it  
>does find that there is data available in the pipe (as well as stdin) and 
>has no problem reading it. 
> 
> 
>does anyone out there know how i can fix this problem? 
> 
 
>from looking at the bsd4.3 sources i found out the following: 
when a tty is opened the associated process group is set to 
that of the creator. the signals that the tty driver generate (e.g. caused 
by ^c) are sent to this process group. 
 
however, for sockets (a pipe is implemented as a pair of sockets in bsd4.3 
and maybe elsewhere!) the associated process group is not set automatically. 
 
so what you have to do is to set it before you can get ant sigio's! use 
   int pgrp = getpid(); 
   if (fcntl(fd, f_setown, pgrp) == -1) { 
	perror("fnctl"); 
	exit(1); 
   } 
or 
       ioctl(fd, siocspgrp, &pgrp)	/* note: & */ 
 
i think this should work even if pipes aren't implemented as a pair of 
sockets, but i haven't tried any of it. 
 
>also:  is there a way that i can determine which file descriptor caused 
>a sigio interrupt to be invoked, or by which i can set up a different 
>interrupt handler for each descriptor? 
> 
 
see select(2). (just a detail: select will tell you that there is data 
to read if there actually is data to read or if the other end(s) have 
closed the pipe. in the latter case read() will return an eof - this 
stuff caused me some trouble before i read the *real* documentation - 
the os source code!!) 
 
------------------------------------------------------------------------- 
erik nordmark 
swedish institute of computer science, box 1263, s-163 13  spanga, sweden 
phone: +46 8 750 79 70	ttx: 812 61 54 sics s	fax: +46 8 751 72 30 
 
uucp:	erikn@sics.uucp or {seismo,mcvax}!enea!sics!erikn 
domain: erikn@sics.se 
------------------------------------------------------------------------- 
#! rnews 2508 
path: alberta!mnetor!uunet!mcvax!enea!luth!d2c-czl 
from: d2c-czl@sm.luth.se (caj zell) 
newsgroups: rec.music.misc 
subject: re: ace-screamingest guitar solos on record 
keywords: guitar, flames (regrettably) 
message-id: <438@psi.luth.se> 
date: 9 dec 87 14:51:22 gmt 
references: <1725@s.cc.purdue.edu> 
reply-to: caj zell <d2c-czl@psi.luth.se> 
organization: university of lulea, sweden 
lines: 44 
uucp-path: {uunet,mcvax}!enea!psi.luth.se!d2c-czl 
 
 
in article <1725@s.cc.purdue.edu> rsk@s.cc.purdue.edu (rich kulawiec) writes: 
>i thought i'd make up a very hasty list of what i 
>thought were some of the best solos i've heard, and then ask y'all to 
>contribute further. 
 
good idea,i love making up lists! 
 
>money (pink floyd), david gilmour 
>cracked actor (david bowie), earl slick 
>don't take me alive (steely dan), jeff 'skunk' baxter? 
>all along the watchtower jimi hendrix 
>aqualung (jethro tull), martin barre 
>highway 61, johnny winter 
 
agree,but how about these: 
 
muffin man (frank zappa)              (i think fz was the most underrated) 
son of mr. green genes (frank zappa)  (guitarist there ever has been.but,) 
son of orange county (frank zappa)    (he can't play anymore,too bad.    ) 
push comes to show (van halen) eddie van halen 
crossroads (cream) eric clapton (the 2nd solo,of course) 
astronomy (blue \yster cult) donald roeser (on "some enchanted evening") 
lazy (deep purple) ritchie blackmore 
fat time (miles davis) mike stern 
 
i know that when i get home i will kill myself for not adding more solos, 
but these are the ones i can think of without looking at my records. 
but maybe that's a good sign indicating that these are really my favourites. 
 
i'd be very glad to see some reactions on the list. 
 
 
      xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx 
      x                                                            x 
      x                                                            x 
      x   caj zell                 	 ________________________  x 
      x   university of lulea            :                      :  x 
      x   sweden                         : jazz is not dead,    :  x 
      x  				 : it just smells funny :  x 
      x   mail: d2c-czl@psi.luth.se	 : -frank zappa         :  x 
      x                                  :                      :  x 
      x                                  -----------------------:  x 
      x                                                            x 
      xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx 
#! rnews 1389 
path: alberta!mnetor!uunet!mcvax!enea!kuling!peterf 
from: peterf@kuling.uucp (peter fagerberg) 
newsgroups: comp.sys.mac 
subject: more memory for mac+...? 
message-id: <570@kuling.uucp> 
date: 9 dec 87 15:08:48 gmt 
organization: docs, uppsala university, sweden 
lines: 23 
 
 
hello. i've been wondering how to get a little extra memory for my 
macintosh plus (needed in these days of hypercard and multifinder). 
 
i was wondering if the normal brute-force method could be used; 
  just solder 1m memory chips on top of the existing one (piggyback) 
  and attach cs (chip-select) and whatever else is needed from the 
  adressbus to select the appropiate chip. i haven't really checked 
  out the memorychips but maybe an inverter is needed for some signals. 
 
  if i'm correctly informed there are 22 bit defining the adress on 
  a mc68000, making it possible to have 4m of memory. 
 
*if* this is possibly, would programs take advantage of it? 
 
well, maybe this is one of the most stupid questions asked to usenet 
since it all began and if so - please forgive my ignorance... 
 
                                 peter--  
============================================================================== 
peter fagerberg             uucp: {seismo,enea,mcvax,decwrl,...}!kuling!peterf 
applied computer science    arpa: kuling!peterf@seismo.css.gov 
uppsala university          analog: +46 18-128286 or 8-102927 
#! rnews 1429 
path: alberta!mnetor!uunet!mcvax!botter!klipper!biep 
from: biep@cs.vu.nl (j. a. "biep" durieux) 
newsgroups: soc.culture.jewish 
subject: re: jews in soc.culture.jewish? 
message-id: <958@klipper.cs.vu.nl> 
date: 10 dec 87 09:07:28 gmt 
references: <4765@spool.wisc.edu> <2086@ucbcad.berkeley.edu> <2264@encore.uucp> <5779@cisunx.uucp> <2872@sphinx.uchicago.edu> <5861@cisunx.uucp> 
reply-to: biep@cs.vu.nl (j. a. "biep" durieux) 
organization: vu informatica, amsterdam 
lines: 23 
 
in article <5861@cisunx.uucp> dlhst@unix.cis.pittsburgh.edu.uucp, 
	(david l. heyman) writes: 
>don't kid yourself.  the constitution is one thing but reality is 
>another.  national christmas tree, etc. 
                    ^^^^^^^^^^^^^^ 
 
you are not trying to say that the us are german-mythological qua 
religion, are you? :-) 
 
no, but seriously: what does that tree have to do with christianity? 
(or, what does the mean us christmas have to do with it at all - but 
that's another story) 
is santa claus christian? the easter bunny and its eggs? 
 
while i agree that the dates of these festivities originally come from 
the church, the things which are generally celebrated have no origin in 
christian doctrine, and no one pretends so. 
 
sorry if i offended anyone by this - i am not commenting on those who do 
use those times for prayer and as memorial days. 
--  
						biep.  (biep@cs.vu.nl via mcvax) 
	to be the question or not to be the question, that is. 
#! rnews 1323 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!icdoc!ivax!shb 
from: shb@ivax.doc.ic.ac.uk (simon brock) 
newsgroups: comp.sys.mac 
subject: re: uw/multifinder? 
message-id: <146@gould.doc.ic.ac.uk> 
date: 9 dec 87 10:08:38 gmt 
references: <174400085@uxc.cso.uiuc.edu> 
sender: news@doc.ic.ac.uk 
reply-to: shb@doc.ic.ac.uk (simon brock) 
organization: dept. of computing, imperial college, london, uk. 
lines: 22 
 
in article <174400085@uxc.cso.uiuc.edu> dorner@uxc.cso.uiuc.edu writes: 
> 
>i can't get uw to work under multifinder.  ... 
>i have an se, and am running the latest system software (obviously). 
>i'm using uw version 4.1. 
> 
>is anybody successfully using uw under multifinder? 
yes.  i'm using uw4.1 on an se with system 4.1/finder 6.0 and a beta version  
of mf (1.0b6).  (as an aside, we can't get system tools 5.0 in the uk until  
early next year, unless you know different to me !) 
 
uw runs but i do character losses at 9600 baud.  i can't work out why, and 
i'm not convinced its uw's fault.  i wrote to john bruner, the author, who 
says other people were reporting the same problem. 
 
				simon. 
 
simon h brock, dept. of computing, imperial college, london sw7 2az 
tel	: 01 589 5111 x4993 
bitnet	: shb@doc.ic.ac.uk (or shb%uk.ac.ic.doc@ac.uk) 
uucp	: shb@icdoc.uucp (...siesmo!mcvax!ukc!icdoc!shb) 
janet	: shb@uk.ac.ic.doc 
#! rnews 1446 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!icdoc!cam-cl!am 
from: am@cl.cam.ac.uk (alan mycroft) 
newsgroups: comp.lang.c 
subject: re: closing stdout 
keywords: yes it is a buggy library 
message-id: <1115@jenny.cl.cam.ac.uk> 
date: 9 dec 87 10:38:55 gmt 
references: <442@cresswell.quintus.uucp> 
reply-to: am@cl.cam.ac.uk (alan mycroft) 
organization: u of cambridge comp lab, uk 
lines: 19 
 
in article <442@cresswell.quintus.uucp> ok@quintus.uucp (richard a. o'keefe) writes: 
>there's an old joke with the punch-line "we've already established what 
>you are, madam.  now we're just haggling over the price." 
>		result = getchar(); 
>		errno = 0; 
>		result = putc(result, stdin); 
>		printf("result = %d, errno = %d\n", result, errno); 
>the bug is that depending on where you are in the buffer, putc() might 
>notice the mistake, but it usually won't. 
>... the bug is a pretty fundamental one in the unix stdio implementation, 
richard, the bug is not in the slightest bit fundamental and could be fixed 
in less than 1 day once and for all.  i have done it for a ansi unix-like i/o 
library: 
merely separate the _cnt field 
of struct file into a _icnt and an _ocnt, change getc/putc to use _icnt/_ocnt. 
fix _filbuf/_flsbuf to use the right one, and to whinge when _icnt/_ocnt 
goes -ve when you expect the other one to. 
this for free also enables the library to police the "fflush/fseek between 
change of direction for i/o" restriction and avoids chaos there. 
#! rnews 1094 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!icdoc!cam-cl!lg 
from: lg@cl.cam.ac.uk (li gong) 
newsgroups: soc.culture.china 
subject: change of policy after beginnig signing contrct ? 
message-id: <1114@jenny.cl.cam.ac.uk> 
date: 9 dec 87 10:37:41 gmt 
organization: u of cambridge comp lab, uk 
lines: 19 
 
 
   is there anybody out there who has info about whether the chinese 
government has changed the policy regarding students aboard and how 
it is changed, because from this april, all students sent by the 
government are asked to sign contracts between him/her and his/her 
institution. 
 
   what do these contracts mean ?  does this imply that those who came 
out before this april (thus did not sign) then have a somewhat different 
status (for example, can not be asked to go back to carry out a certain 
contract) ? 
 
   e-mail to me and i'll summurize or post to the newsgroup.  i believe 
there are other people who are also interested in this issue. 
 
                                    martin 
----------------------------------------------------------------------- 
lg@uk.ac.cam.cl 
--------------- 
#! rnews 1315 
path: alberta!mnetor!uunet!mcvax!ukc!stc!root44!cdwf 
from: cdwf@root.co.uk (clive d.w. feather) 
newsgroups: rec.arts.sf-lovers 
subject: eric frank russell - was re: misc questionings 
message-id: <492@root44.co.uk> 
date: 9 dec 87 15:03:01 gmt 
references: <362@n8emr.uucp> <2481@pbhyf.uucp> 
reply-to: cdwf@root44.uucp (clive d.w. feather) 
organization: root computers ltd, london, england 
lines: 23 
 
in article <2481@pbhyf.uucp> djl@pbhyf.uucp (dave lampe) writes: 
>in article <362@n8emr.uucp> lwv@n8emr.uucp (larry w. virden) writes: 
>> 
>>5.	finally, and perhaps most important.  i am looking for author and 
>>anthology names for a short story (perhaps longer than thtat?) called i  
>>believe "myob". 
>>the title stands for "mind your own business". 
> 
>the story is in a book called "the great explosion" by eric frank 
>russell in 1962. it is a collection of 3 or 4 stories telling 
>of an attempt by earth to recontact colonies that had been lost 
>for a long time and that had evolved into unusual societies. 
 
i have come across "the great explosion", but i also have this part of it 
in a collection whose name i have forgotten, under the title "and then there 
were none.". great story. the best author ever. 
 
[kill the line counter] 
[kill mel] 
[keep adric dead] 
[kill the line counter] 
[kill mel] 
[keep adric dead] 
#! rnews 849 
path: alberta!mnetor!uunet!mcvax!ukc!stc!root44!cdwf 
from: cdwf@root.co.uk (clive d.w. feather) 
newsgroups: sci.misc 
subject: re: color 
message-id: <493@root44.co.uk> 
date: 9 dec 87 15:46:24 gmt 
references: <162300002@uiucdcsb> <162300004@uiucdcsb> 
reply-to: cdwf@root44.uucp (clive d.w. feather) 
organization: root computers ltd, london, england 
lines: 13 
 
 
carl kadie 
inductive learning group 
university of illinois at urbana-champaign 
writes: 
>ii.       there is "no such color" as purple! mixing red and blue ink  
>          causes your eye to react in a way which is not reproducible  
>	  by any single wavelength of light. 
 
the eye can see colours (for example, in afterimages) that cannot be 
reproduced by any combination of wavelengths of light ! 
there was an article in scientific american c.1970 entitled "phosphenes" 
that went into this. 
#! rnews 795 
path: alberta!mnetor!uunet!mcvax!ukc!stc!datlog!dlhpedg!cl 
from: cl@dlhpedg.co.uk (charles lambert) 
newsgroups: rec.games.empire,comp.sources.bugs 
subject: re: conquest newsletter #3 
message-id: <330@dlhpedg.co.uk> 
date: 9 dec 87 14:27:16 gmt 
references: <4886@mhuxd.uucp> <6899@apple.uucp> 
sender: news@dlhpedg.co.uk 
reply-to: cl@.co.uk (charles lambert) 
organization: fsg@data logic ltd, queens house, greenhill way, harrow, london. 
lines: 8 
xref: alberta rec.games.empire:292 comp.sources.bugs:563 
 
>in article <4886@mhuxd.uucp>, smile@mhuxd.uucp (edward barlow) writes: 
>> 3) still have not thought of a new name for the game.  best so far is  
>> 	<midguard> (need to check spelling).  comments? 
 
i've missed something here;  what was wrong with "conquest"? 
 
--------------- 
charlie lambert 
#! rnews 819 
path: alberta!mnetor!uunet!mcvax!weijers 
from: weijers@cwi.nl (eric weijers) 
newsgroups: comp.lang.c++ 
subject: another error in vector.h 1.3 
message-id: <143@piring.cwi.nl> 
date: 10 dec 87 13:27:06 gmt 
organization: cwi, amsterdam 
lines: 22 
 
in "vector.h 1.3" the following definition of the x(x&) constructor 
is given: 
 
vector(type).vector(type)(vector(type)& a) 
{ 
	register i = a.sz; 
	sz = a.sz; 			/* add this line */ 
	v = new type[i]; 
	register type* vv = &v[i]; 
	register type* av = &a.v[i]; 
	while (i--) *--vv = *--av; 
} 
 
you should add the indicated line in order to set the size of 
the new vector. if that is not done you get "vector index out of 
range" errors. 
 
i found two other errors in this header file, i posted 
earlier. if you are interested in them just send a reply (r). 
 
eric weijers. 
weijers@cwi.nl 
#! rnews 830 
path: alberta!mnetor!uunet!mcvax!botter!klipper!biep 
from: biep@cs.vu.nl (j. a. "biep" durieux) 
newsgroups: soc.culture.jewish 
subject: anything positive about jewish genes? (was: jewish genetic diseases) 
message-id: <959@klipper.cs.vu.nl> 
date: 10 dec 87 09:50:15 gmt 
references: <4362@ig.ig.com> <4374@ig.ig.com> 
reply-to: biep@cs.vu.nl (j. a. "biep" durieux) 
organization: vu informatica, amsterdam 
lines: 12 
 
i suppose the exclusive intermarriage among jews must also have 
spared them for many genetic diseases found among "the rest of us". 
does anyone have any data on that? 
 
~~~ 
i understand nobody is interested in discussing the dead sea scrolls? 
 
and nobody knows what the "jewish region" in the far se of siberia is? 
~~~ 
--  
						biep.  (biep@cs.vu.nl via mcvax) 
	to be the question or not to be the question, that is. 
#! rnews 960 
path: alberta!mnetor!uunet!mcvax!unido!ecrcvax!johng 
from: johng@ecrcvax.uucp (john gregor) 
newsgroups: rec.arts.sf-lovers 
subject: re: old sf shows 
summary: yet another show i can't remember the name of... 
message-id: <463@ecrcvax.uucp> 
date: 9 dec 87 13:57:35 gmt 
references: <04.dec.87.11:29:45.gmt.zzassgl@uk.ac.umrcc.cms> <18784@linus.uucp> <1046@bc-cis.uucp> <19026@linus.uucp> 
reply-to: johng@ecrcvax.uucp (john gregor) 
organization: ecrc, munich 81, west germany 
lines: 10 
 
there was a show on sometime between the late 70's and early 80's (1 season). 
and i can't remember the name.  it was actually two (or more) shows in one 
with each sub-show taking a fraction of the time slot.  one part was a  
modern day dracula.  another dealt with a society living underground.  they 
couldn't come up to the surface without special filters due to dust/pollution 
or some such.  ring any bells?  it was nbc, i think. 
 
				john 
 
		johng%ecrcvax.uucp@germany.csnet 
#! rnews 756 
path: alberta!mnetor!uunet!mcvax!botter!ark!maart 
from: maart@cs.vu.nl (maarten litmaath) 
newsgroups: comp.bugs.4bsd 
subject: re: 4.3bsd: using control-m in .exrc file 
summary: more ^v's are needed (won't the editor get enough of it ? :-) 
keywords: 4.3bsd  .exrc  control-m ^v 
message-id: <1161@ark.cs.vu.nl> 
date: 10 dec 87 18:44:07 gmt 
references: <133@telesoft.uucp> 
reply-to: maart@cs.vu.nl (maarten litmaath) 
organization: vu informatica, amsterdam 
lines: 8 
 
try preceding each ^m by *another* ^v (which in turn is escaped by ^v) ! 
type: 
	map , ^v^v^v^m^v^v^v^m^v^v^v^m 
 
btw, death to emacs ! 
--  
time flies like an arrow, fruit flies |maarten litmaath @ free u amsterdam: 
like an orange.      (seen elsewhere) |maart@cs.vu.nl, mcvax!botter!ark!maart 
#! rnews 1079 
path: alberta!mnetor!uunet!mcvax!inria!shapiro 
from: shapiro@inria.uucp (marc shapiro) 
newsgroups: comp.lang.c++ 
subject: re: is there a "real" c++ compiler available? 
summary: there is a native c++, with debugger support 
message-id: <589@inria.uucp> 
date: 10 dec 87 17:55:27 gmt 
references: <2097@ucbcad.berkeley.edu> 
organization: inria, rocquencourt. france 
lines: 14 
 
in article <2097@ucbcad.berkeley.edu>, faustus@ic.berkeley.edu (wayne a. christopher) writes: 
> [...].  is there a c++ 
> compiler available now that will compile directly into asm 
> code, instead of into c?  alternatively, is there a good way 
> to use dbx with c++ programs (i.e, using the c++ source instead 
> of the c files)?   
 
the answer to both questions is yes.  the free software foundation (you 
know, the gnu emacs people) will distribute (soon?) a modified version of 
their c compiler which does c++.  their debugger gdb (a dbx-lookalike) knows 
how to handle it. 
 
i haven't used either of these so i have no opinions to whether they are 
in any way adequate.  just passing useful information along. 
#! rnews 1269 
path: alberta!mnetor!uunet!mcvax!enea!ttds!draken!zap 
from: zap@draken.nada.kth.se (svante lindahl) 
newsgroups: comp.os.misc,comp.unix.wizards 
subject: re: command interfaces 
message-id: <239@draken.nada.kth.se> 
date: 10 dec 87 04:54:11 gmt 
references: <1257@boulder.colorado.edu> <6840002@hpcllmv.hp.com> <9555@mimsy.uucp> <798@rocky.stanford.edu> <432@cresswell.quintus.uucp> <3161@psuvax1.psu.edu> <5565@oberon.usc.edu> 
reply-to: zap@nada.kth.se (svante lindahl) 
organization: the royal inst. of techn., stockholm 
lines: 21 
xref: alberta comp.os.misc:340 comp.unix.wizards:5748 
 
in article <5565@oberon.usc.edu> blarson@skat.usc.edu (bob larson) writes: 
#for example, how would you do the equivelent of this in unix: 
# 
#cmpf *>old>@@.(c,h) == -report ==.+cmpf -file 
 
i can do it using either /bin/sh or csh, but it does require more 
typing than in primos. the test for existence of the file is not 
necessary so these examples could be simplified at the expense of 
risking a few error messages to the terminal. 
 
c-shell: 
% foreach i (`cd old; ls *.[ch]`) 
> if (-r $i) diff -c old $i > $i.cmpf 
> end 
 
bourne-shell: 
$ for i in `cd old; ls *.[ch]` ; do 
> if [ -r $i ] ; then diff -c old $i > $i.cmpf ; fi 
> done 
 
svante lindahl	    zap@nada.kth.se	uunet!nada.kth.se!zap 
#! rnews 2030 
path: alberta!mnetor!uunet!mcvax!enea!ttds!draken!sics!lhe 
from: lhe@sics.se (lars-henrik eriksson) 
newsgroups: rec.arts.sf-lovers 
subject: re: st:tng posters, get out! 
keywords: why 
message-id: <1640@sics.se> 
date: 10 dec 87 11:50:40 gmt 
references: <5226@zen.berkeley.edu> <2011@charon.unm.edu> 
reply-to: lhe@sics.se (lars-henrik eriksson) 
organization: swedish institute of computer science, kista 
lines: 32 
 
in article <2011@charon.unm.edu> cs3631cg@hydra.uucp (mark giaquinto) writes: 
>two points here, interesting is a *very* relative term, what is 
>interesting to you may not be to me and  visa versa.  secondly i 
>agree, that if you have a st posting put it in the header, for people 
>who don't want to read this stuff. 
> 
>>if there was no group for star trek fans to converse in without pestering 
>>the rest of the sf world, i would just have to sit here and suffer, but 
>>that's not the case.  rec.arts.startrek is alive and well.  there is no 
>>reason beyond sheer orneryness to post to sf-lovers as well.  arguments that 
>>star trek is sci-fi as well are pointless.  the simple fact is that there is 
>>newsgroup for all of you to communicate in, and if the rest of us wanted to 
>>listen, then we would. 
> 
>well startrek is sf and i don't see how that arguement is pointless. 
 
i have only the faintest interest in the st stuff and i would prefer it 
to be posted elsewhere, although i am not particularly bothered either. 
 
i think the interesting question is: why do we have different newsgroups?? 
 
i always thought it was to organize postings by subject and because different 
people are interested in different things. 
 
if you argue that st postings could as well be made to rec.arts.sf-lovers 
rather than to the special st newsgroup, you could just as well argue 
that we only need one newsgroup on the entire net: general.general.general. 
 
lars-henrik eriksson				internet: lhe@sics.se 
swedish institute of computer science		phone (intn'l): +46 8 750 79 70 
box 1263					telefon (nat'l): 08 - 750 79 70 
s-164 28  kista 
#! rnews 1007 
path: alberta!mnetor!uunet!mcvax!enea!tut!mk59200 
from: mk59200@tut.fi (kolkka markku olavi) 
newsgroups: comp.sources.bugs 
subject: re: pc nethack 2.2 bugs + help wanted linking 
summary: inventory display problems 
message-id: <522@fuksi.tut.fi> 
date: 10 dec 87 13:32:40 gmt 
references: <492@silver.bacs.indiana.edu> <5253@zen.berkeley.edu> 
reply-to: mk59200@fuksi.uucp (kolkka markku olavi) 
organization: tampere university of technology, finland 
lines: 13 
 
i have successfully compiled and linked nethack using msc 4.0 
and it looks great, exept in a few points.  the inventory 
display is spread all over the screen if there aren't enough 
items to force a full-screen display.  it seems that after  
printing each line the cursor is moved one step down, but 
it doesn't move left to the right place. 
 
also, when i teleport away from an unlit room, some quote characters 
are left behind around the place i was in. 
 
markku kolkka at tampere university of technology, finland 
mk59200@tut.fi 
...mcvax!tut!mk59200 
#! rnews 811 
path: alberta!mnetor!uunet!mcvax!enea!tut!tolsun!jto 
from: jto@tolsun.oulu.fi (jarkko oikarinen) 
newsgroups: comp.sys.amiga,rec.games.misc 
subject: 'real' controllers for flight simulator ii 
keywords: controllers, flight simulator 
message-id: <247@tolsun.oulu.fi> 
date: 10 dec 87 16:47:22 gmt 
organization: university of oulu, finland 
lines: 15 
xref: alberta comp.sys.amiga:11680 rec.games.misc:1151 
 
 
  i am interested in finding any information about 'real' controllers 
for amiga's flight simulator ii program. ie. similar controllers 
that are used in real airplanes.  
 
please mail your responses because i don't read this group regularly. 
 
--  
======================================== 
jarkko oikarinen   mcvax!tut!oulu!jarkko 
                   jarkko@tolsun.oulu.fi 
======================================== 
#! rnews 913 
path: alberta!mnetor!uunet!mcvax!inria!imag!pierre 
from: pierre@imag.uucp (pierre laforgue) 
newsgroups: comp.protocols.appletalk 
subject: ncsa telnet bug with foreign macse or macii keyboards 
message-id: <2331@imag.uucp> 
date: 10 dec 87 08:08:19 gmt 
reply-to: pierre@imag.uucp (pierre laforgue) 
organization: imag, university of grenoble, france 
lines: 11 
 
ncsa telnet is really a must, but ... 
on a mac se and a mac ii, ncsa telnet 2.0 forces an american keyboard, in a 
permanent manner (it remains after exiting telnet, until the next macintosh 
reboot). it is very painful when you use, for instance, a french keyboard: 
not only you have to remember to type q for a, and so on, but you cannot 
type for example a control-z under telnet. 
[on a macintosh +, one do not loss its keyboard] 
 
is this bug fixed in the last version ? 
--  
pierre laforgue       pierre@imag.imag.fr      {uunet.uu.net|mcvax}!imag!pierre  
#! rnews 490 
path: alberta!mnetor!uunet!mcvax!diku!sergej 
from: sergej@diku.uucp (s|ren o. jensen) 
newsgroups: sci.math.stat 
subject: the sas package 
message-id: <3570@diku.uucp> 
date: 10 dec 87 14:03:31 gmt 
organization: diku, u of copenhagen, dk 
lines: 7 
 
 
is the sas package available for unix-systems? we are currently using the 
package on a old ibm machine but would like to change this machine to 
something newer - preferably a unix-machine. 
--  
---- 
s|ren oskar jensen ({sergej,postmaster}@diku) 
#! rnews 2766 
path: alberta!mnetor!uunet!mcvax!diku!iesd!jacob 
from: jacob@iesd.uucp (jacob stergaard b{kke) 
newsgroups: comp.arch 
subject: job search, comp. eng. 
summary: i'm looking for a job 
keywords: job, computer. eng., computer. sci., m.s. 
message-id: <172@iesd.uucp> 
date: 10 dec 87 12:00:17 gmt 
reply-to: jaaob@iesd.uucp (jacob \stergaard b{kke) 
organization: dept. of comp. sci., aalborg university, denmark (student) 
lines: 68 
 
i'm looking for a job in computer engineering to begin around july 
1988. i'm getting my master of science in computer engineering june 
1988 and at present holding a degree equal to bs in electronic 
engineering. my bs studies have included: 
	 
	computer hardware (hands-on knowledge with mc68k), 
	analog electronic  
	control engineering (analog and digital control) 
 
my ms studies have included: 
 
	software development (man-machine interface, what people want 
			      from programs)  
	compiler construction (an expertsystem shell)  
	program environment (for ccs programming)  
	distributed operating systems (in unix) 
 	compiler mapping object-oriented language on parallel computers 
 
furthermore i do have experience in conventional programming (pascal, 
c, postscript, unix (awk, shell-scripts(c-shell) and yacc/lex) (and basic)), 
functional programming (lisp and ml) and logical programming (prolog) 
and knowledge about object-oriented programming. and i have also attended  
courses in vlsi design, databases, etc. i have been working with cdc under  
nos/telex, vax 11/750 under ultrix, sun 3 under sun os 4.3 (unix), macintosh  
(lisa) under finder and ibm s36 under ibm property operating system.   
 
my spoken english is excellent and my written english is satisfactory, 
good knowledge of the scandinavian languages (danish (of course), 
swedish and norwegian), some speaking and reading knowledge of german 
and limited knowledge of french and spanish (and latin).  
 
i have 5 years experience in group project work in engineering and 
computer scinence areas, broad social interest, good health. 
 
my interest include computer hardware and software, operating system 
design, expertsystems, distributed, concurrency and teaching. 
 
i'm open on location (outside denmark) but i have relatives or other 
reasons to be especially intereted in: 
 
	canada (british colombia or toronto) 
	usa (new england or pacific coast) 
	pacific (new zealand or oceania) 
	thailand 
	scotland (highlands) 
 
i'll look forward to any reponds. 
 
		yours sincerely 
			 
			jacob baekke, denmark 
 
for further information: 
 
reply to:     	jacob@iesd.uucp, {...}!mcvax!diku!iesd!jacob  or 
		  
at univ:	jacob baekke  
		s9d (in spring s10) 
		strandvejen 19 
		auc 
		dk--9000 aalborg 
		denmark 
 
private:	jacob baekke 
		davids alle 48 
		dk--9000 aalborg 
		denmark 
		tel. 45-(0)8102673 
#! rnews 867 
path: alberta!mnetor!uunet!mcvax!diku!dde!jk 
from: jk@dde.uucp (jens kjerte) 
newsgroups: comp.sources.wanted 
subject: re: wanted: microemacs part 8 
message-id: <281@aragorn.dde.uucp> 
date: 10 dec 87 09:27:24 gmt 
references: <166@iesd.uucp> 
reply-to: jk@dde.uucp (jens kjerte) 
organization: dansk data elektronik a/s, herlev, denmark 
lines: 15 
 
in article <166@iesd.uucp> torbennr@neumann.uucp (torben n. rasmussen) writes: 
> 
>could someone please send me part 8 of the sources for microemacs. 
> 
 
me too! 
 
it seems as if part8 never reached denmark. 
 
--  
 
+---------------------------------------------------------------------------+ 
|   jens kjerte  @ dansk data elektronik a/s, systems software department   | 
|   e-mail:      ..!uunet!mcvax!diku!dde!jk  or  jk@dde.uucp                | 
+---------------------------------------------------------------------------+ 
#! rnews 512 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!solaris!wyle 
from: wyle@solaris.ifi.ethz.ch@relay.cs.net (mitchell wyle) 
newsgroups: comp.lang.modula2 
subject: modula-2 pretty-printer 
keywords: pretty-printer 
message-id: <195@solaris.ifi.ethz.ch@relay.cs.net> 
date: 9 dec 87 21:56:57 gmt 
organization: sot sun cluster, eth zuerich 
lines: 7 
 
did anyone ever get the m2pp program to work on sun modula-2? 
 
does anyone have a different modula-2 pretty-printer (perhaps better)? 
 
thanks, 
 
mitch wyle  (wyle@ethz.uucp) 
#! rnews 1762 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!zu 
from: zu@ethz.uucp (urs zurbuchen) 
newsgroups: comp.emacs 
subject: re: has uemacs 3.9 solved the file save bug? 
message-id: <265@bernina.uucp> 
date: 10 dec 87 07:21:02 gmt 
references: <3056@pegasus.uucp> 
reply-to: zu@bernina.uucp (urs zurbuchen) 
organization: eth zuerich, cs department, switzerland 
lines: 30 
 
in article <3056@pegasus.uucp> avi@pegasus.uucp (xmpe40000-avi e. gross;lz 3c-314;6241) writes: 
> 
>i haven't compiled the new micro emacs since i have a msc compiler, which is 
>not fully supported. 
 
this is simply not true. i am also working with msc (version 4.0) and had only 
one minor problem when i compiled microemacs 3.9e (the latest version which 
was posted on usenet). this problem relates to the subshell spawning. but if 
you know just a little bit of c, there is no problem to fix it (add a routine 
specific to msc). some time ago, there was even a posting in comp.sources.bugs 
describing all the necessary steps to do that. 
 
>i have been having a very annoying problem with the 
>older version, and am wondering if it has been fixed, or if someone has a 
>work around. i am used to saving my files regularly with ^x^s, and then 
>sometimes quiting with ^x^c. unfortunately, uemacs will quit before 
>completing the writing of the file, leaving me with only a small piece of 
>the file.  
 
i am sure you enable breaking with ^c (either in config.sys or in autoexec.bat) 
turn this off, and all your problems have gone :-) 
i know this is not the solution to this problem we all want to have. perhaps 
you can do it with signal(). if not you have to included a function of your own 
which intercepts the break vector of ms-dos. 
 
 
		have a nice day, 
		      ...urs 
 
uucp: ...seismo!mcvax!cernvax!ethz!zu 
#! rnews 2164 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!ceb 
from: ceb@ethz.uucp (charles buckley) 
newsgroups: comp.lang.lisp 
subject: re: lisp environments summary -- program storage methods 
message-id: <266@bernina.uucp> 
date: 10 dec 87 23:08:38 gmt 
references: <613@umbc3.umd.edu> <325@siemens.uucp> <323@spar.spar.slb.com> <329@siemens.uucp> <13253@think.uucp> 
organization: eth zuerich, switzerland 
lines: 30 
in-reply-to: barmar@think.com's message of 9 dec 87 03:18:01 gmt 
 
posting-front-end: gnu emacs 18.41.2 of mon sep 14 1987 on bernina (berkeley-unix) 
 
 
in article <329@siemens.uucp> steve@siemens.uucp (steve clark) writes: 
>  i maintain that the non-interlisp systems are wrong, however.  it 
>is clearly more advanced to treat a file as a database of definitions of 
>functions, data, structures, etc. than to treat it as a string of characters 
>that might have been typed at the keyboard.  however, since the rest of the 
>world hasn't caught up yet, there are bound to be incompatibilities. 
 
(character) file storage is simply more flexible.  the form in which 
information is stored must be the most flexible possible, or you lose 
information.  the d-crate's pitching of conditionals is simply the 
manifestation of this. 
 
proponents of restrictive protocols for information storage really ask 
"the world" to change to fit the protocol model.  in science, models 
change to fit the data, not the other way round (unless you cheat). 
to me, browbeating eventual non-conformists into "catching up" by 
labeling the a model as "advanced" is just a form of negative 
motivation.  all the lousy places i have ever worked ran on negative 
motivation, none of the good ones.  if your model *is* really worth 
using, and you can communicate its value, you will not need such 
tactics.  
 
interactively defined functions?  haven't typed one in *years* - 
that's what scratch buffers are for (in case i want to change a 
*character* or two, or later save it.). 
 
any mouse-based gadgets you can point to in interlisp can be recreated 
for a text editor working on correctly parsed lisp code.  may  take 
execution time, but if this is prohibitive, your function is probably 
too large.  
#! rnews 2319 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!jha 
from: jha@its63b.ed.ac.uk (j andrews) 
newsgroups: rec.games.frp 
subject: fantasy philosophy 
keywords: wackafoo 
message-id: <824@its63b.ed.ac.uk> 
date: 10 dec 87 14:30:15 gmt 
reply-to: jha@lfcs.ed.ac.uk (j andrews) 
organization: univ. of edinburgh dept. of computer science 
lines: 38 
god: kate bush 
 
least-favourite-subject: domain theory 
 
 
 
     those interested in the issues surrounding the mechanics and 
philosophy of fantasy worlds should read tolkien's (non-fiction) 
essay "on fairy-stories".  it appears in the collections _tree and 
leaf_ and _the tolkien reader_. 
 
     one of the main ideas behind it is that the fantasy author or 
story-teller is a "sub-creator", who tries to create a "secondary 
belief" (rather than exactly a "willing suspension of disbelief") 
in the reader.  in the fantasy that works, the reader should be 
able to enter the world every time she picks up the book, and not 
be aware of the world as being constructed by the author.  this 
involves not only internal consistency, but a lack of gimmickry. 
 
     for instance, in _lord of the rings_ i was never aware of 
anything being in the world gratuitously.  (others may differ! :-)) 
in _the sword of sha-na-na_ (sic)(sick?), on the other hand, i was 
very aware of the elfstones as being just a gimmick to get the 
characters out of tight spots.  sure it was internally consistent 
(the elfstones only had any effect in times of direst need for 
their holders), but the hand of the author was clearly visible. 
 
     similarly, applying it to frpg's, the magic system in ad&d is 
certainly internally consistent (to the extent that it is described), 
but just doesn't "work" for me.  having mu's able to remember several 
copies of a spell, but forgetting it when the last copy is cast, is 
obviously a gimmick to limit the number of spells an mu can use. 
 
     so i guess the moral of all this for frpg or module designers 
is that it's best to start out with a few basic assumptions and build 
up your world from them by fairly believable steps, and if you can't 
avoid ending up with something really hairy, then change one of your 
assumptions rather than put in quick kludges.  (gee, sounds like 
software engineering! :=)) 
 
--jamie. 
  jha@uk.ac.ed.lfcs 
"switch off the mind and let the heart decide" 
#! rnews 1818 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!db 
from: db@its63b.ed.ac.uk (d berry) 
newsgroups: comp.windows.x 
subject: questions about implementing the x toolkit. 
message-id: <825@its63b.ed.ac.uk> 
date: 10 dec 87 17:28:06 gmt 
reply-to: db@lfcs.ed.ac.uk (dave berry) 
organization: lfcs, university of edinburgh 
lines: 25 
 
1)  does anyone, preferably in the uk or europe, have a copy of the new 
x toolkit interface definition i can get by ftp? 
 
2)  i'm considering implementing the x toolkit in standard ml.  are there any 
constraints on what i should include or exclude?  the documentation mentions 
implementation in different languages, but doesn't say much about what this 
means.  is the idea to provide the same functions, with the same names and 
functionality, in each language?  what about languages that have automatic 
storage management or automatic creation of objects, etc?  how far can i 
deviate from the documentation & still use the name "x toolkit"? 
 
3)  is the toolkit definition limited to the intrinsics, or are toolkits 
expected to provide a standard class hierarchy? 
 
4)  is there any relation between the interviews toolkit, the xr, sx & 
dec toolkits provided with x version 10r4, and the current x toolkit? 
 
5)  if i go ahead, my first implementation will be a prototype, on top of x 
version 10r4.  this is because someone else is working on porting x version 11 
to standard ml, and i want a simple windowing system i can use fairly quickly. 
i hope the prototype will make implementing a full version reasonably 
straightforward.  i will probably ignore the resource manager, since i'll get 
that for free when the full xlib is implemented.  i'll also ignore colour for 
the time being, and only implement devices (widgets) i'm immediately interested 
in.  is there anything else i can obviously ignore? 
#! rnews 1113 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!csw 
from: csw@eagle.ukc.ac.uk (c.s.welch) 
newsgroups: rec.arts.sf-lovers 
subject: re: word processors are: [was re: pournelle's problems] 
message-id: <4065@eagle.ukc.ac.uk> 
date: 10 dec 87 18:42:09 gmt 
references: <1915@haddock.isc.com> 
reply-to: csw@ukc.ac.uk (c.s.welch) 
organization: computing lab, university of kent at canterbury, uk. 
lines: 20 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
 
 
some (possibly) timely information from a course entitled "the art of 
communication for engineers" that i'm on this week. 
 
from one of the handouts :- 
 
"word processors: research has shown that when writers use pen and paper 
 alone, their thoughts and information tend to have better planning and 
 organisation. when using word processors alone, writers tend to plan 
 on a more surface level, focussing on such aspects as word choice, sentence 
 structure, and spelling" 
 
it goes on to recommend starting with pen and paper and graduating to wp's 
after the first draft has been written. 
 
i trust that this may have been of some interest. 
 
chris welch 
cranfield institute 
u.k. 
#! rnews 1286 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!icdoc!qmc-cs!pd 
from: pd@cs.qmc.ac.uk (paul davison) 
newsgroups: rec.music.misc 
subject: re: another day : by peter gabriel and kate bush 
message-id: <352@sequent.cs.qmc.ac.uk> 
date: 10 dec 87 12:58:25 gmt 
references: <1987dec8.154517.11828@gpu.utcs.toronto.edu> 
reply-to: pd@qmc.ac.uk (paul davison) 
organization: computer science dept, queen mary college, university of london, uk. 
lines: 22 
 
 
i've heard of this as well, but i have never found it. it's a pity 
because i would really like to hear it, so if anyone has got it please 
let me know as well!! 
 
as an aside, roy has a new album out early next year, probably january. 
 
paul. 
 
ps your internal newsgroup "tor.general" shouldn't have been on the 
newsgroups line really, because nobody else has heard of it! 
--  
-- 
paul davison 
 
uucp:      pd@qmc-cs.uucp   or       ...seismo!mcvax!ukc!qmc-cs!pd 
internet:  pd@cs.qmc.ac.uk              post:   dept of computer science 
janet:     pd@uk.ac.qmc.cs                      queen mary college 
easylink:  19019285                             university of london 
telex:     893750 qmcuol g                      mile end road 
fax:       +44 1 981 7517                       london e1 4ns 
voice:     +44 1 980 4811  x3950                england 
#! rnews 786 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!craig 
from: craig@comp.lancs.ac.uk (craig) 
newsgroups: comp.sys.mac 
subject: mac ii debuggers 
keywords: development, macii debuggers 
message-id: <457@dcl-csvax.comp.lancs.ac.uk> 
date: 9 dec 87 13:36:01 gmt 
references: <687@howtek.uucp> <3456@husc6.harvard.edu> 
reply-to: craig@comp.lancs.ac.uk (craig) 
organization: department of computing at lancaster university, uk. 
lines: 11 
 
having found out that macsbug 5.5  works well with the mac ii,  
how do i get a copy ? 
 
 
craig. 
 
--  
uucp:	 ...!seismo!mcvax!ukc!dcl-cs!craig| post: university of lancaster, 
darpa:	 craig%lancs.comp@ucl-cs          |	  department of computing, 
janet:	 craig@uk.ac.lancs.comp           |	  bailrigg, lancaster, uk. 
phone:	 +44 524 65201 ext. 4476   	  |	  la1 4yr 
#! rnews 1070 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!strath-cs!jml 
from: jml@cs.strath.ac.uk (joseph mclean) 
newsgroups: sci.math 
subject: concatenation making primes 
message-id: <756@stracs.cs.strath.ac.uk> 
date: 9 dec 87 12:47:19 gmt 
reply-to: jml@cs.strath.ac.uk (joseph mclean) 
organization: comp. sci. dept., strathclyde univ., scotland. 
lines: 14 
 
 
tege@nada.kth.se replied by e-mail to my original posting which asked 
if it is always possible to append digits to a positive number in order 
to make a prime. unfortunately, his address is one of those i can't 
reach, and so i thought i'd kill two birds with one stone and post 
another article. 
  his argument is very simple, using the prime number theorem to give 
an approximation to the number of primes between x.10^n and 
x.10^n+10^n-1 (which is the same problem i asked but translated to 
mathematics) which shows that as n -> inf, this number of primes also 
goes to infinity. a very simple argument that proves you can always 
append digits to make any number into a prime. great stuff. 
 
      jml, the mad mathematician. 
#! rnews 1275 
path: alberta!mnetor!uunet!mcvax!ukc!stc!root44!miduet!misoft!tait 
from: tait@gec-mi-at.co.uk (philip tait) 
newsgroups: comp.sys.ibm.pc,comp.sources.wanted 
subject: re: wanted: pc checkbook software 
summary: continental software's home accountant plus 
keywords: checkbook 
message-id: <800@gec-mi-at.co.uk> 
date: 9 dec 87 17:34:03 gmt 
references: <985@mhuxh.uucp> 
sender: news@gec-mi-at.co.uk 
reply-to: tait@gec-mi-at.co.uk (philip tait) 
organization: marconi instruments ltd., st. albans, uk 
lines: 15 
xref: alberta comp.sys.ibm.pc:9577 comp.sources.wanted:2719 
 
in article <985@mhuxh.uucp> vxb@mhuxh.uucp (vern bradner) writes: 
> 
>can anyone suggest a pc checkbook program? 
 
i use home accountant plus by continental software. the (legit.) version i use 
was originally bundled with the columbia mpc, so it had to be 'unprotected' 
and altered to remove some hardware dependencies. (incidentally, this made 
it possible to compile it with quickbasic - essential if you're impatient 
like me!) 
 
i've found it reasonably secure and well-featured. 
 
| philip j. tait, marconi instruments ltd. | st. albans, herts. al4 0jn, u.k. | 
| uucp: ...mcvax!ukc!hrc63!miduet!tait	   | nrs : tait@gec-mi-at.co.uk	      | 
| voice: +44 727 36421 x4549 telex: 297221 | fax: +44 727 39447		      | 
#! rnews 1059 
path: alberta!mnetor!uunet!mcvax!ukc!stc!idec!kbsc!yorick 
from: yorick@kbsc.uucp (yorick phoenix) 
newsgroups: comp.os.cpm,comp.sources.wanted 
subject: kermit for mp/m 
message-id: <888@kbsc.uucp> 
date: 7 dec 87 17:23:21 gmt 
organization: the knowledge-based systems centre, london, uk 
lines: 16 
xref: alberta comp.os.cpm:1030 comp.sources.wanted:2720 
 
i have a friend who is trying to transfer some files off of an micromation 
mp/m system. 
 
he has so far moved the standard "generic" cp/m kermit (slowly) to the mp/m 
machine but it doesn't seem to work correctly. 
 
has anybody ever managed to get kermit to work under m/pm?  is there a simple 
set of differences between c/pm kermit and m/pm kermit.  we have the full 
source code for c/pm kermit. 
 
	yorick phoenix 
--  
+------------------------------------------+ the knowledge-based systems center 
|  yorick@kbsc.uucp                        | 58 northside, clapham common 
|  ..mcvax!ukc!{idec,hrc63}!kbsc!yorick    | london   sw4 9rz   england 
+------------------------------------------+ voice: +44 1 350 1622 
#! rnews 1946 
path: alberta!mnetor!uunet!mcvax!ukc!stc!root44!gwc 
from: gwc@root.co.uk (geoff clare) 
newsgroups: comp.unix.questions 
subject: re: rmail under hp-ux   (was re: using rmail under hpux) 
summary: risc architecture 
keywords: risc, hp-ux 
message-id: <495@root44.co.uk> 
date: 10 dec 87 13:58:20 gmt 
references: <8711251805.aa02481@mitre-bedford.arpa> <3720010@hpsemc.uucp> <3631@xanth.cs.odu.edu> 
reply-to: gwc@root44.uucp (geoff clare) 
organization: root computers ltd, london, england 
lines: 31 
 
>in article <3720010@hpsemc.uucp>, bd@hpsemc.uucp (bob desinger) writes: 
>> here's how it is on our hp-ux system, a model 840: 
 
>> drwxrwxr-x   2 bin      mail        1024 nov 25 18:45 /usr/mail 
>> -rwxr-sr-x   2 root     mail      137216 oct  2 00:00 /bin/rmail 
 
>wow!  why is rmail so big?  what does hp-ux rmail do that smail 2.5 
>doesn't?  contrast the size of this rmail with various executables 
>found on our 4.3 bsd system. 
 
>-rwxr-xr-x  2 root     staff       35840 nov  3 07:02 /bin/rmail (smail 2.5) 
>-rwxr-xr-x  1 root     staff      104448 jun  5  1986 /lib/ccom (c compiler) 
>-rwxr-xr-x  1 root     staff       97280 dec  5 05:17 /usr/local/carmen (lisp) 
>-rwsr-xr-x  1 root     staff      100352 apr  5  1987 /usr/lib/sendmail 
 
the hp840 is a risc architecture machine.  reduced instruction set implies 
more instructions required to do the same job than on a 'complex' 
instruction set machine, hence the proportionately larger executable files. 
presumably your 4.3bsd machine is a vax-alike (i.e. complex instruction set). 
 
the only other file from your list which exists on our hp840 system is 
the c compiler, and look at the size of that beast!! 
 
-rwxrwxr-x  1 bin      bin       1097728 mar  5  1987 /lib/ccom 
 
(no, that's not a typo - it really is more than 1 megabyte!) 
 
geoff clare              gwc@root.co.uk            seismo!mcvax!ukc!root44!gwc 
--  
 
geoff clare              gwc@root.co.uk            seismo!mcvax!ukc!root44!gwc 
#! rnews 1904 
path: alberta!mnetor!uunet!mcvax!ukc!stc!datlog!slxsys!jpp 
from: jpp@slxsys.specialix.co.uk (john pettitt) 
newsgroups: comp.unix.xenix 
subject: re: 16-bit versus 32-bit memory performance 
summary: 32 bit cpu on 16 bit ram is a waste of money 
message-id: <109@slxsys.specialix.co.uk> 
date: 10 dec 87 14:17:13 gmt 
references: <388@ddsw1.uucp> <620@omen.uucp> <435@spdcc.com> 
reply-to: jpp@slxsys.uucp (john pettitt) 
organization: specialix international, london, uk. 
lines: 29 
 
this should perhaps belong in comp.arch 
 
it would appear that most 8088,8086,186 and 286 systems are 
limited by the number of cycles taken to execute instructions 
(i.e the clock speed).  however the 80386 (at 16 and esp at 20 mhz) 
is limited by its memory bus bandwidth.  that is the memory subsystem 
on most 286 boxes is fast enough have little or no real effect on 
performance compared to a change in clock speed.   an 80386 
however is largly limited by the rate that it can be 'fed' data 
and instructions.    
 
16 bit memory subsystems have a devestating effect on the 80386  
for 2 reasons.  firstly 2 memory accesses are required rather than 
one thus doubling the access time.  secondly most 16 bit memory cards 
are designed for 8 or 10 mhz operation not 16 mhz so a significant 
number of wait states are needed when used with a 386.   it would 
appear that a 'cache miss' on the intel inboard(tm) generates beteween 
10 and 12 wait states thus making access to 16 bit ram slower than 
from the original 286. 
 
in conclustion - if you want a 32 bit cpu use 32 bit ram.  if you 
just want the instruction set use the p9 (80388) - if it ever appears. 
 
(this posting written on a dell 386 with 6 mb of 0 wait static 32 bit ram) 
 
--  
john pettitt - 144.5 mhz: g6kcq, cix: jpettitt,  voice: +44 1 398 9422 
uucp:  ...uunet!mcvax!ukc!pyrltd!slxsys!jpp  (jpp@slxsys.specialix.co.uk) 
disclaimer: i don't even own a cat to share my views ! 
#! rnews 1704 
path: alberta!mnetor!uunet!mcvax!unido!iaoobelix!woerz 
from: woerz@iaoobelix 
newsgroups: comp.unix.wizards 
subject: re: request for human interface design a - (nf) 
message-id: <8300012@iaoobelix.uucp> 
date: 3 dec 87 01:35:00 gmt 
references: <10559@brl-adm.uucp> 
lines: 32 
nf-id: #r:brl-adm:10559:iaoobelix:8300012:000:1331 
nf-from: iaoobelix!woerz    dec  3 02:35:00 1987 
 
> /***** iaoobelix:comp.unix.wiz / oberon!blarson /  5:40 pm  nov 28, 1987*/ 
> in article <7995@steinmetz.steinmetz.uucp> dawn!stpeters@steinmetz.uucp (dick st.peters) writes: 
> >(the vms interface is not always so friendly to novices: name the file 
> >"junk" instead of "junk.txt", and a novice may never figure out how to 
> >read it.  as for expert interfaces, rename the expert's .emacs file to 
> >sav.emacs and watch him/her try to recover.) 
> 
> i'm no vms expert and i know a way to recover.  use a gun to put a few 
> bullets in the aproprate disk drive.  (when it is replaced and the 
> backups restored, my .emacs reappears. :-) 
 
and if you're out of luck, a backup has been done between the time 
you changed your .emacs file and the shooting of the disk and you 
will get your changed file. :-( 
 
> -- 
> bob larson              arpa: blarson@ecla.usc.edu 
> uucp: {sdcrdcf,cit-vax}!oberon!skat!blarson             blarson@skat.usc.edu 
> prime mailing list (requests):  info-prime-request%fns1@ecla.usc.edu 
> /* ---------- */ 
 
------------------------------------------------------------------------------ 
 
dieter woerz 
fraunhofer institut fuer arbeitswirtschaft und organisation 
abt. 453 
holzgartenstrasse 17 
d-7000 stuttgart 1 
w-germany 
 
bitnet: iaoobel.uucp!woerz@unido.bitnet 
uucp:   ...{uunet!unido, pyramid}!iaoobel!woerz 
#! rnews 1992 
path: alberta!mnetor!uunet!mcvax!unido!tub!actisb!federico 
from: federico@actisb.uucp (federico heinz) 
newsgroups: comp.sys.atari.st 
subject: re: hard disk boot??? 
keywords: hard disk, gemboot 
message-id: <122@actisb.uucp> 
date: 8 dec 87 19:34:12 gmt 
references: <624@aucs.uucp> 
reply-to: federico@actisb.uucp (federico heinz) 
organization: actis in berlin gmbh, w. germany 
lines: 39 
 
[the line eater was sleeping again ...] 
 
in article <624@aucs.uucp> 870646c@aucs.uucp (barry comer) writes: 
>i have a few questions for anyone using a sh204 with a mega st. i have a meag2 
>with a sh204, i have being auto booting from the hard disk using hdb_v2.3, i 
>used to be able to auto boot from the floppy when the ctrl,shift, and alt. 
>keys were held down, well since i started using the mega, the machine always 
>boots from the hard disk with the keys down or up?????????????? 
 
i didn't know of the ctrl-shift-alt trick, but i had a problem similar 
to yours: there was no way my mega would boot from floppy, and that 
turned out to be quite a problem when a desk accessory i had downloded 
from somewhere was turned unusable because of line noise.  my "solution" 
was not to boot from hard disk at all, which i now find better since it 
allows me to choose different configurations (desk accesories and such) 
depending on the job i'm going to do. 
 
>i am also using gemboot to overcome the 40 folder limit in tos(has it been 
>fixed with the new roms?). 
 
i'm also interested on this question, and it has been already asked a couple 
of times with no visible answer.  i've never used the old roms, so i don't 
know what the infamous "40 folder limit" means. i've had more than 40 folders 
on my hard disk and nothing happened.  does this mean that the problem is 
fixed? or is it 40 folders deep? 
 
 
                                         
					 
					/////// 
				      //____ // 
		federico             //     // 
				    // __  // 
				   // / / // 
				   /////// 
 
 
uucp: ...!mcvax!unido!tub!actisb 
bix:  fheinz 
#! rnews 888 
path: alberta!mnetor!uunet!mcvax!varol 
from: varol@cwi.nl (varol akman) 
newsgroups: sci.physics 
subject: texts a la feynman 
summary: i would like to read them 
message-id: <144@piring.cwi.nl> 
date: 11 dec 87 10:59:47 gmt 
organization: cwi, amsterdam 
lines: 12 
 
i've been re-reading recently feynman's excellent volumes and enjoying 
myself.  the question is:  are there physics books of similar style? 
one thing that i like about feynman is that he tries to ``demystify'' 
stuff instead of giving cookbook formulas.  since i do this as a 
leisurely activity, the absence of too many formulas and long 
mathematical analyses (at least in vol. i) are also appreciated. 
i'm especially interested in classical mechanics.  philosophical 
implications of physics laws such as causality, etc. are also interesting. 
 
send me individual replies and i'll post a summary to the net. thanks! 
 
-varol akman 
#! rnews 1649 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!bath63!pes 
from: pes@ux63.bath.ac.uk (smee) 
newsgroups: rec.games.misc 
subject: re: the pawn help 
keywords: ** explicit spoilers ** 
message-id: <2011@bath63.ux63.bath.ac.uk> 
date: 9 dec 87 11:24:10 gmt 
references: <2884@cbmvax.uucp> <2299@killer.uucp> <2910@cbmvax.uucp> 
reply-to: pes@ux63.bath.ac.uk (smee) 
organization: aucc c/o university of bath 
lines: 22 
 
in article <2910@cbmvax.uucp> daveb@cbmvax.uucp (dave berezowski) writes: 
> 
>i've been told that there is a bug in the game such that you must get to 
>the pedestal asap else the blue key won't be there (this is what has happended 
>to me)... 
 
the story i've heard is that this is not a bug.  rather (as warned in the 
manual) the other characters you meet are also poking around, and can have 
effects even while they are not in the same location as you. 
 
in particular, as i've heard it, if the adventurer gets to the pedestal before 
you do then he will take the key.  (and allegedly you then can recover it when 
you kill him.)  i haven't tried this line of play yet, so can't vouch for it, 
but it sounds plausible. 
 
there's a cute bug in the st version, though, to do with the pedestal.  if 
you move the pedestal and then type 'take all' you end up carrying the pedestal, 
a duplicate of which remains in place.  (if you just try to 'take pedestal', 
you are told that it is too heavy to lift.)  i'm told that this results from 
a bug in the relevant object definition table entry, so it might have propagated 
to other versions.  (i'd doubt that the driving data undergoes as much analysis 
as the executable code during porting to other machines.) 
#! rnews 1317 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!nott-cs!pyr1.cs.ucl.ac.uk!awylie 
from: awylie@pyr1.cs.ucl.ac.uk 
newsgroups: comp.sys.ibm.pc 
subject: zorland/datalight c int86 problem 
message-id: <39500003@pyr1.cs.ucl.ac.uk> 
date: 8 dec 87 13:23:00 gmt 
lines: 24 
nf-id: #n:pyr1.cs.ucl.ac.uk:39500003:000:954 
nf-from: pyr1.cs.ucl.ac.uk!awylie    dec  8 13:23:00 1987 
 
 
hi, 
   i have a problem with the zorland c compiler, aka datalight-c or 
northwest-c which i wondered if any netlander had previously encountered 
and solved. 
   i have a program which works fine in small model but recently i had 
to go to the data model (small code, large data) whereupon it hung my 
xt clone. tracing execution seems to indicate that the dos software 
interrupt routine int86 may be the source of the trouble. 
   has anyone seen problems with int86 in d or l model programs? the 
prospect of debugging the interface between c and assembler does not 
appeal to me. 
   btw i have deliberately not given details of the program. i do not 
       want to debug it on the net. please e-mail me only if you have 
       solid evidence of problems in the int86 area. 
 
      thanks for any help you can give, 
           andrew 
 
andrew wylie 
university of london computer centre, london, england 
 
uucp:    awylie@uk.ac.ucl.cs 
janet:   andrew@ulcc.ncdlab 
#! rnews 644 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!nott-cs!pyr1.cs.ucl.ac.uk!awylie 
from: awylie@pyr1.cs.ucl.ac.uk 
newsgroups: comp.sys.ibm.pc 
subject: re: virus program warning 
message-id: <39500004@pyr1.cs.ucl.ac.uk> 
date: 8 dec 87 17:12:00 gmt 
references: <6146@jade.berkeley.edu> 
lines: 8 
nf-id: #r:jade.berkeley.edu:-614600:pyr1.cs.ucl.ac.uk:39500004:000:227 
nf-from: pyr1.cs.ucl.ac.uk!awylie    dec  8 17:12:00 1987 
 
 
presumably it would be relatively easy to modify the virus program to 
make it into an 'antibody' which would automatically overwrite the 
virus on any infected floppy which was used on the pc. 
 
andrew wylie 
 
awylie@uk.ac.ucl.cs 
#! rnews 541 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!nott-cs!pyr1.cs.ucl.ac.uk!awylie 
from: awylie@pyr1.cs.ucl.ac.uk 
newsgroups: rec.games.hack 
subject: nethack 2.2 part 18 
message-id: <42700005@pyr1.cs.ucl.ac.uk> 
date: 10 dec 87 09:51:00 gmt 
lines: 8 
nf-id: #n:pyr1.cs.ucl.ac.uk:42700005:000:193 
nf-from: pyr1.cs.ucl.ac.uk!awylie    dec 10 09:51:00 1987 
 
 
people in the uk and europe who need nethack 2.2 part18 can get it by 
sending me e-mail, preferably to my janet address. 
 
andrew wylie 
 
janet:   andrew@ulcc.ncdlab 
uucp:    awylie@uk.ac.ucl.cs 
#! rnews 892 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!nott-cs!smb!dave 
from: dave@smb.co.uk (dave settle) 
newsgroups: comp.sources.wanted 
subject: b-tree routines required. 
keywords: b-tree index rmcobol 
message-id: <18@oscar.smb.co.uk> 
date: 8 dec 87 11:17:39 gmt 
organization: smb business software, mansfield, uk 
lines: 21 
 
i'm looking for a set of routines which can handle b-trees, as part of 
a program which i'm writing to recover rm-cobol indexed files. 
 
if anyone knows of any routines which might be helpful (or any hints about 
how to go about it), i'd be very grateful to hear about them. 
 
please reply to me directly by mail, as i don't (yet) get this newsgroup 
directly. 
 
thanks in advance, 
		dave settle. 
--- 
 
dave settle,  
	smb business software, thorn emi datasolve, high st, mansfield, uk 
 
uucp:	dave@smb.co.uk 
	...!mcvax!ukc!nott-cs!smb!dave	 
 
		<--- this way to point of view ---> 
		 
#! rnews 3785 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!sph 
from: sph@eagle.ukc.ac.uk (s.p.holmes) 
newsgroups: rec.games.misc,rec.games.frp,rec.games.board 
subject: re: wargaming! 
message-id: <4067@eagle.ukc.ac.uk> 
date: 11 dec 87 10:24:28 gmt 
references: <796@lln-cs.uucp> 
reply-to: sph@ukc.ac.uk (s.p.holmes) 
organization: computing lab, university of kent at canterbury, uk. 
lines: 76 
xref: alberta rec.games.misc:1153 rec.games.frp:1655 rec.games.board:544 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
 
in article <796@lln-cs.uucp> gf@lln-cs.uucp (frank grognet) writes: 
> 
>	i want to start wargaming but i don't know how! 
> 
>i won't be playing wargames on a board, but with 15mm or 25mm 
>figurines. 
>i would like to find addresses in europe (especially belgium) 
>of good figurine manufacturers and also references to rule 
>books for the napoleonic period. 
 
the best set which i've found are the wargames research group 1685 - 1850 
rules. although the time period sounds a bit long these rules have the 
following advantages (my opinions only). 
 
- wide ranges of troops covered (you can fight outside europe) 
- wide range of weapons covered (pikes for those moscow militiamen etc) 
- simple solution for combat - this is what i really like, there@s 
      no nonsense evaluating every 20th of a casualty, or evaluating 
      grenadier companies firing separate from the rest of their battallion. 
- all weapons are handled simply. just a different entry in one table. 
- movement is alternate, not simultaneous, things move much quicker. 
- hand to hand combat is decided very quickly, (just like reality). 
- morale tests are also quite fast to do, and give specific tests for 
  different situations. (this avoids an old problem where eg horsemen test 
      morale before charging, test fails horribly, horsemen rout off the  
      field.) to make you go away, the opponent actually has to do 
      something. 
- european regulars have "national characteristics". 
    ie british are disciplined infantry and rash cavalry. 
       russians are stoical infantry (won@t retreat easily) 
       spanish are easily panicked 
       highlanders charge aggressively 
       french columns are impetuous and frighten the enemy. 
       austrian and prussian cavalry are bold 
       austrian, spanish and dutch generals are cautious. 
 
together with these rules i would recommend the army lists published by 
table top games. 
 
these cover the european armies for most of the big campaigns of 
1805-1815 and ensure a balanced army is selected (although the  
1000 point armies don@t always work too well. 
eg my russians need 12 gun artillery batteries (6 pieces on the table) 
   this leaves me few points for infantry or cavalry 
   (in practice a russian 1000 point army has two of inf, cav & art) 
 
the lists also help to enhance the national flavour of an army 
ie british get few cavalry, but some veteran infantry. 
   french after 1812 have raw infantry or guards. 
   austrians have very large numbers of infantry. 
 
i can summarise some of the +/- points of each of the armies i've seen 
if you mail me. 
 
i'd recommend 15mm scale troops (much cheaper and more transportable) 
    they'll fit on your table too. 
 
i actually use the 6mm scale which is cheaper, lighter and requires 
about 60cm x 100 cm for a medium game. 
however the job of painting, mounting and moving the little guys is 
much harder. 
 
 
>i am also interested in rules contained on the net or in files at 
>other sites, if they exist! 
 
copyright makes this difficult. 
 
>i anybody can help me, please reply to ..!mcvax!prlb2!lln-cs!gf 
 
 
--  
        steve holmes         | noel coward : "would you object if i smoked" 
        room 109a            | 
e-mail  sph                  | sarah bernhardt : "i wouldn't care if you burned" 
phone   ext 7681 or 3682     | 
#! rnews 1737 
path: alberta!mnetor!uunet!mcvax!ukc!pyrltd!lucifer!rob 
from: rob@lucifer.uucp ( 237) 
newsgroups: rec.arts.sf-lovers 
subject: re: origin of hithchiker's guide 
message-id: <6@lucifer.uucp> 
date: 11 dec 87 10:03:57 gmt 
references: <909wdmcu@cunyvm> <1240001@otter.hp.com> 
reply-to: rob@lucifer.uucp (rob clive - 237) 
organization: lucas micos, phoenix way, cirencester, glos, uk  (0285 67981) 
lines: 24 
 
in article <1240001@otter.hp.com> kers@otter.hp.com (christopher dollin) writes: 
>> i have recently been told be someone that the hitchhiker's guide to the 
>> galaxy originated as a radio program rather than as a book. 
> 
>the radio series "the hitch-hikers guide to the galaxy" was broadcast in  
>britain for the first time between 1976..1979 (sorry for the range but all i 
 
it was 1978.  episode 1 of the first series was a pilot production for the 
whole thing and as such is slightly different in flavour to the others.  the  
first series (6 episodes) covered the ground of the tv version and books 1 
and 2.  then came the christmas (1978) show to make a link to the second 
series which was broadcast in 1979 and consisted of 5 episodes. 
 
> for my money, the show (and scripts) are much funnier than the books. 
 
true.  the radio shows left much more to the imagination with the assistance 
of some very good sound effects.  i thought the tv series spoiled it.  for  
instance at the end of the first radio series you hear the song 'what a 
wonderful world' amid the sound of burning trees on prehistoric earth; can't 
you just imagine it? 
 
----------------------------------------------------------------------------- 
rob clive.				     uucp:  ...!mcvax!ukc!lucifer!rob 
lucas micos ltd., cirencester, gl7 1qg, uk.		      now read on.... 
#! rnews 1160 
path: alberta!mnetor!uunet!mcvax!botter!tjalk!rblieva 
from: rblieva@cs.vu.nl (roemer lievaart) 
newsgroups: rec.music.classical 
subject: re: the range of the male voice. 
message-id: <918@tjalk.cs.vu.nl> 
date: 11 dec 87 13:06:10 gmt 
references: <1280@phoenix.princeton.edu> <1597@faline.bellcore.com> <3999@pucc.princeton.edu> 
reply-to: rblieva@cs.vu.nl (roemer b. lievaart) 
organization: vu informatica, amsterdam 
lines: 15 
 
q2816@pucc.princeton.edu (roger lustig) typed: 
+--------------------------------------- 
| choral music is generally written for a fairly restricted range (note 
| the two qualifications in that sentence) in order to allow choirs, not 
| individuals, to sing it.  there are choral high bb's (in singet dem 
| herrn, for instance) and even c's for the sopranos (end of kodaly's 
| laudes organi), and the incredible stuff beethoven asked for in the 
| missa solemnis and ninth.  but they are the exception, and are generally 
| intended to sound like an exception. 
+--------------------------------------- 
 
we're playing mahler's 2nd, and so i noticed last wednesday that 
the basses have to sing as deep as (at least ?) the low b. 
 
	-- roemer. 
#! rnews 871 
path: alberta!mnetor!uunet!mcvax!botter!ast 
from: ast@cs.vu.nl (andy tanenbaum) 
newsgroups: comp.os.minix 
subject: re: scanf() 
message-id: <1782@botter.cs.vu.nl> 
date: 11 dec 87 14:40:54 gmt 
references: <782@louie.udel.edu> 
reply-to: ast@cs.vu.nl (andy tanenbaum) 
organization: vu informatica, amsterdam 
lines: 10 
 
in article <782@louie.udel.edu> kimmel%ecs.umass.edu@relay.cs.net (matt kimmel) writes: 
>i just got minix v1.2, and i like it a lot.  however, when i try to 
>compile a c program that calls scanf(), i get a message to the effect 
>of " _scanf not resolved".  am i missing something?  or is there no scanf() 
 
there is a scanf in libsrc.a, but it is not included in libc.a.  you have to 
compile it yourself with cc -lib -c scanf.c and put in in the library. 
it was omitted from libc.a because there was no room on that diskette! 
 
andy tanenbaum (ast@cs.vu.nl) 
#! rnews 1614 
path: alberta!mnetor!uunet!mcvax!guido 
from: guido@cwi.nl (guido van rossum) 
newsgroups: comp.windows.x 
subject: x and different ipc protocols 
summary: surely feasible; but how useful? 
message-id: <145@piring.cwi.nl> 
date: 11 dec 87 22:15:13 gmt 
reply-to: guido@cwi.nl (guido van rossum) 
organization: "the amoeba project", cwi, amsterdam 
lines: 22 
 
although x as distributed uses tcp/ip to connect clients and server, it 
is possible use other network protocols by relatively small changes to 
the lowest levels of library and server.  we have almost gotten the 
server half of such a set-up running using amoeba (a distributed 
operating system with its own, capability-based rpc mechanism). 
the library half should be working as soon as we solve problems with the 
c compiler. 
 
the question is, how much does this buy us?  since amoeba is not unix, x 
clients requiring advanced unix features won't run under vanilla amoeba. 
what percentage of the available client applications will be convertable 
to a different operating system, where, e.g., one will have <stdio.h> 
available, but not select(2)?  i would assume that there will be vms 
support for x, so that one might expect clients to be os-independent, 
but then again, you can never know what hacks a performance-driven 
application programmer may use... (including vax assembly :-) 
 
can anybody comment on this?  it would also be interesting to know if 
third-party software for x would come binary or source. 
-- 
guido van rossum, centre for mathematics and computer science (cwi), amsterdam 
guido@cwi.nl or mcvax!guido or (from arpanet) guido%cwi.nl@uunet.uu.net 
#! rnews 1102 
path: alberta!mnetor!uunet!mcvax!prlb2!kulcs!wim 
from: wim@kulcs.uucp (wim de bisschop) 
newsgroups: comp.lang.ada 
subject: ada-interface to termcap(3) 
keywords: termcap 
message-id: <1075@kulcs.uucp> 
date: 11 dec 87 10:56:28 gmt 
organization: kath.univ.leuven, comp. sc., belgium 
lines: 15 
 
has anyone an ada interface to the c routines from the termcap 
library? we would have a package for terminal independent  
screen oriented output in ada. the most natural way to do this, 
is to make use of the c-routines of termcap.  
we were wondering whether someone else has already defined an 
interface package, preferably for a verdix 5.41 compiler to 
run under 4.3bsd. 
 
 
+----------------------------------------------------------------------+ 
| name:   wim de bisschop           | katholieke universiteit leuven   | 
| e-mail: wim@kulcs.uucp  or        | department of computer science   | 
|         ...!mcvax!prlb2!kulcs!wim | celestijnenlaan 200 a            | 
| phone:  +(32) 16-200656 x3596     | b-3030 leuven (heverlee), belgium| 
+----------------------------------------------------------------------+ 
#! rnews 835 
path: alberta!mnetor!uunet!mcvax!enea!erix!erialfa!afr 
from: afr@erialfa.uucp (anders fredrikson zx/drg) 
newsgroups: rec.music.misc 
subject: re: ace-screamingest guitar solos on record 
message-id: <172@erialfa.uucp> 
date: 10 dec 87 12:31:18 gmt 
references: <1725@s.cc.purdue.edu> <2455@sfsup.uucp> 
reply-to: afr@erialfa.uucp (anders fredrikson zx/drg) 
organization: ericsson information systems ab, kista, stockholm, sweden 
lines: 17 
 
in article <2455@sfsup.uucp> mingus@sfsup.uucp (damballah wedo) writes: 
>> rsk@s.cc.purdue.edu.uucp (in <1725@s.cc.purdue.edu>): 
>> [ lists some excellent guitar solos ] 
> 
>sure, i'll play that game: 
> 
>...... 
>---cut 
>she'a a woman (jeff beck, blow by blow) 
this tune is even better on the "jeff beck & jan hammer group live" 
>---cut 
>..... 
you might also add 
europa (santana, moonflower) 
 
 
/anders 
#! rnews 1046 
path: alberta!mnetor!uunet!mcvax!enea!pvab!robert 
from: robert@pvab.uucp (robert claeson) 
newsgroups: comp.lang.c 
subject: re: making re-#includes harmless--a simple solution? 
message-id: <339@pvab.uucp> 
date: 11 dec 87 10:23:09 gmt 
references: <13395@think.uucp> 
reply-to: robert@pvab.uucp (robert claeson) 
organization: statskonsult programvaruhuset ab, sweden 
lines: 16 
 
in article <13395@think.uucp> rlk@think.com writes: 
 
>1)  the same file may have multiple names (symlinks and/or hard 
>links).  how do you know whether a file has been included?  the only 
>way is by defining an attribute that only that file will have.  the 
>easiest way to do this (aside from checking device/inumbers, which is 
>not portable and may not work in some bizarre cases, or other system 
>dependent hacks) is to #define a unique name. 
 
how can you be sure that the name you choose is unique, especially if 
you use links or symlinks? 
 
--  
robert claeson, system administrator, pvab, box 4040, s-171 04 solna, sweden 
eunet: robert@pvab 
uucp:  sun!enea!pvab!robert 
#! rnews 1812 
path: alberta!mnetor!uunet!mcvax!enea!ttds!draken!sics!lhe 
from: lhe@sics.se (lars-henrik eriksson) 
newsgroups: rec.arts.sf-lovers 
subject: re: houston sf opera 
message-id: <1642@sics.se> 
date: 11 dec 87 10:31:40 gmt 
references: <8168@ism780c.uucp> 
reply-to: lhe@sics.se (lars-henrik eriksson) 
organization: swedish institute of computer science, kista 
lines: 32 
 
in article <8168@ism780c.uucp> jimh@ism780c.uucp (jim hori) writes: 
>the lessing is probably doris who has 
>written several futurist/sf novels ... 
 
>her sf novels are serialized, and from what 
>i recall from scanning them in bookstores, 
>reminiscent of marge piercy's enjoyable, 
>though somewhat stiff, feminist sf. 
> 
>the series is called "canopus and argos: archives", 
should be              canopus in argos: archives 
 
the five books are quite different in character. the second one 
("the marriages between zones 3, 4 and 5") could possibly be called 
"feminist sf" - it is very different from the other four in most ways. 
the third ("the sirian experiments") is at times rather funny, and the 
fifth ("the sentimental agents in the volyen empire") is among the funniest 
books i've read. 
 
on the other hand, number 4 ("the making of the representative of planet 8") 
was rather depressing. while reading it i thought that "it can't get any 
worse than this". it could, of course. (i don't refer to the quality of the 
book, but to the events in the story). 
 
i should mention the title of the first one also: "shikasta" this is 
the most "important" of the five, in some sense. it is also the one that 
could perhaps be called "stiff". all the books are well worth reading. 
 
lars-henrik eriksson				internet: lhe@sics.se 
swedish institute of computer science		phone (intn'l): +46 8 750 79 70 
box 1263					telefon (nat'l): 08 - 750 79 70 
s-164 28  kista 
#! rnews 768 
path: alberta!mnetor!uunet!mcvax!enea!tut!santra!kolvi!jku 
from: jku@kolvi.uucp (juha kuusama) 
newsgroups: comp.sys.ibm.pc 
subject: re: evaluation of shareware word processors - version 1 
message-id: <32@kolvi.uucp> 
date: 11 dec 87 07:40:17 gmt 
references: <3610@dhw68k.uucp> 
reply-to: jku@kolvi.uucp (juha kuusama) 
organization: helsinki university of technology, finland 
lines: 9 
 
i'm not at all questioning the value of the comparision, but (as a very 
satisfied and registered) user of pc-write, i'd like to point out that: 
 
- pc-write does support the ega in 43-line mode 
 
- pc-write can remind you to do backups at specified time intervals or 
  when you have entered a specified number of characters. 
--- 
juha kuusama, jku@kolvi.uucp  ( ...!mcvax!tut!kolvi!jku ) 
#! rnews 904 
path: alberta!mnetor!uunet!mcvax!diku!daimi!jnp 
from: jnp@daimi.uucp (j|rgen n|rgaard) 
newsgroups: comp.sys.mac 
subject: re: conjecture:  why several tech notes failed 
message-id: <1248@daimi.uucp> 
date: 10 dec 87 08:43:14 gmt 
references: <9827@ut-sally.uucp> 
reply-to: jnp@titan.uucp (j|rgen n|rgaard) 
organization: daimi: computer science department, aarhus university, denmark 
lines: 16 
 
 
earlier this year there has been trouble with tech-notes, that would  
not binhex correctly (the mac program). 
then the problem could be solved with a similiar program on unix-machines. 
the problem seemed to show up when the file-names where extremely long 
(28 might be the number). 
 
it seemed not to be so sensitive about file-names. 
 
unfortunately i have lost the sources. 
 
 
--  
			regards j|rgen n|rgaard 
				e-mail: jnp@daimi.dk 
------------------------------------------------------------------------------- 
#! rnews 785 
path: alberta!mnetor!uunet!mcvax!diku!iesd!jacob 
from: jacob@iesd.uucp (jacob stergaard b{kke) 
newsgroups: sci.misc 
subject: a request on the ozone layer 
keywords: more information wanted about the ozone layer. 
message-id: <174@iesd.uucp> 
date: 11 dec 87 13:38:23 gmt 
reply-to: jacob@iesd.uucp (jacob \stergaard b{kke) 
organization: dept. of comp. sci., aalborg university, denmark 
lines: 12 
 
today i read an posting from rhorn@infinet.uucp about the problems 
with the ozone layer. so i got interested and now wanted more 
information about it and the problems with the ozone layer in 
switzerland present. i would like any information and i'll look 
forward to any reponds.  
 
		yours sincerely 
			 
			jacob baekke, denmark 
 
 
reply to:     	jacob@iesd.uucp, {...}!mcvax!diku!iesd!jacob   
#! rnews 1246 
path: alberta!mnetor!uunet!mcvax!inria!imag!jarwa 
from: jarwa@imag.uucp (jarwa sahar) 
newsgroups: comp.software-eng 
subject: looking for documents on software documentation 
message-id: <2336@imag.uucp> 
date: 11 dec 87 09:15:21 gmt 
reply-to: jarwa@imag.uucp (jarwa sahar) 
organization: imag, university of grenoble, france 
lines: 26 
 
 
     i am very interested in all publications concerning documents  
     related to software documentation and to maitenance environment. 
      
     what i am interested in are papers on different types  
     of these documents, their formalism and their structure. 
      
     if this area also interest you, i'd be very pleased if you could  
     contact me, or send me your papers and/or what you have found  
     interesting pertaining to this area. this will help me making a  
     preliminary study on it. 
      
     looking forward to your answer, and thank you for your help. 
					sahar jarwa 
 
	my adress is 
	sahar jarwah 
	equipe "systemes intelligents de recherche d'informations" 
        laboratoire de genie informatique - imag 
        bp 68 
        38462 st martin d'heres cedex 
        france 
 
	my phone is 76-51-46-00 extension 5182 
 
	my electronic adress is jarwa@imag.imag.fr 
	on uucp: jarwa@imag 
#! rnews 1217 
path: alberta!mnetor!uunet!mcvax!inria!imag!jarwa 
from: jarwa@imag.uucp (jarwa sahar) 
newsgroups: comp.databases 
subject: looking for documents 
message-id: <2337@imag.uucp> 
date: 11 dec 87 09:18:16 gmt 
reply-to: jarwa@imag.uucp (jarwa sahar) 
organization: imag, university of grenoble, france 
lines: 26 
 
 
     i am very interested in all publications concerning documents  
     related to software documentation and to maitenance environment. 
      
     what i am interested in are papers on different types  
     of these documents, their formalism and their structure. 
      
     if this area also interest you, i'd be very pleased if you could  
     contact me, or send me your papers and/or what you have found  
     interesting pertaining to this area. this will help me making a  
     preliminary study on it. 
      
     looking forward to your answer, and thank you for your help. 
					sahar jarwa 
 
	my adress is 
	sahar jarwah 
	equipe "systemes intelligents de recherche d'informations" 
        laboratoire de genie informatique - imag 
        bp 68 
        38462 st martin d'heres cedex 
        france 
 
	my phone is 76-51-46-00 extension 5182 
 
	my electronic adress is jarwa@imag.imag.fr 
	on uucp: jarwa@imag 
#! rnews 2496 
path: alberta!mnetor!uunet!mcvax!unido!laura!hmm 
from: hmm@laura.uucp (hans-martin mosner) 
newsgroups: comp.lang.smalltalk 
subject: user survey 
keywords: survey smalltalk curiosity 
message-id: <165@laura.uucp> 
date: 10 dec 87 21:31:51 gmt 
organization: university of dortmund, w-germany 
lines: 59 
 
to stir up some unrest, we have decided to post a smalltalk user survey. 
where are you, all you happy smalltalk hackers ?  there must be life 
in other parts of the world, too... :-) 
anyway, we would like you to fill in this questionnaire and give us some 
feedback.  of course we would also like if you would post your experiences 
and questions to this group.  after all, that's it's purpose... 
 
	hans-martin mosner & andreas toenne 
	smalltalk hackers at the university of dortmund 
 
+------------------------------- 
|1.	what kind of hardware/software do you use: 
|1.1.	hardware 
|1.1.1.	processor type:		_____ 
|1.1.2.	physical memory size:	_____ 
|1.1.3.	display size:		_____ 
|1.2.	software 
|1.2.1.	operating system:	_____ 
|1.2.2.	virtual machine:	_____ 
|1.2.3.	virtual image version:	_____ 
|1.3	overall performance:	_____ % dorado (if you know that) 
|2.	for what purposes do you use smalltalk ? 
|	(fillinthisblank) 
|3.	do you think that the system meets your requirements ? 
|	if not, why ? 
|4.	if you are a programmer: 
|4.1.	what kind of applications have you written ? 
|4.2.	if those applications were not written for your employer, 
|	why didn't you share them with the usenet community ? :-) 
|5.	how do you like smalltalk ? 
|5.1.	how long have you been using smalltalk ? 
|5.2.	how familiar are you with smalltalk ? 
+------------------------------- 
thank you for being so cooperative. 
now that you have answered all those questions, please 
send the whole thing back to: 
 
	hmm@unido.uucp 
or	hmm@unido.bitnet 
or	...!uunet!unido!hmm 
or	hmm%unido.uucp@uunet.uu.net 
 
if everything fails, just post it to this group... 
 
if even that does not work, then send it via snail mail to: 
	hans-martin mosner 
	informatik-rechner-betriebsgruppe 
	universitaet dortmund 
	postfac` 500500 
d-4600  dortmund 
	west germany 
 
disclaimer: these opinions are not opinions but just random bits & bytes 
and therefore i don't need to disclaim anything... 
--  
hans-martin mosner		| don't tell borland about smalltalk - | 
hmm@unido.{uucp,bitnet}		| they might invent turbosmalltalk !   | 
------------------------------------------------------------------------ 
disclaimer: turbosmalltalk may already be a trademark of borland... 
d 
#! rnews 14600 
path: alberta!mnetor!uunet!mcvax!unido!laura!atoenne 
from: atoenne@laura.uucp (andreas toenne) 
newsgroups: comp.lang.smalltalk 
subject: a small iconeditor for smalltalk 80, vi2.2 
keywords: smalltalk icons goodie 
message-id: <166@laura.uucp> 
date: 10 dec 87 21:48:21 gmt 
organization: university of dortmund, w-germany 
lines: 525 
 
here is a little iconeditor i wrote. 
this goodie works on smalltalk 80 vi2.2 vm1.1 
it comes in two parts. 
the first part 'icon menu.st' adds knowledge about icons to the  
standardsystemcontroller's bluebuttonmenu. 
you should file in this one first. 
the second part 'icon editor.st' is the editor himself. 
 
some notes about icons: 
the icon's textrectangle is clipped with the icon's boundingbox. 
to cancel a given textrectangle simply move it outside the outlined box. 
the method storeon: in class opaqueform is buggy. 
you should add enclosing round brackets to the output. otherwise 
you won't be able to read the saved icon definitions back. 
 
	have fun 
 
	andreas toenne 
	atoenne@unido.uucp 
	atoenne@unido.bitnet 
	...!uunet!unido!atoenne 
	atoenne%unido.uucp@uunet.uu.net 
 
~~~~~~~~~~~~~~~~~~ cut here for best results ~~~~~~~~~~~~~~~~~~~~~~~~~~ 
#! /bin/sh 
# this is a shell archive, meaning: 
# 1. remove everything above the #! /bin/sh line. 
# 2. save the resulting text in a file. 
# 3. execute the file with /bin/sh (not csh) to create: 
#	icon editor.st 
#	icon menu.st 
# this archive created: thu dec 10 22:36:04 1987 
export path; path=/bin:/usr/bin:$path 
if test -f 'icon editor.st' 
then 
	echo shar: "will not over-write existing file 'icon editor.st'" 
else 
cat << \shar_eof > 'icon editor.st' 
mousemenucontroller subclass: #icondisplaycontroller 
	instancevariablenames: '' 
	classvariablenames: '' 
	pooldictionaries: '' 
	category: 'icon editor'! 
 
 
!icondisplaycontroller methodsfor: 'controller default'! 
 
iscontrolactive 
	^ super iscontrolactive and: [sensor bluebuttonpressed not]! ! 
 
!icondisplaycontroller methodsfor: 'menu messages'! 
 
yellowbuttonactivity 
	| index menu | 
	menu _ view yellowbuttonmenu. 
	menu == nil 
		iftrue: 
			[view flash. 
			super controlactivity] 
		iffalse:  
			[index _ menu startupyellowbutton. 
			index ~= 0  
				iftrue: 
					[self controlterminate. 
					view perform: (menu selectorat: index). 
					self controlinitialize]]! ! 
 
view subclass: #icondisplayview 
	instancevariablenames: 'icon aspect iconmsg iconmenu ' 
	classvariablenames: '' 
	pooldictionaries: '' 
	category: 'icon editor'! 
icondisplayview comment: 
'i am a stupid view used to display the edited icon'! 
 
 
!icondisplayview methodsfor: 'displaying'! 
 
displayview 
	"display icon centered in my insetbox" 
 
	| r iconrect rec | 
	display white: self insetdisplaybox. 
	(icon iskindof: icon) 
		iftrue:  
			[r _ self insetdisplaybox. 
			icon form displayon: display at: r topleft + r bottomright - icon form extent // 2. 
			iconrect _ icon form computeboundingbox. 
			iconrect _ iconrect translateby: r topleft + r bottomright - iconrect extent // 2. 
			(iconrect areasoutside: (iconrect insetby: 1 @ 1)) 
				do: [:edge | display fill: edge mask: form gray]. 
			rec _ icon textrect. 
			rec = nil 
				iffalse:  
					[rec _ rec translateby: r topleft + r bottomright - icon form computeboundingbox extent // 2. 
					(rec areasoutside: (rec insetby: 1 @ 1)) 
						do: [:edge | display fill: edge mask: form gray]]]! ! 
 
!icondisplayview methodsfor: 'updating'! 
 
update: anaspect  
	"update the view" 
 
	anaspect == aspect 
		iftrue:  
			[icon _ model perform: iconmsg. 
			self displayview]! ! 
 
!icondisplayview methodsfor: 'menu messages'! 
 
allblack 
	"make the selected icon all black" 
	| figure shape | 
	figure _ icon form figure. 
	shape _ icon form shape. 
	figure fill: figure computeboundingbox rule: form over mask: form black. 
	shape fill: figure computeboundingbox rule: form over mask: form black. 
	model changed: #iconview! 
 
allgray 
	"make the selected icon all transparent" 
	| figure shape | 
	figure _ icon form figure. 
	shape _ icon form shape. 
	figure fill: figure computeboundingbox rule: form over mask: form white. 
	shape fill: figure computeboundingbox rule: form over mask: form white. 
	model changed: #iconview! 
 
allwhite 
	"make the selected icon all white" 
	| figure shape | 
	figure _ icon form figure. 
	shape _ icon form shape. 
	figure fill: figure computeboundingbox rule: form over mask: form white. 
	shape fill: figure computeboundingbox rule: form over mask: form black. 
	model changed: #iconview! 
 
editicon 
	"edit the selected icon" 
 
	| figure shape opaqueform iconextent bitview viewpoint savedform | 
	(icon = nil and: [model iconsymbol ~= #default]) 
		iftrue:  
			[iconextent _ rectangle fromuser extent. 
			figure _ form extent: iconextent. 
			shape _ form extent: iconextent. 
			opaqueform _ opaqueform figure: figure shape: shape. 
			model icon: (icon form: opaqueform textrect: nil)]. 
	icon = nil 
		iffalse:  
			[viewpoint _ (biteditor locatemagnifiedview: icon form scale: 4 @ 4) topleft. 
			bitview _ biteditor 
						bitedit: icon form 
						at: viewpoint 
						scale: 4 @ 4 
						remoteview: nil. 
			savedform _ form fromdisplay: (bitview displaybox merge: bitview labeldisplaybox). 
			bitview controller startup. 
			savedform displayon: display at: bitview labeldisplaybox topleft. 
			bitview release. 
			model changed: #iconview]! 
 
textrect 
	"let the user specify a rectangle that will hold the icon's text" 
 
	| rec r| 
	rec _ rectangle fromuser. 
	r _ self insetdisplaybox. 
	rec _ rec translateby: 0@0 - (r topleft + r bottomright - icon form computeboundingbox extent //2). 
	icon form: icon form textrect: rec. 
	model changed: #iconview! ! 
 
!icondisplayview methodsfor: 'controller access'! 
 
defaultcontrollerclass 
	^icondisplaycontroller! ! 
 
!icondisplayview methodsfor: 'private'! 
 
on: anicon aspect: m1 icon: m2 menu: m3 
	self model: anicon. 
	aspect _ m1. 
	iconmsg _ m2. 
	iconmenu _ m3! ! 
 
!icondisplayview methodsfor: 'adaptor'! 
 
yellowbuttonmenu 
	^ self model perform: iconmenu! ! 
"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "! 
 
icondisplayview class 
	instancevariablenames: ''! 
 
 
!icondisplayview class methodsfor: 'instance creation'! 
 
on: anicon aspect: m1 icon: m2 menu: m3 
	"create a new view for anicon with aspect m1" 
 
	^self new 
		on: anicon 
		aspect: m1 
		icon: m2 
		menu: m3! ! 
 
model subclass: #iconeditor 
	instancevariablenames: 'icon iconsymbol iconbuffer ' 
	classvariablenames: 'iconmenu listmenu ' 
	pooldictionaries: '' 
	category: 'icon editor'! 
iconeditor comment: 
'i am a bit editor for system icons. 
 
instance variables : 
	icon 				"the selected icon" 
	iconsymbol			"the symbol for the selected icon" 
 
class variables: 
	listmenu 			"the action menu for the selectioninlistview over all icons"'! 
 
 
!iconeditor methodsfor: 'accessing'! 
 
icon 
	"return the selected icon" 
 
	^icon! 
 
icon: anicon  
	"change the selected icon to anicon" 
 
	icon _ anicon. 
	icon constantnamed: iconsymbol put: anicon. 
	self changed: #iconview 	" aspect for the icondisplayview"! 
 
icon: anicon named: asymbol  
	" store anicon at position asymbol" 
 
	icon constantnamed: asymbol put: anicon. 
	icon _ anicon. 
	iconsymbol _ asymbol. 
	self changed: #iconsymbol.			"aspect for selectioninlistview" 
	self changed: #iconview			"aspect for icondisplayview "! 
 
iconsymbol 
	"return the symbol for the selected icon" 
 
	^iconsymbol! 
 
iconsymbol: asymbol  
	"change the symbol for the selected icon to asymbol" 
 
	iconsymbol _ asymbol. 
	icon _ icon constantnamed: asymbol. 
	self changed: #iconview	"aspect for the icondisplayview"! ! 
 
!iconeditor methodsfor: 'removing'! 
 
removeicon 
	" remove the currently selected icon " 
 
	icon constantdictionary removekey: iconsymbol ifabsent: [^nil]. 
	iconsymbol _ icon _ nil. 
	self changed: #iconsymbol. 
	self changed: #iconview! ! 
 
!iconeditor methodsfor: 'list display'! 
 
iconlist 
	"return the list of icon symbols" 
 
	| list | 
	list _ orderedcollection new. 
	icon constantdictionary keysdo: [:i | list add: i]. 
	^list! 
 
initialsymbol 
	"get the initial symbol selection" 
	"this method is used every time the selectioninlistview receives an update mesage " 
 
	^iconsymbol! 
 
listmenu 
	"return the menu for the icon list" 
 
	^listmenu! ! 
 
!iconeditor methodsfor: 'icon display'! 
 
iconmenu 
	"return the menu for the icondisplaycontroller" 
 
	^iconmenu! ! 
 
!iconeditor methodsfor: 'menu messages'! 
 
copy 
	" save a (deep) copy of the currently selected icon" 
 
	icon = nil iffalse: [iconbuffer _ icon deepcopy]! 
 
cut 
	" remove the currently selected icon from the icon dictionary and    
	save it in iconbuffer" 
 
	(icon ~= nil or: [iconsymbol ~= #default]) 
		iftrue:  
			[iconbuffer _ icon. 
			self removeicon]! 
 
loadicon 
	"override the current icon with a definition from a file" 
 
	| afilename anicon astream | 
	(icon ~= nil or: [iconsymbol ~= #default]) 
		iftrue:  
			[afilename _ filedirectory 
						requestfilename: 'file : ' 
						default: iconsymbol asstring , '.icn' 
						version: #old 
						iffail: [^'']. 
			afilename ~= '' 
				iftrue:  
					[astream _ filestream oldfilenamed: afilename. 
					anicon _ object readfrom: astream. 
					astream close. 
					self icon: anicon]]! 
 
newicon 
	" create a new clean icon" 
 
	| iconname | 
	iconname _ fillintheblank request: 'icon name ?'. 
	iconname = '' iffalse: [self icon: nil named: iconname assymbol]! 
 
paste 
	" change the currently selected icon to the icon held in iconbuffer" 
	" invoke newicon if none is selected" 
 
	iconsymbol = nil 
		iftrue:  
			["add a new icon" 
			self newicon. 
			iconsymbol = nil iffalse: [self icon: iconbuffer]] 
		iffalse: ["override old icon" 
			self icon: iconbuffer]! 
 
renameicon 
	" change the name of an icon" 
 
	| key value newname | 
	(icon ~= nil or: [iconsymbol ~= #default]) 
		iftrue:  
			[key _ iconsymbol. 
			value _ icon. 
			newname _ fillintheblank request: 'change icon name' initialanswer: key. 
			newname ~= '' 
				iftrue:  
					[self removeicon. 
					self icon: value named: newname assymbol]]! 
 
saveicon 
	"store the selected icon to a file" 
 
	| afilename astream | 
	icon = nil 
		iffalse:  
			[afilename _ filedirectory 
						requestfilename: 'file : ' 
						default: iconsymbol asstring , '.icn' 
						version: #any 
						iffail: [^'']. 
			afilename ~= '' 
				iftrue:  
					[astream _ filestream newfilenamed: afilename. 
					icon storeon: astream. 
					astream close]]! ! 
 
!iconeditor methodsfor: 'view creation'! 
 
open 
	"open the views" 
 
	| topview | 
	topview _ standardsystemview 
				model: self 
				label: 'icon editor' 
				minimumsize: 256 @ 300. 
	topview 
		addsubview: (selectioninlistview 
				on: self 
				aspect: #iconsymbol 
				change: #iconsymbol: 
				list: #iconlist 
				menu: #listmenu 
				initialselection: #initialsymbol) 
		in: (0 @ 0 corner: 1.0 @ 0.3) 
		borderwidth: 1. 
	topview 
		addsubview: (icondisplayview 
				on: self 
				aspect: #iconview 
				icon: #icon 
				menu: #iconmenu) 
		in: (0.0 @ 0.3 corner: 1.0 @ 1.0) 
		borderwidth: 1. 
	topview controller open! ! 
"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "! 
 
iconeditor class 
	instancevariablenames: ''! 
 
 
!iconeditor class methodsfor: 'class initialization'! 
 
initialize 
	"initialize the class iconeditor" 
	"iconeditor initialize" 
 
	listmenu _ actionmenu labellist: #((copy cut paste ) (newicon renameicon ) (saveicon loadicon ) ) selectors: #(copy cut paste newicon renameicon saveicon loadicon ). 
	iconmenu _ actionmenu labellist: #((editicon textrect ) (allwhite allblack allgray) ) selectors: #(editicon textrect allwhite allblack allgray)! ! 
 
!iconeditor class methodsfor: 'instance creation'! 
 
open 
	"create on schedule a new icon editor" 
 
	self new open! ! 
 
iconeditor initialize! 
shar_eof 
fi 
if test -f 'icon menu.st' 
then 
	echo shar: "will not over-write existing file 'icon menu.st'" 
else 
cat << \shar_eof > 'icon menu.st' 
!mousemenucontroller methodsfor: 'menu messages'! 
 
bluebuttonactivity 
	"determine which item in the blue button pop-up menu is selected.  
	if one is selected, then send the corresponding message to the object  
	designated as the menu message receiver." 
	"enhanced to use hierarchicalmenus by atoenne@unido.uucp" 
 
	| index | 
	bluebuttonmenu ~~ nil 
		iftrue:  
			[index _ bluebuttonmenu startupbluebutton. 
			index ~= 0 iftrue: [bluebuttonmenu class = hierarchicalmenu 
					iftrue: [self menumessagereceiver perform: (bluebuttonmenu selectorat: index)] 
					iffalse: [self menumessagereceiver perform: (bluebuttonmessages at: index)]]] 
		iffalse: [super controlactivity]! ! 
 
!standardsystemcontroller class methodsfor: 'class initialization'! 
 
initialize 
	"initialize the class variables." 
	"standardsystemcontroller initialize.  
	standardsystemcontroller allinstances do: [:sc | sc  
	initializebluebuttonmenu] " 
 
	scheduledbluebuttonmenu _ (menubuilder parsefrom: (readstream on: 'newlabel[newlabel] 
(under[under] move[move] frame[frame]) (collapse[collapse] 
icon: ((selecticon[selecticon] editicon[editicon]) (loadicons[loadicons] saveicons[saveicons]))) 
(close[close])')) menu. 
	menuwhencollapsed _ actionmenu 
				labels: 'new label\under\move\expand\close' withcrs 
				lines: #(1 4 ) 
				selectors: #(newlabel under move expand close )! ! 
 
!standardsystemcontroller methodsfor: 'menu messages'! 
 
editicon 
	" call an icon editor " 
 
	iconeditor open! 
 
loadicons 
	"load new constant definitions for icons" 
 
	| afilename | 
	afilename _ filedirectory 
				requestfilename: 'file:' 
				default: '*.icn' 
				version: #old 
				iffail: [^'']. 
	afilename ~= '' iftrue: [icon constantsfromfile: afilename]! 
 
saveicons 
	"write current icon constants to a file" 
 
	| afilename | 
	afilename _ filedirectory 
				requestfilename: 'file:' 
				default: '*.icn' 
				version: #any 
				iffail: [^'']. 
	afilename ~= '' iftrue: [icon constantstofile: afilename]! 
 
selecticon 
	"let the user choose from the current icons" 
 
	| namelist iconlist selection selectedicon | 
	namelist _ orderedcollection new. 
	icon constantdictionary keysdo: [:key | namelist add: key]. 
	iconlist _ array with: namelist asarray. 
	selection _ (popupmenu labellist: iconlist) startup. 
	selection ~= 0 
		iftrue:  
			[selectedicon _ (icon constantnamed: (namelist at: selection) assymbol) copy. 
			self view icon: selectedicon.				"change the icon" 
			self view iconview lock.					"essential. see below" 
			self view iconview text: self view label.	"set new icon text" 
			self view iconview newicon]				"compute new icon" 
"lock is needed to perform the newicon computation. otherwise insetdisplaybox would be garbled. text setting is merely needed at the first change. (the standard label has no icontext) "! ! 
 
!standardsystemcontroller initialize.  
standardsystemcontroller allinstances do: [:sc | sc  
initializebluebuttonmenu]! 
shar_eof 
fi 
exit 0 
#	end of shell archive 
d 
#! rnews 813 
path: alberta!mnetor!uunet!mcvax!unido!laura!atoenne 
from: atoenne@laura.uucp (andreas toenne) 
newsgroups: rec.games.hack 
subject: re: nethack 2.2:  you stop to avoid hitting. 
keywords: i have this bug too. 
message-id: <167@laura.uucp> 
date: 10 dec 87 21:53:23 gmt 
references: <7515@alice.uucp> 
reply-to: atoenne@unido.uucp (andreas toenne) 
organization: university of dortmund, w-germany 
lines: 9 
 
in article <7515@alice.uucp> wilber@alice.uucp writes: 
>i have nethack running on my 3b1.  so far the only bug i've encountered 
>is the message "you stop to avoid hitting."  (which sometimes comes out as 
>"you stop to avoid hitting <random garbage>.")  i haven't hit the plethora 
 
you have defined dogname but you are missing the dog's name :-) 
simply add 'dogname:...' to your nethack options. 
 
	andreas toenne 
d 
#! rnews 1201 
path: alberta!mnetor!uunet!mcvax!unido!rmi!dg2kk!dg2kk 
from: dg2kk@dg2kk.uucp (walter) 
newsgroups: rec.ham-radio.packet 
subject: problems with wa8ded 2.1 and tnc-2 clones (+possible solution) 
summary: ptt line is released too early 
message-id: <174@dg2kk.uucp> 
date: 10 dec 87 23:09:52 gmt 
reply-to: dg2kk@dg2kk.uucp 
organization: dg2kk, w germany, (jo30ft) 
lines: 20 
 
some tnc-2's have problems with the wa8ded software (version 2.1). 
most of the outgoing frames cannot be docoded by other stations because 
the software turns off the transmitter before all bits have been transmitted. 
 
there are two solutions to this problem: 
 
hardware: connect a small (~2.2uf) capacitor from the base of the ptt keying 
          transistor to ground. (note: you may have to increase txdelay) 
 
software: the code that turns off the transmitter starts at location $037b 
          (3e 05...). it's possible to insert a short delay loop, so that the 
          transmitter remains keyed for a few milliseconds longer. 
          (i haven't tried this yet.) 
 
 
73s, walter  dg2kk@dg2kk.uucp 
 
 
ps: does anyone know if wa8ded is on usenet/bitnet/arpanet/anynet??? 
    what is his email address? please let me know.  thanks. 
#! rnews 1319 
path: alberta!mnetor!uunet!mcvax!4gl!honzo 
from: honzo@4gl.uucp (honzo svasek) 
newsgroups: comp.unix.xenix,comp.os.misc,comp.unix.questions,comp.unix.wizards 
subject: re: venix users? 
message-id: <253@4gl.uucp> 
date: 11 dec 87 18:23:50 gmt 
references: <2439@sputnik.com> 
organization: 4gl consultants b.v., the netherlands 
lines: 27 
xref: alberta comp.unix.xenix:1172 comp.os.misc:341 comp.unix.questions:4773 comp.unix.wizards:5750 
 
in article <2439@sputnik.com>, dbb@tc.fluke.com (dave bartley) says: 
>  
> the great os search continues ... 
>  
> what about venix? 
 
i am using venix for several years now and have the folowing comments. 
 
1. it is system v unix. 
 
2. it has a faster 'feel' for the interactive user than xenix or microport 
 
3. it seems to be bug free. this system is running news and i am doing most 
   of the development on it. i have had no problems for at least a year now, 
   and the system is on the air 24 hours a day. 
 
   a few times i had to remove the -o options when compiling, but same 
   counts for 3b2 unix. 
 
4. venturecom claims it to be real time. i have no experience with 
   real real-time on this system, and don't know if the venix system calls 
   are interruptable. 
 
honzo svasek, <mcvax!4gl!honzo> 
 
ps. anyone out there has a way to install 2.2 on a seagate st4096 disk? 
	(on an at) 
#! rnews 1252 
path: alberta!mnetor!uunet!mcvax!cernvax!ethz!forty2!vogel 
from: vogel@forty2.uucp (stefan vogel) 
newsgroups: comp.sources.bugs 
subject: bug in sush 
message-id: <123@forty2.uucp> 
date: 11 dec 87 17:02:58 gmt 
reply-to: vogel@forty2.uucp (stefan vogel) 
organization: exp. physics university zuerich 
lines: 33 
 
we found the following bug in sushperm.c of the sush distribution: 
 
in routine addgroup the pointer gpmem was incremented before it was used. 
so, the first member of the group was never found, and the reference to 
the last member lead to an illegal memory reference (null pointer!). 
 
original code: 
 
	 gpmem = gpt->gr_mem; 
	 while(*gpmem++) {  <------------------gpmem is incremented 
		 if(!strcmp(user,*gpmem))  <---gpmem is used 
			 ok++; 
	 } 
 
	 /* auth failed - return */ 
 
corrected code: 
 
	 gpmem = gpt->gr_mem; 
	 while(*gpmem) { 
		 if(!strcmp(user,*gpmem++)) 
			 ok++; 
	 } 
 
	 /* auth failed - return */ 
 
                              stefan vogel, simon poole 
                              inst. for theoretical physics 
                              university of zuerich 
                              switzerland 
 
                              uucp:   ....mcvac!cernvax!forty2!vogel 
                              bitnet: k524911@czhrzu1a 
#! rnews 626 
path: alberta!mnetor!uunet!mcvax!prlb2!vub!leo 
from: leo@vub.uucp (leo smekens) 
newsgroups: comp.sys.mac 
subject: 4th dimension vs. dbase mac 
keywords: 4th dimension,dbase mac,macintosh 
message-id: <506@vub.uucp> 
date: 11 dec 87 13:40:05 gmt 
organization: vrije universiteit brussel, brussels 
lines: 14 
 
what can 4th dimension do what dbase mac can't? 
what can dbase mac do what 4th dimension can't? 
 
who should invest in which program? 
if you don`t like answering on the net, 
please mail direct to: 
leo@vub.vub.uucp 
 
leo smekens 
metabolism & endocrinology 
free university of brussels 
laarbeeklaan 103 
b-1090 brussels 
belgium 
#! rnews 783 
path: alberta!mnetor!uunet!mcvax!prlb2!vub!leo 
from: leo@vub.uucp (leo smekens) 
newsgroups: comp.sys.mac 
subject: latest se's shipped 
keywords: mac,mac se,macintosh,macintosh se,hardware 
message-id: <507@vub.uucp> 
date: 11 dec 87 13:50:46 gmt 
organization: vrije universiteit brussel, brussels 
lines: 15 
 
we noticed that the last macintosh se's we received at our 
university are equipped with a new type of mouse,and, 
apparently,with another internal disk drive (at least,it 
sounds differently and beeps upon activation). 
what has been changed on the new mac se compared to the first version? 
if you don't like to answer via the net,please mail direct to: 
 
leo@vub.vub.uucp 
 
leo smekens 
metabolism & endocrinology 
free university of brussels 
laarbeeklaan 103 
b-1090 brussels 
belgium 
#! rnews 1432 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!csnjr 
from: csnjr@its63b.ed.ac.uk (nick rothwell) 
newsgroups: rec.music.misc 
subject: re: ace-screamingest guitar solos on record 
keywords: guitar, flames (regrettably) 
message-id: <826@its63b.ed.ac.uk> 
date: 11 dec 87 13:06:12 gmt 
references: <1725@s.cc.purdue.edu> <1349@saturn.ucsc.edu> <6480@ihlpa.att.com> 
reply-to: nick@lfcs.ed.ac.uk (nick rothwell) 
organization: lfcs, university of edinburgh 
lines: 21 
 
in article <6480@ihlpa.att.com> rjp1@ihlpa.att.com writes: 
>>c'mon people, you can't omit: 
>... 
>edgar froese	-  underwater twilight, riding the ray, le parc and 
>		   heartbreakers tunes, etc, etc. 
 
froese's best guitar solo, by most accounts, is on cloudburst flight 
on the force majeure album, back in '79. he starts with slow chords 
and fingering on a 12 string acoustic, then some "power chords" (!) on 
the 12 string, and then onto the electric (fender strat i think). 
some of the recent live work's been good, as well - franke holding down 
a rhythm, with froese and haslinger both firing off screaming guitar riffs. 
 
>bob pietkivitch   ( e - x - p - o - s - u - r - e )   uucp: ihnp4!ihlpa!rjp1 
 
--  
nick rothwell,	laboratory for foundations of computer science, edinburgh. 
		nick%lfcs.ed.ac.uk@nss.cs.ucl.ac.uk 
		<atlantic ocean>!mcvax!ukc!lfcs!nick 
~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ ~~ 
"nothing's forgotten. nothing is ever forgotten."   - herne 
#! rnews 818 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!gvw 
from: gvw@its63b.ed.ac.uk (g wilson) 
newsgroups: comp.sys.transputer 
subject: meiko email contact 
message-id: <827@its63b.ed.ac.uk> 
date: 11 dec 87 13:23:42 gmt 
reply-to: gvw@its63b.ed.ac.uk (g wilson) 
organization: i.t. school, univ. of edinburgh, u.k. 
lines: 18 
 
in response to several queries --- meiko ltd. is not 
connected to any electronic mail network at present. 
however, both myself and dr. duncan roweth, who are 
meiko employees working on the edinburgh concurrent 
supercomputer project, are connected to various networks. 
i can be reached at: 
 
	gvw@itspna.ed.ac.uk (usual) 
	gvw@its63b.ed.ac.uk (alternative) 
 
while duncan is: 
 
	egnp36@meiko.ed.ac.uk 
 
if you want more information on meiko, please include 
a telephone number and a physical mail address. 
 
greg 
#! rnews 733 
path: alberta!mnetor!uunet!mcvax!ukc!dcl-cs!nott-cs!pyr1.cs.ucl.ac.uk!awylie 
from: awylie@pyr1.cs.ucl.ac.uk 
newsgroups: rec.games.misc 
subject: re: does anyone remember zork1? (*s 
message-id: <42800002@pyr1.cs.ucl.ac.uk> 
date: 11 dec 87 09:42:00 gmt 
references: <22039@ucbvax.berkeley.edu> 
lines: 8 
nf-id: #r:ucbvax.berkeley.edu:-2203900:pyr1.cs.ucl.ac.uk:42800002:000:300 
nf-from: pyr1.cs.ucl.ac.uk!awylie    dec 11 09:42:00 1987 
 
 
its a looooong time since i played zork, but i believe that you can get 
to the inside of the grate in the woods by which time you should have 
obtained a key which will open it. this gives you an alternative entrance/ 
exit to the dungeon, but is not actually much help. 
   andrew 
 
awylie@uk.ac.ucl.cs 
#! rnews 1324 
path: alberta!mnetor!uunet!mcvax!ukc!eagle!icdoc!ivax!mst 
from: mst@ivax.doc.ic.ac.uk (martin taylor) 
newsgroups: rec.games.trivia 
subject: re: words to a song (old lady who swallowed a fly) 
message-id: <148@gould.doc.ic.ac.uk> 
date: 11 dec 87 10:55:47 gmt 
references: <2170@homxc.uucp> <12270004@hpldola.hp.com> <1053@mtuxo.uucp> 
sender: news@doc.ic.ac.uk 
reply-to: mst@doc.ic.ac.uk (martin taylor) 
organization: dept. of computing, imperial college, london, uk. 
lines: 26 
 
in article <1053@mtuxo.uucp> gertler@mtuxo.uucp (xm960-d.gertler) writes: 
 
>as i recall, the sequence is as follows (more or less): 
> 
>	1)  fly		perhaps she'll die. 
>	2)  spider	that wriggled and jiggled and tickled inside her. 
>	3)  bird	how absurd to swallow a bird! 
>	4)  cat		imagine that, to swallow a cat! 
>	5)  dog		what a hog, to swallow a dog! 
>	6)  horse	she's dead, of course! 
> 
>i seem to remember a goat at about 5.5, but i don't 
>recall it's associated comment.  sorry. 
> 
 
it's "she just opened her throat, and swallowed a goat" 
 
also heard at an informal church social group, this alternative ending: 
 
	6)  horse	not easy, of course, but she swallowed a horse 
	7)  minister	that finished her! 
 
 
martin s taylor			        department of computing 
janet/arpanet : mst@doc.ic.ac.uk	imperial college 
+44 589 5111 x4996			london    sw7 2bz 
#! rnews 1060 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!aiva!ken 
from: ken@aiva.ed.ac.uk (ken johnson) 
newsgroups: comp.edu,comp.lang.misc 
subject: free audio tape about logo 
message-id: <209@aiva.ed.ac.uk> 
date: 11 dec 87 11:33:10 gmt 
reply-to: ken@aiva.ed.ac.uk (ken johnson) 
followup-to: comp.lang.misc 
organization: dept. of ai, univ. of edinburgh, uk 
lines: 26 
xref: alberta comp.edu:745 comp.lang.misc:887 
 
 
logotron limited have prepared an audio tape called "logo comes of age".  
 
although it is basically a plug for the logotron product, (it contains a 
reference to the mythical "lcsi standard", for example) there is a lot 
of interesting chat about how logo is actually used.  
 
playing time 45 minutes.  
 
free from: 
 logotron limited, 
 dales brewery, 
 gwydir street, 
 cambridge, 
 england cb1 2lj 
 
	phone (0223) 323656 
--  
 
from ken johnson			| phone 031-225 4464 ext 212 
     ai applications institute		| email k.johnson@ed.ac.uk 
     80 south bridge			| 
     the university			| 
     edinburgh, scotland eh1 1hn	| 
 
"things will get worse before they get worse." 
#! rnews 2806 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!tom 
from: tom@cs.hw.ac.uk (tom kane) 
newsgroups: comp.ai 
subject: probability bounds from bayes theory: (a problem). 
keywords: bayes theorem, probability, expert systems, uncertainty 
message-id: <1578@brahma.cs.hw.ac.uk> 
date: 11 dec 87 14:10:21 gmt 
organization: computer science, heriot-watt u., scotland 
lines: 65 
 
 
i am sending this letter out to the network to ask for solutions to a 
particular problem of bayesian inference. below is the text of the 
problem, and at the end is the mathematical statement of the information 
given. simply, i am asking the questions: 
 
1) can you find bounds on the final result. if so, how? 
2) if not, why is it not possible to do so?  
   what is missing in the specification of the problem? 
3) if you get nowhere with this problem, would you be able to solve it 
   if you were given the information: p(pv|t or l)=0.9? 
 
i am interested in the problem of providing probability bounds for events 
specified in a bayesian setting when not all the necessary conditional  
probabilities are provided in setting up the problem.  
 
problem 
~~~~~~~ 
(a problem relevant to the handling of uncertainty in expert systems.) 
we want to know the probability of a patient having both lung cancer and 
tuberculosis based on the fact that this person has had a positive reading 
in a chest x-ray. we are given the following pieces of information: 
 
1. the probability that a person with lung cancer will have a positive 
   chest x-ray is 0.9. 
 
2. the probability that a person with tuberculosis will have a positive 
   chest x-ray is 0.95. 
 
3. the probability that a person with neither lung cancer nor tuberculosis 
   will have a positive chest x-ray is 0.07. 
 
4. in the town of interest, 4 percent of the population have lung cancer, 
   and three percent have tuberculosis. 
 
events 
~~~~~~ 
l = lung cancer;       t = tuberculosis;           pv = positive chest x-ray 
 
setup 
~~~~~ 
in the statement of the problem below:- 
 
~l means 'not l'. 
~l, ~t means 'not l and not t'. 
t or l means 't or l' 
where 'not', 'and' , and 'or' are logical operators. 
so that: p(~l, ~t) means probability( not l and not t). 
also, 
p(pv|l) means the conditional probability of event pv, given event l. 
priors 
~~~~~~ 
p(l) = 0.04;           p(t) = 0.03;                p(~l, ~t) = 0.95 
conditionals 
~~~~~~~~~~~~ 
p(pv|l) = 0.9;         p(pv|t) = 0.95;             p(pv| ~t,~l) = 0.07 
 
(you are not given p(pv| t or l) ) 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
please mail all solutions or comments to me, and i will let interested parties  
know what the results are.  
(i will specially treasure attempts which don't use independence assumptions.) 
thanks in advance to anyone who will spend time on this problem... 
regards, 
tom kane. 
#! rnews 3109 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!adrian 
from: adrian@cs.hw.ac.uk (adrian hurt) 
newsgroups: sci.space 
subject: re: space digest v8 #68 
summary: first submarines 
message-id: <1580@brahma.cs.hw.ac.uk> 
date: 11 dec 87 15:43:08 gmt 
references: <ota@angband.s1.gov> <8712091350.aa00806@angband.s1.gov> 
organization: computer science, heriot-watt u., scotland 
lines: 52 
 
in article <8712091350.aa00806@angband.s1.gov>, esc1361@ddaesa10.bitnet (rupert williams) writes: 
>  
>						in fact the british must have 
> been the most war-like nation in the world, fighting with more countries than 
> anyone i can think off. is this the reason why the english language is so 
> popular ( hello america!! )???!!!!  
 
i assume you refer to the british empire - prior to that, britain (and before 
the rest joined/were conquered by it, england) fought mostly against either 
france, spain or both at once. the wide domain of the english language is 
directly due to the empire, just as the wide use of spanish throughout south 
and central america is due to the spanish empire. 
 
>    i think also that all countries train their armies in ice and snow??!! 
 
including the arabs? :-) 
 
>    as for the submarine....well i dont know about that, i thought that was an 
> english invention too, like the tank and the jet-plane??! maybe i'm wrong??! 
 
there are a number of ancient submarine designs, including one which was a 
rowing boat with a watertight cover! the first practical submarine was (i 
believe) designed by a mr. holland, resident of ireland, for use against the 
royal navy. the royal navy took over the design, but regarded such concealed 
warfare as ungentlemanly, and didn't make much use of them until germany 
showed the way. 
 
the jet plane was invented practically at the same time by britain, germany 
and the u.s.a. germany had the first flying jet aircraft, followed closely by 
britain. britain would have had a jet fighter not long after the battle of 
britain except for government intervention. fortunately, hitler was equally 
stupid. the nazis believed they would win the war in a couple of months, and 
gave little interest to projects which would bear no short term military 
results. when they did get the world's first jet fighter (the me262) it was 
pretty devastating, albeit rare, until hitler decided that it would make a 
great fighter-bomber. two bombs were fitted under the nose, at the expense 
of two cannon and much speed and agility. fortunately, nazi policy was "if 
it doesn't work, stomp on whoever says so." the first american jet was too 
late for ww2, and the first russian jet had a captured german engine. 
 
>    as for the nasa/space shuttle saga, the sooner they pull their fingers out 
> the better. arianne is having a field day over this one. 
 
now, for those who say "why is this in sci.space?", read the above and apply 
the lessons of history to the shuttle, hermes, hotol, or whatever craft your 
country should be sponsoring. 
 
--  
 "keyboard? tis quaint!" - m. scott 
 
 adrian hurt			     |	janet:  adrian@uk.ac.hw.cs 
 uucp: ..!ukc!cs.hw.ac.uk!adrian     |  arpa:   adrian@cs.hw.ac.uk 
#! rnews 1128 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: sci.space 
subject: re: remote sensing fascism 
message-id: <1583@brahma.cs.hw.ac.uk> 
date: 11 dec 87 17:36:36 gmt 
references: <566084060.amon@h.gp.cs.cmu.edu> 
reply-to: jack@cs.glasgow.ac.uk (jack campin) 
organization: pisa project, glesga yoonie 
lines: 18 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
 
 
[ignore the above email address and use my signature] 
 
>'our' (i use the term very loosely since i'm not really sure which side 
>they are on) people have obviously learned how to lie about the 
>existance of things which are common knowledge 
>ps: is it now appropriate to address members of the dod and the various spook 
>    agencies as comrade? 
 
how about right honourable? (or have the zircon and spycatcher affairs not 
made the news over there?) 
 
 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 1825 
path: alberta!mnetor!uunet!mcvax!ukc!its63b!hwcs!jack 
from: jack@cs.hw.ac.uk (jack campin) 
newsgroups: rec.arts.sf-lovers 
subject: re: houston sf opera 
message-id: <1584@brahma.cs.hw.ac.uk> 
date: 11 dec 87 19:10:14 gmt 
references: <8168@ism780c.uucp> 
reply-to: jack@cs.glasgow.ac.uk (jack campin) 
organization: pisa project, glesga yoonie 
lines: 32 
summary: 
 
expires: 
 
sender: 
 
followup-to: 
 
 
 
[ignore the above email address and use my signature] 
 
in article <8168@ism780c.uucp> jimh@ism780c.uucp (jim hori) writes: 
> 
>i expected somebody to respond by now to the 
>question about a sf opera being co-written 
>by philip glass and somebody named lessing, 
> 
>any other news on this opera? 
 
it's "the making of the representative from planet 8", if i remember right. 
this is from the announcements to a radio 3 broadcast of glass's new orchestral 
piece "the light" - a tone poem about the michelson-morley experiments. 
 
incidentally, it's not the first sf opera. i heard a broadcast in new zealand 
of a swedish opera called "aniara", based on an epic poem about a colonizer 
spaceship on its way to oblivion. i can remember neither the poet's nor the 
composer's name. 
 
i've only read the first of lessing's series and didn't like it much. i felt i 
was being preached at (lessing is a sufi - i don't know whether her having 
been born in iran has anything to with that - and it shows in her more recent 
writing). ok, the content of the sermon may not have been as obnoxious as 
heinlein, tolkien or pournelle, but it was still gratuitous in literary terms. 
 
 
--  
arpa: jack%cs.glasgow.ac.uk@nss.cs.ucl.ac.uk 
janet:jack@uk.ac.glasgow.cs       usenet: ...mcvax!ukc!cs.glasgow.ac.uk!jack 
mail: jack campin, computing science department, university of glasgow, 
      17 lilybank gardens, glasgow g12 8qq, scotland (041 339 8855 x 6045) 
#! rnews 1184 
path: alberta!mnetor!uunet!mcvax!ukc!stl!stc!root44!cdwf 
from: cdwf@root.co.uk (clive d.w. feather) 
newsgroups: rec.arts.sf-lovers 
subject: asimov, ufo, and others 
summary: where you can find them 
message-id: <497@root44.co.uk> 
date: 11 dec 87 08:48:49 gmt 
reply-to: cdwf@root44.uucp (clive d.w. feather) 
organization: root computers ltd, london, england 
lines: 17 
 
readers in the uk, and those elsewhere with uk contacts, may like to know... 
 
(1) w.h.smiths are stocking asimov's "fantastic voyage ii" in hardback, 
ukl10.95. 
 
(2) an organisation called channel 5 video, available at least in w.h.smiths 
and woolworths, produces tapes of ufo, thunderbirds, captain scarlet (under the 
title "captain scarlet and the mysterons", stingray (yuk), and, of course, 
the prisoner. each tape that i have seen contains two episodes of the 
appropriate program. all cost less than ukl10. 
what proportion of the total output of these programmes is available i can't 
say, except for the prisoner (100%). 
 
warning for foreign readers: 
these tapes are vhs-pal. according to "which?" they work in australia, 
new zealand, europe except france, south africa, and the middle east, but not 
north america. 
#! rnews 1077 
path: alberta!mnetor!uunet!mcvax!ukc!stl!stc!root44!jgh 
from: jgh@root.co.uk (jeremy g harris) 
newsgroups: comp.protocols.tcp-ip 
subject: subnetting questions 
keywords: subnet ethernet 
message-id: <498@root44.co.uk> 
date: 11 dec 87 10:25:23 gmt 
organization: root computers ltd., london, england 
lines: 27 
 
a whole bunch of questions: 
 
 
does anybody run multiple subnets on a single ethernet? 
 
    if so, do you use subnet broadcasts or net broadcasts? 
    do you find it worthwhile to use ethernet multicast for 
    subnet broadcasts? how do you assign the multicast addresses? 
    for what purposes do you still use net broadcast? 
 
    should redirects be provided by an inter-subnet gateway, 
    when both subnets are on the same ethernet? 
 
 
what are the semantics of 'icmp redirect to net' in a subnettted environment? 
 
 
does anybody run multiple classes of subnet on a single net? 
 
    does the mechanism proposed in rfc950 ( icmp broadcasts to 
    discover the subnet mask ) still work? do you use it? 
 
 
thanks for your time 
    jeremy 
--  
jeremy harris			jgh@root.co.uk 
#! rnews 1006 
path: alberta!mnetor!uunet!mcvax!ukc!stl!stc!root44!hrc63!nwh 
from: nwh@hrc63.co.uk (nigel holder marconi) 
newsgroups: comp.unix.wizards 
subject: re: /dev/swap - possibility of it being a ramdisk 
summary: depends on your system ? 
keywords: /dev/swap 
message-id: <476@hrc63.co.uk> 
date: 11 dec 87 10:09:05 gmt 
references: <712@qetzal.uucp> <16869@topaz.rutgers.edu> 
organization: gec hirst research centre, wembley, england. 
lines: 12 
 
 
i have just added some extra memory to a sun 3.  unfortunately, it did 
not increase the usable amount of virtual memory.  i have been informed 
(not by sun i hasten to add), that 4.x will only allocate memory up to 
the disk swap space size.  adding more memory will speed things up but will 
not increase your total usable virtual memory size (this is achieved by 
increasing the swap space).  i was also informed that system v does not 
inforce this type of restriction. 
 
 
nigel holder			uk janet:       yf21@uk.co.gec-mrc.u 
				arpa:           yf21%u.gec-mrc.co.uk@ucl-cs 
#! rnews 781 
path: alberta!mnetor!uunet!mcvax!enea!luth!jem 
from: jem@sm.luth.se (jan erik mostr|m) 
newsgroups: comp.sys.mac,comp.sys.mac.hypercard 
subject: hypercard/cd-rom 
message-id: <902@luth.luth.se> 
date: 11 dec 87 11:31:13 gmt 
reply-to: jan erik mostr|m <jem@luth.luth.se> 
organization: university of lulea, sweden 
lines: 8 
xref: alberta comp.sys.mac:10017 comp.sys.mac.hypercard:200 
uucp-path: {uunet,mcvax}!enea!luth.luth.se!jem 
 
 
 
 
is there someone out there who has experience with hypercard and cd-rom. 
i would appreciate any information (and especially about mac ii/cd-rom). 
--  
jan erik mostrom     | {uunet,mcvax}!enea!luth!jem       | mors certa, 
university of lulea  | jem@sm.luth.se                    | vita incerta 
sweden               | jem@luth.uucp                     | 
#! rnews 1535 
path: alberta!mnetor!uunet!mcvax!enea!diab!pf 
from: pf@diab.uucp (per fogelstrom) 
newsgroups: comp.arch 
subject: re: why is sparc so slow? 
summary: yet another "super processor". 
message-id: <344@ma.diab.uucp> 
date: 11 dec 87 13:59:12 gmt 
references: <1078@quacky.uucp> <8809@sgi.sgi.com> <6964@apple.uucp> 
reply-to: pf@ma.uucp (per fogelstrom) 
organization: diab data ab, taby, sweden 
lines: 16 
 
well, the history repeats once again. a new risc chip is launched and peopels 
expectations reaches new "high scores". a few years ago there was another risc 
chip set brougth to the market, called the clipper. this processors performence 
was climed to sweep all competitors off the sceene. often compared to the 
dec 8x00 computers. for this chip set the picture has cleared now. the perfor- 
mence range is not much more than can be achived with a 16-20 mhz 68020. the 
most i have seen of the 33mhz versions is one running at room temprature. 
intergraph is one of the companys who is still using the clipper (they recently 
bought the rights for the chip set from ns/fairchild) . from what i recall they 
throw out the ns32032 for the clipper. well they could have had 2-3 times the 
clipper performance with the ns32532 today. and they called the buy a bargin ! 
it's not suprising that the mips 2000 gives most power/mhz, the architecture has 
evolved during many years, without a hard pressure from the marketing such as 
'we must have it now!!!'. (john mashey mayby has another opinion, only my guess) 
 
so: why is everybody so suprised ????! 
#! rnews 1169 
path: alberta!mnetor!uunet!mcvax!mhres!jv 
from: jv@mhres.mh.nl (johan vromans) 
newsgroups: comp.unix.questions 
subject: re: finding files 
summary: looking everywhere 
message-id: <1503@mhres.mh.nl> 
date: 12 dec 87 16:08:12 gmt 
references: <205700003@prism> <4441@ihlpg.att.com> 
organization: multihouse n.v., the netherlands 
lines: 21 
 
in article <205700003@prism> billc@prism.uucp writes: 
> 
>	right now, to find a file somewhere under my current directory, 
>	i use the following alias: 
> 
>	    alias	where	"find \$cwd -name \!* -exec echo {} \;" 
> .. etc .. 
 
on our systems, a small cron script executes every night the following 
command: 
 
	find / -print > /dirfile 
 
finding a file somewhere can be done by grepping in the /dirfile. 
of course, the contents of /dirfile are not really up-to-date, but this is 
just a minor drawback. "find" on the whole system (including mounted disks) 
takes more than an hour, a grep in /dirfile much less than a minute. 
--  
johan vromans                              | jv@mh.nl via european backbone 
multihouse n.v., gouda, the netherlands    | uucp: ..{uunet!}mcvax!mh.nl!jv 
"it is better to light a candle than to curse the darkness" 
#! rnews 904 
path: alberta!mnetor!uunet!mcvax!mhres!jv 
from: jv@mhres.mh.nl (johan vromans) 
newsgroups: comp.os.vms 
subject: re: are vms and vax synonymous? 
summary: no 
message-id: <1504@mhres.mh.nl> 
date: 12 dec 87 16:55:05 gmt 
references: <8712111910.aa18210@ucbvax.berkeley.edu> 
organization: multihouse n.v., the netherlands 
lines: 11 
 
in article <8712111910.aa18210@ucbvax.berkeley.edu> "eri::smith" <smith%eri.decnet@mghccc.harvard.edu> writes: 
>but someone who thinks vax and vms are synonymous 
>may possibly also be expressing a philosophical stance. 
 
the only thing you can do between "#ifdef vax" and its corresponding "#endif" 
is conclude that you are running on a big-endian machine .... 
 
--  
johan vromans                              | jv@mh.nl via european backbone 
multihouse n.v., gouda, the netherlands    | uucp: ..{uunet!}mcvax!mh.nl!jv 
"it is better to light a candle than to curse the darkness" 
#! rnews 691 
path: alberta!mnetor!uunet!mcvax!enea!tut!jh 
from: jh@tut.fi (juha hein{nen) 
newsgroups: comp.lang.scheme 
subject: re: request for macscheme source for scoops 
message-id: <2108@korppi.tut.fi> 
date: 12 dec 87 07:32:39 gmt 
references: <8712101554.aa15940@ucbvax.berkeley.edu> 
reply-to: jh@korppi.uucp (juha hein{nen) 
organization: tampere university of technology, finland 
lines: 10 
 
macscheme doesn't have enviroments (atleast my version doesn't).  it 
would be straightforward to port scoops if somebody first provides 
environments.  the hacks provided with macscheme distribution are not 
enough. 
 
--  
	juha heinanen 
	tampere univ. of technology 
	finland 
	jh@tut.fi (internet), tut!jh (uucp) 
#! rnews 643 
path: alberta!mnetor!uunet!mcvax!enea!diab!pf 
from: pf@diab.uucp (per fogelstrom) 
newsgroups: comp.arch 
subject: re: zilog z320 32-bit chip 
keywords: 80,000 vaporware model 
message-id: <345@ma.diab.uucp> 
date: 12 dec 87 11:15:23 gmt 
references: <1911@ho95e.att.com> <9071@utzoo.uucp> <3521@aw.sei.cmu.edu> <485@pt.cs.cmu.edu> 
reply-to: pf@ma.uucp (per fogelstrom) 
organization: diab data ab, taby, sweden 
lines: 3 
 
the z80,000 was put on market just about 8 months ago. it newer reached the 
target specification (e.g. clock speed) and the performence was not impressive. 
it has some nice things, but as someone pointed out, to late .......... 
#! rnews 884 
path: alberta!mnetor!uunet!mcvax!diku!daimi!erja 
from: erja@daimi.uucp (erik jacobsen) 
newsgroups: comp.lang.modula2 
subject: re: modula ii on ibm pc with halo graphics 
keywords: modula ibm halo graphics 
message-id: <1253@daimi.uucp> 
date: 12 dec 87 13:13:50 gmt 
references: <17237@glacier.stanford.edu> 
reply-to: erja@daimi.uucp (erik jacobsen) 
organization: daimi: computer science department, aarhus university, denmark 
lines: 10 
 
jbn@glacier.stanford.edu (john b. nagle) asks in <17237@glacier.stanford.edu> 
> some questions on logitec modula ii: 
>  
> 1.  are subranges assigned space appropriately?  in particular, 
> does 0..255 occupy only one byte?   
 
no, subranges occupy the same amount of space as the type they are 
a subrange of. e.g. 0..255 will occupy two bytes. you may use a 
char or a byte, and convert to and from cardinal everytime you need 
to do some caluculations. 
#! rnews 869 
path: alberta!mnetor!uunet!mcvax!unido!tub!stx 
from: stx@tub.uucp (stefan taxhet) 
newsgroups: comp.text,comp.sources.wanted 
subject: ms-word to q-one 
keywords: ms-word q-one dca 
message-id: <319@tub.uucp> 
date: 11 dec 87 18:23:35 gmt 
organization: technical university of berlin, germany 
lines: 19 
xref: alberta comp.text:1346 comp.sources.wanted:2722 
 
 
we're looking for a document conversion program. 
it should translate ms-word- to q-one-documents. 
 
q-one offers conversions to several formats as: 
fortune:word, wang, ibm's dca (rft,fft) 
therefor  programs to interchange documents between 
ms-word and these format would also help us. 
 
thanks in advance 
 
stefan taxhet, 
communications and operating systems research group 
technical university of berlin 
 
uucp: ...!pyramid!tub!stx (from the us) 
      ...!mcvax!unido!tub!stx (from europe) 
 
bitnet: stx@db0tui6.bitnet 
#! rnews 1235 
path: alberta!mnetor!uunet!mcvax!unido!rmi!kkaempf 
from: kkaempf@rmi.uucp (klaus kaempf) 
newsgroups: comp.sys.amiga 
subject: breaking the 54mb limit on harddisks 
keywords: bitmap, blocksize, filehandler.h 
message-id: <821@rmi.uucp> 
date: 12 dec 87 12:19:32 gmt 
reply-to: kkaempf@rmi.uucp (klaus kaempf) 
organization: rmi net, aachen, w.germany 
lines: 19 
 
 
 
well, maybe that i've overlooked something really important, but i don't 
see the 54mb limit with the amigados. 
about a yaer ago, when there was no mount command, somebody from cats 
posted a sample device driver that mounted itself. it set up a device 
structure which described the layout of the device. this structure is 
now documented in dos/filehandler.h. one field in this structure holds 
the number of longwords per block of this device. this is always set 
to 128, giving 512 bytes per block. 
now, if i set this to 256 (1024 bytes per block), i should be able to 
increase the disk limit to 108mb. 
apparently, amigados supports larger blocksizes. just have a look into 
the amigados manual from bantam. all block-layouts are described relative 
to a 'size', nowhere is said that size is fixed to 128 ! 
 
so where is the problem ??? (please, send no flames, only facts !) 
 
klaus 
#! rnews 2545 
path: alberta!mnetor!uunet!mcvax!botter!ast 
from: ast@cs.vu.nl (andy tanenbaum) 
newsgroups: comp.os.minix 
subject: getting rid of _cleanup (finally) 
message-id: <1783@botter.cs.vu.nl> 
date: 13 dec 87 11:56:59 gmt 
reply-to: ast@cs.vu.nl (andy tanenbaum) 
organization: vu informatica, amsterdam 
lines: 97 
 
there was a lot of discussion about how to get rid of my calls to _cleanup 
earlier.  here is the solution that i finally adopted.    the following commands 
should do the job. 
  cc -c -lib exit.c putc.c 
  ar r /usr/lib/libc.a exit.c putc.c 
  ar x /usr/lib/libc.a cleanup.s 
  ar d /usr/lib/libc.a cleanup.s 
  ar bfork.s /usr/lib/libc.a cleanup.s 
 
this requires the new archiver posted a while back (for the b option). 
it also assumes that putting cleanup before fork.s will include cleanup.s 
after exit.s and putc.s (check this). 
 
andy tanenbaum (ast@cs.vu.nl) 
 
 
: this is a shar archive.  extract with sh, not csh. 
: this archive ends with exit, so do not worry about trailing junk. 
: --------------------------- cut here -------------------------- 
path=/bin:/usr/bin 
echo extracting \e\x\i\t\.\c 
sed 's/^x//' > \e\x\i\t\.\c << '+ end-of-file '\e\x\i\t\.\c 
x#include "../include/lib.h" 
x 
xpublic int (*__cleanup)(); 
x 
xpublic int exit(status) 
xint status; 
x{ 
x  if (__cleanup) (*__cleanup)(); 
x  return callm1(mm, exit, status, 0, 0, nil_ptr, nil_ptr, nil_ptr); 
x} 
+ end-of-file exit.c 
chmod 'u=rw,g=r,o=r' \e\x\i\t\.\c 
set `sum \e\x\i\t\.\c` 
sum=$1 
case $sum in 
11315)	:;; 
*)	echo 'bad sum in '\e\x\i\t\.\c >&2 
esac 
echo extracting \p\u\t\c\.\c 
sed 's/^x//' > \p\u\t\c\.\c << '+ end-of-file '\p\u\t\c\.\c 
x#include "../include/stdio.h" 
x 
xextern int (*__cleanup)(); 
xextern int _cleanup(); 
x 
xputc(ch, iop) 
xchar ch; 
xfile *iop; 
x{ 
x	int n, 
x	didwrite = 0; 
x 
x	if (testflag(iop, (_err | _eof))) 
x		return (eof);  
x 
x	if ( !testflag(iop,writemode)) 
x		return(eof); 
x 
x	if ( testflag(iop,unbuff)){ 
x		n = write(iop->_fd,&ch,1); 
x		iop->_count = 1; 
x		didwrite++; 
x	} 
x	else{ 
x		__cleanup = _cleanup; 
x		*iop->_ptr++ = ch; 
x		if ((++iop->_count) >= bufsiz && !testflag(iop,strings) ){ 
x			n = write(iop->_fd,iop->_buf,iop->_count); 
x			iop->_ptr = iop->_buf; 
x			didwrite++; 
x		} 
x	} 
x 
x	if (didwrite){ 
x		if (n<=0 || iop->_count != n){ 
x			if (n < 0) 
x				iop->_flags |= _err; 
x			else 
x				iop->_flags |= _eof; 
x			return (eof); 
x		} 
x		iop->_count=0; 
x	} 
x	return(ch & cmask); 
x} 
x 
+ end-of-file putc.c 
chmod 'u=rw,g=r,o=r' \p\u\t\c\.\c 
set `sum \p\u\t\c\.\c` 
sum=$1 
case $sum in 
49878)	:;; 
*)	echo 'bad sum in '\p\u\t\c\.\c >&2 
esac 
exit 0 
#! rnews 1120 
path: alberta!mnetor!uunet!husc6!mit-eddie!uw-beaver!cornell!svax!beck 
from: beck@svax.cs.cornell.edu (micah beck) 
newsgroups: comp.windows.x 
subject: document previewing using xps 
message-id: <1898@svax.cs.cornell.edu> 
date: 14 dec 87 13:25:54 gmt 
reply-to: beck@svax.cs.cornell.edu (micah beck) 
distribution: comp 
organization: cornell univ. cs dept, ithaca ny 
lines: 18 
 
in article <6224@jade.berkeley.edu> shipley@web1d.berkeley.edu () writes 
on the subject of troff previewing under x: 
 
>the other thing to try is some version of troff which can speak postscript(tm) 
>which you can then feed through one of the several xps programs floating 
>around -- these are postscript(tm) interpreter/previewers for xwindows. 
 
i've not been very successful in getting goswell's xps to preview documents. 
the postscript file generated from tex dvi files by dvi2ps and from ditroff 
files by the transcript psdit program both cause it to choke, although in 
different ways. 
 
is anyone using xps successfully for tex or ditroff previewing?  is there some 
trick? 
 
micah beck 
cornell dept of computer science 
beck@svax.cs.cornell.edu 
#! rnews 1332 
path: alberta!mnetor!uunet!mcvax!botter!ast 
from: ast@cs.vu.nl (andy tanenbaum) 
newsgroups: comp.os.minix 
subject: re: hard disk partitions? 
message-id: <1784@botter.cs.vu.nl> 
date: 13 dec 87 12:13:15 gmt 
references: <5500001@ucf-cs.ucf.edu> 
reply-to: ast@cs.vu.nl (andy tanenbaum) 
organization: vu informatica, amsterdam 
lines: 21 
 
in article <5500001@ucf-cs.ucf.edu> tony@ucf-cs.ucf.edu writes: 
>if partition 1 is set up for dos and 2 for minix, with #2 mounted under 
>/usr, minix crashes unpredictably.   
 
one thing to remember is that the partition size for partition 1 is one 
smaller than for partition 2. 
 
another possibility is that the minix fdisk and the dos fdisk don't agree 
on the meaning of the partition table.  if everyone would create their 
partitions from lowest cylinder to highest there would be no ambiguity. 
however, if the order in the partition table is different from the cylinder 
order, there are at least three interpretations. 
  1. table slot 1 is partition 1 
  2. innermost cylinder is partition 1 
  3. outermost cylinder is partition 1 
i believe that the combination of minix, dos, xenix and microport together 
exhaust the entire list of possibilities.  i don'know if this is related 
to your problem (which i otherwise can't understand), but it is worth  
keeping in mind. 
 
andy tanenbaum (ast@cs.vu.nl) 
#! rnews 873 
path: alberta!mnetor!uunet!mcvax!lambert 
from: lambert@cwi.nl (lambert meertens) 
newsgroups: sci.math 
subject: re: fixed points 
message-id: <146@piring.cwi.nl> 
date: 13 dec 87 12:09:54 gmt 
references: <2269@ihuxv.att.com> 
organization: cwi, amsterdam 
lines: 14 
 
in article <2269@ihuxv.att.com> eklhad@ihuxv.att.com (k. a. dahlke) writes: 
) if a continuous function maps the unit square into itself, must it have a 
) fixed point? [...] 
) i seem to remember there is some theorem in topology, 
) without resorting to snakes, that says there is always a fixed point 
) whenever a closed region in a metric space is continuously mapped into itself. 
 
brouwer's fixed point theorem states that a continuous mapping of an n-cube 
into itself has a fixed point.  this extends, obviously, to any region 
homeomorphic to an n-cube. 
 
--  
 
lambert meertens, cwi, amsterdam; lambert@cwi.nl 
#! rnews 1075 
path: alberta!mnetor!uunet!mcvax!unido!rmi!zentrale 
from: zentrale@rmi.uucp (rmi net) 
newsgroups: rec.ham-radio 
subject: re: my pc generates rfi 
message-id: <822@rmi.uucp> 
date: 13 dec 87 10:03:45 gmt 
references: <12354296992.20.qualcomm@a.isi.edu> 
reply-to: dl3no@rmi.uucp (rupert mohr) 
organization: rmi net, aachen, w.germany 
lines: 21 
 
in article <12354296992.20.qualcomm@a.isi.edu> qualcomm@a.isi.edu (franklin antonio) writes: 
: >  i'd like to know of some ways to reduce interference to my... 
:  
: all pcs generate rfi to some degree.  in general, the "clones" are worse 
: than the brand name "ibm", "compaq", etc.  the macintosh is relatively 
: quiet. 
:  
 
in general: i would not believe that... (but it may be, that some 
ibm's are as quiet as a clone...) 
 
we have a good mixture of various pcs here... 
 
regarding my recent posting on rfi of my pk-232: 
the pk-232 was innocent. it was the old power supply which interfered 
exactly on 80m and 40m with s9 and 20m with s6... 
 
-rm 
 
p.s. nevertheless: pc's nowadays are much more quiet than those times 
of trs-80 (sigh). 
#! rnews 1629 
path: alberta!mnetor!uunet!mcvax!unido!rmi!zentrale 
from: zentrale@rmi.uucp (rmi net) 
newsgroups: rec.ham-radio 
subject: re: some swl questions 
message-id: <823@rmi.uucp> 
date: 13 dec 87 10:18:23 gmt 
references: <38c9774f.44e6@apollo.uucp> <871201110223.1.ed@black-bird.scrc.symbolics.com> 
reply-to: dl3no@rmi.uucp (rupert mohr) 
organization: rmi net, aachen, w.germany 
lines: 38 
 
in article <871201110223.1.ed@black-bird.scrc.symbolics.com> ed@mead.scrc.symbolics.com (ed schwalenberg) writes: 
:  
:     date: 30 nov 87 15:30:00 gmt 
:     from: apollo!nelson_p%apollo.uucp@eddie.mit.edu 
:  
:        is there a detailed single-source of info on what i might  
:        hear as i tune around the bands?   the much vaunted world 
:        radio and tv handbook just covers broadcasting, which i 
:        have little interest in. 
:  
: the second source is the klingenfuss guide to utility stations. 
: this is harder to come by, but is advertised in rdi. 
 
i just got the 6th edition (1988), which is very good. you can 
get it directly : 
 
klingenfuss, guide to utility stations, 6th edition 
 
klningenfuss publications 
hagenloher str. 14 
d-7400 tuebingen 
fed.rep.germany 
tel. (+41) 7071 62830 
 
price: dm 60  (abt. $ 35) maybe plus handling. 
they are very fast! i received it two days after ordering by telephone. 
they also have an quarterly update service. 
 
you find a complete listing sorted by frequency an different listings 
sorted by different services: 
press by time, 
fax  alphebetically with time schedule 
 
addresses, codes, commercial call signs, telegram formats etc. 
 
all in english, 500 pages with correct entries...... 
 
rupert 
#! rnews 1503 
path: alberta!mnetor!uunet!husc6!cmcl2!rutgers!orstcs!mist!koff 
from: koff@mist.cs.orst.edu (caroline n. koff) 
newsgroups: rec.arts.startrek 
subject: troi's outfit 
message-id: <1501@orstcs.cs.orst.edu> 
date: 14 dec 87 13:35:02 gmt 
references: <1008@percival.uucp> <275@hi3.aca.mcc.com.uucp> <2032@charon.unm.edu> <2432@homxc.uucp> <1987dec12.230124.16416@gpu.utcs.toronto.edu> <2216@nicmad.uucp> 
sender: netnews@orstcs.cs.orst.edu 
reply-to: koff@mist.uucp (caroline n. koff) 
distribution: na 
organization: oregon state universtiy - cs - corvallis, oregon 
lines: 17 
 
if people are noticing and mentioning about yar's breasts, why not 
also mention about troi's low cut outfit!!  why does it need to be 
so low cut that it shows her crevice?  who is she trying to impress? 
do you think that the women in the future, working with men, will be 
trying to dress sexy?  if so, what about the men?  why not let them 
show off their body too to make things even?   i think that the 
producers, or whoever is in charge of outfits, and character development  
is making a contemporary decision regarding the issue of how people  
will dress in the future.  i.e. he/she thinks that female will be  
trying to attract males' attention by bringing out her femininity,  
but not vice versa, which is the current social behavior. 
or, perhaps the producers are just being comformists with bunch of  
other tv shows + movie producers by keeping females attractive  
towards men...    
 
--caroline koff 
koff!cs.orst.edu@cs.net.relay 
#! rnews 1028 
path: alberta!mnetor!uunet!mcvax!hafro!krafla!frisk 
from: frisk@rhi.is (fridrik skulason) 
newsgroups: comp.sys.ibm.pc 
subject: identifying vga 
message-id: <100@krafla.rhi.is> 
date: 13 dec 87 11:39:28 gmt 
reply-to: frisk@rhi.uucp (fridrik skulason) 
organization: university of iceland (rhi) 
lines: 19 
 
in the november issue of dr.dobb's journal there is an article on how to 
identify the video adaptor in your pc. they cover ega,cga,mda,compaq and 
hercules(mono). 
 
what i need is information on how to find out if a vga (or a pga) adaptor 
is installed. 
 
also - can someone tell me how to obtain the current cursor position directly 
from these adaptors. that is - i need the location of the 6845 registers. 
 
the reason i can not use the int10 function provided is that my program has 
to work with some tsr programs that access the hardware directly. 
 
thanks...  
--  
         fridrik skulason          university of iceland 
         uucp  frisk@rhi.uucp      bix  frisk 
 
     this line intentionally left blank ................... 
#! rnews 805 
path: alberta!mnetor!uunet!husc6!cmcl2!rutgers!orstcs!mist!koff 
from: koff@mist.cs.orst.edu (caroline n. koff) 
newsgroups: rec.arts.startrek 
subject: requesting st:tos episode directors and writers guide 
message-id: <1502@orstcs.cs.orst.edu> 
date: 14 dec 87 13:38:05 gmt 
references: <1008@percival.uucp> <275@hi3.aca.mcc.com.uucp> <2032@charon.unm.edu> <2432@homxc.uucp> <1987dec12.230124.16416@gpu.utcs.toronto.edu> <2216@nicmad.uucp> 
sender: netnews@orstcs.cs.orst.edu 
reply-to: koff@mist.uucp (caroline n. koff) 
distribution: na 
organization: oregon state universtiy - cs - corvallis, oregon 
lines: 6 
 
has anybody ever posted or have a complete list of directors and writers 
for each of the st:tos episodes?  if so, may i have a copy?  thanks in 
advance. 
 
--caroline koff 
koff!cs.orst.edu@cs.net.relay 
#! rnews 1125 
path: alberta!mnetor!uunet!mcvax!enea!sems!olof 
from: olof@sems.se (olof backing) 
newsgroups: comp.emacs 
subject: problems with uemacs 3.9e and os-9/68k c. 
message-id: <207@sems.se> 
date: 13 dec 87 13:00:39 gmt 
organization: sems ab, stockholm, sweden 
lines: 32 
 
i have a problem when i try to compile the latest version of 
microemacs, ie. 3.9e. the problem occurs in file 'bind.c' at lines 
602, 609 and 642, 650 respectively.  
 
it's the following lines that causes the error: 
 
600: int (*getbind(c))() 
601: 
602: int c; 
603: 
604: { 
 
the compiler reports an error at line 602 with 'not an argument'. the 
same thing happens at line 642; 
 
639: int (*fncmatch(fname))() 
640: 
641: 
642: int fname; 
643: 
644: { 
 
since my experiences aren't the very best i c sofar, i would like to 
get some hints on what to do. maybe kim kempf at microware has the 
answer for me. feel free to overwelm me with hints. until then (when i 
recieve the hints...), cu all! 
 
 
--  
            address: havrevagen 14, s-175 43  jarfalla, sweden 
            phone  : (46) 758 33941, 35516 home 
            uucp   :  ...{uunet,mcvax,ukc,unido}!enea!sems!olof  
#! rnews 1708 
path: alberta!mnetor!uunet!husc6!yale!dwald 
from: dwald@yale-zoo-suned..arpa (david wald) 
newsgroups: rec.arts.startrek 
subject: re: hide & q notes and comments and notes and comments and....<<s 
message-id: <20252@yale-celray.yale.uucp> 
date: 14 dec 87 04:29:38 gmt 
references: <19962@yale-celray.yale.uucp> <17300072@silver> <1838@leadsv.uucp> 
sender: root@yale.uucp 
reply-to: dwald@yale-zoo-suned.uucp (david wald) 
distribution: na 
organization: yale university computer science dept, new haven ct 
lines: 27 
 
in article <1838@leadsv.uucp> lilly@leadsv.uucp (harriette lilly) writes: 
> 
>in article <17300072@silver>, sl131008@silver.bacs.indiana.edu writes: 
>> /* written  7:19 pm  dec  7, 1987 by sl131008@silver.uucp in silver:rec.arts.startrek */ 
>> /* ..ditto x 7..... 
>> /* written  9:12 pm  dec  6, 1987 by dwald@yale in silver:rec.arts.startrek */ 
>> /* ---------- "re: hide & q notes and comments <<s" ---------- */ 
>> in article <2328@homxc.uucp> scott@homxc.uucp (scott berry) writes: 
... 
>> david wald                                                   dwald@yale.uucp 
... 
>> /* end of text from silver:rec.arts.startrek */ 
>> /* ditto x 8 
> 
> 
>       ummm, are you lost?... 
 
i was a bit puzzled by this too, since i didn't think my article so 
brilliant that anyone would want to repost it eight times.  if anyone 
finds out what happened, could they please send me mail? 
 
 
we now return you to your regularly scheduled nonsense... 
============================================================================ 
david wald                                                   dwald@yale.uucp 
						      waldave@yalevmx.bitnet 
============================================================================ 
#! rnews 761 
path: alberta!mnetor!uunet!mcvax!enea!sems!olof 
from: olof@sems.se (olof backing) 
newsgroups: rec.games.misc 
subject: larn at dungeon level 10. 
message-id: <208@sems.se> 
date: 13 dec 87 18:51:50 gmt 
organization: sems ab, stockholm, sweden 
lines: 12 
 
well folks, i've reached to master warlord (lvl 17, ~550000 exp). to 
my great dis-something, i haven't found any ladder down to level 11. 
somewhere back in my human brain, i recall that i've read something 
about how to further down in the dungeon. what do i do ?!. please give 
me a hint. 
 
 
--  
whoami : olof backing                               ! 
where  : havrevagen 14, s-175 43  jarfalla, sweden  ! 
phone  : + (46) 758 33941, 35516                    ! 
uucp   :  ...{uunet,mcvax,ukc,unido}!enea!sems!olof ! 
#! rnews 1631 
path: alberta!mnetor!uunet!husc6!yale!dwald 
from: dwald@yale-zoo-suned..arpa (david wald) 
newsgroups: rec.arts.startrek 
subject: re: terralian ship in "haven" 
keywords: st:tng 
message-id: <20253@yale-celray.yale.uucp> 
date: 14 dec 87 04:36:39 gmt 
references: <5243@zen.berkeley.edu> <9615@ufcsv.cis.ufl.edu> 
sender: root@yale.uucp 
reply-to: dwald@yale-zoo-suned.uucp (david wald) 
distribution: na 
organization: yale university computer science dept, new haven ct 
lines: 19 
 
in article <9615@ufcsv.cis.ufl.edu> jco@beach.cis.ufl.edu () writes: 
>in article <5243@zen.berkeley.edu> timlee@cory.berkeley.edu (timothy j. lee) writes: 
>>did anyone think that the terralian ship was pretty big for something that 
>>was built by a group of people whose technology approximated late 20th 
>>century earth? 
> 
>it was my understanding from the show that the people of 20th century 
>earth could build a virus that could wipe out a planet.  this did not 
>mean that they (the terralians) where of the 20th century tech level. 
 
there was more to the 20th century reference than that, however. 
dr. crusher made the point that, since they were only at the technology 
level of ~20th century earth, it was easy for the disease to get out of 
control and spread over the planet.  the implication was that if they 
were more advanced the disease would not have wiped out the entire world. 
============================================================================ 
david wald                                                   dwald@yale.uucp 
						      waldave@yalevmx.bitnet 
============================================================================ 
/*  
 * compress - data compression program  
 */ 
#define	min(a,b)	((a>b) ? b : a) 
 
/* 
 * machine variants which require cc -dmachine:  pdp11, z8000, pcxt 
 */ 
 
/* 
 * set usermem to the maximum amount of physical user memory available 
 * in bytes.  usermem is used to determine the maximum bits that can be used 
 * for compression. 
 * 
 * sacredmem is the amount of physical memory saved for others; compress 
 * will hog the rest. 
 */ 
#ifndef sacredmem 
#define sacredmem	0 
#endif 
 
#ifndef usermem 
# define usermem 	450000	/* default user memory */ 
#endif 
 
#ifdef interdata		/* (perkin-elmer) */ 
#define signed_compare_slow	/* signed compare is slower than unsigned */ 
#endif 
 
#ifdef pdp11 
# define bits 	12	/* max bits/code for 16-bit machine */ 
# define no_uchar	/* also if "unsigned char" functions as signed char */ 
# undef usermem  
#endif /* pdp11 */	/* don't forget to compile with -i */ 
 
#ifdef z8000 
# define bits 	12 
# undef vax		/* weird preprocessor */ 
# undef usermem  
#endif /* z8000 */ 
 
#ifdef pcxt 
# define bits   12 
# undef usermem 
#endif /* pcxt */ 
 
#ifdef usermem 
# if usermem >= (433484+sacredmem) 
#  define pbits	16 
# else 
#  if usermem >= (229600+sacredmem) 
#   define pbits	15 
#  else 
#   if usermem >= (127536+sacredmem) 
#    define pbits	14 
#   else 
#    if usermem >= (73464+sacredmem) 
#     define pbits	13 
#    else 
#     define pbits	12 
#    endif 
#   endif 
#  endif 
# endif 
# undef usermem 
#endif /* usermem */ 
 
#ifdef pbits		/* preferred bits for this memory size */ 
# ifndef bits 
#  define bits pbits 
# endif bits 
#endif /* pbits */ 
 
#if bits == 16 
# define hsize	69001		/* 95% occupancy */ 
#endif 
#if bits == 15 
# define hsize	35023		/* 94% occupancy */ 
#endif 
#if bits == 14 
# define hsize	18013		/* 91% occupancy */ 
#endif 
#if bits == 13 
# define hsize	9001		/* 91% occupancy */ 
#endif 
#if bits <= 12 
# define hsize	5003		/* 80% occupancy */ 
#endif 
 
#ifdef m_xenix			/* stupid compiler can't handle arrays with */ 
# if bits == 16			/* more than 65535 bytes - so we fake it */ 
#  define xenix_16 
# else 
#  if bits > 13			/* code only handles bits = 12, 13, or 16 */ 
#   define bits	13 
#  endif 
# endif 
#endif 
 
/* 
 * a code_int must be able to hold 2**bits values of type int, and also -1 
 */ 
#if bits > 15 
typedef long int	code_int; 
#else 
typedef int		code_int; 
#endif 
 
#ifdef signed_compare_slow 
typedef unsigned long int count_int; 
typedef unsigned short int count_short; 
#else 
typedef long int	  count_int; 
#endif 
 
#ifdef no_uchar 
 typedef char	char_type; 
#else 
 typedef	unsigned char	char_type; 
#endif /* uchar */ 
char_type magic_header[] = { "\037\235" };	/* 1f 9d */ 
 
/* defines for third byte of header */ 
#define bit_mask	0x1f 
#define block_mask	0x80 
/* masks 0x40 and 0x20 are free.  i think 0x20 should mean that there is 
   a fourth header byte (for expansion). 
*/ 
#define init_bits 9			/* initial number of bits/code */ 
 
/* 
 * compress.c - file compression ala ieee computer, june 1984. 
 * 
 * authors:	spencer w. thomas	(decvax!harpo!utah-cs!utah-gr!thomas) 
 *		jim mckie		(decvax!mcvax!jim) 
 *		steve davies		(decvax!vax135!petsd!peora!srd) 
 *		ken turkowski		(decvax!decwrl!turtlevax!ken) 
 *		james a. woods		(decvax!ihnp4!ames!jaw) 
 *		joe orost		(decvax!vax135!petsd!joe) 
 * 
 * $header: compress.c,v 4.0 85/07/30 12:50:00 joe release $ 
 * $log:	compress.c,v $ 
 * revision 4.0  85/07/30  12:50:00  joe 
 * removed ferror() calls in output routine on every output except first. 
 * prepared for release to the world. 
 *  
 * revision 3.6  85/07/04  01:22:21  joe 
 * remove much wasted storage by overlaying hash table with the tables 
 * used by decompress: tab_suffix[1<<bits], stack[8000].  updated usermem 
 * computations.  fixed dump_tab() debug routine. 
 * 
 * revision 3.5  85/06/30  20:47:21  jaw 
 * change hash function to use exclusive-or.  rip out hash cache.  these 
 * speedups render the megamemory version defunct, for now.  make decoder 
 * stack global.  parts of the rcs trunks 2.7, 2.6, and 2.1 no longer apply. 
 * 
 * revision 3.4  85/06/27  12:00:00  ken 
 * get rid of all floating-point calculations by doing all compression ratio 
 * calculations in fixed point. 
 * 
 * revision 3.3  85/06/24  21:53:24  joe 
 * incorporate portability suggestion for m_xenix.  got rid of text on #else 
 * and #endif lines.  cleaned up #ifdefs for vax and interdata. 
 * 
 * revision 3.2  85/06/06  21:53:24  jaw 
 * incorporate portability suggestions for z8000, ibm pc/xt from mailing list. 
 * default to "quiet" output (no compression statistics). 
 * 
 * revision 3.1  85/05/12  18:56:13  jaw 
 * integrate decompress() stack speedups (from early pointer mods by mckie). 
 * repair multi-file usermem gaffe.  unify 'force' flags to mimic semantics 
 * of svr2 'pack'.  streamline block-compress table clear logic.  increase  
 * output byte count by magic number size. 
 *  
 * revision 3.0   84/11/27  11:50:00  petsd!joe 
 * set hsize depending on bits.  set bits depending on usermem.  unrolled 
 * loops in clear routines.  added "-c" flag for 2.0 compatibility.  used 
 * unsigned compares on perkin-elmer.  fixed foreground check. 
 * 
 * revision 2.7   84/11/16  19:35:39  ames!jaw 
 * cache common hash codes based on input statistics; this improves 
 * performance for low-density raster images.  pass on #ifdef bundle 
 * from turkowski. 
 * 
 * revision 2.6   84/11/05  19:18:21  ames!jaw 
 * vary size of hash tables to reduce time for small files. 
 * tune pdp-11 hash function. 
 * 
 * revision 2.5   84/10/30  20:15:14  ames!jaw 
 * junk chaining; replace with the simpler (and, on the vax, faster) 
 * double hashing, discussed within.  make block compression standard. 
 * 
 * revision 2.4   84/10/16  11:11:11  ames!jaw 
 * introduce adaptive reset for block compression, to boost the rate 
 * another several percent.  (see mailing list notes.) 
 * 
 * revision 2.3   84/09/22  22:00:00  petsd!joe 
 * implemented "-b" block compress.  implemented reverse sorting of tab_next. 
 * bug fix for last bits.  changed fwrite to putchar loop everywhere. 
 * 
 * revision 2.2   84/09/18  14:12:21  ames!jaw 
 * fold in news changes, small machine typedef from thomas, 
 * #ifdef interdata from joe. 
 * 
 * revision 2.1   84/09/10  12:34:56  ames!jaw 
 * configured fast table lookup for 32-bit machines. 
 * this cuts user time in half for b <= fbits, and is useful for news batching 
 * from vax to pdp sites.  also sped up decompress() [fwrite->putc] and 
 * added signal catcher [plus beef in writeerr()] to delete effluvia. 
 * 
 * revision 2.0   84/08/28  22:00:00  petsd!joe 
 * add check for foreground before prompting user.  insert maxbits into 
 * compressed file.  force file being uncompressed to end with ".z". 
 * added "-c" flag and "zcat".  prepared for release. 
 * 
 * revision 1.10  84/08/24  18:28:00  turtlevax!ken 
 * will only compress regular files (no directories), added a magic number 
 * header (plus an undocumented -n flag to handle old files without headers), 
 * added -f flag to force overwriting of possibly existing destination file, 
 * otherwise the user is prompted for a response.  will tack on a .z to a 
 * filename if it doesn't have one when decompressing.  will only replace 
 * file if it was compressed. 
 * 
 * revision 1.9  84/08/16  17:28:00  turtlevax!ken 
 * removed scanargs(), getopt(), added .z extension and unlimited number of 
 * filenames to compress.  flags may be clustered (-ddvb12) or separated 
 * (-d -d -v -b 12), or combination thereof.  modes and other status is 
 * copied with copystat().  -o bug for 4.2 seems to have disappeared with 
 * 1.8. 
 * 
 * revision 1.8  84/08/09  23:15:00  joe 
 * made it compatible with vax version, installed jim's fixes/enhancements 
 * 
 * revision 1.6  84/08/01  22:08:00  joe 
 * sped up algorithm significantly by sorting the compress chain. 
 * 
 * revision 1.5  84/07/13  13:11:00  srd 
 * added c version of vax asm routines.  changed structure to arrays to 
 * save much memory.  do unsigned compares where possible (faster on 
 * perkin-elmer) 
 * 
 * revision 1.4  84/07/05  03:11:11  thomas 
 * clean up the code a little and lint it.  (lint complains about all 
 * the regs used in the asm, but i'm not going to "fix" this.) 
 * 
 * revision 1.3  84/07/05  02:06:54  thomas 
 * minor fixes. 
 * 
 * revision 1.2  84/07/05  00:27:27  thomas 
 * add variable bit length output. 
 * 
 */ 
static char rcs_ident[] =  
"$header: compress.c,v 4.0 85/07/30 12:50:00 joe release $"; 
 
#include <stdio.h> 
#include <ctype.h> 
#include <signal.h> 
#include <sys/types.h> 
#include <sys/stat.h> 
 
#define argval() (*++(*argv) || (--argc && *++argv)) 
 
int n_bits;				/* number of bits/code */ 
int maxbits = bits;			/* user settable max # bits/code */ 
code_int maxcode;			/* maximum code, given n_bits */ 
code_int maxmaxcode = 1 << bits;	/* should never generate this code */ 
#ifdef compatible		/* but wrong! */ 
# define maxcode(n_bits)	(1 << (n_bits) - 1) 
#else 
# define maxcode(n_bits)	((1 << (n_bits)) - 1) 
#endif /* compatible */ 
 
#ifdef xenix_16 
count_int htab0[8192]; 
count_int htab1[8192]; 
count_int htab2[8192]; 
count_int htab3[8192]; 
count_int htab4[8192]; 
count_int htab5[8192]; 
count_int htab6[8192]; 
count_int htab7[8192]; 
count_int htab8[hsize-65536]; 
count_int * htab[9] = { 
	htab0, htab1, htab2, htab3, htab4, htab5, htab6, htab7, htab8 }; 
 
#define htabof(i)	(htab[(i) >> 13][(i) & 0x1fff]) 
unsigned short code0tab[16384]; 
unsigned short code1tab[16384]; 
unsigned short code2tab[16384]; 
unsigned short code3tab[16384]; 
unsigned short code4tab[16384]; 
unsigned short * codetab[5] = { 
	code0tab, code1tab, code2tab, code3tab, code4tab }; 
 
#define codetabof(i)	(codetab[(i) >> 14][(i) & 0x3fff]) 
 
#else	/* normal machine */ 
count_int htab [hsize]; 
unsigned short codetab [hsize]; 
#define htabof(i)	htab[i] 
#define codetabof(i)	codetab[i] 
#endif	/* xenix_16 */ 
code_int hsize = hsize;			/* for dynamic table sizing */ 
count_int fsize; 
 
/* 
 * to save much memory, we overlay the table used by compress() with those 
 * used by decompress().  the tab_prefix table is the same size and type 
 * as the codetab.  the tab_suffix table needs 2**bits characters.  we 
 * get this from the beginning of htab.  the output stack uses the rest 
 * of htab, and contains characters.  there is plenty of room for any 
 * possible stack (stack used to be 8000 characters). 
 */ 
 
#define tab_prefixof(i)	codetabof(i) 
#ifdef xenix_16 
# define tab_suffixof(i)	((char_type *)htab[(i)>>15])[(i) & 0x7fff] 
# define de_stack		((char_type *)(htab2)) 
#else	/* normal machine */ 
# define tab_suffixof(i)	((char_type *)(htab))[i] 
# define de_stack		((char_type *)&tab_suffixof(1<<bits)) 
#endif	/* xenix_16 */ 
 
code_int free_ent = 0;			/* first unused entry */ 
int exit_stat = 0; 
 
code_int getcode(); 
 
usage() { 
#ifdef debug 
fprintf(stderr,"usage: compress [-ddvfc] [-b maxbits] [file ...]\n"); 
} 
int debug = 0; 
#else 
fprintf(stderr,"usage: compress [-dfvcv] [-b maxbits] [file ...]\n"); 
} 
#endif /* debug */ 
int nomagic = 0;	/* use a 3-byte magic number header, unless old file */ 
int zcat_flg = 0;	/* write output on stdout, suppress messages */ 
int quiet = 1;		/* don't tell me about compression */ 
 
/* 
 * block compression parameters -- after all codes are used up, 
 * and compression rate changes, start over. 
 */ 
int block_compress = block_mask; 
int clear_flg = 0; 
long int ratio = 0; 
#define check_gap 10000	/* ratio check interval */ 
count_int checkpoint = check_gap; 
/* 
 * the next two codes should not be changed lightly, as they must not 
 * lie within the contiguous general code space. 
 */  
#define first	257	/* first free entry */ 
#define	clear	256	/* table clear output code */ 
 
int force = 0; 
char ofname [100]; 
#ifdef debug 
int verbose = 0; 
#endif /* debug */ 
int (*bgnd_flag)(); 
 
int do_decomp = 0; 
 
/***************************************************************** 
 * tag( main ) 
 * 
 * algorithm from "a technique for high performance data compression", 
 * terry a. welch, ieee computer vol 17, no 6 (june 1984), pp 8-19. 
 * 
 * usage: compress [-dfvc] [-b bits] [file ...] 
 * inputs: 
 *	-d:	    if given, decompression is done instead. 
 * 
 *      -c:         write output on stdout, don't remove original. 
 * 
 *      -b:         parameter limits the max number of bits/code. 
 * 
 *	-f:	    forces output file to be generated, even if one already 
 *		    exists, and even if no space is saved by compressing. 
 *		    if -f is not used, the user will be prompted if stdin is 
 *		    a tty, otherwise, the output file will not be overwritten. 
 * 
 *      -v:	    write compression statistics 
 * 
 * 	file ...:   files to be compressed.  if none specified, stdin 
 *		    is used. 
 * outputs: 
 *	file.z:	    compressed form of file with same mode, owner, and utimes 
 * 	or stdout   (if stdin used as input) 
 * 
 * assumptions: 
 *	when filenames are given, replaces with the compressed version 
 *	(.z suffix) only if the file decreases in size. 
 * algorithm: 
 * 	modified lempel-ziv method (lzw).  basically finds common 
 * substrings and replaces them with a variable size code.  this is 
 * deterministic, and can be done on the fly.  thus, the decompression 
 * procedure needs no input table, but tracks the way the table was built. 
 */ 
 
main( argc, argv ) 
register int argc; char **argv; 
{ 
    int overwrite = 0;	/* do not overwrite unless given -f flag */ 
    char tempname[100]; 
    char **filelist, **fileptr; 
    char *cp, *rindex(), *malloc(); 
    struct stat statbuf; 
    extern onintr(), oops(); 
 
 
    if ( (bgnd_flag = signal ( sigint, sig_ign )) != sig_ign ) { 
	signal ( sigint, onintr ); 
	signal ( sigsegv, oops ); 
    } 
 
#ifdef compatible 
    nomagic = 1;	/* original didn't have a magic number */ 
#endif /* compatible */ 
 
    filelist = fileptr = (char **)(malloc(argc * sizeof(*argv))); 
    *filelist = null; 
 
    if((cp = rindex(argv[0], '/')) != 0) { 
	cp++; 
    } else { 
	cp = argv[0]; 
    } 
    if(strcmp(cp, "uncompress") == 0) { 
	do_decomp = 1; 
    } else if(strcmp(cp, "zcat") == 0) { 
	do_decomp = 1; 
	zcat_flg = 1; 
    } 
 
#ifdef bsd4_2 
    /* 4.2bsd dependent - take it out if not */ 
    setlinebuf( stderr ); 
#endif /* bsd4_2 */ 
 
    /* argument processing 
     * all flags are optional. 
     * -d => debug 
     * -v => print version; debug verbose 
     * -d => do_decomp 
     * -v => unquiet 
     * -f => force overwrite of output file 
     * -n => no header: useful to uncompress old files 
     * -b maxbits => maxbits.  if -b is specified, then maxbits must be 
     *	    given also. 
     * -c => cat all output to stdout 
     * -c => generate output compatible with compress 2.0. 
     * if a string is left, must be an input filename. 
     */ 
    for (argc--, argv++; argc > 0; argc--, argv++) { 
	if (**argv == '-') {	/* a flag argument */ 
	    while (*++(*argv)) {	/* process all flags in this arg */ 
		switch (**argv) { 
#ifdef debug 
		    case 'd': 
			debug = 1; 
			break; 
		    case 'v': 
			verbose = 1; 
			version(); 
			break; 
#else 
		    case 'v': 
			version(); 
			break; 
#endif /* debug */ 
		    case 'v': 
			quiet = 0; 
			break; 
		    case 'd': 
			do_decomp = 1; 
			break; 
		    case 'f': 
		    case 'f': 
			overwrite = 1; 
			force = 1; 
			break; 
		    case 'n': 
			nomagic = 1; 
			break; 
		    case 'c': 
			block_compress = 0; 
			break; 
		    case 'b': 
			if (!argval()) { 
			    fprintf(stderr, "missing maxbits\n"); 
			    usage(); 
			    exit(1); 
			} 
			maxbits = atoi(*argv); 
			goto nextarg; 
		    case 'c': 
			zcat_flg = 1; 
			break; 
		    case 'q': 
			quiet = 1; 
			break; 
		    default: 
			fprintf(stderr, "unknown flag: '%c'; ", **argv); 
			usage(); 
			exit(1); 
		} 
	    } 
	} 
	else {		/* input file name */ 
	    *fileptr++ = *argv;	/* build input file list */ 
	    *fileptr = null; 
	    /* process nextarg; */ 
	} 
	nextarg: continue; 
    } 
 
    if(maxbits < init_bits) maxbits = init_bits; 
    if (maxbits > bits) maxbits = bits; 
    maxmaxcode = 1 << maxbits; 
 
    if (*filelist != null) { 
	for (fileptr = filelist; *fileptr; fileptr++) { 
	    exit_stat = 0; 
	    if (do_decomp != 0) {			/* decompression */ 
		/* check for .z suffix */ 
		if (strcmp(*fileptr + strlen(*fileptr) - 2, ".z") != 0) { 
		    /* no .z: tack one on */ 
		    strcpy(tempname, *fileptr); 
		    strcat(tempname, ".z"); 
		    *fileptr = tempname; 
		} 
		/* open input file */ 
		if ((freopen(*fileptr, "r", stdin)) == null) { 
			perror(*fileptr); continue; 
		} 
		/* check the magic number */ 
		if (nomagic == 0) { 
		    if ((getchar() != (magic_header[0] & 0xff)) 
		     || (getchar() != (magic_header[1] & 0xff))) { 
			fprintf(stderr, "%s: not in compressed format\n", 
			    *fileptr); 
		    continue; 
		    } 
		    maxbits = getchar();	/* set -b from file */ 
		    block_compress = maxbits & block_mask; 
		    maxbits &= bit_mask; 
		    maxmaxcode = 1 << maxbits; 
		    if(maxbits > bits) { 
			fprintf(stderr, 
			"%s: compressed with %d bits, can only handle %d bits\n", 
			*fileptr, maxbits, bits); 
			continue; 
		    } 
		} 
		/* generate output filename */ 
		strcpy(ofname, *fileptr); 
		ofname[strlen(*fileptr) - 2] = '\0';  /* strip off .z */ 
	    } else {					/* compression */ 
		if (strcmp(*fileptr + strlen(*fileptr) - 2, ".z") == 0) { 
		    	fprintf(stderr, "%s: already has .z suffix -- no change\n", 
			    *fileptr); 
		    continue; 
		} 
		/* open input file */ 
		if ((freopen(*fileptr, "r", stdin)) == null) { 
		    perror(*fileptr); continue; 
		} 
		stat ( *fileptr, &statbuf ); 
		fsize = (long) statbuf.st_size; 
		/* 
		 * tune hash table size for small files -- ad hoc, 
		 * but the sizes match earlier #defines, which 
		 * serve as upper bounds on the number of output codes.  
		 */ 
		hsize = hsize; 
		if ( fsize < (1 << 12) ) 
		    hsize = min ( 5003, hsize ); 
		else if ( fsize < (1 << 13) ) 
		    hsize = min ( 9001, hsize ); 
		else if ( fsize < (1 << 14) ) 
		    hsize = min ( 18013, hsize ); 
		else if ( fsize < (1 << 15) ) 
		    hsize = min ( 35023, hsize ); 
		else if ( fsize < 47000 ) 
		    hsize = min ( 50021, hsize ); 
 
		/* generate output filename */ 
		strcpy(ofname, *fileptr); 
#ifndef bsd4_2		/* short filenames */ 
		if ((cp=rindex(ofname,'/')) != null)	cp++; 
		else					cp = ofname; 
		if (strlen(cp) > 12) { 
		    fprintf(stderr,"%s: filename too long to tack on .z\n",cp); 
		    continue; 
		} 
#endif  /* bsd4_2		long filenames allowed */ 
		strcat(ofname, ".z"); 
	    } 
	    /* check for overwrite of existing file */ 
	    if (overwrite == 0 && zcat_flg == 0) { 
		if (stat(ofname, &statbuf) == 0) { 
		    char response[2]; 
		    response[0] = 'n'; 
		    fprintf(stderr, "%s already exists;", ofname); 
		    if (foreground()) { 
			fprintf(stderr, " do you wish to overwrite %s (y or n)? ", 
			ofname); 
			fflush(stderr); 
			read(2, response, 2); 
			while (response[1] != '\n') { 
			    if (read(2, response+1, 1) < 0) {	/* ack! */ 
				perror("stderr"); break; 
			    } 
			} 
		    } 
		    if (response[0] != 'y') { 
			fprintf(stderr, "\tnot overwritten\n"); 
			continue; 
		    } 
		} 
	    } 
	    if(zcat_flg == 0) {		/* open output file */ 
		if (freopen(ofname, "w", stdout) == null) { 
		    perror(ofname); 
		    continue; 
		} 
		if(!quiet) 
			fprintf(stderr, "%s: ", *fileptr); 
	    } 
 
	    /* actually do the compression/decompression */ 
	    if (do_decomp == 0)	compress(); 
#ifndef debug 
	    else			decompress(); 
#else 
	    else if (debug == 0)	decompress(); 
	    else			printcodes(); 
	    if (verbose)		dump_tab(); 
#endif /* debug */ 
	    if(zcat_flg == 0) { 
		copystat(*fileptr, ofname);	/* copy stats */ 
		if((exit_stat == 1) || (!quiet)) 
			putc('\n', stderr); 
	    } 
	} 
    } else {		/* standard input */ 
	if (do_decomp == 0) { 
		compress(); 
#ifdef debug 
		if(verbose)		dump_tab(); 
#endif /* debug */ 
		if(!quiet) 
			putc('\n', stderr); 
	} else { 
	    /* check the magic number */ 
	    if (nomagic == 0) { 
		if ((getchar()!=(magic_header[0] & 0xff)) 
		 || (getchar()!=(magic_header[1] & 0xff))) { 
		    fprintf(stderr, "stdin: not in compressed format\n"); 
		    exit(1); 
		} 
		maxbits = getchar();	/* set -b from file */ 
		block_compress = maxbits & block_mask; 
		maxbits &= bit_mask; 
		maxmaxcode = 1 << maxbits; 
		fsize = 100000;		/* assume stdin large for usermem */ 
		if(maxbits > bits) { 
			fprintf(stderr, 
			"stdin: compressed with %d bits, can only handle %d bits\n", 
			maxbits, bits); 
			exit(1); 
		} 
	    } 
#ifndef debug 
	    decompress(); 
#else 
	    if (debug == 0)	decompress(); 
	    else		printcodes(); 
	    if (verbose)	dump_tab(); 
#endif /* debug */ 
	} 
    } 
    exit(exit_stat); 
} 
 
static int offset; 
long int in_count = 1;			/* length of input */ 
long int bytes_out;			/* length of compressed output */ 
long int out_count = 0;			/* # of codes output (for debugging) */ 
 
/* 
 * compress stdin to stdout 
 * 
 * algorithm:  use open addressing double hashing (no chaining) on the  
 * prefix code / next character combination.  we do a variant of knuth's 
 * algorithm d (vol. 3, sec. 6.4) along with g. knott's relatively-prime 
 * secondary probe.  here, the modular division first probe is gives way 
 * to a faster exclusive-or manipulation.  also do block compression with 
 * an adaptive reset, whereby the code table is cleared when the compression 
 * ratio decreases, but after the table fills.  the variable-length output 
 * codes are re-sized at this point, and a special clear code is generated 
 * for the decompressor.  late addition:  construct the table according to 
 * file size for noticeable speed improvement on small files.  please direct 
 * questions about this implementation to ames!jaw. 
 */ 
 
compress() { 
    register long fcode; 
    register code_int i = 0; 
    register int c; 
    register code_int ent; 
#ifdef xenix_16 
    register code_int disp; 
#else	/* normal machine */ 
    register int disp; 
#endif 
    register code_int hsize_reg; 
    register int hshift; 
 
#ifndef compatible 
    if (nomagic == 0) { 
	putchar(magic_header[0]); putchar(magic_header[1]); 
	putchar((char)(maxbits | block_compress)); 
	if(ferror(stdout)) 
		writeerr(); 
    } 
#endif /* compatible */ 
 
    offset = 0; 
    bytes_out = 3;		/* includes 3-byte header mojo */ 
    out_count = 0; 
    clear_flg = 0; 
    ratio = 0; 
    in_count = 1; 
    checkpoint = check_gap; 
    maxcode = maxcode(n_bits = init_bits); 
    free_ent = ((block_compress) ? first : 256 ); 
 
    ent = getchar (); 
 
    hshift = 0; 
    for ( fcode = (long) hsize;  fcode < 65536l; fcode *= 2l ) 
    	hshift++; 
    hshift = 8 - hshift;		/* set hash code range bound */ 
 
    hsize_reg = hsize; 
    cl_hash( (count_int) hsize_reg);		/* clear hash table */ 
 
#ifdef signed_compare_slow 
    while ( (c = getchar()) != (unsigned) eof ) { 
#else 
    while ( (c = getchar()) != eof ) { 
#endif 
	in_count++; 
	fcode = (long) (((long) c << maxbits) + ent); 
 	i = ((c << hshift) ^ ent);	/* xor hashing */ 
 
	if ( htabof (i) == fcode ) { 
	    ent = codetabof (i); 
	    continue; 
	} else if ( (long)htabof (i) < 0 )	/* empty slot */ 
	    goto nomatch; 
 	disp = hsize_reg - i;		/* secondary hash (after g. knott) */ 
	if ( i == 0 ) 
	    disp = 1; 
probe: 
	if ( (i -= disp) < 0 ) 
	    i += hsize_reg; 
 
	if ( htabof (i) == fcode ) { 
	    ent = codetabof (i); 
	    continue; 
	} 
	if ( (long)htabof (i) > 0 )  
	    goto probe; 
nomatch: 
	output ( (code_int) ent ); 
	out_count++; 
 	ent = c; 
#ifdef signed_compare_slow 
	if ( (unsigned) free_ent < (unsigned) maxmaxcode) { 
#else 
	if ( free_ent < maxmaxcode ) { 
#endif 
 	    codetabof (i) = free_ent++;	/* code -> hashtable */ 
	    htabof (i) = fcode; 
	} 
	else if ( (count_int)in_count >= checkpoint && block_compress ) 
	    cl_block (); 
    } 
    /* 
     * put out the final code. 
     */ 
    output( (code_int)ent ); 
    out_count++; 
    output( (code_int)-1 ); 
 
    /* 
     * print out stats on stderr 
     */ 
    if(zcat_flg == 0 && !quiet) { 
#ifdef debug 
	fprintf( stderr, 
		"%ld chars in, %ld codes (%ld bytes) out, compression factor: ", 
		in_count, out_count, bytes_out ); 
	prratio( stderr, in_count, bytes_out ); 
	fprintf( stderr, "\n"); 
	fprintf( stderr, "\tcompression as in compact: " ); 
	prratio( stderr, in_count-bytes_out, in_count ); 
	fprintf( stderr, "\n"); 
	fprintf( stderr, "\tlargest code (of last block) was %d (%d bits)\n", 
		free_ent - 1, n_bits ); 
#else /* !debug */ 
	fprintf( stderr, "compression: " ); 
	prratio( stderr, in_count-bytes_out, in_count ); 
#endif /* debug */ 
    } 
    if(bytes_out > in_count)	/* exit(2) if no savings */ 
	exit_stat = 2; 
    return; 
} 
 
/***************************************************************** 
 * tag( output ) 
 * 
 * output the given code. 
 * inputs: 
 * 	code:	a n_bits-bit integer.  if == -1, then eof.  this assumes 
 *		that n_bits =< (long)wordsize - 1. 
 * outputs: 
 * 	outputs code to the file. 
 * assumptions: 
 *	chars are 8 bits long. 
 * algorithm: 
 * 	maintain a bits character long buffer (so that 8 codes will 
 * fit in it exactly).  use the vax insv instruction to insert each 
 * code in turn.  when the buffer fills up empty it and start over. 
 */ 
 
static char buf[bits]; 
 
#ifndef vax 
char_type lmask[9] = {0xff, 0xfe, 0xfc, 0xf8, 0xf0, 0xe0, 0xc0, 0x80, 0x00}; 
char_type rmask[9] = {0x00, 0x01, 0x03, 0x07, 0x0f, 0x1f, 0x3f, 0x7f, 0xff}; 
#endif /* vax */ 
 
output( code ) 
code_int  code; 
{ 
#ifdef debug 
    static int col = 0; 
#endif /* debug */ 
 
    /* 
     * on the vax, it is important to have the register declarations 
     * in exactly the order given, or the asm will break. 
     */ 
    register int r_off = offset, bits= n_bits; 
    register char * bp = buf; 
 
#ifdef debug 
	if ( verbose ) 
	    fprintf( stderr, "%5d%c", code, 
		    (col+=6) >= 74 ? (col = 0, '\n') : ' ' ); 
#endif /* debug */ 
    if ( code >= 0 ) { 
#ifdef vax 
	/* vax dependent!! implementation on other machines is below. 
	 * 
	 * translation: insert bits bits from the argument starting at 
	 * offset bits from the beginning of buf. 
	 */ 
	0;	/* work around for pcc -o bug with asm and if stmt */ 
	asm( "insv	4(ap),r11,r10,(r9)" ); 
#else /* not a vax */ 
/*  
 * byte/bit numbering on the vax is simulated by the following code 
 */ 
	/* 
	 * get to the first byte. 
	 */ 
	bp += (r_off >> 3); 
	r_off &= 7; 
	/* 
	 * since code is always >= 8 bits, only need to mask the first 
	 * hunk on the left. 
	 */ 
	*bp = (*bp & rmask[r_off]) | (code << r_off) & lmask[r_off]; 
	bp++; 
	bits -= (8 - r_off); 
	code >>= 8 - r_off; 
	/* get any 8 bit parts in the middle (<=1 for up to 16 bits). */ 
	if ( bits >= 8 ) { 
	    *bp++ = code; 
	    code >>= 8; 
	    bits -= 8; 
	} 
	/* last bits. */ 
	if(bits) 
	    *bp = code; 
#endif /* vax */ 
	offset += n_bits; 
	if ( offset == (n_bits << 3) ) { 
	    bp = buf; 
	    bits = n_bits; 
	    bytes_out += bits; 
	    do 
		putchar(*bp++); 
	    while(--bits); 
	    offset = 0; 
	} 
 
	/* 
	 * if the next entry is going to be too big for the code size, 
	 * then increase it, if possible. 
	 */ 
	if ( free_ent > maxcode || (clear_flg > 0)) 
	{ 
	    /* 
	     * write the whole buffer, because the input side won't 
	     * discover the size increase until after it has read it. 
	     */ 
	    if ( offset > 0 ) { 
		if( fwrite( buf, 1, n_bits, stdout ) != n_bits) 
			writeerr(); 
		bytes_out += n_bits; 
	    } 
	    offset = 0; 
 
	    if ( clear_flg ) { 
    	        maxcode = maxcode (n_bits = init_bits); 
	        clear_flg = 0; 
	    } 
	    else { 
	    	n_bits++; 
	    	if ( n_bits == maxbits ) 
		    maxcode = maxmaxcode; 
	    	else 
		    maxcode = maxcode(n_bits); 
	    } 
#ifdef debug 
	    if ( debug ) { 
		fprintf( stderr, "\nchange to %d bits\n", n_bits ); 
		col = 0; 
	    } 
#endif /* debug */ 
	} 
    } else { 
	/* 
	 * at eof, write the rest of the buffer. 
	 */ 
	if ( offset > 0 ) 
	    fwrite( buf, 1, (offset + 7) / 8, stdout ); 
	bytes_out += (offset + 7) / 8; 
	offset = 0; 
	fflush( stdout ); 
#ifdef debug 
	if ( verbose ) 
	    fprintf( stderr, "\n" ); 
#endif /* debug */ 
	if( ferror( stdout ) ) 
		writeerr(); 
    } 
} 
 
/* 
 * decompress stdin to stdout.  this routine adapts to the codes in the 
 * file building the "string" table on-the-fly; requiring no table to 
 * be stored in the compressed file.  the tables used herein are shared 
 * with those of the compress() routine.  see the definitions above. 
 */ 
 
decompress() { 
    register char_type *stackp; 
    register int finchar; 
    register code_int code, oldcode, incode; 
 
    /* 
     * as above, initialize the first 256 entries in the table. 
     */ 
    maxcode = maxcode(n_bits = init_bits); 
    for ( code = 255; code >= 0; code-- ) { 
	tab_prefixof(code) = 0; 
	tab_suffixof(code) = (char_type)code; 
    } 
    free_ent = ((block_compress) ? first : 256 ); 
 
    finchar = oldcode = getcode(); 
    if(oldcode == -1)	/* eof already? */ 
	return;			/* get out of here */ 
    putchar( (char)finchar );		/* first code must be 8 bits = char */ 
    if(ferror(stdout))		/* crash if can't write */ 
	writeerr(); 
    stackp = de_stack; 
 
    while ( (code = getcode()) > -1 ) { 
 
	if ( (code == clear) && block_compress ) { 
	    for ( code = 255; code >= 0; code-- ) 
		tab_prefixof(code) = 0; 
	    clear_flg = 1; 
	    free_ent = first - 1; 
	    if ( (code = getcode ()) == -1 )	/* o, untimely death! */ 
		break; 
	} 
	incode = code; 
	/* 
	 * special case for kwkwk string. 
	 */ 
	if ( code >= free_ent ) { 
            *stackp++ = finchar; 
	    code = oldcode; 
	} 
 
	/* 
	 * generate output characters in reverse order 
	 */ 
#ifdef signed_compare_slow 
	while ( ((unsigned long)code) >= ((unsigned long)256) ) { 
#else 
	while ( code >= 256 ) { 
#endif 
	    *stackp++ = tab_suffixof(code); 
	    code = tab_prefixof(code); 
	} 
	*stackp++ = finchar = tab_suffixof(code); 
 
	/* 
	 * and put them out in forward order 
	 */ 
	do 
	    putchar ( *--stackp ); 
	while ( stackp > de_stack ); 
 
	/* 
	 * generate the new entry. 
	 */ 
	if ( (code=free_ent) < maxmaxcode ) { 
	    tab_prefixof(code) = (unsigned short)oldcode; 
	    tab_suffixof(code) = finchar; 
	    free_ent = code+1; 
	}  
	/* 
	 * remember previous code. 
	 */ 
	oldcode = incode; 
    } 
    fflush( stdout ); 
    if(ferror(stdout)) 
	writeerr(); 
} 
 
/***************************************************************** 
 * tag( getcode ) 
 * 
 * read one code from the standard input.  if eof, return -1. 
 * inputs: 
 * 	stdin 
 * outputs: 
 * 	code or -1 is returned. 
 */ 
 
code_int 
getcode() { 
    /* 
     * on the vax, it is important to have the register declarations 
     * in exactly the order given, or the asm will break. 
     */ 
    register code_int code; 
    static int offset = 0, size = 0; 
    static char_type buf[bits]; 
    register int r_off, bits; 
    register char_type *bp = buf; 
 
    if ( clear_flg > 0 || offset >= size || free_ent > maxcode ) { 
	/* 
	 * if the next entry will be too big for the current code 
	 * size, then we must increase the size.  this implies reading 
	 * a new buffer full, too. 
	 */ 
	if ( free_ent > maxcode ) { 
	    n_bits++; 
	    if ( n_bits == maxbits ) 
		maxcode = maxmaxcode;	/* won't get any bigger now */ 
	    else 
		maxcode = maxcode(n_bits); 
	} 
	if ( clear_flg > 0) { 
    	    maxcode = maxcode (n_bits = init_bits); 
	    clear_flg = 0; 
	} 
	size = fread( buf, 1, n_bits, stdin ); 
	if ( size <= 0 ) 
	    return -1;			/* end of file */ 
	offset = 0; 
	/* round size down to integral number of codes */ 
	size = (size << 3) - (n_bits - 1); 
    } 
    r_off = offset; 
    bits = n_bits; 
#ifdef vax 
    asm( "extzv   r10,r9,(r8),r11" ); 
#else /* not a vax */ 
	/* 
	 * get to the first byte. 
	 */ 
	bp += (r_off >> 3); 
	r_off &= 7; 
	/* get first part (low order bits) */ 
#ifdef no_uchar 
	code = ((*bp++ >> r_off) & rmask[8 - r_off]) & 0xff; 
#else 
	code = (*bp++ >> r_off); 
#endif /* no_uchar */ 
	bits -= (8 - r_off); 
	r_off = 8 - r_off;		/* now, offset into code word */ 
	/* get any 8 bit parts in the middle (<=1 for up to 16 bits). */ 
	if ( bits >= 8 ) { 
#ifdef no_uchar 
	    code |= (*bp++ & 0xff) << r_off; 
#else 
	    code |= *bp++ << r_off; 
#endif /* no_uchar */ 
	    r_off += 8; 
	    bits -= 8; 
	} 
	/* high order bits. */ 
	code |= (*bp & rmask[bits]) << r_off; 
#endif /* vax */ 
    offset += n_bits; 
 
    return code; 
} 
 
char * 
rindex(s, c)		/* for those who don't have it in libc.a */ 
register char *s, c; 
{ 
	char *p; 
	for (p = null; *s; s++) 
	    if (*s == c) 
		p = s; 
	return(p); 
} 
 
#ifdef debug 
printcodes() 
{ 
    /* 
     * just print out codes from input file.  for debugging. 
     */ 
    code_int code; 
    int col = 0, bits; 
 
    bits = n_bits = init_bits; 
    maxcode = maxcode(n_bits); 
    free_ent = ((block_compress) ? first : 256 ); 
    while ( ( code = getcode() ) >= 0 ) { 
	if ( (code == clear) && block_compress ) { 
   	    free_ent = first - 1; 
   	    clear_flg = 1; 
	} 
	else if ( free_ent < maxmaxcode ) 
	    free_ent++; 
	if ( bits != n_bits ) { 
	    fprintf(stderr, "\nchange to %d bits\n", n_bits ); 
	    bits = n_bits; 
	    col = 0; 
	} 
	fprintf(stderr, "%5d%c", code, (col+=6) >= 74 ? (col = 0, '\n') : ' ' ); 
    } 
    putc( '\n', stderr ); 
    exit( 0 ); 
} 
 
code_int sorttab[1<<bits];	/* sorted pointers into htab */ 
 
dump_tab()	/* dump string table */ 
{ 
    register int i, first; 
    register ent; 
#define stack_size	15000 
    int stack_top = stack_size; 
    register c; 
 
    if(do_decomp == 0) {	/* compressing */ 
	register int flag = 1; 
 
	for(i=0; i<hsize; i++) {	/* build sort pointers */ 
		if((long)htabof(i) >= 0) { 
			sorttab[codetabof(i)] = i; 
		} 
	} 
	first = block_compress ? first : 256; 
	for(i = first; i < free_ent; i++) { 
		fprintf(stderr, "%5d: \"", i); 
		de_stack[--stack_top] = '\n'; 
		de_stack[--stack_top] = '"'; 
		stack_top = in_stack((htabof(sorttab[i])>>maxbits)&0xff,  
                                     stack_top); 
		for(ent=htabof(sorttab[i]) & ((1<<maxbits)-1); 
		    ent > 256; 
		    ent=htabof(sorttab[ent]) & ((1<<maxbits)-1)) { 
			stack_top = in_stack(htabof(sorttab[ent]) >> maxbits, 
						stack_top); 
		} 
		stack_top = in_stack(ent, stack_top); 
		fwrite( &de_stack[stack_top], 1, stack_size-stack_top, stderr); 
	   	stack_top = stack_size; 
	} 
   } else if(!debug) {	/* decompressing */ 
 
       for ( i = 0; i < free_ent; i++ ) { 
	   ent = i; 
	   c = tab_suffixof(ent); 
	   if ( isascii(c) && isprint(c) ) 
	       fprintf( stderr, "%5d: %5d/'%c'  \"", 
			   ent, tab_prefixof(ent), c ); 
	   else 
	       fprintf( stderr, "%5d: %5d/\\%03o \"", 
			   ent, tab_prefixof(ent), c ); 
	   de_stack[--stack_top] = '\n'; 
	   de_stack[--stack_top] = '"'; 
	   for ( ; ent != null; 
		   ent = (ent >= first ? tab_prefixof(ent) : null) ) { 
	       stack_top = in_stack(tab_suffixof(ent), stack_top); 
	   } 
	   fwrite( &de_stack[stack_top], 1, stack_size - stack_top, stderr ); 
	   stack_top = stack_size; 
       } 
    } 
} 
 
int 
in_stack(c, stack_top) 
	register c, stack_top; 
{ 
	if ( (isascii(c) && isprint(c) && c != '\\') || c == ' ' ) { 
	    de_stack[--stack_top] = c; 
	} else { 
	    switch( c ) { 
	    case '\n': de_stack[--stack_top] = 'n'; break; 
	    case '\t': de_stack[--stack_top] = 't'; break; 
	    case '\b': de_stack[--stack_top] = 'b'; break; 
	    case '\f': de_stack[--stack_top] = 'f'; break; 
	    case '\r': de_stack[--stack_top] = 'r'; break; 
	    case '\\': de_stack[--stack_top] = '\\'; break; 
	    default: 
	 	de_stack[--stack_top] = '0' + c % 8; 
	 	de_stack[--stack_top] = '0' + (c / 8) % 8; 
	 	de_stack[--stack_top] = '0' + c / 64; 
	 	break; 
	    } 
	    de_stack[--stack_top] = '\\'; 
	} 
	return stack_top; 
} 
#endif /* debug */ 
 
writeerr() 
{ 
    perror ( ofname ); 
    unlink ( ofname ); 
    exit ( 1 ); 
} 
 
copystat(ifname, ofname) 
char *ifname, *ofname; 
{ 
    struct stat statbuf; 
    int mode; 
    time_t timep[2]; 
 
    fclose(stdout); 
    if (stat(ifname, &statbuf)) {		/* get stat on input file */ 
	perror(ifname); 
	return; 
    } 
    if ((statbuf.st_mode & s_ifmt/*0170000*/) != s_ifreg/*0100000*/) { 
	if(quiet) 
	    	fprintf(stderr, "%s: ", ifname); 
	fprintf(stderr, " -- not a regular file: unchanged"); 
	exit_stat = 1; 
    } else if (statbuf.st_nlink > 1) { 
	if(quiet) 
	    	fprintf(stderr, "%s: ", ifname); 
	fprintf(stderr, " -- has %d other links: unchanged", 
		statbuf.st_nlink - 1); 
	exit_stat = 1; 
    } else if (exit_stat == 2 && (!force)) { /* no compression: rm file.z */ 
	if(!quiet) 
		fprintf(stderr, " -- file unchanged"); 
    } else {			/* ***** successful compression ***** */ 
	exit_stat = 0; 
	mode = statbuf.st_mode & 07777; 
	if (chmod(ofname, mode))		/* copy modes */ 
	    perror(ofname); 
	chown(ofname, statbuf.st_uid, statbuf.st_gid);	/* copy ownership */ 
	timep[0] = statbuf.st_atime; 
	timep[1] = statbuf.st_mtime; 
	utime(ofname, timep);	/* update last accessed and modified times */ 
	if (unlink(ifname))	/* remove input file */ 
	    perror(ifname); 
	if(!quiet) 
		fprintf(stderr, " -- replaced with %s", ofname); 
	return;		/* successful return */ 
    } 
 
    /* unsuccessful return -- one of the tests failed */ 
    if (unlink(ofname)) 
	perror(ofname); 
} 
/* 
 * this routine returns 1 if we are running in the foreground and stderr 
 * is a tty. 
 */ 
foreground() 
{ 
	if(bgnd_flag) {	/* background? */ 
		return(0); 
	} else {			/* foreground */ 
		if(isatty(2)) {		/* and stderr is a tty */ 
			return(1); 
		} else { 
			return(0); 
		} 
	} 
} 
 
onintr ( ) 
{ 
    unlink ( ofname ); 
    exit ( 1 ); 
} 
 
oops ( )	/* wild pointer -- assume bad input */ 
{ 
    if ( do_decomp == 1 )  
    	fprintf ( stderr, "uncompress: corrupt input\n" ); 
    unlink ( ofname ); 
    exit ( 1 ); 
} 
 
cl_block ()		/* table clear for block compress */ 
{ 
    register long int rat; 
 
    checkpoint = in_count + check_gap; 
#ifdef debug 
	if ( debug ) { 
    		fprintf ( stderr, "count: %ld, ratio: ", in_count ); 
     		prratio ( stderr, in_count, bytes_out ); 
		fprintf ( stderr, "\n"); 
	} 
#endif /* debug */ 
 
    if(in_count > 0x007fffff) {	/* shift will overflow */ 
	rat = bytes_out >> 8; 
	if(rat == 0) {		/* don't divide by zero */ 
	    rat = 0x7fffffff; 
	} else { 
	    rat = in_count / rat; 
	} 
    } else { 
	rat = (in_count << 8) / bytes_out;	/* 8 fractional bits */ 
    } 
    if ( rat > ratio ) { 
	ratio = rat; 
    } else { 
	ratio = 0; 
#ifdef debug 
	if(verbose) 
		dump_tab();	/* dump string table */ 
#endif 
 	cl_hash ( (count_int) hsize ); 
	free_ent = first; 
	clear_flg = 1; 
	output ( (code_int) clear ); 
#ifdef debug 
	if(debug) 
    		fprintf ( stderr, "clear\n" ); 
#endif /* debug */ 
    } 
} 
 
cl_hash(hsize)		/* reset code table */ 
	register count_int hsize; 
{ 
#ifndef xenix_16	/* normal machine */ 
	register count_int *htab_p = htab+hsize; 
#else 
	register j; 
	register long k = hsize; 
	register count_int *htab_p; 
#endif 
	register long i; 
	register long m1 = -1; 
 
#ifdef xenix_16 
    for(j=0; j<=8 && k>=0; j++,k-=8192) { 
	i = 8192; 
	if(k < 8192) { 
		i = k; 
	} 
	htab_p = &(htab[j][i]); 
	i -= 16; 
	if(i > 0) { 
#else 
	i = hsize - 16; 
#endif 
 	do {				/* might use sys v memset(3) here */ 
		*(htab_p-16) = m1; 
		*(htab_p-15) = m1; 
		*(htab_p-14) = m1; 
		*(htab_p-13) = m1; 
		*(htab_p-12) = m1; 
		*(htab_p-11) = m1; 
		*(htab_p-10) = m1; 
		*(htab_p-9) = m1; 
		*(htab_p-8) = m1; 
		*(htab_p-7) = m1; 
		*(htab_p-6) = m1; 
		*(htab_p-5) = m1; 
		*(htab_p-4) = m1; 
		*(htab_p-3) = m1; 
		*(htab_p-2) = m1; 
		*(htab_p-1) = m1; 
		htab_p -= 16; 
	} while ((i -= 16) >= 0); 
#ifdef xenix_16 
	} 
    } 
#endif 
    	for ( i += 16; i > 0; i-- ) 
		*--htab_p = m1; 
} 
 
prratio(stream, num, den) 
file *stream; 
long int num, den; 
{ 
	register int q;			/* doesn't need to be long */ 
 
	if(num > 214748l) {		/* 2147483647/10000 */ 
		q = num / (den / 10000l); 
	} else { 
		q = 10000l * num / den;		/* long calculations, though */ 
	} 
	if (q < 0) { 
		putc('-', stream); 
		q = -q; 
	} 
	fprintf(stream, "%d.%02d%%", q / 100, q % 100); 
} 
 
version() 
{ 
	fprintf(stderr, "%s\n", rcs_ident); 
	fprintf(stderr, "options: "); 
#ifdef vax 
	fprintf(stderr, "vax, "); 
#endif 
#ifdef no_uchar 
	fprintf(stderr, "no_uchar, "); 
#endif 
#ifdef signed_compare_slow 
	fprintf(stderr, "signed_compare_slow, "); 
#endif 
#ifdef xenix_16 
	fprintf(stderr, "xenix_16, "); 
#endif 
#ifdef compatible 
	fprintf(stderr, "compatible, "); 
#endif 
#ifdef debug 
	fprintf(stderr, "debug, "); 
#endif 
#ifdef bsd4_2 
	fprintf(stderr, "bsd4_2, "); 
#endif 
	fprintf(stderr, "bits = %d\n", bits); 
} 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; form.l -- screen forms handler 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(declare 
  (specials t) 
  (macros t)) 
 
(eval-when (compile) 
  (load 'utilities) 
  (load 'constants) 
  (load 'zone) 
  (load 'look) 
  (load 'font) 
  (load 'text) 
  (load 'text-edit)) 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						generic fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(defstruct 
  (field		; generic field 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'generic-field)		; type = generic 
  (zone (make-zone))		; bounding zone 
  (properties (list nil))	; empty property list 
) 
 
(defvar field-properties	; list of expected field properties 
  '("field-properties" 
    fill-ground		(solid pattern)		; should we draw when highlit? 
    fill-colour		(x_colour x_pattern)	; what colour or pattern? 
    empty-ground 	(solid pattern)		; should we draw when unlit? 
    empty-colour	(x_colour x_pattern)	; what colour or pattern? 
    border-colour	(x_colour) ; should we draw border (and what colour?) 
   ))	; can use this as real plist for online documentation 
 
(defun draw-field (f)		; draw field from scratch 
  (apply (concat 'draw- (field-type f))	; construct draw function name 
	 (ncons f)))				; then call it 
 
(defun init-field (f)		; initialize a field 
  (apply (concat 'init- (field-type f))	; construct init function name 
	 (ncons f)))				; then call it 
 
(defun resize-field (f box)		; resize a field 
  (apply				; construct resize function name 
    (concat 'resize- (field-type f)) 
    (list f box)))				; then call it 
 
(defun toggle-field (f)		; toggle a field 
  (apply (concat 'toggle- (field-type f)) ; construct toggle fcn name 
	 (ncons f)))				; then call it 
 
(defun check-field (f p)	; check if point is inside field excl.border 
  (cond ((point-in-box-interior p (zone-box (field-zone f))) 
	 (apply			; if so, construct check function name 
	   (concat 'check- (field-type f)) 
	   (list f p)))		; then call it and return result 
	(t nil)))		; otherwise return nil 
 
(defun fill-field (f)		; fill the field interior, if defined 
  (let ((b (get (field-properties f) 'fill-ground))	; check if has one 
	(c (get (field-properties f) 'fill-colour))) 
       (cond ((eq b 'solid)	; solid background 
	      (cond (c (clear-zone-interior (field-zone f) c)) 
		    (t (clear-zone-interior (field-zone f) w-contrast)))) 
	     ((eq b 'pattern)	; patterned background 
	      (cond (c (pattern-zone-interior (field-zone f) c)) 
		    (t (pattern-zone-interior (field-zone f) w-pattern-1)))) 
       )))			; no background at all! 
 
(defun empty-field (f)		; empty the field interior, if defined 
  (let ((b (get (field-properties f) 'empty-ground)) ; check if has one 
	(c (get (field-properties f) 'empty-colour))) 
       (cond ((eq b 'solid)	; solid background 
	      (cond (c (clear-zone-interior (field-zone f) c)) 
		    (t (clear-zone-interior (field-zone f) w-background)))) 
	     ((eq b 'pattern)	; patterned background 
	      (cond (c (pattern-zone-interior (field-zone f) c)) 
		    (t (pattern-zone-interior (field-zone f) w-pattern-1)))) 
       )))			; no background at all! 
 
(defun draw-field-background (f)	; just what it says 
  (let ((b (get (field-properties f) 'empty-ground)) ; check if has one 
	(c (get (field-properties f) 'empty-colour))) 
       (cond ((eq b 'solid)	; solid background 
	      (cond (c (clear-zone (field-zone f) c)) 
		    (t (clear-zone (field-zone f) w-background)))) 
	     ((eq b 'pattern)	; patterned background 
	      (cond (c (pattern-zone (field-zone f) c)) 
		    (t (pattern-zone (field-zone f) w-pattern-1)))) 
       )))			; no background at all! 
 
(defun draw-field-border (f)		; draw outline, if any 
  (let ((c (get (field-properties f) 'border-colour))) 
       (cond (c (draw-zone-outline (field-zone f) c))) 
  )) 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						aggregate fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(defstruct 
  (aggregate-field	; aggregate field = form 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'aggregate-field)		; type 
  (zone (make-zone))		; bounding zone 
  (properties (list nil))	; empty property list 
  subfields			; list of subfields 
  selection			; which subfield was last hit 
) 
   
(defvar aggregate-field-properties 
  `("aggregate-field-properties" 
    = ,field-properties 
   ))	; can use this as real plist for online documentation 
 
(defun draw-aggregate-field (f) 
  (draw-field-background f)			; clear background, if any 
  (draw-field-border f)				; draw border, if any 
  (mapc 'draw-field (aggregate-field-subfields f)) ; draw subfields 
  (w-flush (window-w (zone-window (field-zone f)))) t) ; flush it out 
 
(defun init-aggregate-field (f) 
  (mapc 'init-field (aggregate-field-subfields f)) 
  (alter-aggregate-field f selection nil) t) 
 
(defun resize-aggregate-field (f box) 
  (alter-zone (field-zone f) box box)) 
 
(defun check-aggregate-field (f p) 
  (do ((subfields (aggregate-field-subfields f)	; go through subfields 
	 (cdr subfields)) 
       (gotcha)) 
      ((or (null subfields)				; stop when no more 
	   (setq gotcha (check-field (car subfields) p))) ; or when one is hit 
       (alter-aggregate-field f selection gotcha)	; remember which one 
       gotcha)))					; also return it 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						remote fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; a remote field is a field which activates another field when hit. 
;;; usually the remote field has some functional significance! 
 
(defstruct 
  (remote-field		; remote field 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'remote-field)		; type = remote 
  (zone (make-zone))		; bounding zone 
  (properties (list nil))	; empty plist 
  (target)			; the actual target field 
  (point)			; x,y coords to pretend to use 
) 
 
(defvar remote-field-properties 
  `("remote-field-properties" 
    = ,field-properties 
   ))	; can use this as real plist for online documentation 
 
(defun draw-remote-field (f) 't)	; nothing to draw 
 
(defun init-remote-field (f) 't)	; nothing to initialize 
 
(defun resize-remote-field (f box) 
  (alter-zone (field-zone f) box box)) 
 
(defun check-remote-field (f p) 
  (check-field 
    (remote-field-target f) 
    (remote-field-point f)))		; return result of checking target 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						button fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(defstruct 
  (button-field		; button field 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'button-field)		; type = button 
  (zone (make-zone))		; bounding zone 
  (properties 
    (list nil			; default properties 
	  'fill-ground 'solid 
	  'empty-ground 'solid 
	  'border-colour w-contrast 
    )) 
  (value nil)			; value 
) 
 
(defvar button-field-properties 
  `("button-field-properties" 
    = ,field-properties 
   ))	; can use this as real plist for online documentation 
 
(defun draw-button-field (f) 
  (draw-field-border f) 
  (cond ((button-field-value f) 
	 (fill-field f)) 
	(t (empty-field f)))) 
 
(defun toggle-button-field (f) 
  (alter-button-field f value (not (button-field-value f))) 
  (clear-zone-interior (field-zone f) w-xor)) 
 
(defun init-button-field (f) 
  (alter-button-field f value nil))	; turn it off 
 
(defun resize-button-field (f box) 
  (alter-zone (field-zone f) box box)) 
 
(defun check-button-field (f p) 
  (toggle-button-field f) f)	; if we get here it's a hit -> return self 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						radio-button fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; named for the buttons on radios in which only one is "in" at a time. 
 
(defstruct 
  (radio-button-field		; radio-button field 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'radio-button-field)		; type = radio-button 
  (zone (make-zone))		; bounding zone 
  (properties (list nil))	; empty plist 
  (subfields nil)		; individual buttons 
  (selection nil)		; which one last hit 
) 
 
(defvar radio-button-field-properties 
  `("radio-button-field-properties" 
    = ,aggregate-field-properties 
   ))	; can use this as real plist for online documentation 
 
(defun draw-radio-button-field (f) 
  (draw-aggregate-field f)) 
 
(defun init-radio-button-field (f) 
  (init-aggregate-field f)) 
 
(defun resize-radio-button-field (f box) 
  (alter-zone (field-zone f) box box)) 
 
(defun check-radio-button-field (f p) 
  (cond ((and (radio-button-field-selection f)	; if button previously sel'd 
	      (button-field-value 
		(radio-button-field-selection f))) ; and it has a value 
	 (toggle-field				; turn it off 
	   (radio-button-field-selection f)))) 
  (check-aggregate-field f p)			; check individual buttons 
)		; this will turn back on if same one sel'd, and return it 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						text fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(defstruct 
  (text-field		; text field 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'text-field)		; type = text 
  (zone (make-zone))		; bounding zone 
  (properties 
    (list nil 
	  'fill-ground 'solid 
	  'empty-ground 'solid 
	  'border-colour w-contrast 
	  'x-offset 5		; offset from left 
    )) 
  (value nil) 
  (text '||)			; text of text 
) 
 
(defvar text-field-properties 
  `("text-field-properties" 
    x-offset (x_pixels)		; text offset from box ll, otherwise centred 
    y-offset (x_pixels)		; text offset from box ll, otherwise centred 
    + ,button-field-properties 
   ))	; can use this as real plist for online documentation 
 
(defun draw-text-field (f) 
  (draw-button-field f) 
  (w-flush (window-w (zone-window (field-zone f)))) ; guarantee text on top 
  (draw-text (text-field-text f))) 
 
(defun redraw-text-field (f) 
  (empty-field f) 
  (w-flush (window-w (zone-window (field-zone f)))) ; guarantee text on top 
  (draw-text (text-field-text f))) 
 
(defun init-text-field (f)	; position & position the text in the field 
  (let ((s (text-field-text f)) 
	(x-offset (get (field-properties f) 'x-offset))	; x offset from ll 
	(y-offset (get (field-properties f) 'y-offset))); y offset from ll 
       (alter-text s 
	 zone (make-zone			; ensure it has a zone 
		window (zone-window (field-zone f)) 
		box (box-interior (zone-box (field-zone f))))) 
       (format-text s)		; ensure text delta calculated 
       (cond ((null x-offset)		; x-offset specified? 
	      (setq x-offset		; nope! centre it left-right 
		    (/ (- (x (box-size (zone-box (field-zone f)))) 
			  (x (text-delta s))) 
		       2)))) 
       (cond ((null y-offset)		; y-offset specified? 
	      (setq y-offset		; nope! centre it up-down 
		    (/ (- (y (box-size (zone-box (field-zone f)))) 
			  (font-x-height (look-font (text-look s)))) 
		       2)))) 
       (alter-text s			; now position the text 
	 offset (make-point x x-offset y y-offset)) 
       )) 
 
(defun resize-text-field (f box)	; position the text in the field 
  (alter-zone (field-zone f) box box) 
  (init-text-field f)) 
 
(defun check-text-field (f p) 
  (input-text-field f) f)	; if we get here it's a hit -> return self 
 
(defun input-text-field (f) 
  (alter-text (text-field-text f) 
    text '|| nn 0 kr 0 kl 0 delta (make-point x 0 y 0)) 
  (draw-text-field f) 
  (edit-text-field f (ll (zone-box (text-zone (text-field-text f)))))) 
 
(defun edit-text-field (f p)		; edit in middle of text field 
  (edit-text (text-field-text f) p)	; edit the text 
  (draw-field f))			; redraw 
 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						prompt fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(defstruct 
  (prompt-field		; prompt field 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'prompt-field)		; type = prompt 
  (zone (make-zone))		; bounding zone 
  (properties 
    (list nil 'x-offset 0))	; put it exactly where spec indicates. 
  (value nil) 
  (text '||)			; text of prompt 
) 
 
(defvar prompt-field-properties 
  `("prompt-field-properties" 
    = ,text-field-properties 
   ))	; can use this as real plist for online documentation 
 
(defun draw-prompt-field (f) 
  (draw-text-field f)) 
 
(defun init-prompt-field (f) 
  (init-text-field f)) 
 
(defun resize-prompt-field (f box)	; position the text in the field 
  (resize-text-field f box)) 
 
(defun check-prompt-field (f p) f) ; just return self 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						text-button fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; a text-button is a button tied to a text. 
;;; when the button is pressed, the text is input from the keyboard. 
;;; zone could same as either the button (activation by button only) 
;;; or include both button & text (should then be adjacent) 
 
(defstruct 
  (text-button-field		; text-button field 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'text-button-field)		; type = text-button 
  (zone (make-zone))		; bounding zone 
  (properties (list nil))	; empty plist 
  (button)			; button subfield 
  (text)			; text subfield 
) 
 
(defvar text-button-field-properties 
  `("text-button-field-properties" 
    = ,field-properties 
   ))	; can use this as real plist for online documentation 
 
(defun draw-text-button-field (f) 
  (draw-field (text-button-field-button f)) 
  (draw-text-field (text-button-field-text f))) 
 
(defun init-text-button-field (f) 
  (init-field (text-button-field-button f)) 
  (init-text-field (text-button-field-text f))) 
 
(defun resize-text-button-field (f box) 
  (alter-zone (field-zone f) box box)) 
 
(defun toggle-text-button-field (f)	; toggle only the button part 
  (cond ((button-field-value		; and only if non-nil 
	   (text-button-field-button f)) 
	 (toggle-button-field (text-button-field-button f))))) 
 
(defun check-text-button-field (f p) 
  (cond ((check-field (text-button-field-button f) p) 
	 (input-text-field			; input from scratch 
	   (text-button-field-text f)))	; get the data 
	(t (toggle-button-field			; must be pointing at text 
	     (text-button-field-button f))	; toggle only the button part 
	   (edit-text-field 
	     (text-button-field-text f) p))	; edit the data 
  ) 
  (toggle-button-field			; toggle button back 
    (text-button-field-button f)) 
  (alter-button-field (text-button-field-button f) 
    value nil)			; keep aggregate from toggling again 
  f)					; return self 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						labelled button fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(defstruct 
  (labelled-button-field ; labelled button field 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'labelled-button-field)	; type = labelled-button 
  (zone (make-zone))		; bounding zone 
  (properties 
    (list nil 
	  'fill-ground 'solid 
	  'empty-ground 'solid 
	  'border-colour w-contrast 
    )) 
  (value nil)			; value 
  (text '||)			; label text 
) 
 
(defvar labelled-button-field-properties 
  `("labelled-button-field-properties" 
    = ,text-field-properties 
   ))	; can use this as real plist for online documentation 
 
(defun draw-labelled-button-field (f) 
  (draw-text-field f)) 
 
(defun init-labelled-button-field (f) 
  (init-text-field f)) 
 
(defun resize-labelled-button-field (f box) 
  (resize-text-field f box)) 
 
(defun check-labelled-button-field (f p) 
  (toggle-button-field f) f)	; if we get here it's a hit -> return self 
 
(defun toggle-labelled-button-field (f) 
  (toggle-button-field f)) 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;						expanded-bitmap fields 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(defstruct 
  (expanded-bitmap-field	; expanded-bitmap field 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (type 'expanded-bitmap-field)	; type = expanded-bitmap 
  (zone (make-zone))		; bounding zone 
  (properties (list nil))	; empty plist 
  (subfields nil)		; individual bits 
  (selection nil)		; which one last hit 
  (nrows 1) 
  (ncols 1) 
) 
 
(defvar expanded-bitmap-field-properties 
  `("expanded-bitmap-field-properties" 
    = ,aggregate-field-properties 
   ))	; can use this as real plist for online documentation 
 
(defun draw-expanded-bitmap-field (f) 
  (draw-aggregate-field f)) 
 
(defun init-expanded-bitmap-field (f) 
  (let ((s (divide-points			; calculate x,y dimensions 
	     (box-size (zone-box (field-zone f))) 
	     (make-point 
	       x (expanded-bitmap-field-ncols f) 
	       y (expanded-bitmap-field-nrows f))))) 
       (do ((z (field-zone f)) 
	    (r nil) 
	    (x (x (ll (zone-box (field-zone f))))) 
	    (y (y (ll (zone-box (field-zone f)))) 
	       (+ y dy)) 
	    (dx (x s)) 
	    (dy (y s)) 
	    (nc (expanded-bitmap-field-nrows f)) 
	    (nr (expanded-bitmap-field-nrows f)) 
	    (j 0 (1+ j))) 
	   ((= j nr) (alter-aggregate-field f subfields (nreverse r)) 't) 
	   (do ((x x (+ x dx)) 
		(p) 
		(i 0 (1+ i))) 
	       ((= i nc))			; create a row of buttons 
	       (setq p (make-point x x y y)) 
	       (setq r (xcons r (make-button-field zone (append z nil)))) 
	       (alter-zone (field-zone (car r)) 
		 box (make-box ll p ur (add-points p s))) 
	   )))) 
 
(defun resize-expanded-bitmap-field (f box) 
  (alter-zone (field-zone f) box box) 
  (let ((s (divide-points			; calculate x,y dimensions 
	     (box-size box) 
	     (make-point 
	       x (expanded-bitmap-field-ncols f) 
	       y (expanded-bitmap-field-nrows f))))) 
       (do ((z (field-zone f)) 
	    (r (expanded-bitmap-field-subfields f)) 
	    (x (x (ll box))) 
	    (y (y (ll box)) (+ y dy)) 
	    (dx (x s)) 
	    (dy (y s)) 
	    (nc (expanded-bitmap-field-nrows f)) 
	    (nr (expanded-bitmap-field-nrows f)) 
	    (j 0 (1+ j))) 
	   ((= j nr) t) 
	   (do ((x x (+ x dx)) 
		(p) 
		(i 0 (1+ i))) 
	       ((= i nc))			; create a row of buttons 
	       (setq p (make-point x x y y)) 
	       (resize-button-field (car r) 
		 (make-box ll p ur (add-points p s))) 
	       (setq r (cdr r)) 
	   )))) 
 
(defun check-expanded-bitmap-field (f p) 
  (check-aggregate-field f p))	; if we get here it's a hit -> check subfields 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; utilities.l								; 
;;;									; 
;;; these macros and functions are thought to be generally useful.	; 
;;;									; 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;							macros		; 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(declare 
  (macros t)		; keep macros around after compiling 
  (localf pairify* pairifyq* split2* sublist*) 
  (special compiled-with-help)) 
 
(defmacro copy-all-but-last (ls)	; copy all but last member of list 
  `(let ((ls ,ls)) 
	(firstn (1- (length ls)) 
	  ls))) 
 
(defmacro all-but-last (ls)		; destructive all-but-last 
  `(let ((ls ,ls)) 
	(cond ((cdr ls) 
	       (rplacd (nthcdr (- (length ls) 2) ls) nil) 
	       ls)))) 
 
(def hex (macro (arglist)		; hex to integer conversion 
		`(car (hex-to-int ',(cdr arglist))))) 
 
;;; define properties on symbols for use by help routines 
 
(defmacro def-usage (fun usage returns group) 
  (cond (compiled-with-help	; flag controls help generation 
	  `(progn (putprop ,fun ,usage 'fcn-usage) 
		  (putprop ,fun ,returns 'fcn-returns) 
		  (putprop ,fun (nconc ,group (ncons ,fun)) 'fcn-group))))) 
(defvar compiled-with-help t)	; unless otherwise notified 
 
;;; (letenv 'l_bind_plist g_expr1 ... g_exprn) -- pair-list form of "let" 
;;; lambda-binds pairs of "binding-objects" (see description of let,let*), 
;;; at run time, then evaluates g_expr1 to g_exprn, returning g_exprn. eg: 
;;; (apply 'letenv '(letenv '(a 1 b (+ c d)) 
;;;		      (e)(f g))) 
;-> (eval (cons 'let (cons (pairify '(a 1 b (+ c d))) 
;;;			   '((e) (f g))))) 
;-> (let ((a 1) (b (+ c d))) 
;;;	 (e) (f g)) 
(def letenv 
  (macro (x) 
    `(eval (cons 'let 
	     (cons 
	       (pairify ,(cadr x))	; plist of binding objects 
	       ',(cddr x))))))		; exprs to be eval'ed 
 
(def letenvq			; letenv, quoted binding objects 
  (macro (x) 
    `(eval (cons 'let 
	     (cons 
	       (pairifyq ,(cadr x))	; plist of binding objects 
	       ',(cddr x))))))		; exprs to be eval'ed 
 
(defmacro mergecar (l1 l2 cmpfn)	; merge, comparing by car's 
  `(merge ,l1 ,l2 '(lambda (e1 e2)		; (like sortcar) 
		     (funcall ,cmpfn (car e1) (car e2))))) 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;;							functions	; 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; (all-but-last l_items)	-- copy all but last list element 
 
;(defun all-but-last (ls) 
;  (cond ((cdr ls) (cons (car ls) (all-but-last (cdr ls)))))) 
 
;;; (alphap sx_char) 
(defun alphap (char)			; is char alphabetic? 
  (cond ((symbolp char) 
	 (setq char (car (exploden char))))) 
  (and (fixp char) 
       (or (and (>& char #.(1- #/a)) 
		(<& char #.(1+ #/z))) 
	   (and (>& char #.(1- #/a)) 
		(<& char #.(1+ #/z)))))) 
 
;;; (alphanumericp sx_char) 
(defun alphanumericp (char)		; is char alphabetic or numeric? 
  (cond ((symbolp char) 
	 (setq char (car (exploden char))))) 
  (and (fixp char) 
       (or (and (>& char #.(1- #/a)) 
		(<& char #.(1+ #/z))) 
	   (and (>& char #.(1- #/a)) 
		(<& char #.(1+ #/z))) 
	   (and (>& char #.(1- #/0)) 
		(<& char #.(1+ #/9)))))) 
 
;;; (assqonc 'g_key 'g_val 'l_al) 
;;; like   (cond ((assq key alist)) 
;;;		 (t (cadr (rplacd (last alist) 
;;;			    (ncons (cons key val)))))) 
(defun assqonc (key val al)	; tack (key.val) on end if not found 
  (do ((al al (cdr al))) 
      ((or (eq key (caar al)) 
	   (and (null (cdr al)) 
		(rplacd al (setq al (ncons (cons key val)))))) 
       (car al)))) 
 
;;; (cartesian l_xset l_yset) 
(defun cartesian (xset yset)		; cartesian product of elements 
  (mapcan 
    '(lambda (x) 
       (mapcar 
	 '(lambda (y) (cons x y)) 
	 yset)) 
    xset)) 
 
(defun concat-pairs (sb-list)	; concat neighbouring symbol pairs 
  (do ((s1 (car sb-list) s2) 
       (s2 (cadr sb-list) (car sbs-left)) 
       (sbs-left (cddr sb-list) (cdr sbs-left)) 
       (result nil (cons (concat s1 s2) result))) 
      ((null s2) (nreverse result)))) 
;;; (detach l) 
;;; detaches (and throws away) first element of list (converse of attach) 
;;; keeping the same initial list cell. 
(defun detach (l) 
  (cond (l (rplacd l (cddr (rplaca l (cadr l))))))) 
 
;;; (distribute x_q x_n) 
;;; returns list of the form: (1 1 1 0 0 0 0 1 1) or (3 2 2 2 3) 
;;; i.e. a list of length <n> containing quantity <q> evenly distributed 
;;; with the excess <q mod n> surrounding a "core" of <q div n>'s 
;;; useful (?) for padding spaces in line adjustment. 
;(defun distribute (q n)	; this one only does 1's and 0's 
;  (cond ((signp le q) (duplicate n 0)) 
;	((eq q 1) (pad 0 n '(1))) 
;	(t (cons 1 (nconc 
;		     (distribute (- q 2) (- n 2)) 
;		     '(1)))))) 
 
(defun distribute (q n)		; distribute quantity q among n elements 
  (let ((tmp (divide (abs q) n))) 
       (setq tmp (distribute0 (cadr tmp) n (car tmp) (1+ (car tmp)))) 
       (cond ((signp ge q) tmp) 
	     (t (mapcar 'minus tmp))))) 
 
(defun distribute0 (q n x x1) 
  (cond ((signp le q) (duplicate n x)) 
	((eq q 1) (pad x n (ncons x1))) 
	(t (cons x1 (nconc 
			  (distribute0 (- q 2) (- n 2) x x1) 
			  (ncons x1)))))) 
 
;;; (duplicate x_n g_object) 
;;; returns list of n copies of object (nil if n <= 0) 
(defun duplicate (n object) 
  (do ((res nil (cons object res)) 
       (i n (1- i))) 
      ((signp le i) res))) 
 
(defun e0 (in out)		; simulate binary insertion procedure 
  (let ((lin (length in)) 
	(lout (length out))) 
       (cond ((> lin lout) 
	      (e0 
		(nthcdr lout in) 
		(mapcan 'list out (firstn lout in)))) 
	     (t (nconc (mapcan 'list (firstn lin out) in) 
		       (nthcdr lin out)))))) 
 
(defun e (files)		; determine file permutation for emacs insert 
  (let ((i (e0 (cdr (iota (length files))) '(0))) 
	(f (append files nil))) 
       (mapc '(lambda (f-index f-name) 
		(rplaca (nthcdr f-index f) f-name)) 
	     i files) 
       f)) 
 
;;; (firstn x_n l_listarg) 
(defun firstn (n l)		;  copy first <n> elements of list 
  (do ((n n (1- n)) 
       (l l (cdr l)) 
       (r nil)) 
      ((not (plusp n)) (nreverse r))		; <nil> if n=0 or -ve 
      (setq r (cons (car l) r)))) 
 
;;; (iota x_n) 
;;; apl index generator (0,1,2,...,<n>-1) 
(defun iota (n) 
  (do ((i (1- n) (1- i)) 
       (res nil)) 
      ((minusp i) res) 
      (setq res (cons i res)))) 
 
(defun hex-to-int (numlist)		; eg. (hex-to-int '(12b3 120 8b)) 
  (cond 
    (numlist			; terminate recursion on null numlist 
      (cons 
	(apply '+ 
	       (maplist 
		 '(lambda (digits) 
		    (lsh 
		      (get '(hex |0| 0 |1| 1 |2| 2 |3| 3 
				 |4| 4 |5| 5 |6| 6 |7| 7 
				 |8| 8 |9| 9  a 10  b 11 
				  c 12  d 13  e 14  f 15) 
			   (car digits)) 
		      (lsh (1- (length digits)) 2))) 
		 (explodec (car numlist)))) 
	(hex-to-int (cdr numlist))))))   
 
;;; (lctouc g_expr) 
;;; returns s-expression formed by translating lower-case alphabetic 
;;; characters in <expr> to their upper-case equivalents. 
;;; operates by imploding the translated characters, in the case of a 
;;; symbol or string, or by recursively calling on members of a list. 
;;; other object types are returned unchanged. 
(defun lctouc (expr) 
    (cond 
	((dtpr expr) (mapcar 'uctolc expr)) 
	((or (symbolp expr) (stringp expr)) 
	 (implode 
	     (mapcar 
		 '(lambda (ch) 
		      (cond ((alphap ch)		; and-out lower-case bit 
			     (boole 1 #.(1- (1- #/a)) ch)) (t ch))) 
		 (exploden expr)))) 
	(t expr))) 
 
;;; (log2 x_n) 
(defun log2 (n)			; log base 2 (truncated) 
  (do ((n (lsh n -1) (lsh n -1)) 
       (p 0 (1+ p))) 
      ((zerop n) p))) 
 
;;; (lowerp sx_char) 
(defun lowerp (char)		; is char lower-case alphabetic? 
  (cond ((symbolp char) 
	 (setq char (car (exploden char))))) 
  (and (fixp char) 
       (or (and (> char #.(1- #/a)) 
		(< char #.(1+ #/z)))))) 
 
;;; (numericp sx_char) 
;;; returns t if char is numeric, otherwise nil 
(defun numericp (char) 
  (cond ((symbolp char)(setq char (car (exploden char))))) 
  (and (fixp char) 
       (and (> char #.(1- #/0)) 
	    (< char #.(1+ #/9))))) 
 
;;; (pad g_item x_n l_list) 
;;; returns <list> padded with copies of <item> to length <n> 
(defun pad (item n list) 
  (append list (duplicate (- n (length list)) item))) 
 
;;; (pairify l_items)	; make a-list from alternating elements 
(defun pairify (pl) 
  (pairify* nil pl)) 
(defun pairify* (rs pl)		; tail-recursive local fun 
  (cond (pl (pairify* (cons (list (car pl) (cadr pl)) rs) 
		       (cddr pl))) 
	(t (nreverse rs)))) 
 
;;; (pairifyq l_items)	; make a-list from alternating elements 
(defun pairifyq (pl)	; with each second element quoted 
  (pairifyq* nil pl)) 
(defun pairifyq* (rs pl)		; tail-recursive local fun 
  (cond (pl (pairifyq* (cons (list (car pl) (kwote (cadr pl))) rs) 
		       (cddr pl))) 
	(t (nreverse rs)))) 
 
;;; (penultimate l_items)	; cdr down to next-to-last list element 
(defun penultimate (ls)	 
  (cond ((cddr ls) (penultimate (cdr ls))) 
	(t ls))) 
 
;;; (split2 l_l) 
;;; splits list <l> into two (new) second-level lists 
(defun split2* (l tc1 tc2) 
  (cond ((null l) (list (nreverse tc1) (nreverse tc2))) 
	(t (split2* (cddr l) 
	     (cons (car l) tc1) 
	     (cons (cadr l) tc2))))) 
 
(defun split2 (l) 
  (split2* l nil nil)) 
 
;;; (sublist l il) 
;;; splits list <l> (destructively) into (length il) sub-lists. 
;;; il is a list of starting indices, base zero, should be unique positive 
;;; fixnums in ascending order, and shouldn't exceed the length of l. 
;;; each resulting sublist <i> begins with (nthcdr (nth <i> il) l) 
(defun sublist (l il) 
  (sublist* 0 nil (cons nil l) il)) 
(defun sublist* (i r l il)		; tail-recursion function 
  (cond ((and l il) 
	 (cond 
	   ((<& i (car il)) 
	    (sublist* (1+ i) r (cdr l) il)) 
	   (t (sublist* (1+ i) 
			(cons (cdr l) r) 
			(prog1 (cdr l) (rplacd l nil)) 
			(cdr il))))) 
	(t (nreverse r)))) 
 
(defun try-fun (fun l-arg)	; try function on each arg until non-nil 
  (cond ((funcall fun (car l-arg))) 
	(l-arg (try-fun fun (cdr l-arg))))) 
 
;;; (uctolc g_expr) 
;;; returns s-expression formed by translating upper-case alphabetic 
;;; characters in <expr> to their lower-case equivalents. 
;;; operates by imploding the translated characters, in the case of a 
;;; symbol or string, or by recursively calling on members of a list. 
;;; other object types are returned unchanged. 
(defun uctolc (expr) 
    (cond 
	((dtpr expr) (mapcar 'uctolc expr)) 
	((or (symbolp expr) (stringp expr)) 
	 (implode 
	     (mapcar 
		 '(lambda (ch) 
		      (cond ((alphap ch)		; or-in lower-case bit 
			     (boole 7 #.(1- #/a) ch)) (t ch))) 
		 (exploden expr)))) 
	(t expr))) 
 
;;; (unique a l) -- scan <l> for an element <e> "equal" to <a>. 
;;; if found, return <e>. otherwise nconc <a> onto <l>; return <a>. 
(defun unique (a l)			; ensure unique in list 
  (car 
    (do ((cdr_ul l (cdr ul)) 
	 (ul l cdr_ul)) 
	((null cdr_ul) (rplacd ul (ncons a))) 
	(cond ((equal a (car cdr_ul)) (return cdr_ul)))))) 
 
;;; (upperp sx_char) 
(defun upperp (char)		; is char upper-case alphabetic? 
  (cond ((symbolp char) 
	 (setq char (car (exploden char))))) 
  (and (fixp char) 
       (or (and (> char #.(1- #/a)) 
		(< char #.(1+ #/z)))))) 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; zone.l -- data structures and routines for concrete window zones 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; a "point" is a pair of integer x,y coordinates 
;;; a "box" is a pair of points defining lower left and upper right corners 
;;; a "position" is a point coupled with a window 
;;; a "zone" is a box coupled with a window 
;;; a "window" is a machine, integer window id and, for compatibility 
;;;	with the toolbox, an integer toolbox window pointer 
;;; a "machine" is a name coupled with the j-process-id's of resident servers 
;;; the basic idea is to define a notion of a concrete position for a 
;;; display object, that can be incorporated into the object data structure. 
;;; higher levels of software can use the objects without explicit reference 
;;; to server processes, windows and machines. 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(declare 
  (specials t)			; global vars not local to this file 
  (macros t))			; compile macros as well 
 
(eval-when (compile)		; trust  to higher level for eval & load 
  (load 'utilities)		; utility functions 
  (load 'constants)		; common constants for window toolbox 
;  (load 'shape)		; arbitrarily shaped screen areas 
) 
 
(defstruct 
  (position		; a concrete display position 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (window (make-window))	; concrete window 
  (point (make-point))		; actual x, y coordinates 
) 
 
(defstruct 
  (zone			; a concrete display zone 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (window (make-window))	; concrete window 
  (box (make-box))		; bounding box of zone 
  (colour w-background)		; colour (for scrolling etc) 
  shape 
) 
 
(defstruct 
  (window		; concrete window 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (id 0)			; integer window id 
  (machine (make-machine))	; machine (workstation) 
  (w 0)				; toolbox window structure pointer 
) 
 
(defstruct 
  (machine		; machine (workstation) 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (name	'unknown-machine)	; machine name 
  (servers nil)			; plist of server processes living there 
) 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; manipulation routines 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(defun add-points (p q)		; vector sum (x1+x2) (y1+y2) 
  (make-point 
    x (+ (x p) (x q)) 
    y (+ (y p) (y q)))) 
 
(defun subtract-points (p q)	; vector subtract (x1-x2) (y1-y2) 
  (make-point 
    x (- (x p) (x q)) 
    y (- (y p) (y q)))) 
 
(defun multiply-points (p q)	; vector multiply (x1*x2) (y1*y2) 
  (make-point 
    x (* (x p) (x q)) 
    y (* (y p) (y q)))) 
 
(defun divide-points (p q)	; vector division (x1-x2) (y1-y2) 
  (make-point 
    x (/ (x p) (x q)) 
    y (/ (y p) (y q)))) 
 
(defun move-point (p q)		; move point p to point q 
  (alter-point p 
    x (x q) 
    y (y q)) 
  t)					; return true 
 
(defun box-size (b)		; size of box = ur - ll 
  (subtract-points (ur b) (ll b))) 
 
(defun box-interior (b)		; return box just inside this box dimensions 
  (make-box 
    ll (add-points (ll b) '(1 1)) 
    ur (subtract-points (ur b) '(1 1)))) 
 
(defun move-box (b p)		; move box b to point p (lower-left) 
  (let ((size (box-size b))) 
       (alter-box b 
	 ll p 
	 ur (add-points p size)) 
       t))				; return true 
 
(defun point-in-box (p b)	; is point p in box b? (including boundary) 
  (and (>= (x p) (x (ll b))) 
       (<= (x p) (x (ur b))) 
       (>= (y p) (y (ll b))) 
       (<= (y p) (y (ur b))) 
  )) 
 
(defun point-in-box-interior (p b) ; is point p in box b? (excluding boundary) 
  (and (> (x p) (x (ll b))) 
       (< (x p) (x (ur b))) 
       (> (y p) (y (ll b))) 
       (< (y p) (y (ur b))) 
  )) 
 
(defun init-window (w)		; fill in  "window" structure 
  (let				; presuming window-w predefined 
    ((m (j-machine-name (w-get-manager (window-w w))))) 
    (alter-window w id (w-get-id (window-w w))) 
    (cond ((not (window-machine w)) 
	   (alter-window w machine (make-machine name m))) 
	  (t (alter-machine (window-machine w) name m))) 
    (init-machine (window-machine w))	; also fill in machine structure 
    t))				; return true 
 
(defun init-machine (m)		; fill in "machine" structure 
  (cond				; presuming machine-name predefined 
    ((null (machine-servers m))		; if no plist, make new one 
     (alter-machine m servers (ncons 'servers:)))) 
  (mapc '(lambda (pname)		; for each expected server name 
	   (let 
	     ((pid (j-search-machine-e jipc-error-code 
		     (machine-name m) 
		     pname)))		; try to find one on that machine 
	     (cond ((j-same-process pid j-no-process) 
		    (putprop (machine-servers m) nil pname)) ; failed! use nil 
		   (t (putprop (machine-servers m) pid pname))))) ; success! 
	expected-workstation-servers)	; global list of process names 
  t)					; return true 
 
(defvar expected-workstation-servers	; global list of process names 
  '(window_manager creator savemem 
     text-composer))			; usually want at least these 
 
(defun window-box (w)		; box fills entire window 
  (let ((w-size (w-get-window-size (window-w w)))) 
       (make-box 
	 ll (make-point x 0 y 0) 
	 ur (make-point x (car w-size) y (cadr w-size))) 
  )) 
 
(defun clear-zone (z colour)	; clear zone (including boundaries) 
  (let ((b (box-size (zone-box z)))) 
       (w-clear-rectangle (window-w (zone-window z)) 
	 (x (ll (zone-box z))) (y (ll (zone-box z))) 
	 (1+ (x b)) (1+ (y b)) 
	 colour))) 
 
(defun clear-zone-interior (z colour)	; clear zone (excluding boundaries) 
  (let ((b (box-size (zone-box z)))) 
       (w-clear-rectangle (window-w (zone-window z)) 
	 (1+ (x (ll (zone-box z)))) (1+ (y (ll (zone-box z)))) 
	 (1- (x b)) (1- (y b)) 
	 colour))) 
 
(defun pattern-zone (z pattern)	; pattern zone (including boundaries) 
  (let ((b (zone-box z))) 
       (w-pattern-rectangle (window-w (zone-window z)) 
	 (x (ll b)) (y (ll b)) 
	 (1+ (x (ur b))) (1+ (y (ur b))) pattern) 
  )) 
 
(defun pattern-zone-interior (z pattern) ; pattern zone (excluding boundaries) 
  (let ((b (box-size (zone-box z)))) 
       (w-pattern-rectangle (window-w (zone-window z)) 
	 (1+ (x (ll (zone-box z)))) (1+ (y (ll (zone-box z)))) 
	 (1- (x b)) (1- (y b)) pattern) 
  )) 
 
(defun draw-zone-outline (z colour)	; draw zone boundaries 
  (let* ((w (window-w (zone-window z))) 
	 (b (zone-box z)) 
	 (ll (ll b)) 
	 (ur (ur b))) 
	(w-draw-vector w (x ll) (y ll) (x ll) (y ur) colour) 
	(w-draw-vector w (x ll) (y ur) (x ur) (y ur) colour) 
	(w-draw-vector w (x ur) (y ur) (x ur) (y ll) colour) 
	(w-draw-vector w (x ur) (y ll) (x ll) (y ll) colour) 
  )) 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; font.l -- font manipulation 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(eval-when (compile) 
  (load 'utilities) 
  (load 'constants)) 
 
(defvar -installed-fonts nil)	; list of installed fonts 
 
(defstruct 
  (font			; font structure 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (name 'standard) 
  (size 8) 
  (body 8) 
  (cap-height 7) 
  (x-height 5) 
  (fixed-width 5) 
  (first 0) 
  (last 127) 
  glyph			; the actual characters 
) 
 
(defstruct 
  (glyph			; glyph structure 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  code 
  width 
  (bytes (byte-block 32))	; the actual bitmap 
) 
 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; 				font manipulation routines 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(defun read-font (family size path) 
  (let ((p (infile path))		; open file 
	(x (new-vectori-long 2)) 
	(f nil)) 
       (setq f (make-font 
		 name family 
		 size (tyi p) 
		 body (tyi p) 
		 cap-height (tyi p) 
		 x-height (tyi p) 
		 fixed-width (tyi p) 
		 first (prog1 (tyi p) (tyi p)) 
		 last (prog1 (tyi p) (tyi p)))) 
       (alter-font f glyph 
	 (do ((i (font-first f) (1+ i)) 
	      (r (ncons nil)) 
	      (g))	    
	     ((> i (font-last f)) (car r)) 
	     (setq g (make-glyph code i))	; allocate char 
	     (do ((j 0 (1+ j)))			; read bitmap 
		 ((> j 31)) 
		 (vseti-byte (glyph-bytes g) j (tyi p))) 
	     (alter-glyph g width (tyi p))	; read width 
	     (setq r (tconc r g)) 
	 )) 
       (close p)			; close file 
 
       (rplacd				; install font 
	 (cond ((assoc (list (font-name f) (font-size f)) -installed-fonts)) 
	       (t (car (setq -installed-fonts 
			     (cons (ncons (list (font-name f) (font-size f))) 
				   -installed-fonts))))) 
	 f) 
       f))				; return font 
 
(def-usage 'read-font '(|'st_family| |'x_size| |'st_path|) 
  'l_font-descriptor 
  (setq fcn-group (ncons "font manipulation:"))) 
 
(defun install-font (f) 
  (cdr 
    (rplacd				; install font 
      (cond ((assoc (list (font-name f) (font-size f)) -installed-fonts)) 
	    (t (car (setq -installed-fonts 
			  (cons (ncons (list (font-name f) (font-size f))) 
				-installed-fonts))))) 
      f))) 
 
(defun find-font (family size)	; always "finds" one even if dummy 
  (cond ((cdr (assoc (list family size) -installed-fonts))) 
	(t (install-font (make-font name family size size))))) 
 
(def-usage 'find-font 
  '(|'st_family| |'x_size|) 
  'l_font-descriptor 
  fcn-group) 
 
(defun create-font (driver font) 
  (j-send-se-list driver 
    (list 'make-font 
	  (font-name font) 
	  (font-size font) 
	  (font-body font) 
	  (font-cap-height font) 
	  (font-x-height font) 
	  (font-fixed-width font) 
	  (font-first font) 
	  (font-last font)))) 
 
(defun download-glyph (driver font glyph) 
  (j-put-items 
    `((j-string set-glyph) 
       (j-string ,(font-name font)) 
       (j-int ,(font-size font)) 
       (j-int ,(glyph-code glyph)) 
       (j-int ,(glyph-width glyph)) 
       (j-block ,(glyph-bytes glyph)))) 
  (j-send driver)) 
 
(defun download-font (driver font) 
  (do ((g (font-glyph font)) 
       (font-size (font-size font))) 
      ((null g)) 
      (j-put-items 
	`((j-string set-glyph) 
	  (j-string ,(font-name font)) 
	  (j-int ,font-size))) 
      (do ((gg g (cdr gg))) 
	  ((or (null gg) (j-put-items 
			   `((j-int ,(glyph-code (car gg))) 
			     (j-int ,(glyph-width (car gg))) 
			     (j-block 
			       ,(glyph-bytes (car gg)) 
			       ,(+ font-size font-size))))) 
	   (setq g gg)))		; when buffer full, save remainder 
      (j-send driver) 
      (cond ((eq j-string (j-next-item-type)) 
	     (j-gets j-comm-string 128)		; skip past message string 
	     (cond ((eq j-int (j-next-item-type))(patom (j-geti))(terpr))))) 
  )) 
 
(def-usage 'download-font 
  '(|'x_process-id| |'l_font-descriptor|) 
  't 
  fcn-group) 
 
(defun read-create-download-font (driver family size path) 
  (let ((f (read-font family size path))) 
       (create-font driver f) 
       (download-font driver f) 
       f)) 
 
(def-usage 'read-create-download-font 
  '(|'x_process-id| |'st_family| |'x_size| |'st_path|) 
  'l_font-descriptor 
  fcn-group) 
 
(defun font-depth (f) 
  (- (font-body f) (font-cap-height f))) 
 
(defun font-height (f) 
  (font-cap-height f)) 
 
(defun get-font-list (sc) ; arg is string-composer or font-server pid 
  (j-send-se sc 'get-font-list) 
  (pairify (mapcar 
	     '(lambda (x) 
		(cond ((stringp (cadr x)) (concat (cadr x))) 
		      (t (cadr x)))) 
	     (j-get-items)))) 
 
(defun get-all-font-info (sc) ; arg is string-composer or font-server pid 
  (mapc '(lambda (f) 
	   (rplacd (apply 'find-font f) 
	     (cdr (progn 
		    (j-send-se-list sc (cons 'get-font-info f)) 
		    (mapcar 'cadr (j-get-items)))))) 
	(get-font-list sc))) 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; text.l -- fancy text strings 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
 
(declare 
  (specials t) 
  (macros t)) 
 
(eval-when (compile) 
  (load 'utilities) 
  (load 'constants) 
  (load 'zone) 
  (load 'font) 
  (load 'look)) 
 
(defstruct 
  (text		; text structure 
    (:displace t) 
    (:list) 
    (:conc-name)) 
  (text '||)			; the text to draw 
  (look (make-look))		; what style to draw it in 
  (kl 0)			; (starting) left kerning mask 
  (zone (make-zone))		; specific window, clipping box 
  (offset (make-point))		; offset of start point from zone ll 
  (kr 0)			; (final) right kerning mask 
  (delta (make-point))		; change in (x,y) relative to start point 
  (nn -1)			; char count 
) 
 
;;; note: clipping box of ((0 0) (-1 -1)) uses window boundaries 
 
(defun text-width (s)		; presumes non-rotated 
  (x (text-delta s))) 
 
(defun text-box (s)		; presumes non-rotated 
  (make-box 
    ll (subtract-points 
	 (text-start-point s) 
	 (make-point x 0 y (font-depth (look-font (text-look s))))) 
    ur (add-points 
	 (text-end-point s) 
	 (make-point x 0 y (font-height (look-font (text-look s))))))) 
 
(defun text-start-point (s) 
  (add-points 
    (ll (zone-box (text-zone s))) 
    (text-offset s))) 
 
(defun text-end-point (s) 
  (add-points 
    (text-start-point s) 
    (text-delta s))) 
 
(defun text-x (s)	; x coord of start of text object 
  (+ (x (ll (zone-box (text-zone s)))) 
     (x (text-offset s)))) 
 
(defun text-y (s)	; y coord of start of text object 
  (+ (y (ll (zone-box (text-zone s)))) 
     (y (text-offset s)))) 
 
(defun text-xx (s)	; x coord of end of text object 
  (+ (x (ll (zone-box (text-zone s)))) 
     (x (text-offset s)) 
     (x (text-delta s)))) 
 
(defun text-yy (s)	; y coord of end of text object 
  (+ (y (ll (zone-box (text-zone s)))) 
     (y (text-offset s)) 
     (y (text-delta s)))) 
 
(defun move-text (s p)	; move s to new x,y 
  (alter-text s 
    offset (subtract-points p (ll (zone-box (text-zone s)))))) 
 
(defun draw-text (s)		; quietly draw text, clipping to zone box 
  (let (((x y) (text-start-point s)) 
	(l (text-look s))) 
       (j-put-items 
	 `((j-string compose) 
	   (j-int ,(window-id (zone-window (text-zone s)))) 
	   (j-string ,(text-text s)) 
	   (j-string ,(font-name (look-font l))) 
	   (j-int ,(font-size (look-font l))) 
	   (j-int ,(boole 7 (look-mode l) quiet)) 
	   (j-int ,(look-colour l)) 
	   (j-int ,(look-gap l)) 
	   (j-int ,(look-ul l)) 
	   (j-int ,(text-kl s)) 
	   (j-int ,x) 
	   (j-int ,y) 
	   (j-int ,(x (cond 
			((zerop (boole 1 rotate-180 (look-mode l))) 
			 (ur (zone-box (text-zone s)))) 
			(t (ll (zone-box (text-zone s))))))) 
	   (j-int ,(y (cond 
			((zerop (boole 1 rotate-90 (look-mode l))) 
			 (ur (zone-box (text-zone s)))) 
			(t (ll (zone-box (text-zone s))))))) 
	   (j-int ,(text-nn s)) 
	  )) 
       (j-send (get (machine-servers 
		      (window-machine 
			(zone-window 
			  (text-zone s)))) 
		    'text-composer)) 
  )) 
 
(defun undraw-text (s)	; quietly undraw text, clipping to zone box 
  (let (((x y) (text-start-point s)) 
	(l (text-look s))) 
       (j-put-items 
	 `((j-string compose) 
	   (j-int ,(window-id (zone-window (text-zone s)))) 
	   (j-string ,(text-text s)) 
	   (j-string ,(font-name (look-font l))) 
	   (j-int ,(font-size (look-font l))) 
	   (j-int ,(boole 7 overstrike quiet (look-mode l))) 
	   (j-int ,(inverse-colour (look-colour l))) 
	   (j-int ,(look-gap l)) 
	   (j-int ,(look-ul l)) 
	   (j-int ,(text-kl s)) 
	   (j-int ,x) 
	   (j-int ,y) 
	   (j-int ,(x (cond 
			((zerop (boole 1 rotate-180 (look-mode l))) 
			 (ur (zone-box (text-zone s)))) 
			(t (ll (zone-box (text-zone s))))))) 
	   (j-int ,(y (cond 
			((zerop (boole 1 rotate-90 (look-mode l))) 
			 (ur (zone-box (text-zone s)))) 
			(t (ll (zone-box (text-zone s))))))) 
	   (j-int ,(text-nn s)) 
	  )) 
       (j-send (get (machine-servers 
		      (window-machine 
			(zone-window 
			  (text-zone s)))) 
		    'text-composer)) 
  )) 
 
(defun format-text (s)	; format text without drawing or clipping 
  (let ((memop (symbolp (text-text s)))	; can only memoize symbols 
	(k) (p) (q) (l (text-look s))) 
       (cond 
	 (memop					; are we memoizing? yes! 
	   (setq k (unique-look-id l))	; key based on look 
	   (setq p (get (text-text s) k))		; alist found on plist 
	   (setq q (assoc (text-kl s) p))))		; entry based on kl 
       (cond 
	 (q (alter-text s			; if info found 
	      kr (cadr q)			; record result 
	      delta (caddr q)			; then return 
	      nn (cadddr q))) 
	 (t					; otherwise compute data 
	   (j-put-items 
	     `((j-string compose) 
	       (j-int 0)			; no window needed 
	       (j-string ,(text-text s)) 
	       (j-string ,(font-name (look-font l))) 
	       (j-int ,(font-size (look-font l))) 
	       (j-int ,(boole 7 no-draw (look-mode l))) 
	       (j-int ,(look-colour l)) 
	       (j-int ,(look-gap l)) 
	       (j-int ,(look-ul l)) 
	       (j-int ,(text-kl s)) 
	       (j-int 0)			; starting point 0 0 
	       (j-int 0) 
	       (j-int -1)			; no clipping 
	       (j-int -1) 
	       (j-int -1) 
	      )) 
	   (j-send (get (machine-servers 
			  (window-machine 
			    (zone-window 
			      (text-zone s)))) 
			'text-composer)) 
	   (let ((kr (j-geti))			; now record result 
		 (xx (j-geti)) 
		 (yy (j-geti)) 
		 (nn (j-geti))) 
		(alter-text s 
		  kr kr 
		  delta (make-point x xx y yy) 
		  nn nn) 
		(cond (memop				; memoize if req'd 
			(cond (p (nconc p 
				   (ncons (list (text-kl s) kr 
						(text-delta s) nn)))) 
			      (t (putprop (text-text s) 
				   (ncons (list (text-kl s) kr 
						(text-delta s) nn)) 
				   k)))) 
		)) 
	 )) 
       't))					; always return t 
 
(defun scan-text (s p) ; scan text s for point p, return (kr delta nn) 
  (let (((x y) (text-start-point s))		; inside: check text 
	(l (text-look s))) 
       (j-put-items 
	 `((j-string compose) 
	   (j-int 0) 
	   (j-string ,(text-text s)) 
	   (j-string ,(font-name (look-font l))) 
	   (j-int ,(font-size (look-font l))) 
	   (j-int ,(boole 7 no-draw (look-mode l))) 
	   (j-int ,(look-colour l)) 
	   (j-int ,(look-gap l)) 
	   (j-int ,(look-ul l)) 
	   (j-int ,(text-kl s)) 
	   (j-int ,x) 
	   (j-int ,y) 
	   (j-int ,(x p)) 
	   (j-int ,(y p)) 
	   (j-int ,(text-nn s)) 
	  )) 
       (j-send (get (machine-servers 
		      (window-machine 
			(zone-window 
			  (text-zone s)))) 
		    'text-composer)) 
       (let ((kr (j-geti))			; now record result 
	     (xx (j-geti)) 
	     (yy (j-geti)) 
	     (nn (j-geti))) 
	    (list kr (make-point x (- xx x) y (- yy y)) nn)) 
  )) 
 
(defun format-draw-text (s)		; draw it while formatting 
  (let ((memop (symbolp (text-text s)))	; can only memoize symbols 
	((x y) (text-start-point s)) 
	(k) (p) (q) (l (text-look s))) 
       (cond 
	 (memop					; are we memoizing? yes! 
	   (setq k (unique-look-id l))	; key based on look 
	   (setq p (get (text-text s) k))		; alist found on plist 
	   (setq q (assoc (text-kl s) p))))		; entry based on kl 
       (cond 
	 (q (alter-text s			; if info found 
	      kr (cadr q)			; record result 
	      delta (caddr q) 
	      nn (cadddr q)) 
	    (draw-text s))			; draw it & return 
	 (t					; otherwise compute data 
	   (j-put-items 
	     `((j-string compose) 
	       (j-int ,(window-id (zone-window (text-zone s)))) 
	       (j-string ,(text-text s)) 
	       (j-string ,(font-name (look-font l ))) 
	       (j-int ,(font-size (look-font l))) 
	       (j-int ,(boole 4 (look-mode l) quiet)) 
	       (j-int ,(look-colour l)) 
	       (j-int ,(look-gap l)) 
	       (j-int ,(look-ul l)) 
	       (j-int ,(text-kl s)) 
	       (j-int ,x) 
	       (j-int ,y) 
	       (j-int ,(x (cond 
			    ((zerop (boole 1 rotate-180 (look-mode l))) 
			     (ur (zone-box (text-zone s)))) 
			    (t (ll (zone-box (text-zone s))))))) 
	       (j-int ,(y (cond 
			    ((zerop (boole 1 rotate-90 (look-mode l))) 
			     (ur (zone-box (text-zone s)))) 
			    (t (ll (zone-box (text-zone s))))))) 
	       (j-int -1)			; format to end of text 
	      )) 
	   (j-send (get (machine-servers 
			  (window-machine 
			    (zone-window 
			      (text-zone s)))) 
			'text-composer)) 
	   (let ((kr (j-geti))			; now alter result data 
		 (xx (j-geti)) 
		 (yy (j-geti)) 
		 (nn (j-geti))) 
		(cond ((neq nn (length (exploden (text-text s)))) 
		       (format-text s))	; actually clipped! reformat 
		      (t (alter-text s 
			   kr kr 
			   delta (make-point x (- xx x) y (- yy y)) 
			   nn nn) 
			 (cond 
			   (memop		; memoize if req'd 
			     (cond (p (nconc p 
					(ncons (list (text-kl s) kr 
						     (text-delta s) nn)))) 
				   (t (putprop (text-text s) 
					(ncons (list (text-kl s) kr 
						     (text-delta s) nn)) 
					k)))) 
			 )) 
		)) 
	 )) 
       't))					; always return t 
 
(defun backspace-text (s n)	; undraw last n characters, remove from text 
  (cond				; this presumes s has valid delta,kr,nn 
    ((plusp (text-nn s))	; proceed only if length > 0 
     (setq n (min n (text-nn s)))	; can't delete more than nn chars 
     (let ((text (text-text s)) 
	   (l (text-look s))) 
	  (alter-text s		; keep all but last n chars 
	    text (substring text 1 (- (text-nn s) n)) 
	    nn (- (text-nn s) n)) 
	  (format-text s)		; reformat to find the new end 
	  (j-put-items 
	    `((j-string compose)	; now undraw last character 
	      (j-int ,(window-id (zone-window (text-zone s)))) 
	      (j-string ,(substring text (- n))) ; undraw last n chars 
	      (j-string ,(font-name (look-font l))) 
	      (j-int ,(font-size (look-font l))) 
	      (j-int ,(boole 7 quiet overstrike (look-mode l))) 
	      (j-int ,(inverse-colour (look-colour l))) 
	      (j-int ,(look-gap l)) 
	      (j-int ,(look-ul l)) 
	      (j-int ,(text-kr s)) 
	      (j-int ,(text-xx s)) 
	      (j-int ,(text-yy s)) 
	      (j-int ,(x (cond 
			   ((zerop (boole 1 rotate-180 (look-mode l))) 
			    (ur (zone-box (text-zone s)))) 
			   (t (ll (zone-box (text-zone s))))))) 
	      (j-int ,(y (cond 
			   ((zerop (boole 1 rotate-90 (look-mode l))) 
			    (ur (zone-box (text-zone s)))) 
			   (t (ll (zone-box (text-zone s))))))) 
	      (j-int ,n) 
	     )) 
	  (j-send (get (machine-servers 
			 (window-machine 
			   (zone-window 
			     (text-zone s)))) 
		       'text-composer)) 
	  't))			; return t if able to do it; nil if nn <= 0 
  )) 
 
(defun append-text (s c)	; draw new char(s) & add to end of text 
  (cond ((fixp c)		; this presumes s has valid delta,kr,nn 
	 (setq c (ascii c)))) 
  (j-put-items 
    `((j-string compose)	; draw new last character(s) 
      (j-int ,(window-id (zone-window (text-zone s)))) 
      (j-string ,c) 
      (j-string ,(font-name (look-font (text-look s)))) 
      (j-int ,(font-size (look-font (text-look s)))) 
      (j-int ,(boole 4 (look-mode (text-look s)) quiet))	; be noisy! 
      (j-int ,(look-colour (text-look s))) 
      (j-int ,(look-gap (text-look s))) 
      (j-int ,(look-ul (text-look s))) 
      (j-int ,(text-kr s))	; this presumes s has valid delta,kr,nn 
      (j-int ,(text-xx s)) 
      (j-int ,(text-yy s)) 
	       (j-int ,(x (cond 
			    ((zerop (boole 1 rotate-180 (look-mode l))) 
			     (ur (zone-box (text-zone s)))) 
			    (t (ll (zone-box (text-zone s))))))) 
	       (j-int ,(y (cond 
			    ((zerop (boole 1 rotate-90 (look-mode l))) 
			     (ur (zone-box (text-zone s)))) 
			    (t (ll (zone-box (text-zone s))))))) 
      (j-int -1) 
     )) 
  (j-send (get (machine-servers 
		 (window-machine 
		   (zone-window 
		     (text-zone s)))) 
	       'text-composer)) 
  (let ((kr (j-geti)) 
	(xx (j-geti)) 
	(yy (j-geti)) 
	(nn (j-geti))) 
       (alter-text s 
	 text (concat (text-text s) c) 
	 kr kr 
	 delta (subtract-points 
		 (make-point x xx y yy) 
		 (text-start-point s)) 
	 nn (+ (text-nn s) nn))) 
  't) 
 
(defun append-text-scroll (s c colour) ; draw and add new char(s) 
  (let ((w (window-id	;  while scrolling zone box b in specified colour 
	     (zone-window (text-zone s)))) 
	(b (zone-box (text-zone s))) 
	(l (text-look s))) 
       (cond ((fixp c) 
	      (setq c (ascii c)))) ; this presumes s has valid delta,kr,nn 
       (j-put-items 
	 `((j-string compose)	; format new last character 
	   (j-int ,w) 
	   (j-string ,c) 
	   (j-string ,(font-name (look-font l))) 
	   (j-int ,(font-size (look-font l))) 
	   (j-int ,(boole 7 no-draw (look-mode l))) 
	   (j-int ,(look-colour l)) 
	   (j-int ,(look-gap l)) 
	   (j-int ,(look-ul l)) 
	   (j-int ,(text-kr s)) ; this presumes s has valid delta,kr,nn 
	   (j-int 0) 
	   (j-int 0) 
	   (j-int -1) 
	   (j-int -1) 
	   (j-int -1) 
	  )) 
       (j-send (get (machine-servers 
		      (window-machine 
			(zone-window 
			  (text-zone s)))) 
		    'text-composer)) 
       (let ((kr (j-geti)) 
	     (xx (j-geti)) 
	     (yy (j-geti)) 
	     (nn (j-geti))) 
	    (apply 
	      'w-scroll-rectangle 
	      (nconc 
		(ncons (window-w (zone-window (text-zone s)))) 
		(let ((direction (boole 1 rotation 
					(look-mode l)))) 
		     (cond 
		       ((= direction rotate-0) 
			(list (text-xx s) 
			      (y (ll b)) 
			      (- (x (ur b)) (text-xx s) -1) 
			      (- (y (ur b)) (y (ll b)) -1) 
			      wm-right xx)) 
		       ((= direction rotate-90) 
			(list (x (ll b)) 
			      (text-yy s) 
			      (- (x (ur b)) (x (ll b)) -1) 
			      (- (y (ur b)) (text-yy s) -1) 
			      wm-up yy)) 
		       ((= direction rotate-180) 
			(list (x (ll b)) 
			      (y (ll b)) 
			      (- (text-xx s) (x (ll b)) -1) 
			      (- (y (ur b)) (y (ll b)) -1) 
			      wm-left (- xx))) 
		       ((= direction rotate-270) 
			(list (x (ll b)) 
			      (y (ll b)) 
			      (- (x (ur b)) (x (ll b)) -1) 
			      (- (text-yy s) (y (ll b)) -1) 
			      wm-down (- yy))) 
		     )) 
		(ncons colour))) 
	    (w-flush (window-w (zone-window (text-zone s)))) 
	    (j-put-items 
	      `((j-string compose)	; draw new last character 
		(j-int ,w) 
		(j-string ,c) 
		(j-string ,(font-name (look-font l))) 
		(j-int ,(font-size (look-font l))) 
		(j-int ,(boole 7 (look-mode l) quiet)) 
		(j-int ,(look-colour l)) 
		(j-int ,(look-gap l)) 
		(j-int ,(look-ul l)) 
		(j-int ,(text-kr s)) ; this presumes s has valid delta,kr,nn 
		(j-int ,(text-xx s)) 
		(j-int ,(text-yy s)) 
	       (j-int ,(x (cond 
			    ((zerop (boole 1 rotate-180 (look-mode l))) 
			     (ur (zone-box (text-zone s)))) 
			    (t (ll (zone-box (text-zone s))))))) 
	       (j-int ,(y (cond 
			    ((zerop (boole 1 rotate-90 (look-mode l))) 
			     (ur (zone-box (text-zone s)))) 
			    (t (ll (zone-box (text-zone s))))))) 
		(j-int -1) 
	       )) 
	    (j-send (get (machine-servers 
			   (window-machine 
			     (zone-window 
			       (text-zone s)))) 
			 'text-composer)) 
	    (alter-text s 
	      text (concat (text-text s) c) 
	      kr kr 
	      delta (add-points 
		      (make-point x xx y yy) 
		      (text-delta s)) 
	      nn (+ (text-nn s) nn)) 
       )'t)) 
 
(defun format-text-list (sl)			; chain the text objects 
  (do ((s (car sl) (car sl))			; so that xx,yy,kr of one 
       (sl (cdr sl) (cdr sl)))			; used as x,y,kl of next 
      ((null sl) (format-text s) 't) 
      (format-text s) 
      (alter-text (car sl) 
	kl (text-kr s)) 
      (move-text (car sl) (text-end-point s)) 
  )) 
 
(defun move-text-list (sl p)	; move whole list of text objects 
  (do ((s (car sl) (car sl)) 
       (sl (cdr sl) (cdr sl)) 
       (p p (text-end-point s))) 
      ((null s) 't) 
      (move-text s p) 
  )) 
 
(defun compress-text-list (sl)		; combine like-moded text objects 
  (do ((s (car sl) (car sl))			; to reduce communication 
       (sl (cdr sl) (cdr sl)) 
       (new-text nil) 
       (new-end-point (text-start-point s)) 
       (new-s (append (car sl) nil))	; top-level copy 
       (dx nil) 
       (gap (look-gap (text-look (car sl)))) 
       (result nil)) 
      ((null s) (alter-text new-s 
		   text (apply 'concat (nreverse new-text)) 
		   nn -1) 
       (nreverse (cons new-s result)))		; return new s-list 
      (setq dx (- (x (text-start-point s)) 
		  (x new-end-point))) 
      (cond ((and			; check most likely diffs first 
	       (or (eq dx 0) (>= dx (look-gap (text-look s)))) 
	       (= (y (text-start-point s)) (y new-end-point)) 
	       (eq (text-look s) 
		   (text-look new-s)) 
	     )				; presume kerning doesn't matter! 
	     (cond ((plusp dx)		; horizontal movement 
		    (setq new-text 
			  (cons 
			    (implode 
			      (do ((dx (- dx gap 4) (- dx gap 4)) 
				   (result nil)) 
				  ((minusp dx) 
				   (do ((dx (+ dx 4 -1) (- dx gap 1))) 
				       ((minusp dx) 
					(cond ((eq dx -1) 
					       (setq result 
						     (cons 1 result))))) 
							; 0-pixel space 
				       (setq result (cons 2 result))) 
							; 1-pixel space 
				   result) 
				  (setq result (cons 3 result)) 
							; 4-pixel space 
			      )) 
			    new-text)))) 
	     (setq new-text (cons (text-text s) new-text)) 
	     (setq new-end-point (text-end-point s)) 
	    ) 
	    (t (alter-text new-s 
		 text (apply 'concat (nreverse new-text)) 
		 nn -1 
		 delta (subtract-points new-end-point 
			 (text-start-point new-s))) 
	       (setq result (cons new-s result)) 
	       (setq new-s (append s nil) 
		     new-text (ncons (text-text s))) 
	       (setq 
		 new-end-point (text-start-point s) 
		 gap (look-gap (text-look s))) 
	    ) 
      ))) 
 
(defun draw-text-list (sl) 
  (mapc '(lambda (x) (draw-text x)) sl) 't) 
 
(defun undraw-text-list (sl) 
  (mapc '(lambda (x) (undraw-text x)) sl) 't) 
 
(defun format-draw-text-list (slist) ; format all on same line 
  (do ((s (car slist) (car sl)) 
       (sl (cdr slist) (cdr sl))) 
      ((null sl) (format-draw-text s))	; format the last one 
      (format-draw-text s) 
      (move-text (car sl)	; chain xx,yy,kr to next one's x,y,kl 
	(text-end-point s)) 
  )) 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; text-edit.l -- rudimentary line editor for fancy character texts 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
;;; 
;;; these routines provide a simple line editor with control keys reminiscent 
;;; of the default emacs key bindings. 
;;; 
;;; the calling program presumably has obtained a "point" event, at 
;;; position "p".  the cursor will be placed on the nearest character, 
;;; and then input is accepted from the keyboard, until such time as a 
;;; <return> key is accepted, or a point event occurs outside the text 
;;; zone boundary, or until a non-key, non-point event occurs.  another 
;;; point event within the text zone causes the cursor to be re-positioned. 
;;; 
;;; editing operations currently supported are: 
;;;	ctrl-a (ascii 1)	; control a = beginning of line 
;;;	ctrl-b (ascii 2)	; control b = backward-character 
;;;	ctrl-d (ascii 4)	; control d = delete next char 
;;;	ctrl-e (ascii 5)	; control e = end of line 
;;;	ctrl-f (ascii 6)	; control f = forward-character 
;;;	backspace (ascii 8)	; backspace = delete previous char 
;;;	ctrl-k (ascii 11)	; control k = kill to end of line 
;;;	ctrl-l (ascii 12)	; control l = redraw text 
;;;	return (ascii 13)	; return = "done" 
;;;	ctrl-t (ascii 20)	; control t = transpose previous 2 chars 
;;;	ctrl-y (ascii 25)	; control y = "yank" recently killed text 
 
(declare 
  (specials t) 
  (macros t)) 
 
(eval-when (compile) 
  (load 'utilities) 
  (load 'constants) 
  (load 'zone) 
  (load 'font) 
  (load 'look) 
  (load 'text)) 
 
 
(eval-when (compile eval load) 
  (defvar backspace (ascii 8))	; backspace char = delete previous char 
  (defvar return (ascii 13))	; carriage return = "done" 
  (defvar ctrl-a (ascii 1))	; control a = beginning of line 
  (defvar ctrl-b (ascii 2))	; control b = backward-character 
  (defvar ctrl-d (ascii 4))	; control d = delete next char 
  (defvar ctrl-e (ascii 5))	; control e = end of line 
  (defvar ctrl-f (ascii 6))	; control f = forward-character 
  (defvar ctrl-k (ascii 11))	; control k = kill to end of line 
  (defvar ctrl-l (ascii 12))	; control l = redraw text 
  (defvar ctrl-t (ascii 20))	; control t = transpose previous 2 chars 
  (defvar ctrl-y (ascii 25))	; control y = "yank" recently killed text 
  (defvar typeahead-threshold 5); can type at most 5 chars -> forced feedback 
) 
 
(defun edit-text (s p)	; edit a text at point p 
  (cond					; p outside zone => nil 
    ((not (point-in-box p (zone-box (text-zone s)))) nil) 
    (t					; p inside zone => edit text 
      (let 
	((w (window-w (zone-window (text-zone s)))) 
	 (post (append s nil)) 
	 (kill-text "")) 
	(split-texts s post p)	; split into left and right parts 
	(draw-cursor-leading-text post)	; highlight first char 
	(skip-stroke-release-events w) 
	(do ((e (w-get-next-event w)		; get an event 
		(w-get-next-event w))		; then keep getting events 
	     (l) (c))				; character list, character 
	    ((eq c '#.return)		; stop when <return> is received 
	     (cond ((neq e wm-key)	; if not caused by key, put event back 
		    (w-put-back-event w))) 
	     (combine-texts s post) 
	     t)			; just return 't 
	    (cond			; main loop 
	      ((eq e wm-key) 
	       (setq c (concat (car (w-get-key w))))	; get the character 
	       (cond 
		 ((eq c '#.backspace)		; backspace char 
		  (text-delete-previous-character s post)) 
		 ((eq c '#.ctrl-a)			; control a 
		  (text-beginning-of-line s post)) 
		 ((eq c '#.ctrl-b)			; control b 
		  (text-backward-character s post)) 
		 ((eq c '#.ctrl-d)			; control d 
		  (text-delete-next-character s post)) 
		 ((eq c '#.ctrl-e)			; control e 
		  (text-end-of-line s post)) 
		 ((eq c '#.ctrl-f)			; control f 
		  (text-forward-character s post)) 
		 ((eq c '#.ctrl-k)			; control k 
		  (text-kill-to-end-of-line s post)) 
		 ((eq c '#.ctrl-l)			; control l 
		  (text-redraw-display s post)) 
		 ((eq c '#.ctrl-t)			; control t 
		  (text-transpose-characters s post)) 
		 ((eq c '#.ctrl-y)			; control y 
		  (text-yank-from-killbuffer s post)) 
		 ((neq c '#.return)			; not <return> 
		  (text-insert-character s post)) 
		 (t (w-put-back-event w))	; it's a <return>; put it back 
	       ))			; so loop control can get it again 
	      ((eq e wm-point-depressed) 
	       (setq p (w-get-point w)) 
	       (cond				; check point in zone 
		 ((point-in-box p (zone-box (text-zone s))) 
		  (draw-cursor-leading-text post)	; un-highlight char 
		  (combine-texts s post) 
		  (split-texts s post p) 
		  (draw-cursor-leading-text post)	; highlight new char 
		  (skip-stroke-release-events w)) 
		 (t (w-put-back-event w)	; outside zone => return 
		    (setq c '#.return)))) 
	      ((neq e wm-cancel)		; an event we can't handle 
	       (w-put-back-event w)		; so put it back, then return 
	       (setq c '#.return)) 
	    ))) 
    ))) 
 
(defun input-typeahead-keys (w n brk-fcn l)	; return keys typed ahead 
   (cond					; brk-fcn tests text 
     ((or (zerop n)				; already have max typeahead 
	  (not (w-any-events w))) (nreverse l))	; or there aren't any events 
     (t (let ((x (w-get-next-event w)))		; there's an event 
	     (cond 
	       ((neq x wm-key) 
		(w-put-back-event w) (nreverse l))	; but not a keystroke 
	       (t (setq x (car (w-get-key w)))		; it's a keystroke 
		  (cond 
		    ((funcall brk-fcn x)		; is it a break char? 
		     (w-put-back-event w) (nreverse l))	; it's a special char 
		    (t (input-typeahead-keys		; it's a regular char 
			 w (1- n) brk-fcn (cons x l)))	; tail recur for rest 
		  ))))))) 
 
(defun split-texts (s post p)		; split text s at point p 
  (let					; yielding texts s and post 
    (((kr delta nn) (scan-text s p)))	; scan for char pos'n 
    (alter-text post			; text incl & after char pt'ed 
      text (cond ((substring (text-text s) (1+ nn)))	; if it exists! 
		 (""))			; otherwise,nothing 
      offset (add-points (text-offset s) delta) 
      kl kr 
      delta (subtract-points (text-delta s) delta) 
      nn (- (text-nn s) nn)) 
    (alter-text s kr kr delta delta nn nn	; truncate text 
      text (cond ((substring (text-text s) 1 nn)) 
		 (""))) 
  )) 
 
(defun skip-stroke-release-events (w) 
  (do ((e (w-get-next-event w) 
	  (w-get-next-event w))) 
      ((neq e wm-point-stroke)		; get events until non-point-stroke 
       (cond ((neq e wm-point-released)	; should be point-release 
	      (w-put-back-event w))))	; if not, put it back 
  )) 
 
(defun combine-texts (s post)	; recombine texts 
  (alter-text s 
    text (concat (text-text s) (text-text post)) 
    nn (+ (text-nn s) (text-nn post)) 
    delta (add-points (text-delta s) (text-delta post)) 
    kr (text-kr post)) 
  (format-text s)) 
 
(defun draw-cursor-leading-text (s)	; highlight first char of text 
  (let ((c (append s nil))) 
       (alter-text c			; get first char 
	 text (concat (cond ((substring (text-text c) 1 1))	; if any 
			    (t 'a))))	; otherwise use a typical character 
       (format-text c) 
       (w-clear-rectangle 
	 (window-w (zone-window (text-zone c))) 
	 (text-x c) 
	 (y (ll (zone-box (text-zone c)))) 
	 (min (x (text-delta c)) 
	      (- (x (ur (zone-box (text-zone c)))) 
		 (text-x c) -1)) 
	 (- (y (ur (zone-box (text-zone c)))) 
	    (y (ll (zone-box (text-zone c)))) -1) 
	 w-xor) 
       (w-flush (window-w (zone-window (text-zone c)))) 
       t)) 
 
(defun text-delete-previous-character (s post) 
  (let ((l (input-typeahead-keys w typeahead-threshold 
	     '(lambda (x)	; break on first non-bs 
		(not (equal x #.(get_pname backspace)))) 
	     (ncons '#.backspace)))) 
       (alter-text s 
	 nn (max 0 (- (text-nn s) (length l)))) 
       (alter-text s 
	 text (cond ((substring 
		       (text-text s) 
		       1 (text-nn s))) 
		    (""))) 
       (format-text s) 
       (w-scroll-rectangle 
	 (window-w (zone-window (text-zone s))) 
	 (text-xx s) 
	 (y (ll (zone-box (text-zone s)))) 
	 (- (x (ur (zone-box (text-zone s)))) 
	    (text-xx s) 1) 
	 (1+ (y (box-size (zone-box (text-zone s))))) 
	 wm-left 
	 (- (x (text-start-point post)) 
	    (x (text-end-point s))) 
	 (zone-colour (text-zone s))) 
       (w-flush 
	 (window-w (zone-window (text-zone s)))) 
       (move-text post (text-end-point s)) 
       (alter-text post kl (text-kr s)))) 
 
(defun text-beginning-of-line (s post) 
  (draw-cursor-leading-text post)	; un-highlight first char 
  (alter-text post 
    text (concat (text-text s) (text-text post)) 
    nn (+  (text-nn s) (text-nn post)) 
    delta (add-points (text-delta s) (text-delta post)) 
    kl 0 
    offset (text-offset s)) 
  (alter-text s text "" nn 0 delta '(0 0) kr 0) 
  (draw-cursor-leading-text post))	; highlight new first char 
 
(defun text-backward-character (s post) 
  (let ((l (input-typeahead-keys w typeahead-threshold 
	     '(lambda (x)	; break on first non-bs 
		(not (equal x #.(get_pname ctrl-b)))) 
	     (ncons '#.ctrl-b)))) 
       (draw-cursor-leading-text post)	; un-highlight first char 
       (alter-text post 
	 text (get_pname (concat (substring (text-text s) (- (length l))) 
			   (text-text post))) 
	 nn (1+ (text-nn post))) 
       (alter-text s 
	 text (substring (text-text s) 1 (- (text-nn s) (length l))) 
	 nn (- (text-nn s) (length l))) 
       (format-text s) 
       (alter-text post 
	 kl (text-kr s) 
	 offset (add-points (text-offset s) (text-delta s)) 
	 delta (subtract-points 
		 (text-end-point post) 
		 (text-end-point s))) 
       (draw-cursor-leading-text post)	; highlight new first char 
  )) 
 
(defun text-forward-character (s post) 
  (let ((l (input-typeahead-keys w typeahead-threshold 
	     '(lambda (x)	; break on first non-bs 
		(not (equal x #.(get_pname ctrl-f)))) 
	     (ncons '#.ctrl-f)))) 
       (draw-cursor-leading-text post)	; un-highlight first char 
       (alter-text s 
	 text (get_pname (concat (text-text s) 
			   (substring (text-text post) 1 (length l)))) 
	 nn (+ (text-nn s) (length l))) 
       (format-text s) 
       (alter-text post 
	 text (substring (text-text post) (1+ (length l))) 
	 nn (- (text-nn post) (length l)) 
	 kl (text-kr s) 
	 offset (add-points (text-offset s) (text-delta s)) 
	 delta (subtract-points 
		 (text-end-point post) 
		 (text-end-point s))) 
       (draw-cursor-leading-text post)	; highlight new first char 
  )) 
 
(defun text-end-of-line (s post) 
  (draw-cursor-leading-text post)	; un-highlight first char 
  (alter-text s 
    text (concat (text-text s) (text-text post)) 
    nn (+  (text-nn s) (text-nn post)) 
    delta (add-points (text-delta s) (text-delta post)) 
    kr (text-kr post)) 
  (alter-text post 
    text "" 
    nn 0 
    offset (add-points (text-offset post) (text-delta post)) 
    delta '(0 0) 
    kl (text-kr s)) 
  (draw-cursor-leading-text post))	; highlight new first char 
   
(defun text-kill-to-end-of-line (s post) 
  (w-clear-rectangle 
    (window-w (zone-window (text-zone post))) 
    (text-x post) 
    (y (ll (zone-box (text-zone post)))) 
    (- (x (ur (zone-box (text-zone post)))) (text-x post)) 
    (1+ (y (box-size (zone-box (text-zone post))))) 
    (zone-colour (text-zone post))) 
  (setq kill-text (text-text post)) 
  (alter-text post 
    text "" 
    nn 0 
    delta '(0 0) 
    kl (text-kr s)) 
  (draw-cursor-leading-text post))	; highlight new first char 
   
(defun text-yank-from-killbuffer (s post) 
  (append-text-scroll s kill-text 
    (zone-colour (text-zone s))) 
  (move-text post (text-end-point s)) 
  (alter-text post 
    kl (text-kr s))) 
 
(defun text-transpose-characters (s post) 
  (let ((tmp (append s nil))) 
       (alter-text tmp 
	 nn (- (text-nn tmp) 2)) 
       (let (((kr delta nn) (scan-text tmp '(-1 -1)))) ; find 2nd prev char 
	    (alter-text tmp 
	      text (substring (text-text tmp) -2) 
	      offset (add-points (text-offset tmp) delta) 
	      kl kr) 
	    (format-text tmp) 
	    (w-clear-rectangle 
	      (window-w (zone-window (text-zone tmp))) 
	      (text-x tmp) 
	      (y (ll (zone-box (text-zone tmp)))) 
	      (x (text-delta tmp)) 
	      (1+ (y (box-size (zone-box (text-zone tmp))))) 
	      (zone-colour (text-zone tmp))) 
	    (w-flush (window-w (zone-window (text-zone tmp)))) 
	    (alter-text tmp 
	      text (get_pname (concat 
				(substring (text-text tmp) 2 1) 
				(substring (text-text tmp) 1 1)))) 
	    (format-draw-text tmp) 
	    (alter-text s 
	      text (get_pname 
		     (concat 
		       (substring (text-text s) 1 (- (text-nn s) 2)) 
		       (text-text tmp))) 
	      kr (text-kr tmp)) 
       ))) 
 
(defun text-delete-next-character (s post) 
  (let ((l (input-typeahead-keys w typeahead-threshold 
	     '(lambda (x)	; break on first non-bs 
		(not (equal x #.(get_pname ctrl-d)))) 
	     (ncons '#.ctrl-d)))) 
       (alter-text post 
	 nn (length l)) 
       (let (((kl delta nn)		; scan for nn'th char position 
	      (scan-text post '(-1 -1)))) 
	    (w-scroll-rectangle 
	      (window-w (zone-window (text-zone post))) 
	      (text-x post) 
	      (y (ll (zone-box (text-zone post)))) 
	      (- (x (ur (zone-box (text-zone post)))) 
		 (text-x post) 1) 
	      (1+ (y (box-size (zone-box (text-zone post))))) 
	      wm-left 
	      (x delta) 
	      (zone-colour (text-zone post))) 
	    (alter-text post 
	      nn (max 0 (- (length (exploden (text-text post))) 
			   (length l))) 
	      kl kl) 
	    (alter-text post 
	      text (cond ((substring 
			    (text-text post) 
			    (- (text-nn post)))) 
			 (""))) 
	    (format-text post) 
	    (draw-cursor-leading-text post) 
	    (w-flush (window-w (zone-window (text-zone post)))) 
       ))) 
 
(defun text-insert-character (s post) 
  (let ((l (input-typeahead-keys w typeahead-threshold 
	     '(lambda (x)	; break on first bs or cr 
		(memq (concat x) '#.(list backspace return))) 
	     (ncons c)))) 
       (append-text-scroll s (concatl l) 
	 (zone-colour (text-zone s))) 
       (move-text post (text-end-point s)) 
       (alter-text post 
	 kl (text-kr s)))) 
 
(defun text-redraw-display (s post) 
  (clear-zone (text-zone s) (zone-colour (text-zone s))) 
  (w-flush (window-w (zone-window (text-zone post)))) 
  (format-draw-text s) 
  (alter-text post 
    kl (text-kr s) 
    offset (add-points (text-offset s) (text-delta s))) 
  (format-draw-text post) 
  (draw-cursor-leading-text post)) 
program interval(input,output); 
{dataflow simulator for real interval arithmetic} 
 
const 
	imem = 500; {number of instructions} 
	dmem = 200;  {number of interval variables allowed} 
	par = 3;   {max number of paramters for an operator} 
	maxexp = 10; minexp = -9; 
	maxinf =10000; mininf =-10000; {tied to values of minman and maxman} 
	maxman = 9999; minman = -9999; {cannot exceed sqrt(maxint)} 
	splitman = 1000; {smallest normalized mantisa} 
	digits = 4; {number of digits in mantissa} 
 
type 
	positive= 0..maxint; 
	state  = -1..99;  {used for holding state of operator -1:done} 
	optype = (print,pr,tr,soln,readr,halve,halves,linh,mult,add,intgr, 
less,leq,noteq,sqrr,minr,maxr,modu,absr,trig,expr,lb,ub,copy,stop); {!!} 
	ptr    = 1..dmem; 
	loc    = 1..imem; 
	loc0   = 0..imem; 
	edget  = (hout,lin,hin,lout); {warning this order is important in} 
				      {predicates such as gts,ges} 
	cardt  = (finite,infinite); 
	expt   = minexp..maxexp; 
	mant   = mininf..maxinf;  
	pflag  = (pnull,psoln,ptrace,pprint); 
	sreal  = record 
		    edge:edget; 
		    cardinality:cardt; 
		    exp:expt; {exponent} 
		    mantissa:mant; 
		 end; 
	int    = record 
		    hi:sreal; 
		    lo:sreal; 
	 end; 
	instr  = record 
		    code:optype; 
		    pars: array[0..par] of 0..dmem; 
		 end; 
	datamem= record 
		    d        :array [ptr] of int; 
		    s        :array [loc] of state; 
		    lasthalve:loc; 
		    rhalve   :array [loc] of real; 
		 end; 
	dataflags=record 
		    pf	     :array [ptr] of pflag; 
		 end; 
var 
	debug  : (none,activity,post,trace,dump); 
	cut    : (once,all); 
	globalend,verifiable:boolean; 
	halvethreshold:real; 
	i      : array [loc] of instr; {memory holding instructions} 
	end    : loc; {last instruction in i} 
	parn   : array [optype] of -1..par; {number of parameters for each  
			opcode. -1 means no result} 
        parintersect : array [optype] of boolean ; 
	dinit  : datamem; {initial memory which is cleared and  
				used in first call} 
	df     : dataflags; {hold flags for variables, e.g. print/trace} 
	maxdmem:0..dmem; 
	shift  : array[0..digits] of 1..maxint;{array of constant multipliers} 
						{used for alignment etc.} 
	dummy  :positive; 
	{constant intervals and sreals} 
	plusinfs,minusinfs,plussmalls,minussmalls,zeros, 
	plusfinites,minusfinites:sreal; 
	zero,all,allfinite:int; 
 
procedure deblank; 
var ch:char; 
begin 
   while (not eof) and (input^ in [' ','	']) do read(ch); 
end; 
 
procedure initialoptions; 
 
#include '/user/profs/cleary/bin/options.i'; 
 
   procedure option; 
   begin 
      case opt of 
      'a','a':debug:=activity; 
      'd','d':debug:=dump; 
      'h','h':halvethreshold:=stringnum/100; 
      'n','n':debug:=none; 
      'p','p':debug:=post; 
      't','t':debug:=trace; 
      'v','v':verifiable:=true; 
      end; 
   end; 
 
begin 
   debug:=trace; 
   verifiable:=false; 
   halvethreshold:=67/100; 
   options; 
   writeln(debug); 
   writeln('verifiable:',verifiable); 
   writeln('halve threshold',halvethreshold); 
end;{initialoptions} 
 
procedure normalizeup(e,m:integer;var s:sreal;var closed:boolean); 
begin 
with s do 
begin 
   if m=0 then s:=zeros else 
   if m>0 then 
   begin 
      while m>=maxinf do 
      begin  
	 if m mod 10 > 0 then begin closed:=false;m:=(m div 10)+1 end 
	 else m:=m div 10; 
	 e:=e+1; 
      end; 
	  
      while m < maxinf div 10 do 
      begin m:=m*10; e:=e-1;  
      end; 
 
      if e > maxexp then {overflow-set to infinity} 
      begin  
	 s:=plusinfs; 
	 closed:=false; 
      end else 
      if e < minexp then {underflow-set to smallest positive value} 
      begin  
         s:=plussmalls; 
         closed:=false; 
      end else 
      begin cardinality:=finite;exp:=e;mantissa:=m; 
      end; 
   end else	  
   if m < 0 then 
   begin 
      while m <= mininf do 
      begin  
	 if m mod 10 < 0 then closed:=false else 
	 if m mod 10 > 0 then halt; 
	 m:=m div 10; 
	 e:=e+1; 
      end; 
	  
      while m > (mininf div 10) do 
      begin m:=m*10; e:=e-1;  
      end; 
 
      if e > maxexp then {overflow-set to most negative value} 
      begin  
         s:=minusfinites; 
         closed:=false; 
      end  
      else 
      if e < minexp then {underflow-set to zero} 
      begin 
         s:=zeros; 
         closed:=false; 
      end else 
      begin 
         cardinality:=finite;exp:=e;mantissa:=m; 
      end; 
   end; 
end; 
end;{normalizeup} 
 
procedure normalizedn(e,m:integer;var s:sreal;var closed:boolean); 
begin 
with s do 
begin 
   if m=0 then s:=zeros else 
   if m>0 then 
   begin 
      while m >= maxinf do 
      begin  
	 if m mod 10 > 0 then closed:=false else 
	 if m mod 10 < 0 then halt; 
	 m:=m div 10; 
	 e:=e+1; 
      end; 
	  
      while (m < maxinf div 10) do 
      begin m:=m*10; e:=e-1;  
      end; 
 
      if e > maxexp then {overflow-set to largest positive value} 
      begin  
	 s:=plusfinites; 
	 closed:=false; 
      end else 
      if e < minexp then {underflow-set to zero} 
      begin s:=zeros; closed:=false; 
      end else 
      begin cardinality:=finite;exp:=e;mantissa:=m; 
      end; 
   end else	  
   if m < 0 then 
   begin 
      while m <= mininf do 
      begin  
	 if m mod 10 < 0 then  
	 begin closed:=false; m:=m div 10 -1;end 
	 else  
	 if m mod 10 = 0 then m:=m div 10  
	 else halt; 
	 e:=e+1; 
      end; 
	  
      while (m>mininf div 10) do 
      begin m:=m*10; e:=e-1;  
      end; 
 
      if e > maxexp then {overflow} 
      begin  
         s:=minusinfs; 
         closed:=false; 
      end  
      else 
      if e < minexp then {underflow} 
      begin s:=minussmalls; closed:=false; 
      end else 
      begin 
         cardinality:=finite;exp:=e;mantissa:=m; 
      end; 
   end; 
end; 
end;{normalizedn} 
 
procedure writes(x:sreal); 
var e,m:integer; 
begin 
with x do 
begin 
   case edge of 
   lin: write('['); 
   lout: write('('); 
   hin,hout: 
   end; 
    
   case cardinality of 
   infinite: write('inf':digits+4);  
   finite:  
      if mantissa = 0 then write(0:digits+1,' ':3) 
      else begin 
         m:=mantissa; 
	 e:=exp;  
         while (m mod 10 = 0) do 
	 begin m:=m div 10; e:=e+1; 
	 end; 
         write(m:digits+1,'e',e-digits:2); 
      end; 
   end; 
    
   case edge of  
   hin: write(']'); 
   hout:write(')'); 
   lin,lout: 
   end; 
end; 
end;{writes} 
 
procedure writeint(i:int); 
begin 
   with i do begin writes(lo); write(','); writes(hi); end; 
end;{writeint} 
    
procedure dumps(x:sreal); 
begin 
with x do 
   write(edge:4,cardinality:9,mantissa:7,exp:3); 
end;{dumps} 
 
procedure dumpint(i:int); 
begin 
   with i do begin dumps(lo); write(' || '); dumps(hi); end; 
end;{dumpint} 
    
procedure readint(var i:int); 
 
var   ch:char; 
      cll,clu:boolean; 
	 
   procedure readsup(var x:sreal; var closed:boolean); 
   var e,m:integer; 
   begin 
      with x do 
      begin 
         deblank; 
         case input^ of 
         '~':begin x:=plusinfs;read(ch); 
	     end; 
         '-','+','0','1','2','3','4','5','6','7','8','9': 
	 begin 
	    cardinality:=finite; 
   	    read(m); 
	    read(e); e:=e+digits; 
	    normalizeup(e,m,x,closed); 
	 end; 
	 end;{case} 
      end; 
   end;{readsup} 
 
   procedure readsdn(var x:sreal; var closed:boolean); 
   var e,m:integer; 
       ch:char; 
   begin 
      with x do 
      begin 
         deblank; 
         case input^ of 
         '~':begin x:=minusinfs;read(ch); 
	     end; 
         '-','+','0','1','2','3','4','5','6','7','8','9': 
	 begin 
	    cardinality:=finite; 
   	    read(m); 
	    read(e); e:=e+digits; 
	    normalizedn(e,m,x,closed); 
	 end; 
	 end;{case} 
      end; 
   end;{readsdn} 
begin{readint} 
   with i do  
   begin  
      deblank; read(ch);  
      case ch of 
      '[':cll:=true; 
      '(':cll:=false; 
      end; 
      readsdn(lo,cll);if cll then lo.edge:=lin else lo.edge:=lout; 
      deblank; 
      read(ch); assert(ch=','); 
      clu:=true; 
      readsup(hi,clu); 
      deblank; 
      read(ch); 
      case ch of 
      ']':if clu then hi.edge:=hin else hi.edge:=hout; 
      ')':hi.edge:=hout; 
      end; 
   end; 
end;{readint} 
    
procedure dumptables; 
var tl:loc; tpar:0..par; top:optype; 
begin 
	for top := print to stop do 
	   writeln(top:6,parn[top]:2); 
	writeln; 
 
	for tl := 1 to end do 
	with i[tl] do 
	begin 
	   write(code:5); 
	   for tpar := 0 to par do 
	      if pars[tpar] <> 0 then write(pars[tpar]:4); 
	   writeln; 
	end; 
	writeln('number of memory locations used:',maxdmem:0); 
	writeln; 
end;{dumptables} 
	 
procedure alignup 
   (e0:expt;m0:mant;e1:expt;m1:mant;var e,n0,n1:integer;var closed:boolean); 
{align mantissas m0,m1 preserving accuracy and rounding up wherever possible} 
{common resulting exponents in e, and mantissas in n0,n1} 
var d:positive; 
begin 
   if m0=0 then begin e:=e1;n0:=0;n1:=m1;end else 
   if m1=0 then begin e:=e0;n0:=m0;n1:=0;end else 
   if e0=e1 then 
   begin e:=e0; n0:=m0; n1:=m1; 
   end else 
   if (e0>e1) then alignup(e1,m1,e0,m0,e,n1,n0,closed) else 
   begin 
      d:=e1-e0; 
      if d>= 2*digits then 
      begin  
         n1:=m1*maxinf; e:=e1-digits; 
	 if m0<0 then n0:=0 else n0:=1; 
	 closed:=false; 
      end else 
      if d > digits then 
      begin  
         n1:=m1*maxinf; e:=e1-digits;  
	 if (m0 mod shift[d-digits]) = 0  
	 then n0:=(m0 div shift[d-digits]) 
	 else 
	    if m0 > 0 then n0:=(m0 div shift[d-digits])+1 
	              else n0:=(m0 div shift[d-digits]); 
      end else 
      {digits>=d>=0} 
      begin n1:=m1*shift[d]; e:=e1-d; n0:=m0; 
      end; 
   end; 
end;{alignup} 
 
function gts(x,y:sreal):boolean; 
{x>y  careful need to be able to compare x] and (x etc.} 
var gt:boolean; 
begin 
   if (x.exp=y.exp)and(x.mantissa=y.mantissa) then gt:=x.edge>y.edge else 
   if x.exp = y.exp then gt:= (x.mantissa > y.mantissa) else 
   if x.mantissa = 0 then gt:= 0 > y.mantissa else 
   if y.mantissa = 0 then gt:= x.mantissa > 0 else 
   if (x.mantissa>0) and (y.mantissa>0) then gt:= (x.exp > y.exp) else 
   if (x.mantissa>0) and (y.mantissa<0) then gt:= true else 
   if (x.mantissa<0) and (y.mantissa>0) then gt:= false else 
   if (x.mantissa<0) and (y.mantissa<0) then gt:= (x.exp < y.exp)  
   else  writeln('error in gts'); 
    
   gts:=gt; 
end;{gts} 
    
function ges(x,y:sreal):boolean; 
{x>=y  careful need to be able to compare x] and (x etc.} 
begin 
   if (x.exp=y.exp)and(x.mantissa=y.mantissa) then ges:=x.edge>=y.edge else 
   if x.exp = y.exp then ges:= (x.mantissa >= y.mantissa) else 
   if x.mantissa = 0 then ges:= 0 >= y.mantissa else 
   if y.mantissa = 0 then ges:= x.mantissa >= 0 else 
   if (x.mantissa>0) and (y.mantissa>0) then ges:= (x.exp > y.exp) else 
   if (x.mantissa>0) and (y.mantissa<0) then ges:= true else 
   if (x.mantissa<0) and (y.mantissa>0) then ges:= false else 
   if (x.mantissa<0) and (y.mantissa<0) then ges:= (x.exp < y.exp)  
   else  writeln('error in ges'); 
end;{ges} 
    
function point(x:int):boolean; 
{x=[x,x]} 
begin 
with x do 
   point:=(lo.edge=lin)and (hi.edge=hin) and  
	  (lo.mantissa=hi.mantissa) and 
	  (lo.exp=hi.exp); 
end;{point} 
 
procedure maxs(x,y:sreal;var max:sreal); 
begin 
	if gts(x,y) then max:=x else max:=y; 
end; 
 
procedure mins(x,y:sreal;var min:sreal); 
begin 
	if gts(x,y) then min:=y else min:=x; 
end; 
 
procedure inter(p,q:int;var r:int); 
begin 
   mins(p.hi,q.hi,r.hi); 
   maxs(p.lo,q.lo,r.lo); 
end; 
 
function checkhi(x:sreal):boolean; 
var ok:boolean; 
begin 
   ok:=true; 
   with x do 
   begin 
      case cardinality of 
      infinite: 
         if (exp=maxexp)and(mantissa=maxinf) then 
	 else writeln('**invalid hi infinity'); 
      finite: 
      begin 
         if (mantissa=maxinf) or (mantissa=mininf) then 
	 begin ok:=false; writeln('**invalid finite value - hi'); 
	 end; 
	  
         if mantissa = 0 then 
	    if (exp=0) then  
	    else  
	    begin ok:=false; writeln('**invalid zero - hi') 
	    end 
	 else 
	 begin 
	    if (mantissa > 0) then 
	       if mantissa >= (maxinf div 10) then {ok} 
	       else  
	       begin ok:=false; writeln('**incorrect normalization - hi')  
	       end 
	    else{mantissa<0} 
	       if mantissa > (mininf div 10) then 
	       begin ok:=false; writeln('**incorrect normalization - hi')  
	       end; 
	 end; 
      end; 
      end;{case} 
 
      if not (edge in [hin,hout]) then 
      begin 
         ok:=false; 
	 writeln('**hi edge value incorrect'); 
      end; 
   end; 
    
   checkhi:=ok; 
end;{checkhi} 
   
function checklo(x:sreal):boolean; 
var ok:boolean; 
begin 
   ok:=true; 
   with x do 
   begin 
      case cardinality of 
      infinite: 
         if (exp=maxexp)and(mantissa=mininf) then 
	 else writeln('**invalid lo infinity'); 
      finite: 
      begin 
         if (mantissa=maxinf) or (mantissa=mininf) then 
	 begin ok:=false; writeln('**invalid finite value - hi'); 
	 end; 
	  
         if mantissa = 0 then 
	    if (exp=0) then  
	    else  
	    begin ok:=false; writeln('**invalid zero - lo') 
	    end 
	 else 
	 begin 
	       if (mantissa > 0) then 
	          if mantissa >= (maxinf div 10) then{ok} 
		  else  
		  begin ok:=false; writeln('**incorrect normalization - lo')  
		  end 
	       else{mantissa<0} 
	          if mantissa > (mininf div 10) then 
		  begin ok:=false; writeln('**incorrect normalization - lo')  
		  end; 
	 end; 
      end; 
      end;{case} 
 
      if not (edge in [lin,lout]) then 
      begin 
         ok:=false; 
	 writeln('**lo edge value incorrect'); 
      end; 
   end; 
    
   checklo:=ok; 
end;{checklo} 
   
function checkint(i:int):boolean; 
var ok:boolean; 
begin 
   ok:=checkhi(i.hi) and checklo(i.lo); 
   if gts(i.lo,i.hi) then 
   begin 
      ok:=false; 
      writeln('**limits out of order'); 
   end; 
 
   if not ok then  
   begin writeln('**error in check'); dumpint(i); 
   end; 
    
   checkint:=ok; 
end; 
 
procedure dumpmem(var dcurr:datamem); 
var td:ptr; tl:loc; 
begin 
   with dcurr do 
   begin 
        writeln('lasthalve:',lasthalve:0); 
	 
    	for tl:= 1 to end do 
	   writeln(tl:3,s[tl]:2,rhalve[tl]); 
	writeln; 
	 
	for td:= 1 to maxdmem do  
	begin  
	   write(td:5); 
	   dumpint(d[td]); 
	   assert(checkint(d[td])); 
	   writeln; 
	end; 
	writeln; 
   end; 
end;{dumpmem} 
 
procedure writemem(var dcurr:datamem); 
var td:ptr;  
begin 
   with dcurr do 
   begin 
	for td:= 1 to maxdmem do  
	if (df.pf[td] > pnull) or (debug > activity) then 
	begin  
	   write(td:5); 
	   writeint(d[td]); 
	   writeln; 
	end; 
	writeln; 
   end; 
end;{writemem} 
 
procedure outerexec 
(pc:loc0;dcurr:datamem;change:boolean;first:state; 
 var oldcounter:positive;level:positive); 
 
var counter:positive; 
    fail,allpoints,localchange:boolean; 
 
procedure newouter(f:state); 
begin outerexec(pc,dcurr,change,f,counter,level+1); 
end; 
 
{!!} 
procedure execprint(pc:loc; l:ptr; r0:int); 
begin 
   df.pf[l]:=psoln; 
   writeln; 
   write(pc:3,l:5); 
   writeint(r0); 
   writeln; 
end; 
 
procedure execpr(var sr:state; l:ptr); 
begin 
   sr:=-1; df.pf[l]:=pprint; 
end;{execpr} 
 
procedure exectr(var sr:state; l:ptr); 
begin 
   sr:=-1; df.pf[l]:=ptrace; 
end;{exectr} 
 
procedure execsoln(var sr:state; l:ptr); 
begin 
   sr:=-1; df.pf[l]:=psoln; 
end;{execsoln} 
 
procedure execreadr(var sr:state;var r0:int); 
begin 
   writeln; 
   write('<<'); 
   readint(r0); 
   sr:=-1; 
end; 
 
function getreal(e,m:integer):real; 
{convert e-exponent,m-mantissa into genuine pascal real number} 
var x:real; 
begin 
   x:=m/maxinf; 
   while e>0 do begin x:=x*10; e:=e-1; end;  
   while e<0 do begin x:=x/10; e:=e+1; end; 
   getreal:=x;  
end;{getreal}  
    
procedure ratio(lo,hi:sreal;var erat,mrat:integer);  
{compute ratio of hi to lo in exponent mantissa form} 
begin 
   if lo.mantissa=0 then 
   begin{treat zero as if smallest possible positive number} 
      erat:=hi.exp-minexp; 
      mrat:=hi.mantissa*10; 
   end else 
   if hi.mantissa=0 then 
   begin{treat zero as if smallest possible negative number} 
      erat:=minexp-lo.exp; 
      mrat:=lo.mantissa*10; 
   end 
   else begin 
      erat:=hi.exp-lo.exp; 
      mrat:=(hi.mantissa*maxinf) div lo.mantissa; 
   end; 
end;{ratio} 
     
function adjacent(x:int):boolean; 
{are hi and lo bounds adjacent points} 
begin 
   with x do 
   if (hi.mantissa=0) or (lo.mantissa=0) then 
      adjacent:= 
         ((hi.mantissa=0)and(lo.mantissa=mininf div 10)and(lo.exp=minexp)) or 
         ((lo.mantissa=0)and(hi.mantissa=maxinf div 10)and(hi.exp=minexp))  
   else 
      adjacent:= 
         ((lo.exp=hi.exp)and(lo.mantissa+1=hi.mantissa)) or 
	 ((hi.exp=lo.exp+1)and(hi.mantissa=(lo.mantissa div 10)+1)) or 
	 ((hi.exp=lo.exp-1)and((hi.mantissa div 10)-1=lo.mantissa)); 
end;{adjacent} 
 
procedure exechalve 
   (var pc:loc0;var sr:state;var r0:int;var ok:boolean;var change:boolean); 
{reduce range of r0 (suceeds twice for two 'halves')} 
 
var ediff,mdiff,erat,mrat,mide,midm,m0,m1,him,hie:integer; 
    dummy:boolean; 
    mid:sreal; 
    r,d:real; 
    oldpc:loc; 
    
    procedure atend;{what to do afer a successful halve} 
    begin   
	dcurr.lasthalve:=pc; pc:=0; sr:=0; 
    end; 
 
begin{exechalve} 
oldpc:=pc; 
with r0 do 
 begin 
      if dcurr.lasthalve >= pc then {not our turn yet} else 
      if (lo.mantissa = hi.mantissa) and (lo.exp=hi.exp) and 
         (lo.edge=lin) and (hi.edge=hin) 
      then {single point cant be divided} sr:=-1  
      else 
      if adjacent(r0) and  
	 (((lo.edge=lout) and (hi.edge=hout)) or 
	  ((lo.cardinality=infinite)and(hi.edge=hout)) or  
	  ((hi.cardinality=infinite)and(lo.edge=lout)) 
	 ) 
      then sr:=-1 
      else 
      if sr=0 then 
         begin 
            alignup(hi.exp,hi.mantissa,lo.exp,-lo.mantissa,ediff,m0,m1,dummy); 
            mdiff:=m0+m1; 
	    d:=getreal(ediff,mdiff); 
	    if d < dcurr.rhalve[pc]*halvethreshold  
	    then {already narrowed enough dont bother}  
	       change:=true {otherwise can terminate too early} 
	    else begin 
	       dcurr.rhalve[pc]:=d; 
               newouter(1); 
               newouter(2); 
	       ok:=false;{fail after both alternatives tried} 
	    end 
         end 
   else{sr=1,2} 
   if adjacent(r0) 
   then begin{two adjacent points - needs special care} 
      if (hi.edge=hin) and (hi.cardinality=finite) then 
      begin 
         case sr of 
	 1:hi.edge:=hout; 
	 2:begin lo:=hi; lo.edge:=lin; 
	   end; 
	 end; 
 
         atend; 
      end 
      else if (lo.edge=lin) and (lo.cardinality=finite) then  
      begin 
         case sr of 
	 1:begin hi:=lo; hi.edge:=hin; 
	   end; 
	 2:lo.edge:=lout; 
	 end; 
         atend; 
      end else {cant be narrowed} sr:=-1; 
 
   end{adjacent} else 
   begin 
      if (lo.mantissa < 0) and (hi.mantissa > 0) then 
      begin 
         midm:=0; mide:=0; 
      end else 
      begin 
         ratio(lo,hi,erat,mrat); 
         if mrat < 0 then mrat:=-mrat; 
         r:=getreal(erat,mrat); 
(*writeln(erat,mrat,r);*) 
         alignup(hi.exp,hi.mantissa,lo.exp,-lo.mantissa,ediff,m0,m1,dummy); 
         mdiff:=m0+m1; 
         if (r > 4) or (r < 0.25) then 
         begin{divide hi by sqrt of ratio to get midpoint} 
	    if hi.mantissa = 0  
	    then begin him:=mininf div 10; hie:=minexp; 
	    end else 
	    begin him:=hi.mantissa; hie:=hi.exp; 
	    end; 
	    if erat < 0 then mide:=hie-((erat-1) div 2) 
	 	        else mide:=hie-(erat div 2); 
	    if odd(erat)  
	       then midm:=trunc(him*(maxinf div 100)/sqrt(mrat*10)) 
	       else midm:=trunc(him*(maxinf div 100)/sqrt(mrat)); 
(*writeln(mide,midm);*) 
         end else 
         begin{take (hi+lo)/2 as midpoint} 
            midm:=mdiff div 2 - m1; 
	    mide:=ediff; 
         end; 
      end; 
      if midm >= 0 then normalizedn(mide,midm,mid,dummy) 
      		   else normalizeup(mide,midm,mid,dummy); 
      case sr of 
      1:begin hi:=mid; hi.edge:=hout; 
        end; 
      2:begin lo:=mid; lo.edge:=lin; 
        end; 
      end; 
(*dumpint(r0);writeln;*) 
      atend; 
   end;{if sr} 
 
   alignup(hi.exp,hi.mantissa,lo.exp,-lo.mantissa,ediff,m0,m1,dummy); 
   mdiff:=m0+m1; 
   dcurr.rhalve[oldpc]:=getreal(ediff,mdiff); 
 
 end;{with} 
end;{exechalve} 
 
procedure exechalves 
   (var pc:loc0;var sr:state;var r0:int;var ok:boolean;var change:boolean); 
{reduce range of r0 (suceeds twice for two 'halves')} 
{simple version thats averages exponents} 
 
var ediff,mdiff,erat,mrat,mide,midm,m0,m1,him,hie:integer; 
    dummy:boolean; 
    mid:sreal; 
    r,d:real; 
    oldpc:loc; 
    
    procedure atend;{what to do afer a successful halve} 
    begin   
	dcurr.lasthalve:=pc; pc:=0; sr:=0; 
    end; 
 
    procedure average(lo,hi:sreal;var exp:integer); 
    {compute average of exponents allowing for zero} 
    {infinities happen to work because of representation} 
    var le,he:integer; 
    begin 
       if lo.mantissa = 0 then 
	  le := minexp 
       else 
	  le := lo.exp; 
       if hi.mantissa = 0 then 
	  he := minexp 
       else 
	  he := hi.exp; 
       exp:= (he + le - 2*minexp) div 2 + minexp; 
writeln(exp,hi.exp,lo.exp,minexp,he,le); 
    end;{average} 
 
begin{exechalves} 
oldpc:=pc; 
with r0 do 
 begin 
      if dcurr.lasthalve >= pc then {not our turn yet} else 
      if (lo.mantissa = hi.mantissa) and (lo.exp=hi.exp) and 
         (lo.edge=lin) and (hi.edge=hin) 
      then {single point cant be divided} sr:=-1  
      else 
      if adjacent(r0) and  
	 (((lo.edge=lout) and (hi.edge=hout)) or 
	  ((lo.cardinality=infinite)and(hi.edge=hout)) or  
	  ((hi.cardinality=infinite)and(lo.edge=lout)) 
	 ) 
      then sr:=-1 
      else 
      if sr=0 then 
         begin 
            alignup(hi.exp,hi.mantissa,lo.exp,-lo.mantissa,ediff,m0,m1,dummy); 
            mdiff:=m0+m1; 
	    d:=getreal(ediff,mdiff); 
	    if d < dcurr.rhalve[pc]*halvethreshold  
	    then {already narrowed enough dont bother}  
	       change:=true {otherwise can terminate too early} 
	    else begin 
	       dcurr.rhalve[pc]:=d; 
               newouter(1); 
               newouter(2); 
	       ok:=false;{fail after both alternatives tried} 
	    end 
         end 
   else{sr=1,2} 
   if adjacent(r0) 
   then begin{two adjacent points - needs special care} 
      if (hi.edge=hin) and (hi.cardinality=finite) then 
      begin 
         case sr of 
	 1:hi.edge:=hout; 
	 2:begin lo:=hi; lo.edge:=lin; 
	   end; 
	 end; 
 
         atend; 
      end 
      else if (lo.edge=lin) and (lo.cardinality=finite) then  
      begin 
         case sr of 
	 1:begin hi:=lo; hi.edge:=hin; 
	   end; 
	 2:lo.edge:=lout; 
	 end; 
         atend; 
      end else {cant be narrowed} sr:=-1; 
 
   end{adjacent} else 
   begin 
      if (lo.mantissa < 0) and (hi.mantissa > 0) then 
      begin 
         midm:=0; mide:=0; 
      end else 
      begin 
         ratio(lo,hi,erat,mrat); 
(*writeln(erat,mrat,r);*) 
         alignup(hi.exp,hi.mantissa,lo.exp,-lo.mantissa,ediff,m0,m1,dummy); 
         mdiff:=m0+m1; 
         if (erat > 1) or (erat < -1) then 
         begin{average exponents} 
	    if hi.mantissa <= 0  
	    then begin midm:= -splitman; 
	    end else 
	    begin midm:= splitman; assert(lo.mantissa >= 0); 
	    end; 
            average(lo,hi,mide); 
         end else 
         begin{take (hi+lo)/2 as midpoint} 
            midm:=mdiff div 2 - m1; 
	    mide:=ediff; 
         end; 
      end; 
      if midm >= 0 then normalizedn(mide,midm,mid,dummy) 
      		   else normalizeup(mide,midm,mid,dummy); 
      case sr of 
      1:begin lo:=mid; lo.edge:=lin; 
        end; 
      2:begin hi:=mid; hi.edge:=hout; 
        end; 
      end; 
(*dumpint(r0);writeln;*) 
      atend; 
   end;{if sr} 
 
   alignup(hi.exp,hi.mantissa,lo.exp,-lo.mantissa,ediff,m0,m1,dummy); 
   mdiff:=m0+m1; 
   dcurr.rhalve[oldpc]:=getreal(ediff,mdiff); 
 
 end;{with} 
end;{exechalves} 
 
procedure execlinh 
   (var pc:loc0;var sr:state;var r0:int;var ok:boolean;var change:boolean); 
{reduce range of r0 (suceeds twice for two 'halves')} 
 
var ediff,mdiff,mide,midm,m0,m1:integer; 
    dummy:boolean; 
    mid:sreal; 
    d:real; 
    oldpc:loc; 
    
    procedure atend;{what to do afer a successful halve} 
    begin   
	dcurr.lasthalve:=pc; pc:=0; sr:=0; 
    end; 
 
begin{execlinh} 
oldpc:=pc; 
with r0 do 
 begin 
      if dcurr.lasthalve >= pc then {not our turn yet} else 
      if (lo.mantissa = hi.mantissa) and (lo.exp=hi.exp) and 
         (lo.edge=lin) and (hi.edge=hin) 
      then {single point cant be divided} sr:=-1  
      else 
      if adjacent(r0) and  
	 (((lo.edge=lout) and (hi.edge=hout)) or 
	  ((lo.cardinality=infinite)and(hi.edge=hout)) or  
	  ((hi.cardinality=infinite)and(lo.edge=lout)) 
	 ) 
      then sr:=-1 
      else 
      if sr=0 then 
         begin 
            alignup(hi.exp,hi.mantissa,lo.exp,-lo.mantissa,ediff,m0,m1,dummy); 
            mdiff:=m0+m1; 
	    d:=getreal(ediff,mdiff); 
	    if d < dcurr.rhalve[pc]*halvethreshold 
	    then {already narrowed enough dont bother}  
	       change:=true {otherwise possible to terminate early} 
	    else begin 
	       dcurr.rhalve[pc]:=d; 
               newouter(1); 
               newouter(2); 
	       ok:=false;{fail after both alternatives tried} 
	    end 
         end 
   else{sr=1,2} 
   if adjacent(r0) 
   then begin{two adjacent points - needs special care} 
      if (hi.edge=hin) and (hi.cardinality=finite) then 
      begin 
         case sr of 
	 1:begin lo:=hi; lo.edge:=lin; 
	   end; 
	 2:hi.edge:=hout; 
	 end; 
         atend; 
      end 
      else if (lo.edge=lin) and (lo.cardinality=finite) then  
      begin 
         case sr of 
	 1:lo.edge:=lout; 
	 2:begin hi:=lo; hi.edge:=hin; 
	   end; 
	 end; 
         atend; 
      end else {cant be narrowed} sr:=-1; 
   end{adjacent} else 
   begin 
      if (lo.mantissa < 0) and (hi.mantissa > 0) then 
      begin 
         midm:=0; mide:=0; 
      end else 
      begin 
         alignup(hi.exp,hi.mantissa,lo.exp,-lo.mantissa,ediff,m0,m1,dummy); 
         mdiff:=m0+m1; 
         midm:=mdiff div 2 - m1; 
	 mide:=ediff; 
      end; 
      if midm >= 0 then normalizedn(mide,midm,mid,dummy) 
      		   else normalizeup(mide,midm,mid,dummy); 
      case sr of 
      1:begin lo:=mid; lo.edge:=lin; 
        end; 
      2:begin hi:=mid; hi.edge:=hout; 
        end; 
      end; 
       
      atend; 
   end;{if sr} 
 
   alignup(hi.exp,hi.mantissa,lo.exp,-lo.mantissa,ediff,m0,m1,dummy); 
   mdiff:=m0+m1; 
   dcurr.rhalve[oldpc]:=getreal(ediff,mdiff); 
 
 end;{with} 
end;{execlinh} 
 
procedure execmult(var sr:state;t0,t1,t2:int;var r0,r1,r2:int;var ok:boolean); 
var q0,q1,q2:int; 
 
   procedure mults(s0,s1:sreal;var u,d:sreal); 
   var m,e:integer; 
       closed,clu,cld:boolean; 
   begin 
      m:=s0.mantissa*s1.mantissa; 
(*dumps(s0);write('//');dumps(s1);write(m);*) 
      closed:=(s0.edge in [hin,lin]) and (s1.edge in [hin,lin]); 
      if ((s0.mantissa=0) and (s0.edge in [hin,lin])) or 
         ((s1.mantissa=0) and (s1.edge in [hin,lin])) 
      then closed:=true;  
      clu:=closed; cld:=closed; 
      if (s0.cardinality=infinite) or (s1.cardinality=infinite) then 
      begin 
         if m < 0 then begin d:=minusinfs; u:=minusinfs; end else 
	 if m > 0 then begin d:=plusinfs; u:=plusinfs; end else 
	 begin {m=0} d:=zeros; u:=zeros; end; 
	 closed:=((s0.cardinality=infinite)and(s0.edge in [hin,lin]))or 
	         ((s1.cardinality=infinite)and(s1.edge in [hin,lin])); 
	 clu:=closed;cld:=closed; 
      end 
      else{everybody finite} 
      begin 
         e:=s0.exp+s1.exp-digits; 
	 normalizeup(e,m,u,clu); 
	 normalizedn(e,m,d,cld); 
      end; 
      if clu then u.edge:=hin else u.edge:=hout; 
      if cld then d.edge:=lin else d.edge:=lout;       
(*writeln(e);dumps(u);write('::');dumps(d);writeln;*) 
   end;{mults} 
          
   procedure mult(ta,tb:int;var r:int); 
   var u0,u1,u2,u3,u4,u5,d0,d1,d2,d3,d4,d5:sreal; 
   begin 
      mults(ta.hi,tb.hi,u0,d0); 
      mults(ta.hi,tb.lo,u1,d1); 
      mults(ta.lo,tb.hi,u2,d2); 
      mults(ta.lo,tb.lo,u3,d3); 
      maxs(u0,u1,u4);maxs(u2,u3,u5);maxs(u4,u5,r.hi); 
      mins(d0,d1,d4);mins(d2,d3,d5);mins(d4,d5,r.lo); 
   end; 
    
   procedure invs(s:sreal;var w:sreal); 
   var e,m,rem:integer; 
       closed:boolean; 
   begin 
      closed:= s.edge in [hin,lin]; 
      if (s.cardinality = infinite) then 
         w:=zeros 
      else 
      if (s.mantissa = 0) then 
         case s.edge of 
	 hin,hout:w:=minusinfs; 
	 lin,lout:w:=plusinfs; 
	 end 
      else 
      begin 
         m:=(maxinf*maxinf) div s.mantissa; 
	 rem:=(maxinf*maxinf) mod s.mantissa; 
	 if rem < 0 then halt; 
	 e:=-s.exp; 
	 case s.edge of 
	 lin,lout: begin  
	     	      if (rem > 0) and (m > 0) then  
		      begin m:=m+1;closed:=false;  
		      end; 
		      normalizeup(e,m,w,closed); 
	           end; 
	 hin,hout: begin  
	     	      if (rem > 0) and (m < 0) then  
		      begin m:=m-1;closed:=false; 
		      end; 
		      normalizedn(e,m,w,closed); 
	           end; 
	 end; 
      end; 
       
      if closed then 
         case s.edge of 
         hin:w.edge:=lin; 
         lin:w.edge:=hin; 
         end 
      else 
         case s.edge of 
	 hin,hout:w.edge:=lout; 
	 lin,lout:w.edge:=hout; 
	 end; 
 
       
   end;{invs}	  
    
   procedure inv(t:int;var x:int;pos:boolean); 
   {1/t positive -> x} 
   {if 1/t splits to two intervals then use pos to select which to use} 
   begin 
      if (t.lo.mantissa < 0) and (t.hi.mantissa > 0) then 
         if (t.lo.cardinality=infinite) and (t.hi.cardinality=infinite) then 
	    x:=all 
	 else if pos then 
	 begin invs(t.hi,x.lo); x.hi:=plusinfs; x.hi.edge:=hin; 
	 end else  
	 begin invs(t.lo,x.hi); x.lo:=minusinfs; x.lo.edge:=lin; 
	 end 
      else 
      begin invs(t.hi,x.lo); invs(t.lo,x.hi); 
      end; 
   end;{inv} 
    
   procedure divi(ta,tb:int;var r:int); 
   var x:int; 
   begin 
      if (tb.lo.mantissa < 0) and (tb.hi.mantissa > 0) then 
         if (ta.lo.mantissa < 0) and (ta.hi.mantissa > 0) then 
	 { need do nothing as r will be set to [inf,inf]} 
	 else 
	  
         begin 
	    {if both same sign get positive side of inverse} 
	    {else get negative} 
	    inv(tb,x,(ta.hi.mantissa <= 0) = (r.hi.mantissa <= 0)); 
	    mult(ta,x,r); 
	 end 
      else {tb wont give split inverse} 
      begin 
         inv(tb,x,true); 
	 mult(ta,x,r); 
      end; 
(* 
dumpint(tb);writeln('//');dumpint(x);writeln; 
dumpint(ta);writeln('\\');dumpint(r);writeln; 
*) 
   end; 
    
   function split(t:int):boolean; 
   begin 
      split:=(t.lo.mantissa<0) and (t.hi.mantissa>0)  
      	      and ((t.lo.cardinality=finite) or (t.hi.cardinality=finite)); 
   end;{split} 
 
   function zin(t:int):boolean; 
   {check if 0 in range of interval} 
   begin 
      if (t.lo.mantissa > 0) then zin:=false else 
      if (t.lo.mantissa = 0) then 
	 zin:=(t.lo.edge=lin) else 
      if (t.hi.mantissa < 0) then zin:=false else 
      if (t.hi.mantissa = 0) then 
         zin:=(t.hi.edge=hin)  
      else 
         zin:=true; 
   end;{zin} 
    
begin{execmult} 
   case sr of 
   0,10:begin 
        if t2=zero then 
           if (t1=zero) or (t0=zero) then sr:=-1 
           else 
	   if not zin(t0) then begin r1:=zero; sr:=-1; end else 
	   if not zin(t1) then begin r0:=zero; sr:=-1; end  
	   else 
           begin 
              newouter(11); newouter(12);ok:=false;      
           end 
        else if (sr=0) then 
        begin 
	   if (t0.hi.mantissa > 0) and (t0.lo.mantissa < 0) and split(t1)  
           then  begin newouter(1); newouter(2); ok:=false; end 
           else if (t1.hi.mantissa > 0) and  
	           (t1.lo.mantissa < 0) and split(t0)  
                then  begin newouter(3); newouter(4); ok:=false; end; 
	end; 
     end; 
   1:begin r0.lo:=zeros; r0.lo.edge:=lin; t0:=r0; sr:=10; 
     end; 
   2:begin r0.hi:=zeros; r0.hi.edge:=hout; t0:=r0; sr:=10; 
     end; 
   3:begin r1.lo:=zeros; r1.lo.edge:=lin; t1:=r1; sr:=10; 
     end; 
   4:begin r1.hi:=zeros; r1.hi.edge:=hout; t1:=r1; sr:=10; 
     end; 
   11:begin r0:=zero; sr:=-1; 
      end; 
   12:begin r1:=zero; sr:=-1; 
      end; 
   end; 
    
   if ok and (sr<>-1) then 
   begin 
      mult(t0,t1,q2); inter(r2,q2,r2); 
      q1:=r1; divi(t2,t0,q1); inter(r1,q1,r1); 
      q0:=r0; divi(t2,t1,q0); inter(r0,q0,r0); 
      sr:=10; 
   end; 
end;{execmult} 
 
procedure execadd(t0,t1,t2:int;var r0,r1,r2:int); 
  procedure addhi(s0,s1:sreal; var s2:sreal); 
  var closed:boolean;  exp,m0,m1:integer; 
  begin{addhi} 
  with s2 do 
  begin 
     if (s0.cardinality=infinite)or(s1.cardinality=infinite) then 
     begin   
        s2:=plusinfs; 
        closed:=((s0.cardinality=infinite)and(s0.edge=hin))or 
	        ((s1.cardinality=infinite)and(s1.edge=hin)); 
     end else 
     begin 
        closed:=(s0.edge=hin)and(s1.edge=hin); 
        alignup(s0.exp,s0.mantissa,s1.exp,s1.mantissa,exp,m0,m1,closed); 
	normalizeup(exp,m0+m1,s2,closed) 
     end; 
     if closed then s2.edge:=hin else s2.edge:=hout; 
  end; 
  end;{addhi} 
   
  procedure addlo(s0,s1:sreal; var s2:sreal); 
  var closed:boolean;  exp,m0,m1:integer; 
  begin{addlo} 
  with s2 do 
  begin 
     if (s0.cardinality=infinite)or(s1.cardinality=infinite) then 
     begin   
        s2:=minusinfs; 
        closed:=((s0.cardinality=infinite)and(s0.edge=lin))or 
	        ((s1.cardinality=infinite)and(s1.edge=lin)); 
     end else 
     begin 
        closed:=(s0.edge=lin)and(s1.edge=lin); 
        alignup(s0.exp,-s0.mantissa,s1.exp,-s1.mantissa,exp,m0,m1,closed); 
	normalizeup(exp,m0+m1,s2,closed); mantissa:=-mantissa; 
     end; 
     if closed then s2.edge:=lin else s2.edge:=lout; 
  end; 
  end;{addlo} 
   
  procedure subhi(s0,s1:sreal; var s2:sreal); 
  var closed:boolean;  exp,m0,m1:integer; 
  begin{subhi} 
  with s2 do 
  begin 
     if (s0.cardinality=infinite)or(s1.cardinality=infinite) then 
     begin   
        s2:=plusinfs; 
        closed:=((s0.cardinality=infinite)and(s0.edge=hin))or 
	        ((s1.cardinality=infinite)and(s1.edge=lin)); 
     end else 
     begin 
        closed:=(s0.edge=hin)and(s1.edge=lin); 
        alignup(s0.exp,s0.mantissa,s1.exp,-s1.mantissa,exp,m0,m1,closed); 
	normalizeup(exp,m0+m1,s2,closed); 
     end; 
     if closed then s2.edge:=hin else s2.edge:=hout; 
  end; 
  end;{subhi} 
   
  procedure sublo(s0,s1:sreal; var s2:sreal); 
  var closed:boolean;  exp,m0,m1:integer; 
  begin{sublo} 
  with s2 do 
  begin 
     if (s0.cardinality=infinite)or(s1.cardinality=infinite) then 
     begin   
        s2:=minusinfs; 
        closed:=((s0.cardinality=infinite)and(s0.edge=lin))or 
	        ((s1.cardinality=infinite)and(s1.edge=hin)); 
     end else 
     begin 
        closed:=(s0.edge=lin)and(s1.edge=hin); 
        alignup(s0.exp,-s0.mantissa,s1.exp,s1.mantissa,exp,m0,m1,closed); 
	normalizeup(exp,m0+m1,s2,closed);mantissa:=-mantissa; 
     end; 
     if closed then s2.edge:=lin else s2.edge:=lout; 
  end; 
  end;{sublo} 
   
begin{execadd} 
   addhi(t0.hi,t1.hi,r2.hi); 
   addlo(t0.lo,t1.lo,r2.lo); 
    
   subhi(t2.hi,t0.lo,r1.hi); 
   sublo(t2.lo,t0.hi,r1.lo); 
    
   subhi(t2.hi,t1.lo,r0.hi); 
   sublo(t2.lo,t1.hi,r0.lo); 
end;{execadd} 
 
 
 
 
procedure execintgr(var sr:state; var r:int); 
       
  procedure floor (var r : sreal); 
  var sign , dum : boolean ; 
      e, m ,t    : integer ; 
   
  begin 
     sign := false ; 
     with r do 
        begin 
           if (mantissa < 0) then 
              begin 
                 sign := true ; 
                 mantissa := - mantissa ; 
              end ; 
           if (exp <= 0) then 
              begin 
                 if sign or ((mantissa = 0) & (edge = hout)) then 
                    begin 
                       m := 1 ;  
                       sign := true ; 
                    end  
                 else 
                    m := 0 ; 
                 e := digits ; 
                 normalizeup (e,m,r,dum) ; 
                 edge := hin ; 
              end  
         
           else {exp >0} 
              if (exp <= digits) then 
                 begin 
                    m := 1 ; 
                    e := exp ; 
                    while (e < digits) do 
                       begin 
                          m := m * 10 ; 
                          e := e + 1 ; 
                       end ; 
                    t := mantissa mod m ; 
                    m := mantissa div m ; 
                    if (sign & ((edge = hout) or(t > 0))) then 
                       m := m + 1 ;  
                    if (not sign & (t = 0)) & (edge = hout) then 
                       m := m - 1 ; 
                    e := digits ; 
                    normalizeup (e,m,r,dum) ; 
                    edge := hin ; 
                 end  
              else 
                 if ((edge = hout)&(exp = (digits+1))) & (not sign & (mantissa = splitman)) then 
                    begin 
                       mantissa := maxman ; 
                       exp := digits ; 
                       edge := hin ; 
                    end ; 
           if sign then 
              mantissa := - mantissa ; 
        end ;{with r} 
  end ; {floor}  
  procedure ceiling (var r : sreal); 
  var sign , dum : boolean ; 
      e, m , t   : integer ; 
   
  begin 
     sign := false ; 
     with r do 
        begin 
           if (mantissa < 0) then 
              begin 
                 sign := true ; 
                 mantissa := - mantissa ; 
              end ; 
           if (exp <= 0) then 
              begin 
                 if sign or ((mantissa = 0) & (edge = lin)) then 
                    m := 0  
                 else 
                    m := 1 ; 
                 e := digits ; 
                 normalizedn (e,m,r,dum) ; 
                 edge := lin ; 
              end  
         
           else {exp > 0} 
              if (exp <= digits) then 
                 begin 
                    m := 1 ; 
                    e := exp ; 
                    while (e < digits) do 
                       begin 
                          m := m * 10 ; 
                          e := e + 1 ; 
                       end ; 
                    t := mantissa mod m ; 
                    m := mantissa div m ; 
                    if ( not sign & ((edge = lout) or(t > 0))) then 
                       m := m + 1 ; 
                    if (sign & (t = 0)) & (edge = lout) then 
                       m := m - 1 ; 
                    e := digits ; 
                    normalizedn (e,m,r,dum) ; 
                    edge := lin ; 
                 end  
              else 
                 if ((edge = lout)&(exp = (digits+1))) & (sign & (mantissa = splitman)) then 
                    begin 
                       mantissa := maxman ; 
                       exp := digits ; 
                       edge := lin ; 
                    end ; 
           if sign then 
              mantissa := - mantissa ; 
        end ;{with r} 
  end ; {ceiling}  
begin 
   with r do 
      begin 
(*         writeln ('in execintgr :') ; 
         writeln ; 
         writeln ('hi : ', hi.mantissa , hi.exp) ; 
         writeln ; 
         writeln ('lo : ', lo.mantissa , lo.exp) ; 
         writeln ; 
*) 
         if (hi.cardinality <> infinite) then 
            floor (hi) ; 
         if (lo.cardinality <> infinite) then 
            ceiling (lo) ; 
         if ((hi.mantissa = lo.mantissa) & (hi.exp = lo.exp)) then 
            sr := - 1 ; 
(*         writeln ('out execintgr :') ; 
         writeln ; 
         writeln ('hi : ', hi.mantissa , hi.exp) ; 
         writeln ; 
         writeln ('lo : ', lo.mantissa , lo.exp) ; 
         writeln ; 
*) 
      end ; 
end;{execintgr} 
 
 
 
 
 
 
 
 
 
 
 
 
 
  procedure execlb (r1 : int ; var r : int) ; 
  begin 
     r := r1 ; 
     with r.lo do 
        if (cardinality = infinite) then 
           r.hi := minusfinites  
        else 
           r.hi := r.lo ; 
     r.hi.edge := hin ; 
     r.lo := minusinfs ; 
  end ; 
 
procedure execub (var x , xd : int) ; 
var     dum : int ;      
  begin 
     xd := x ; 
     execadd (xd, dum, zero, dum, xd, dum) ; 
     execlb (xd,xd) ; 
     execadd (xd, dum, zero, dum, xd, dum) ; 
  end ; 
 
procedure execcopy (r0 :int; var r1:int); 
begin 
  r1:=r0; 
end; 
 
procedure execless(var sr:state; var r0,r1:int); 
{r0 < r1} 
begin 
   if point(r0) or point(r1) then sr:=-1; 
   if gts(r1.lo,r0.hi) then sr:= -1 else 
   begin 
      r0.hi:=r1.hi; 
      r0.hi.edge:=hout; 
      r1.lo:=r0.lo; 
      r1.lo.edge:=lout; 
   end; 
end;{execless} 
 
procedure execleq(var sr:state; var r0,r1:int); 
{r0 =< r1} 
begin 
   if point(r0) or point(r1) then sr:=-1; 
   if ges(r1.lo,r0.hi) then sr:= -1 else 
   begin 
      r0.hi:=r1.hi; 
      r1.lo:=r0.lo; 
   end; 
end;{execleq} 
 
procedure execnoteq(var sr:state; var r0,r1:int); 
{r0 <> r1} 
begin 
   case sr of 
   0:{nothing done yet} 
     begin 
     if gts(r0.lo,r1.hi) or gts(r1.lo,r0.hi)  
     then sr:=-1 {no need to check in future} 
     else  
     begin 
        if point(r0) then  
	begin 
	   outerexec(pc,dcurr,true,1,counter,level+1); 
	   sr:=2; 
	   execless(sr,r1,r0); 
	end else 
	if point(r1) then 
	begin 
	   outerexec(pc,dcurr,true,2,counter,level+1); 
	   sr:=1; 
	   execless(sr,r0,r1); 
	end; 
     end; 
     end; 
   1:execless(sr,r0,r1); 
   2:execless(sr,r1,r0); 
   end; 
end;{execnoteq} 
 
procedure execsqrr(var r0,r1:int); 
begin{execsqrr} 
end;{execsqrr} 
 
procedure execminr(var r0,r1,r2:int); 
begin{execminr} 
end;{execminr} 
 
procedure execmaxr(var r0,r1,r2:int); 
  procedure chmaxhi(s0,s1:sreal; var s2:sreal); 
  var closed:boolean;  exp,m0,m1:integer; 
  begin{chmaxhi} 
  with s2 do 
  begin 
     if (s0.cardinality=infinite)or(s1.cardinality=infinite) then 
     begin   
        s2:=plusinfs; 
        closed:=((s0.cardinality=infinite)and(s0.edge=hin))or 
	        ((s1.cardinality=infinite)and(s1.edge=hin)); 
     end else 
     begin 
        closed:=(s0.edge=hin)and(s1.edge=hin); 
        alignup(s0.exp,s0.mantissa,s1.exp,s1.mantissa,exp,m0,m1,closed); 
        if m1 > m0 then 
           m0 := m1 ; 
	normalizeup(exp,m0,s2,closed) 
     end; 
     if closed then s2.edge:=hin else s2.edge:=hout; 
  end; 
  end;{chmaxhi} 
   
  procedure chmaxlo(s0,s1:sreal; var s2:sreal); 
  var closed:boolean;  exp,m0,m1:integer; 
  begin{chmaxlo} 
  with s2 do 
  begin 
     if (s0.cardinality=infinite)or(s1.cardinality=infinite) then 
     begin   
        s2:=minusinfs; 
        closed:=((s0.cardinality=infinite)and(s0.edge=lin))or 
	        ((s1.cardinality=infinite)and(s1.edge=lin)); 
     end else 
     begin 
        closed:=(s0.edge=lin)and(s1.edge=lin); 
        alignup(s0.exp,-s0.mantissa,s1.exp,-s1.mantissa,exp,m0,m1,closed); 
	normalizeup(exp,m0+m1,s2,closed); mantissa:=-mantissa; 
     end; 
     if closed then s2.edge:=lin else s2.edge:=lout; 
  end; 
  end;{addlo} 
begin{execmaxr} 
end;{execmaxr} 
 
procedure execmodu(var r0,r1,r2:int); 
begin{execmodu} 
end;{execmodu} 
 
procedure execabsr(var r0,r1:int); 
begin{execabsr} 
end;{execabsr} 
 
procedure exectrig(var r0,r1,r2:int); 
begin{exectrig} 
end;{exectrig} 
 
procedure execexpr(var r0,r1:int); 
begin{execexpr} 
end;{execexpr} 
 
 
function exec(i:instr;var pc:loc0;var change:boolean):boolean; 
var 
	r:array[0..par] of int;  {working registers} 
	sr:state;  {state register} 
	p:0..par; 
	e:boolean; 
	newpc:loc0; 
	tracechange:boolean; 
 
   procedure writepars; {write out list of parameter registers for curr ins} 
   begin 
   with i do 
   begin 
      write(pc:2,code:5,sr:3); 
      for p := 0 to par do 
         if pars[p] <> 0 then  
	 begin 
	    write(pars[p]:3); 
	    writeint(r[p]); 
	 end; 
      writeln; 
   end; 
   end;{writepars} 
 
begin{exec} 
with i,dcurr do 
begin 
   counter:=counter+1; 
   {get parameters} 
   for p := 0 to parn[code] do  
   begin r[p]:=d[pars[p]]; assert(checkint(r[p])); 
   end; 
    
   sr:=s[pc]; 
   if debug >= trace then  begin write(' '); writepars; end; 
   e:=true; 
   change:=false; 
   newpc:=pc; 
 
{!!}case code of  
   print: execprint(pc,pars[0],r[0]); 
   pr   : execpr(sr,pars[0]); 
   tr   : exectr(sr,pars[0]); 
   soln : execsoln(sr,pars[0]); 
   readr: execreadr(sr,r[0]); 
   halve: exechalve(newpc,sr,r[0],e,change); 
   halves:exechalves(newpc,sr,r[0],e,change); 
   linh : execlinh(newpc,sr,r[0],e,change); 
   mult : execmult (sr,r[0],r[1],r[2],r[0],r[1],r[2],e); 
   add  : execadd  (r[0],r[1],r[2],r[0],r[1],r[2]); 
   intgr: execintgr(sr,r[0]); 
   less : execless (sr,r[0],r[1]); 
   leq  : execleq  (sr,r[0],r[1]); 
   noteq: execnoteq(sr,r[0],r[1]); 
   sqrr : execsqrr(r[0],r[1]); 
   minr : execminr(r[0],r[1],r[2]); 
   maxr : execmaxr(r[0],r[1],r[2]); 
   modu : execmodu(r[0],r[1],r[2]); 
   absr : execabsr(r[0],r[1]); 
   trig : exectrig(r[0],r[1],r[2]); 
   expr : execexpr(r[0],r[1]); 
   lb   : execlb (r[0],r[1]); 
   ub   : execub (r[0],r[1]); 
   copy : execcopy(r[0],r[1]); 
   end; 
 
   tracechange:=false; 
   allpoints:=true; 
   for p := 0 to parn[code] do 
   with d[pars[p]] do 
   begin 
      if df.pf[pars[p]]=pprint then tracechange:=true; 
      assert(checklo(r[p].lo));assert(checkhi(r[p].hi)); 
      if parintersect [code] then 
         begin 
            maxs(r[p].lo,lo,r[p].lo); 
            mins(r[p].hi,hi,r[p].hi); 
         end ; 
      if gts(r[p].lo,r[p].hi) then  
      begin e:=false; assert(checklo(r[p].lo));assert(checkhi(r[p].hi)); 
      end 
      else begin 
         if d[pars[p]] <> r[p] then  
         begin  
	    d[pars[p]] := r[p];  
	    change:=true; 
	    if df.pf[pars[p]] = ptrace then tracechange:=true; 
         end; 
         allpoints:=allpoints and point(r[p]); 
         assert(checkint(r[p])); assert(checkint(d[pars[p]])); 
      end; 
   end; 
 
   if (debug=activity) and tracechange then writeln; 
   if (debug >=activity) then  
   begin if change then write('*') else write ('.'); 
   end; 
   exec:=e; 
   if e then 
   begin 
      if allpoints then sr:=-1;  
      if (sr <> s[pc]) then begin s[pc]:=sr; change:=true; end; 
      if (debug=activity) and tracechange then writepars; 
      if debug >= post then  writepars; 
      if debug = dump then dumpmem(dcurr); 
   end else  
   if debug >= activity then  
   begin writeln('failed'); write(' '); writepars;  
   end; 
   pc:=newpc; 
end; 
end;{exec} 
 
begin{outerexec} 
   writeln; 
   writeln(level:2,'entering  count:',oldcounter:0); oldcounter:=0; 
   counter:=0; 
   fail:=false; 
   if first <> 0 then dcurr.s[pc]:=first; 
   {run simulation until failure or nothing further to be done} 
   repeat 
        if (pc = end) then  
   	begin pc:=1; change:=false; dcurr.lasthalve:=1; end; 
   	while (pc < end) and not fail and not globalend do 
   	with i[pc] do 
   	begin 
   	   if dcurr.s[pc] > -1 then 
	   begin fail:=not exec(i[pc],pc,localchange);  
	      change:=change or localchange; 
	   end; 
   	   pc:=pc+1; 
   	end; 
   until fail or (not change) or globalend; 
   writeln; 
   write(level:2,'exiting  count:',counter:0); 
   if not (fail or globalend) then 
   begin  
      if (cut=once) then globalend:=true; 
      writeln('solution'); 
      writemem(dcurr); 
   end  
   else writeln; 
end;{outerexec} 
 
 
procedure clear; 
var tl:loc;  
    td,tdf:ptr;  
    tpar:1..par;  
    di:1..digits; 
    j:1..maxexp; 
    maxdiff:real; 
begin 
   shift[0]:=1; 
   for di:= 1 to digits do shift[di]:=shift[di-1]*10; 
 
   with plusinfs do 
   begin 
      edge:=hin;cardinality:=infinite;mantissa:=maxinf; 
      exp:=maxexp; 
   end; 
   with minusinfs do 
   begin 
      edge:=lin;cardinality:=infinite;mantissa:=mininf; 
      exp:=maxexp; 
   end; 
   with plusfinites do 
   begin 
      edge:=hin;cardinality:=finite;mantissa:=maxman; 
      exp:=maxexp; 
   end; 
   with minusfinites do 
   begin 
      edge:=lin;cardinality:=finite;mantissa:=minman; 
      exp:=maxexp; 
   end; 
   with zeros do 
   begin exp:=0;mantissa:=0;edge:=hin;cardinality:=finite; 
   end; 
   with plussmalls do 
   begin exp:=minexp;mantissa:=maxinf div 10; cardinality:=finite; 
   end; 
   with minussmalls do 
   begin exp:=minexp;mantissa:=mininf div 10; cardinality:=finite; 
   end; 
    
 
 
   with zero do 
   begin lo:=zeros;lo.edge:=lin; hi:=zeros;hi.edge:=hin; 
   end; 
   with all do 
   begin hi:=plusinfs; lo:=minusinfs; 
   end; 
   with allfinite do 
   begin lo:=minusfinites; hi:=plusfinites; 
   end; 
 
   with df do 
   begin 
        for tdf:= 1 to dmem do pf[tdf]:=pnull; 
   end; 
   
   with dinit do 
   begin 
	for td:= 1 to dmem do 
	   if verifiable then d[td]:=allfinite 
	   		 else d[td]:=all; 
	lasthalve:=1; 
 
	maxdiff:=2; 
	for j:=1 to maxexp do maxdiff:=maxdiff*10; 
	 
	for tl := 1 to imem do 
	begin 
	   rhalve[tl]:=maxdiff; 
	   s[tl]:=0; 
	   with i[tl] do 
	   for tpar := 1 to par do 
		pars[tpar]:=0; 
	end; 
 
{!!}	parn[print]:=0; 
        parn[pr]:=0; 
        parn[tr]:=0; 
        parn[soln]:=0; 
	parn[halve]:=0; 
	parn[halves]:=0; 
	parn[readr]:=0; 
	parn[linh]:=0; 
	parn[mult]:=2; 
	parn[add]:=2; 
	parn[intgr]:= 0; 
	parn[less]:= 1; 
	parn[leq]:= 1; 
	parn[noteq]:= 1; 
	parn[sqrr]:= 1; 
	parn[minr]:=2; 
	parn[maxr]:=2; 
	parn[modu]:= 1; 
	parn[absr]:= 1; 
	parn[trig]:=2; 
	parn[expr]:= 1; 
        parn[lb]:= 1; 
        parn[ub]:= 1;  
        parn[copy]:= 1;  
	parn[stop]:=-1; 
{!!}	parintersect[print]:= true; 
        parintersect[pr]:= true; 
        parintersect[tr]:= true; 
        parintersect[soln]:= true; 
	parintersect[halve]:=true; 
	parintersect[halves]:=true; 
	parintersect[readr]:=true; 
	parintersect[linh]:=true; 
	parintersect[mult]:=true; 
	parintersect[add]:=true; 
	parintersect[intgr]:= true; 
	parintersect[less]:= true; 
	parintersect[leq]:= true; 
	parintersect[noteq]:= true; 
	parintersect[sqrr]:= true; 
	parintersect[minr]:= true; 
	parintersect[maxr]:= true; 
	parintersect[modu]:= true; 
	parintersect[absr]:= true; 
	parintersect[trig]:= true; 
	parintersect[expr]:= true; 
        parintersect[lb]:= false; 
        parintersect[ub]:= false; 
	parintersect[stop]:= true; 
	parintersect[copy]:= true; 
   end; 
end;{clear} 
	 
procedure readinstr; 
var 
	tp:0..par; 
	op:optype; 
	tdat:ptr; 
begin 
   with dinit do 
   begin 
	end:=1; 
	maxdmem:=0; 
	repeat 
	   with i[end] do 
	   begin 
	      read(op); 
	      code:=op; 
	      for tp := 0 to parn[op] do with i[end] do  
	      begin 
	         read(tdat); pars[tp]:=tdat; 
		 if tdat>maxdmem then maxdmem:=tdat; 
		 if maxdmem > dmem then  
		 begin writeln('too many variables');halt; 
		 end; 
	      end; 
	      readln; 
	   end; 
	   end:=end+1;  
	   if end >= imem then begin writeln('too many instructions');halt;end; 
	until op = stop; 
	end:=end-1; 
 
	while not eof do {read constant values for memory locations} 
	begin 
 
   	   read(tdat); 
	   if tdat > dmem then writeln('variable out of range',tdat,dmem); 
	   readint(d[tdat]); 
	   readln; 
	end; 
   end; 
end;{readinstr} 
 
begin 
	globalend:=false; 
	initialoptions; 
	readln(cut); 
	writeln(cut); 
	clear; 
	{ set to initial values, read instructions} 
	readinstr; 
	if debug = dump then begin dumptables; dumpmem(dinit); end; 
	if debug >= activity then writemem(dinit); 
	dummy:=0; 
	outerexec(1,dinit,false,0,dummy,0); 
	if debug = dump then dumpmem(dinit); 
end. 
